<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ariasakaの小窝</title>
  
  
  <link href="https://blog.yaria.top/atom.xml" rel="self"/>
  
  <link href="https://blog.yaria.top/"/>
  <updated>2024-07-07T11:54:49.000Z</updated>
  <id>https://blog.yaria.top/</id>
  
  <author>
    <name>Ariasaka</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>博客二周年祭——为什么会变成这样呢？</title>
    <link href="https://blog.yaria.top/posts/a12c6b5d/"/>
    <id>https://blog.yaria.top/posts/a12c6b5d/</id>
    <published>2024-07-02T02:22:49.000Z</published>
    <updated>2024-07-07T11:54:49.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>最近域名快到期了，一眼看来，微信只剩六十几块了，以前用的域名 <a href="https://yisous.xyz">yisous.xyz</a> 续费甚至需要85元</p><p>经历了复杂的心理斗争之后，还是选择了换了一个域名，毕竟top才32一年，可便宜了，于是就有了现在的 <a href="https://blog.yaria.top">blog.yaria.top</a>。<s>其实最头疼的是一个一个申请改友链太累人了TAT</s></p><p>至于为什么加了一个blog的子域名呢，是想趁着改域名顺便给个子域，方便后面做主页，不过现在的www和根域是直接跳转到博客了的。</p><p>不过，据群友们说最近top的根域服务器有点小问题，导致vercel等平台无法正常颁发ssl证书，在把主站改到cfpage之后就只能把twikoo给迁移到huggingface，可惜的是，hf版的twikoo貌似是不可以正常发送通知邮件的，后面再想想办法吧。</p><p>做完了不少事情，转念一看了看不知多久没注意过的页脚，突然发现好像都两年了，刚好很久有没有更新，也许是时候来一个文章回顾回顾了。</p><h1 id="讲讲我写博客的一些历程吧"><a class="markdownIt-Anchor" href="#讲讲我写博客的一些历程吧"></a> 讲讲我写博客的一些历程吧</h1><p>写博客这件事情，好像很早就想着了来着，可能是出于兴趣吧，很早就在csdn博客园什么的地方写了一点文章，后来自己整了个树莓派4b2g想折腾wordpress，不过后来那块pi坏了，这事情也就不了了之了。</p><p>后来呢，一天看到了hexo这个东西，心想配合github page什么的也许会效果很好，于是找到了volantis这款主题做研究，然后折腾半天发现不少bug，干脆就换了butterfly，就开始折腾这个博客了。</p><p>再后来为了折腾魔改博客什么的，翻阅了很多文章，后来也认识了冰糖红茶等等大佬，整天在糖果屋氵得不亦乐乎（什</p><p>很多魔改其实都是在22年就完成了的，博客基本就在那段时间定型，后来变化也不算很大了。</p><p>经历了时间的沉淀，博客不断变化<s>堆史山</s>，就成了今天的模样，不过可悲的是这个站点优化依然很糟糕qaq</p><p>不过也见证了洪woc纪元（鉴证）和洪mac纪元（涩图）了，等级也不高（（（</p><p>漫漫折腾路，结识了很多很多的网友，在群里面大家都能和善的交流问题闲聊，不过也感谢糖果屋等等群友们交流分享技术了，平常闲聊也能缓解一些什么孤独的心理嘛。</p><p>现在看来，感觉真是一个神奇的历程，我曾经可以连肝一个暑假来魔改博客到现在的样子，只可是现在热情似乎已经大不如前了，博客也许并不会中断，十年之约，但愿吧。</p><h1 id="唠嗑一些其它的"><a class="markdownIt-Anchor" href="#唠嗑一些其它的"></a> 唠嗑一些其它的</h1><p>这样子的话，显得这篇文章有点短了。 那么两年过去了，自己也经历了很多成长，以至于还有各种的酸甜苦辣，或许是一些喜事，也有苦难和悲哀，往事如烟了也罢，忘掉事情，现在不要去回忆也许不错，忘不掉也只能深夜默默流泪向老天倾诉，或是发发电缓缓也挺不错的。</p><p>虽然有时候看着自己曾经的黑历史发言会感觉有点逆天，不过我也不会删掉，就当作曾经的尘埃就可。</p><p>在第三篇文章中好似已是有了十年之约，那就继续践行下去吧，换了域名也罢。</p><p>哦，今天是七七事变八十七周年，相信你也看到了，可以停步来为抗战时浴火焚身的烈士们和水深火热中的同胞们默哀几秒钟吗？<br />我不希望先烈换来的幸福生活被大家遗忘掉了，所以我特意加了弹窗和灰屏，曾经也写过魔改文章，加了几句js。</p><p>好了，再见。</p>]]></content>
    
    
    <summary type="html">不知不觉时光飞逝，好似博客已经陪我度过了两年的时光，随心所想，还是写写几句话吧</summary>
    
    
    
    <category term="随笔" scheme="https://blog.yaria.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="生活" scheme="https://blog.yaria.top/tags/%E7%94%9F%E6%B4%BB/"/>
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
    <category term="博客" scheme="https://blog.yaria.top/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>每个人都可以写一份属于自己的Phigros自制谱——Re: PhiEdit简明教程</title>
    <link href="https://blog.yaria.top/posts/303b5edc/"/>
    <id>https://blog.yaria.top/posts/303b5edc/</id>
    <published>2024-04-26T13:10:40.000Z</published>
    <updated>2024-04-26T13:10:40.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>参考视频：</p><a class="tag-Link" target="_blank" href="https://www.bilibili.com/video/BV19G4y1m7PR/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.bilibili.com/video/BV19G4y1m7PR/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Re: PhiEdit胎教级教程</div>            <div class="tag-link-sitename">哔哩哔哩</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>最近玩各种引诱玩魔怔了 有时候听歌就总在脑内写谱（</p><p><s>Tip:这个蒟蒻在玩pgr arc mil orz而且都很菜</s></p><p>于是这个蒟蒻就学习观察了一下许多phi的自制谱，就想来自己写一下了。</p><p>经过一段时间的摸索，熟悉了软件的使用（别催了写了个稻香很长采音有点麻烦没写完在写了没写完等几天qwq），我也把我的一些小经验放在这里，各位想写谱的萌新可以参考一下。</p><h1 id="开始吧"><a class="markdownIt-Anchor" href="#开始吧"></a> 开始吧！</h1><h2 id="下载软件"><a class="markdownIt-Anchor" href="#下载软件"></a> 下载软件</h2><p>首先我们从以下链接下载RPE：</p><a class="tag-Link" target="_blank" href="https://pan.baidu.com/s/1UekCiFp9AaKyjOqpFfyjZA?pwd=virb">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/pan.baidu.com/s/1UekCiFp9AaKyjOqpFfyjZA?pwd=virb.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Re:PhiEdit</div>            <div class="tag-link-sitename">百度网盘</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>暂时咕咕了（</p><p>不知道什么时候有空更新了qwq</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;参考视频：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.bilibili</summary>
      
    
    
    
    <category term="音游" scheme="https://blog.yaria.top/categories/%E9%9F%B3%E6%B8%B8/"/>
    
    
    <category term="音游" scheme="https://blog.yaria.top/tags/%E9%9F%B3%E6%B8%B8/"/>
    
    <category term="Phigros" scheme="https://blog.yaria.top/tags/Phigros/"/>
    
    <category term="自制谱" scheme="https://blog.yaria.top/tags/%E8%87%AA%E5%88%B6%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>如何在RK系开发板的linux冷门内核上编译CH340驱动</title>
    <link href="https://blog.yaria.top/posts/dad8e69b/"/>
    <id>https://blog.yaria.top/posts/dad8e69b/</id>
    <published>2024-03-15T08:34:30.000Z</published>
    <updated>2024-03-15T08:34:30.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>大家多久没有看到本蒟蒻了呢qwq</p><p>前段时间在小黄鱼上面淘了一块 EAIDK310 开发板，只要 40 块钱，刚好我需要一个 OctoPrint 上位机，遂购之。</p><h1 id="困境"><a class="markdownIt-Anchor" href="#困境"></a> 困境</h1><p>这个板子的系统和安装 OctoPrint 我们下次再说，可是，当我尝试连接打印机的时候，却没有任何 USB 端口提示，自带的 <code>/dev/ttySx</code>当然也连接不了。怎么办呢？</p><p>然后我试了试 <code>lsusb</code>，并没有显示打印机的串口芯片 <code>CH340</code>（打印机用的是 <code>MKS_GEN_L v2.1</code> 板载 <code>CH340</code>）</p><p>肯定是缺少驱动啦，那么让我们来编译一下吧。</p><p>在wch官网上下载好驱动：</p><a class="tag-Link" target="_blank" href="https://www.wch.cn/downloads/CH341SER_LINUX_ZIP.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.wch.cn/downloads/CH341SER_LINUX_ZIP.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">CH341SER_LINUX.ZIP</div>            <div class="tag-link-sitename">wch.cn</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后解压，进入目录，执行 <code>sudo make&amp;&amp;sudo make install</code>。</p><p>然后便是报错，提示：<code>make[1]: *** /lib/modules/4.4.167/build: No such file or directory.  Stop.</code></p><p>什么情况呢？</p><p>原来我们没有安装 <code>linux-headers</code>。</p><p>在 Ubuntu 下，往往只需要一句</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install linux-headers-$(<span class="built_in">uname</span> -r)</span><br></pre></td></tr></table></figure><p>可是这个玩意的官方系统的内核并未被Ubuntu官方所采用过，以至于apt并不能找到这个版本内核的头文件。</p><p>而且的而且是，它甚至不能升级内核，一升级就给 flash-kernel 报错</p><p>怎么办呢？</p><h1 id="手动编译sdk大法"><a class="markdownIt-Anchor" href="#手动编译sdk大法"></a> 手动编译SDK大法</h1><p>既然没提供linux-headers,那我们就直接用内核源码来编译呗（</p><p>这种情况下当然只能拿出linux内核手动编译了。当然，内核编译也是一件麻烦的事情（当然对于Linux用户来说为了一个小事情大动刀也很正常啦qwq），得做好心理准备。</p><h2 id="准备"><a class="markdownIt-Anchor" href="#准备"></a> 准备</h2><p>因开发板性能和空间问题，本文采用在x86实体机上交叉编译的方式来实现驱动编译</p><ol><li>任何较新的Linux发行版的实体机或虚拟机（建议Ubuntu/Debian/Arch）</li><li>至少5G的剩余磁盘空间</li><li>gcc</li><li>aarch64-linux-gnu-gcc编译工具链</li><li>瑞芯微芯片开发板</li><li>rk官方内核配置文件</li><li>当前开发板的内核版本的linux-kernel源码</li><li>make（系统应该自带）</li><li>python3（系统应该自带）</li><li>耐心</li><li>良好的网络环境或工具来连接Github，如果没有，那就用上面的</li></ol><h2 id="安装交叉编译工具链"><a class="markdownIt-Anchor" href="#安装交叉编译工具链"></a> 安装交叉编译工具链</h2><p>打开终端，执行以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> toolchain</span><br><span class="line"><span class="built_in">cd</span> toolchain</span><br><span class="line"><span class="built_in">sudo</span> wget  https://mirrors.tuna.tsinghua.edu.cn/armbian-releases/_toolchain/gcc-linaro-7.4.1-2019.02-x86_64_aarch64-linux-gnu.tar.xz</span><br><span class="line"><span class="built_in">sudo</span> tar -xvf gcc-linaro-7.4.1-2019.02-x86_64_aarch64-linux-gnu.tar.xz</span><br></pre></td></tr></table></figure><p>然后编辑环境变量：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> nano /etc/profile</span><br></pre></td></tr></table></figure><p>在一堆append_path后面添加一行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">append_path <span class="string">&#x27;/etc/toolchain/gcc-linaro-7.4.1-2019.02-x86_64_aarch64-linux-gnu/bin&#x27;</span></span><br></pre></td></tr></table></figure><p>然后保存退出，输入 <code>. /etc/profile</code> 或 <code>source /etc/profile</code> 应用 Path 的更改（如果未重启系统的话，每次打开新的终端会话都得执行一次）</p><h2 id="下载内核源码"><a class="markdownIt-Anchor" href="#下载内核源码"></a> 下载内核源码</h2><p>通过 <code>uname -r</code> 来获取你系统的内核版本，然后</p><p>在此链接下找到你系统内核对应的版本的tar.gz源码文件：</p><a class="tag-Link" target="_blank" href="https://mirrors.tuna.tsinghua.edu.cn/kernel/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/mirrors.tuna.tsinghua.edu.cn/kernel/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Index of /kernel/</div>            <div class="tag-link-sitename">清华大学TUNA镜像站</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>比如我的内核文件是 <code>https://mirrors.tuna.tsinghua.edu.cn/kernel/v4.x/linux-4.4.167.tar.gz</code></p><p>然后再随便新建一个目录，用于存放源码并下载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> linux-headers-for-rk</span><br><span class="line"><span class="built_in">cd</span> linux-headers-for-rk</span><br><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/kernel/v4.x/linux-4.4.167.tar.gz</span><br><span class="line">tar -xzvf linux-4.4.167.tar.gz</span><br><span class="line"><span class="built_in">cd</span> linux-4.4.167</span><br></pre></td></tr></table></figure><h2 id="获取瑞芯微官方的内核配置文件"><a class="markdownIt-Anchor" href="#获取瑞芯微官方的内核配置文件"></a> 获取瑞芯微官方的内核配置文件</h2><div class="note warning flat"><p>!!!本配置文件所在的项目非常老旧!!!</p><p>官方已经不再在Github上面提供新版芯片的资料，因此如果是新版芯片，请自行找商家所要sdk,并解压kernel文件夹作为内核。</p></div><p>在编译之前，我们需要编辑一个配置文件，然而呢，这个配置文件实在是太麻烦了（几千项），好在瑞芯微官方有一个年久失修的官方内核，<br />里面有大量的配置文件，我们可以从中找到一个配置文件，然后修改一下，以适应我们的需求。</p><p>不过，其实我们只需要一个文件就够了，执行以下命令在当前内核应用该配置（如果是在sdk上面的话，找到/arch/arm64/configs/rockchip_linux_defconfig）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $linux-headers-for-rk/linux-4.4.167&gt;</span></span><br><span class="line">wget https://raw.githubusercontent.com/rockchip-linux/kernel/develop-4.4/arch/arm64/configs/rockchip_linux_defconfig</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mv</span> rockchip_linux_defconfig .config</span><br></pre></td></tr></table></figure><h2 id="修改makefile以开启交叉编译"><a class="markdownIt-Anchor" href="#修改makefile以开启交叉编译"></a> 修改Makefile以开启交叉编译</h2><p>打开.config文件（建议使用gui软件方便编辑），然后找到 <code>ARCH</code> 和 <code>CROSS_COMPILE</code>这两行，然后修改为</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ARCH        ?= arm64</span><br><span class="line">CROSS_COMPILE ?= aarch64-linux-gnu-</span><br></pre></td></tr></table></figure><h2 id="配置开启ch340驱动"><a class="markdownIt-Anchor" href="#配置开启ch340驱动"></a> 配置开启CH340驱动</h2><p>执行以下命令开启配置菜单</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> make menuconfig</span><br></pre></td></tr></table></figure><p>如果失败可以尝试 <code>sudo make nconfig</code></p><p>然后：</p><div class="note info flat"><p>此步骤非常容易找不到，请一定细心。</p></div><ul><li>进入 <code>Device Drivers</code> -&gt; <code>USB support</code> -&gt; <code>USB Serial Converter support</code></li><li>按空格键选定 <code>USB Generic Serial Driver</code>，使其左侧方框带有星号，然后菜单会展开（如果已经展开可以忽略）</li><li>按M键选择 <code>USB Winchipherd CH341 Single Port Serial Driver</code>，使其左侧尖括号框值为M,此时该驱动将被编译为模块。</li></ul><p>如果想要编译其它驱动如CP2102之类，也可以选中CP2102的对应项。</p><p>如图：</p><p><img src="https://bu.dusays.com/2024/03/15/65f43e57b25f0.png" alt="" /></p><p><img src="https://bu.dusays.com/2024/03/15/65f43e6eba49c.png" alt="" /></p><p><img src="https://bu.dusays.com/2024/03/15/65f43e75a7e02.png" alt="" /></p><p><img src="https://bu.dusays.com/2024/03/15/65f43f693851b.png" alt="" /></p><p>最后选择下方save回车保存，返回菜单后一路exit即可退出。</p><p>除此之外，如果发现内核自带的ch341驱动太旧的话，也可以从官网下载驱动源码并解压 <code>ch341.c</code> 到 <code>driver/usb/serial</code> 下（未测试，可能不行，感兴趣的大家可以尝试）</p><h2 id="正式编译"><a class="markdownIt-Anchor" href="#正式编译"></a> 正式编译（</h2><p>本蒟蒻摸索了那么久配置，总算把这个东西整出来了，接下来呢？怎么样编译呢？</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># $linux-headers-for-rk/linux-4.4.167&gt;</span></span><br><span class="line"><span class="built_in">sudo</span> make -j8&amp;&amp;<span class="built_in">sudo</span> make modules -j8</span><br><span class="line"><span class="comment"># PS：使用 -jX指定X线程编译，有显著加速效果</span></span><br></pre></td></tr></table></figure><p>一般来说，执行这两个命令就好了。</p><h3 id="解决gcc高版本报错"><a class="markdownIt-Anchor" href="#解决gcc高版本报错"></a> 解决GCC高版本报错</h3><p>然而，如果你遇到了这个报错的话：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/toolchain/bin/aarch64-linux-gnu-ld: scripts/dtc/dtc-parser.tab.o:(.bss+0x50): multiple definition of `yylloc`; scripts/dtc/dtc-lexer.lex.o:(.bss+0x0): first defined here</span><br></pre></td></tr></table></figure><p>怎么办呢？</p><p>在 <code>scripts/dtc/dtc-lexer.lex.c_shipped</code> 文件中找到YYLTYPE yyloc这一行，并在前面加上 <code>extern </code>，保存退出即可（大概六百多行）</p><h2 id="提取驱动"><a class="markdownIt-Anchor" href="#提取驱动"></a> 提取驱动</h2><p>恭喜你经过了千辛万苦终于得到了 CH340 的驱动！！！</p><p>接下来让我们找到这个驱动的二进制文件，它在 <code>drivers/usb/serial/ch341.ko</code> 然后通过 <code>scp</code> 将这个文件拷贝到你的 OctoPrint 上位机上吧！</p><h2 id="安装驱动"><a class="markdownIt-Anchor" href="#安装驱动"></a> 安装驱动</h2><p>通过 <code>ssh</code> 登陆上位机，然后切换到拷贝的目录下，执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mv</span> ./ch341.ko /lib/</span><br><span class="line"><span class="built_in">sudo</span> nano /lib/systemd/system/ch341.service</span><br></pre></td></tr></table></figure><p>然后写入并保存：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[Unit]</span><br><span class="line">Description=CH341AutoInst</span><br><span class="line">[Service]</span><br><span class="line">Type=simple</span><br><span class="line">User=root</span><br><span class="line">ExecStart=/sbin/insmod /lib/ch341.ko</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br></pre></td></tr></table></figure><p>然后执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> ch341.service</span><br><span class="line"><span class="built_in">sudo</span> systemctl start ch341.service</span><br></pre></td></tr></table></figure><p>打开 OctoPrint,便可以发现可以正常连接上打印机了！！！</p><p><img src="https://bu.dusays.com/2024/03/15/65f4472b2d5f7.png" alt="" /></p><p>系统正常识别：</p><p><img src="https://bu.dusays.com/2024/03/15/65f446c06c0d1.png" alt="" /></p><p><img src="https://bu.dusays.com/2024/03/15/65f446fb08329.png" alt="" /></p><p>QwQ 便宜玩意的生态就真的是。。。</p><h1 id="参考资料"><a class="markdownIt-Anchor" href="#参考资料"></a> 参考资料</h1><a class="tag-Link" target="_blank" href="https://blog.csdn.net/ludaoyi88/article/details/115633849">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.csdn.net/ludaoyi88/article/details/115633849.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">交叉编译环境下对linux内核编译</div>            <div class="tag-link-sitename">CSDN</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://blog.csdn.net/qq_34117760/article/details/130910332">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.csdn.net/qq_34117760/article/details/130910332.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">RK3588 编译 CH341 驱动模块</div>            <div class="tag-link-sitename">CSDN</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://blog.csdn.net/zhoukaiqili/article/details/126191871">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.csdn.net/zhoukaiqili/article/details/126191871.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">编译Linux内核出现：usr/bin/ld: scripts/dtc/dtc-parser.tab.o:(.bss+0x50): multiple definition of `yylloc‘；</div>            <div class="tag-link-sitename">CSDN</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;大家多久没有看到本蒟蒻了呢qwq&lt;/p&gt;
&lt;p&gt;前段时间在小黄鱼上面淘了一块 EAIDK310 开发板，只要 40 块钱，刚好我需要一个 Oct</summary>
      
    
    
    
    <category term="Linux" scheme="https://blog.yaria.top/categories/Linux/"/>
    
    
    <category term="硬件" scheme="https://blog.yaria.top/tags/%E7%A1%AC%E4%BB%B6/"/>
    
    <category term="开发板" scheme="https://blog.yaria.top/tags/%E5%BC%80%E5%8F%91%E6%9D%BF/"/>
    
    <category term="Linux" scheme="https://blog.yaria.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>！！！如何解决Chrome121更新后导致的滚动条样式失效！！！</title>
    <link href="https://blog.yaria.top/posts/dea522be/"/>
    <id>https://blog.yaria.top/posts/dea522be/</id>
    <published>2024-03-09T03:05:28.000Z</published>
    <updated>2024-03-09T03:05:28.000Z</updated>
    
    <content type="html"><![CDATA[<p>好久没有管博客了，今天回去看看发现滚动条炸掉了（</p><p>于是搜了一下，果然又是谷歌大刀部乱砍 CSS 特性导致的，只要更新到基于Chrome121版本以上的浏览器（我现在用的是Edge 122）就会有这个问题。</p><p>具体地说，就是 <code>::-webkit-scrollbar</code> 这个伪类被砍掉了，导致目前有些滚动条样式有些受限，不过谷歌给了两个新属性，可以作为临时替代：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">scrollbar-width</span>: &#123;<span class="attribute">none</span>,thin,auto&#125;;</span><br><span class="line">    <span class="attribute">scrollbar-color</span>:&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不过 <code>overflow:overlay</code> 已经没了 😦</p><p>所以说，只需要加上一句 <code>scrollbar-width: none;</code> 就可以隐藏滚动条了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;好久没有管博客了，今天回去看看发现滚动条炸掉了（&lt;/p&gt;
&lt;p&gt;于是搜了一下，果然又是谷歌大刀部乱砍 CSS 特性导致的，只要更新到基于Chrome121版本以上的浏览器（我现在用的是Edge 122）就会有这个问题。&lt;/p&gt;
&lt;p&gt;具体地说，就是 &lt;code&gt;::-web</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>我的2023回忆录——还有遗憾吗？明年会怎么样呢？</title>
    <link href="https://blog.yaria.top/posts/b7bc969f/"/>
    <id>https://blog.yaria.top/posts/b7bc969f/</id>
    <published>2023-12-31T00:34:19.000Z</published>
    <updated>2024-01-02T16:34:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="鸽子声明"><a class="markdownIt-Anchor" href="#鸽子声明"></a> 鸽子声明</h1><p><s>本蒟蒻咕咕咕一个月之后终于更了</s></p><p><s>博客可能咕得多，建议看 B 站</s></p><p>最近本蒟蒻的重心放在了b站上，导致博客咕了很久，好在保持了一定的低频更新，以后这个博客的成分将会更加复杂，但是很鸽（逃</p><h1 id="卷首语废话"><a class="markdownIt-Anchor" href="#卷首语废话"></a> 卷首语（废话）</h1><p>光阴似箭，日月如梭，2023转眼飞逝，2024迎面而来。</p><p>没错没错，明天就2024年了啊qwq！</p><p>这一年如此漫长，以至于我对2024还带有一些陌生，就须接住它了。</p><p>可是，回首一看，这一年又交织着那么多的悲欢离合…</p><p>在过去的这一年里，或有太多事情，需要回头看看。去年的目标和希冀得到了吗？新的一年，我有更多的希望和目标。</p><h1 id="这一年都干了些什么"><a class="markdownIt-Anchor" href="#这一年都干了些什么"></a> 这一年都干了些什么</h1><h2 id="jan"><a class="markdownIt-Anchor" href="#jan"></a> Jan.</h2><p><s>2022年在家里躺了半年的网课，已经萎靡不振了（（（</s></p><p>一月，随着政府新冠疫情管制的放开，新冠的传播也不断肆虐。</p><p>于是，我爸羊了。我过了生日第二天，我也阳了。</p><p>我躺在床上看手机到了过年才阳康，又是悲哀的一个月。</p><p>趁着一些时机，玩了MC，并入坑MTR修了地铁，体验很不错。</p><p>现在看来，当时发表的一些言论或许有些激进了，有牢狱之灾））</p><p>除此之外，过年的时候本蒟蒻还争取出去运转了一次，挑战一次性坐完CRT所有线路，但是当时搞忘五中还没开了（（（</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/crt5kksk">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/crt5kksk.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">记一次在CRT的小运转</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="feb"><a class="markdownIt-Anchor" href="#feb"></a> Feb.</h2><p>终于恢复了正常的生活，也迎来了可恨的开学，可见的是，我的whk成绩并不很好，因为网课的原因，然后我的期末（初一上期末改为初一下开学考）便考砸了，数学考了B，这对于OIer来说可是极大耻辱（虽然我的数学初中以来一直不好）。</p><p>可这影响了我接下来的一切，起初，却没有谁在意这个失误。</p><h2 id="may"><a class="markdownIt-Anchor" href="#may"></a> May.</h2><p>五月一日劳动节，伟大的NoTopDomain计划开始了！！！</p><p>NTD正式开始动工，这个小东西，将来成为了一个庞然大物，为同学们信息课提供了许多帮助。</p><h2 id="jul"><a class="markdownIt-Anchor" href="#jul"></a> Jul.</h2><p>在学校的学习就此省略，来到了暑假的七月。</p><p>好在期末发了力，可算是数学考好点了，还挺不错的。</p><p>暑假我们要上竞赛，但是我摸鱼被Tad抓了（</p><h2 id="aug"><a class="markdownIt-Anchor" href="#aug"></a> Aug.</h2><p>上半个月以飞速+答案赶完了暑假作业，然后入坑了florr，便发现此为一个无比好玩的游戏。</p><p>除了玩florr外，发现自己的底力突然复健了，于是卡了很久的瓶颈期就此过去，rks一路上涨到了13.8，arc也随便玩了一下玩到了葡萄糖9.几</p><p>下半月又回本部上竞赛了，可是这次却迎来了几次生命线般的考试，如果炸了就无缘了。我却发挥不错，没什么问题。</p><p>8月26日，竞赛结束，迎来了最终的考验。</p><p>如果失败，这将意味着自己无缘OI。</p><p>可是，现实告诉我，我失败了。</p><p>OI无缘于这个蒟蒻，当时我哭了很久。</p><p>原因是初一那次砸锅的半期。（；´д｀）ゞ</p><h2 id="sep"><a class="markdownIt-Anchor" href="#sep"></a> Sep.</h2><p>开学了，WHK经过了很久总算重整旗鼓还不错。</p><p>得知了周末可以蹭课打OI复活赛的好消息，这个蒟蒻总算是好了一些qwq</p><h2 id="oct"><a class="markdownIt-Anchor" href="#oct"></a> Oct.</h2><p>国庆！！！终于出门了！！！成都！！！</p><p>这是一篇咕了的游记：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/7edb78c4">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/7edb78c4.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">成都游记！！！但是懒得写了没写完qwq</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>我很想坐铁路的，可是没票了+补习班来不及））</p><p>然后便是半期考试，但是！！！</p><p>这个StuPid因为两道计算粗心错失了A线以及130高分！！！！！！！！！！！</p><p>可是，大题都做出来的啊…</p><p>请看：</p><ol start="19"><li>计算</li></ol><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>3</mn></msup><msqrt><mrow><mo>−</mo><mn>8</mn></mrow></msqrt><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">(1) ^3\sqrt{-8}+...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.115555em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8655550000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">−</span><span class="mord">8</span></span></span><span style="top:-2.825555em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.17444499999999996em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></p><p>解：原式=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>2</mn><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">-2+...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></p><p>这个很正常，是不是？</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo><msqrt><mn>8</mn></msqrt><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">(2) \sqrt{8}+...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1572200000000001em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">)</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.90722em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">8</span></span></span><span style="top:-2.86722em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.13278em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></p><p>解：原式=<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi></mrow><annotation encoding="application/x-tex">2+...</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.10556em;vertical-align:0em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span></span></span></span></p><p>对对对！！！看错了！！！</p><p>痛失4分！！！！！！！！！！</p><p>于是半期就此搞砸。好在本蒟蒻其他科目发挥甚为不错，问题不大（（（其他科目都是前5就数学拉到十名往下了</p><h2 id="nov"><a class="markdownIt-Anchor" href="#nov"></a> Nov.</h2><p>十一月总算是一个没什么事的月份了，除了正常的学习生活，周末去蹭课+拍车，还是很不错的。</p><p>另外一提，伴随着CRT5号线中段的开通，本蒟蒻总算启用了尘封已久的B站投稿~~（并删除了黑历史）~~，成为了一个CRT区的大鸽子，随缘更新。</p><h2 id="dec"><a class="markdownIt-Anchor" href="#dec"></a> Dec.</h2><p>月初是可爱的缤纷节（逃</p><p>其实原来是一二·九纪念日，然后提前一天就成缤纷节了qwq</p><p>但是——我们班，很多人，得了支原体，感冒</p><p>然后我开始频繁差点低烧，感冒，青春歌会晚上那天可算是真正发烧回家了。</p><p>接下来的两周，去诊所拿了很多药，都没好，直到上周才发现是支原体，到处跑，可算是要好了。</p><p>佩服重庆（尤其是主城区）的医疗系统🤣，最后跑回涪陵小诊所解决的😕</p><p>但是，要期末了！！！！！！</p><p><em>可算是迎来了新的一年，这漫长的一年，平铺直叙，却只是一个流水账，转眼即逝。</em></p><h1 id="展望未来"><a class="markdownIt-Anchor" href="#展望未来"></a> 展望未来</h1><p>在学校，我给2024年的自己写了一封信，然而已然存放至班主任那里了。</p><p>我只希望平平安安，顺顺利利，新年只要无大事，岁月即然静好。</p><p>可是，新的追求呢？</p><ol><li>WHK！！！全看期末靠不考的好了，倒计时一周！</li><li>OI已经随缘，本蒟蒻希望我的OI生涯能够继续，但是如果没有办法，也将无悔。</li><li>希望可以有更多拍车的机会。</li><li>更一些更好的视频，可能是一些PV/音MAD/混剪？</li><li>玩MC、florr qwq</li><li>把鸽子博客给解决好呢awa</li><li>做更多想做的事，而不是被空间所束缚</li></ol><p>以上便是随写，2023，我们再见。</p>]]></content>
    
    
    <summary type="html">人有悲欢离合，月有阴晴圆缺。2023饱含太多的辛酸与遗憾，愿它们成为过去，不再回来。你好，2024。</summary>
    
    
    
    <category term="随笔" scheme="https://blog.yaria.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>CSP-J 2023 题解</title>
    <link href="https://blog.yaria.top/posts/dbbb90bf/"/>
    <id>https://blog.yaria.top/posts/dbbb90bf/</id>
    <published>2023-10-28T02:34:30.000Z</published>
    <updated>2023-10-28T02:34:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>考完了CSP之后，自然是打算写题解了，因为今年没参加S组qwq，所以就只写了J组的TJ。</p><h1 id="t1-apple"><a class="markdownIt-Anchor" href="#t1-apple"></a> T1 apple</h1><h2 id="题目"><a class="markdownIt-Anchor" href="#题目"></a> 题目</h2><details class="folding-tag" red><summary> 点击展开题目 </summary>              <div class='content'>              <h3 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h3><p>小 Y 的桌子上放着 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个苹果从左到右排成一列，编号为从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>。</p><p>小苞是小 Y 的好朋友，每天她都会从中拿走一些苹果。</p><p>每天在拿的时候，小苞都是从左侧第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个苹果开始、每隔 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 个苹果拿走 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个苹果。随后小苞会将剩下的苹果按原先的顺序重新排成一列。</p><p>小苞想知道，多少天能拿完所有的苹果，而编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的苹果是在第几天被拿走的？</p><h3 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h3><p>输入的第一行包含一个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，表示苹果的总数。</p><h3 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h3><p>输出一行包含两个正整数，两个整数之间由一个空格隔开，分别表示小苞拿走所有苹果所需的天数以及拿走编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的苹果是在第几天。</p><h3 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h3><h4 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8</span><br></pre></td></tr></table></figure><h4 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5 5</span><br></pre></td></tr></table></figure><h3 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h3><p><strong>【样例 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 解释】</strong></p><p>小苞的桌上一共放了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span> 个苹果。<br />小苞第一天拿走了编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn></mrow><annotation encoding="application/x-tex">7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span> 的苹果。<br />小苞第二天拿走了编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span> 的苹果。<br />小苞第三天拿走了编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 的苹果。<br />小苞第四天拿走了编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 的苹果。<br />小苞第五天拿走了编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span> 的苹果。</p><p><strong>【样例 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>】</strong></p><p>见选手目录下的 apple/apple2.in 与 apple/apple2.ans。</p><p><strong>【数据范围】</strong></p><p>对于所有测试数据有：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">1\leq n\leq 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>。</p><table><thead><tr><th style="text-align:center">测试点</th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo></mrow><annotation encoding="application/x-tex">n\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span></span></span></th><th style="text-align:center">特殊性质</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">1\sim 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">无</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>∼</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">3\sim 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">无</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">6\sim 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">有</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mo>∼</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">8\sim 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">无</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">无</td></tr></tbody></table><p>特殊性质：小苞第一天就取走编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的苹果。</p>              </div>            </details><h2 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h2><p>还是很简单的一个找规律题。对于第一问，可以发现的是，每隔两个拿一个苹果的话，是相当于以 3 个苹果为一组，剩下不够 3 个的也当一组，每一次拿走一组中的第一个就可以了。</p><p>当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">n=8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span> 时，图就是这样子的：</p><p><img src="https://bu.dusays.com/2023/10/28/653c7a9bdd9cd.png" alt="" /></p><p>第二问呢？</p><p>根据上图可以发现，当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">i=5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>3</mn><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \mod 3=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，此时最后一组的第一个就是第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个苹果了，直接输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 就好。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><p>这是我的考场代码（增加了一些注释，有些是考场发癫写的）：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//能出1=么，能出300么qwq</span></span><br><span class="line"><span class="comment">//CQ-J00273 LYX</span></span><br><span class="line"><span class="comment">//签到水题，找规律：（</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;apple.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;apple.out&quot;</span>,<span class="string">&quot;w&quot;</span>,stdout);</span><br><span class="line">    <span class="type">long</span> <span class="type">long</span> n,i=<span class="number">0</span>,ans=<span class="number">-1</span>; <span class="comment">//ans=-1标记ans未更新过</span></span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">while</span>(n)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">3</span>==<span class="number">1</span>&amp;&amp;!~ans) ans=i<span class="number">+1</span>; <span class="comment">//!~ans判断ans是否为-1，如果未更新过ans，此时的i就是取到第n个苹果的时间戳</span></span><br><span class="line">        n-=<span class="built_in">ceil</span>(n*<span class="number">1.0</span>/<span class="number">3</span>),i++; <span class="comment">//减掉3个一组第一个的苹果个数</span></span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;i&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    <span class="comment">//小知识：我平常不加endl，但是Linux下是没有自动换行的，看起来很难受。</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="t2-road"><a class="markdownIt-Anchor" href="#t2-road"></a> T2 road</h1><h2 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h2><details class="folding-tag" red><summary> 点击查看题面 </summary>              <div class='content'>              <h3 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h3><p>小苞准备开着车沿着公路自驾。</p><p>公路上一共有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个站点，编号为从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>。其中站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 与站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">i + 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.74285em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的距离为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 公里。</p><p>公路上每个站点都可以加油，编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 的站点一升油的价格为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 元，且每个站点只出售整数升的油。</p><p>小苞想从站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 开车到站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，一开始小苞在站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 且车的油箱是空的。已知车的油箱足够大，可以装下任意多的油，且每升油可以让车前进 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span> 公里。问小苞从站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 开到站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，至少要花多少钱加油？</p><h3 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h3><p>输入的第一行包含两个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span>，分别表示公路上站点的数量和车每升油可以前进的距离。</p><p>输入的第二行包含 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n - 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo>…</mo><msub><mi>v</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">v_1, v_2\dots v_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，分别表示站点间的距离。</p><p>输入的第三行包含 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>…</mo><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1, a_2 \dots a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别表示在不同站点加油的价格。</p><h3 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h3><p>输出一行，仅包含一个正整数，表示从站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 开到站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，小苞至少要花多少钱加油。</p><h3 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h3><h4 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">5 4</span><br><span class="line">10 10 10 10</span><br><span class="line">9 8 9 6 5</span><br></pre></td></tr></table></figure><h4 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">79</span><br></pre></td></tr></table></figure><h3 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h3><p><strong>【样例 1 解释】</strong></p><p>最优方案下：小苞在站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 买了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 升油，在站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 购买了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 升油，在站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 购买了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 升油。</p><p><strong>【样例 2】</strong></p><p>见选手目录下的 road/road2.in 与 road/road2.ans。</p><p><strong>【数据范围】</strong></p><p>对于所有测试数据保证：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq n \leq 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>d</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq d \leq 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>v</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq v_i \leq 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq a_i \leq 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>。</p><table><thead><tr><th style="text-align:center">测试点</th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo></mrow><annotation encoding="application/x-tex">n \leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span></span></span></th><th style="text-align:center">特殊性质</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">1\sim 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn></mrow><annotation encoding="application/x-tex">8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span></td><td style="text-align:center">无</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">6\sim 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">无</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn><mo>∼</mo><mn>13</mn></mrow><annotation encoding="application/x-tex">11\sim 13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">A</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14</mn><mo>∼</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">14\sim 16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">6</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">B</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>17</mn><mo>∼</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">17\sim 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">无</td></tr></tbody></table><ul><li>特殊性质 A：站点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的油价最低。</li><li>特殊性质 B：对于所有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>i</mi><mo>&lt;</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \leq i &lt; n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69862em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">v_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span> 的倍数。</li></ul>              </div>            </details><h2 id="题解-2"><a class="markdownIt-Anchor" href="#题解-2"></a> 题解</h2><p>这道题思维难度稍高一点，需要一种贪心思想。</p><p>贪心思想大概如此：不按照原来的思路。先在第一个站加油到达第二个站，如果第二个站便宜就加第二个，不然还是加第一站的油，到了第三站之后也是在前三个站中找最便宜的加油去第四站，以此类推。</p><p>简单一点说就是对于第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 个加油站，把加油的单价替换为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mrow><mi>min</mi><mo>⁡</mo><mrow><mo stretchy="false">{</mo><mi>a</mi><mo stretchy="false">}</mo></mrow></mrow></msub></mrow><annotation encoding="application/x-tex">a_{\min{\{a\}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7857599999999999em;vertical-align:-0.3551999999999999em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.34480000000000005em;"><span style="top:-2.5198em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mtight">m</span><span class="mtight">i</span><span class="mtight">n</span></span><span class="mspace mtight" style="margin-right:0.19516666666666668em;"></span><span class="mord mtight"><span class="mopen mtight">{</span><span class="mord mathnormal mtight">a</span><span class="mclose mtight">}</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3551999999999999em;"><span></span></span></span></span></span></span></span></span></span></p><p>然后模拟距离即可，注意油量和取整的问题。以及，一定要开 <code>long long</code> 和 <code>double</code>，不然你会死得很惨！（洛谷死的是75pts）</p><h2 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h2><p>下面是我的代码，包括考试发癫和后续加的注释。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//qwq 差点挂掉</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long <span class="comment">//不开longlong见祖宗</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,d,v[<span class="number">114514</span>],a[<span class="number">114514</span>],minn=<span class="number">1e9</span>,ans; <span class="comment">//两个数组作用如题，注意实际上a_n项是没有用的（因为都到了第n个站了就不需要再加油去其他地方了）</span></span><br><span class="line"><span class="type">double</span> yl=<span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;road.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;road.out&quot;</span>,<span class="string">&quot;w&quot;</span>,stdout);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;d;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++) cin&gt;&gt;v[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123; <span class="comment">//注意 i&lt;n，小学植树问题（</span></span><br><span class="line">        minn=<span class="built_in">min</span>(a[i],minn); <span class="comment">//替换加油价格</span></span><br><span class="line">        yl-=v[i<span class="number">-1</span>]*<span class="number">1.0</span>/d; <span class="comment">//计算到了这个站的剩余油量</span></span><br><span class="line">        ans+=<span class="built_in">ceil</span>((v[i]-yl*d)/d)*minn; <span class="comment">//计算加油量并算钱</span></span><br><span class="line">        yl+=<span class="built_in">ceil</span>((v[i]-yl*d)/d);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="t3-uqe"><a class="markdownIt-Anchor" href="#t3-uqe"></a> T3 uqe</h1><h2 id="题面-2"><a class="markdownIt-Anchor" href="#题面-2"></a> 题面</h2><details class="folding-tag" red><summary> 点击查看题面 </summary>              <div class='content'>              <h3 id="题目背景"><a class="markdownIt-Anchor" href="#题目背景"></a> 题目背景</h3><p>众所周知，对一元二次方程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><mi>x</mi><mo>+</mo><mi>c</mi><mo>=</mo><mn>0</mn><mo separator="true">,</mo><mo stretchy="false">(</mo><mi>a</mi><mo mathvariant="normal">≠</mo><mn>0</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">ax ^ 2 + bx + c = 0, (a \neq 0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span></span>，可以用以下方式求实数解：</p><ul><li>计算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">\Delta = b ^ 2 - 4ac</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span></span></span></span>，则:<ol><li>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，则该一元二次方程无实数解。</li><li>否则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，此时该一元二次方程有两个实数解 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo>=</mo><mfrac><mrow><mo>−</mo><mi>b</mi><mo>±</mo><msqrt><mi mathvariant="normal">Δ</mi></msqrt></mrow><mrow><mn>2</mn><mi>a</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x _ {1, 2} = \frac{-b \pm \sqrt \Delta}{2a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.391603em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.046603em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathnormal mtight">a</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">b</span><span class="mbin mtight">±</span><span class="mord sqrt mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322900000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mtight" style="padding-left:0.833em;">Δ</span></span><span style="top:-2.89229em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail mtight" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.10770999999999997em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</li></ol></li></ul><p>例如：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x ^ 2 + x + 1 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 无实数解，因为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup><mo>−</mo><mn>4</mn><mo>×</mo><mn>1</mn><mo>×</mo><mn>1</mn><mo>=</mo><mo>−</mo><mn>3</mn><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta = 1 ^ 2 - 4 \times 1 \times 1 = -3 &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><mn>2</mn><mi>x</mi><mo>+</mo><mn>1</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x ^ 2 - 2x + 1 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 有两相等实数解 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn></mrow></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x _ {1, 2} = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.716668em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mpunct mtight">,</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mn>2</mn></msup><mo>−</mo><mn>3</mn><mi>x</mi><mo>+</mo><mn>2</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x ^ 2 - 3x + 2 = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 有两互异实数解 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mn>1</mn><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">x _ 1 = 1, x _ 2 = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>。</li></ul><p>在题面描述中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> 的最大公因数使用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gcd(a, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> 表示。例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn></mrow><annotation encoding="application/x-tex">12</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn></mrow><annotation encoding="application/x-tex">18</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">8</span></span></span></span> 的最大公因数是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mn>12</mn><mo separator="true">,</mo><mn>18</mn><mo stretchy="false">)</mo><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">\gcd(12, 18) = 6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord">1</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">8</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>。</p><h3 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h3><p>现在给定一个一元二次方程的系数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a, b, c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a, b, c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span></span></span></span> <strong>均为整数且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a \neq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span></strong>。你需要判断一元二次方程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mi>b</mi><mi>x</mi><mo>+</mo><mi>c</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a x ^ 2 + bx + c = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 是否有实数解，并按要求的格式输出。</p><p><strong>在本题中输出有理数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 时须遵循以下规则：</strong></p><ul><li><p>由有理数的定义，存在唯一的两个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>，满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">q &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>p</mi><mo separator="true">,</mo><mi>q</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\gcd(p, q) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo>=</mo><mfrac><mi>p</mi><mi>q</mi></mfrac></mrow><annotation encoding="application/x-tex">v = \frac pq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.228608em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7475em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>。</p></li><li><p>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">q = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，<strong>则输出 <code>{p}</code>，否则输出 <code>{p}/{q}</code></strong>，其中 <code>{n}</code> 代表整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的值；</p></li><li><p>例如：</p><ul><li>当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo>=</mo><mo>−</mo><mn>0.5</mn></mrow><annotation encoding="application/x-tex">v = -0.5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">0</span><span class="mord">.</span><span class="mord">5</span></span></span></span> 时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> 的值分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>，则应输出 <code>-1/2</code>；</li><li>当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">v = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span> 的值分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，则应输出 <code>0</code>。</li></ul></li></ul><p><strong>对于方程的求解，分两种情况讨论：</strong></p><ol><li><p>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>a</mi><mi>c</mi><mo>&lt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta = b ^ 2 - 4ac &lt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">4</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，则表明方程无实数解，此时你应当输出 <code>NO</code>；</p></li><li><p>否则 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>≥</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">\Delta \geq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，此时方程有两解（可能相等），记其中较大者为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>，则：</p><ol><li><p>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 为有理数，则按有理数的格式输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>。</p></li><li><p>否则根据上文公式，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 可以被<strong>唯一</strong>表示为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>q</mi><mn>1</mn></msub><mo>+</mo><msub><mi>q</mi><mn>2</mn></msub><msqrt><mi>r</mi></msqrt></mrow><annotation encoding="application/x-tex">x = q _ 1 + q _ 2 \sqrt r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.23972em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8002800000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;padding-left:0.833em;">r</span></span><span style="top:-2.76028em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.23972em;"><span></span></span></span></span></span></span></span></span> 的形式，其中：</p><ul><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">q _ 1, q _ 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为有理数，且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>2</mn></msub><mo>&gt;</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">q _ 2 &gt; 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 为正整数且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">r &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，且不存在正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo>&gt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d &gt; 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 使 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>d</mi><mn>2</mn></msup><mo>∣</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">d ^ 2 \mid r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>（即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 不应是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>d</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">d ^ 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> 的倍数）；</li></ul></li></ol><p>此时：</p><ol><li>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>1</mn></msub><mo mathvariant="normal">≠</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">q _ 1 \neq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，则按有理数的格式输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">q _ 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，并再输出一个加号 <code>+</code>；</li><li>否则跳过这一步输出；</li></ol><p>随后：</p><ol><li>若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">q _ 2 = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，则输出 <code>sqrt({r})</code>；</li><li>否则若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">q _ 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 为整数，则输出 <code>{q2}*sqrt({r})</code>；</li><li>否则若 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>3</mn></msub><mo>=</mo><mfrac><mn>1</mn><msub><mi>q</mi><mn>2</mn></msub></mfrac></mrow><annotation encoding="application/x-tex">q _ 3 = \frac 1{q _ 2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.326216em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 为整数，则输出 <code>sqrt({r})/{q3}</code>；</li><li>否则可以证明存在唯一整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo separator="true">,</mo><mi>d</mi></mrow><annotation encoding="application/x-tex">c, d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span></span></span></span> 满足 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo>&gt;</mo><mn>1</mn><mo separator="true">,</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">c, d &gt; 1, \gcd(c, d) = 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>q</mi><mn>2</mn></msub><mo>=</mo><mfrac><mi>c</mi><mi>d</mi></mfrac></mrow><annotation encoding="application/x-tex">q _ 2 = \frac cd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，此时输出 <code>{c}*sqrt({r})/{d}</code>；</li></ol><p>上述表示中 <code>{n}</code> 代表整数 <code>{n}</code> 的值，详见样例。</p><p>如果方程有实数解，则按要求的格式输出两个实数解中的较大者。否则若方程没有实数解，则输出 <code>NO</code>。</p></li></ol><h3 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h3><p>输入的第一行包含两个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">T, M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>，分别表示方程数和系数的绝对值上限。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> 行，每行包含三个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">a, b, c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span></span></span></span>。</p><h3 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h3><p>输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span> 行，每行包含一个字符串，表示对应询问的答案，格式如题面所述。</p><p><strong>每行输出的字符串中间不应包含任何空格</strong>。</p><h3 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h3><h4 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">9 1000</span><br><span class="line">1 -1 0</span><br><span class="line">-1 -1 -1</span><br><span class="line">1 -2 1</span><br><span class="line">1 5 4</span><br><span class="line">4 4 1</span><br><span class="line">1 0 -432</span><br><span class="line">1 -3 1</span><br><span class="line">2 -4 1</span><br><span class="line">1 7 1</span><br></pre></td></tr></table></figure><h4 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">NO</span><br><span class="line">1</span><br><span class="line">-1</span><br><span class="line">-1/2</span><br><span class="line">12*sqrt(3)</span><br><span class="line">3/2+sqrt(5)/2</span><br><span class="line">1+sqrt(2)/2</span><br><span class="line">-7/2+3*sqrt(5)/2</span><br></pre></td></tr></table></figure><h3 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h3><p><strong>【样例 #2】</strong></p><p>见附件中的 <code>uqe/uqe2.in</code> 与 <code>uqe/uqe2.ans</code>。</p><p><strong>【数据范围】</strong></p><p>对于所有数据有：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>T</mi><mo>≤</mo><mn>5000</mn></mrow><annotation encoding="application/x-tex">1 \leq T \leq 5000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>M</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">1 \leq M \leq 10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">∣</mi><mi>a</mi><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><mi mathvariant="normal">∣</mi><mi>b</mi><mi mathvariant="normal">∣</mi><mo separator="true">,</mo><mi mathvariant="normal">∣</mi><mi>c</mi><mi mathvariant="normal">∣</mi><mo>≤</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">|a|,|b|,|c| \leq M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">a</span><span class="mord">∣</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord mathnormal">b</span><span class="mord">∣</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">∣</span><span class="mord mathnormal">c</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo mathvariant="normal">≠</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a \neq 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</p><table><thead><tr><th style="text-align:center">测试点编号</th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>≤</mo></mrow><annotation encoding="application/x-tex">M \leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span></span></span></th><th style="text-align:center">特殊性质 A</th><th style="text-align:center">特殊性质 B</th><th style="text-align:center">特殊性质 C</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td><td style="text-align:center">是</td><td style="text-align:center">是</td><td style="text-align:center">是</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">否</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">是</td><td style="text-align:center">否</td><td style="text-align:center">是</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">是</td><td style="text-align:center">否</td><td style="text-align:center">否</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">否</td><td style="text-align:center">是</td><td style="text-align:center">是</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">否</td><td style="text-align:center">是</td><td style="text-align:center">否</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo separator="true">,</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">7, 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">8</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">是</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo separator="true">,</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">9, 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">10 ^ 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></td><td style="text-align:center">否</td><td style="text-align:center">否</td><td style="text-align:center">否</td></tr></tbody></table><p>其中：</p><ul><li>特殊性质 A：保证 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">b = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>；</li><li>特殊性质 B：保证 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">c = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>；</li><li>特殊性质 C：如果方程有解，那么方程的两个解都是整数。</li></ul>              </div>            </details><h2 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h2><p>按照题目思路模拟分解即可，具体注释见代码。</p><h2 id="大坑"><a class="markdownIt-Anchor" href="#大坑"></a> 大坑！</h2><p>!注意!，请!注意!时间!复杂度!，这是我的考场代码，复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><msup><mi>b</mi><mn>2</mn></msup><mo>−</mo><mn>4</mn><mi>T</mi><mi>a</mi><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(Tb^2-4Tac)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mclose">)</span></span></span></span>，无法通过：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//蒟蒻的垃圾模拟代码</span></span><br><span class="line"><span class="comment">//CCF当点人罢（</span></span><br><span class="line"><span class="comment">//J组题这么逆天</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t,m; </span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">yls</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> d)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((u&lt;<span class="number">0</span>&amp;&amp;d&gt;<span class="number">0</span>)||(u&gt;<span class="number">0</span>&amp;&amp;d&lt;<span class="number">0</span>)) cout&lt;&lt;<span class="string">&#x27;-&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(d/__gcd(u,d)==<span class="number">1</span>) cout&lt;&lt;<span class="built_in">abs</span>(u/__gcd(u,d));</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="built_in">abs</span>(u/__gcd(u,d))&lt;&lt;<span class="string">&#x27;/&#x27;</span>&lt;&lt;<span class="built_in">abs</span>(d/__gcd(u,d));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">wqpf</span><span class="params">(<span class="type">int</span> tr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="built_in">floor</span>(<span class="built_in">sqrt</span>(tr)),<span class="number">2</span>)==tr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;uqe.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;uqe.out&quot;</span>,<span class="string">&quot;w&quot;</span>,stdout);</span><br><span class="line">    cin&gt;&gt;t&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,a,b,c;i&lt;=t;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;<span class="type">int</span> tr=b*b<span class="number">-4</span>*a*c;</span><br><span class="line">        <span class="keyword">if</span>(tr&lt;<span class="number">0</span>) cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">wqpf</span>(tr))&#123;</span><br><span class="line">                <span class="keyword">if</span>((<span class="built_in">sqrt</span>(tr)-b)/(<span class="number">2</span>*a)&gt;(-<span class="built_in">sqrt</span>(tr)-b)/(<span class="number">2</span>*a))</span><br><span class="line">                    <span class="built_in">yls</span>(<span class="built_in">sqrt</span>(tr)-b,<span class="number">2</span>*a);</span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">yls</span>(-<span class="built_in">sqrt</span>(tr)-b,<span class="number">2</span>*a);</span><br><span class="line">                cout&lt;&lt;endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>((-b)*<span class="number">1.0</span>/(a*<span class="number">2</span>)) <span class="built_in">yls</span>(-b,a*<span class="number">2</span>),cout&lt;&lt;<span class="string">&#x27;+&#x27;</span>;</span><br><span class="line">                <span class="type">int</span> ys=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;<span class="built_in">i</span>&lt;=tr;i++)</span><br><span class="line">                    <span class="keyword">if</span>(!(tr%i)&amp;&amp;<span class="built_in">wqpf</span>(i)) ys=<span class="built_in">max</span>(ys,i); <span class="comment">//这里暴力开方浪费了很多时间，考场盲目自信复杂度算错了</span></span><br><span class="line">                tr/=ys,ys=<span class="built_in">sqrt</span>(ys);</span><br><span class="line">                <span class="keyword">if</span>((-<span class="built_in">sqrt</span>(tr)*ys-b)/(<span class="number">2</span>*a)&gt;(<span class="built_in">sqrt</span>(tr)*ys-b)/(<span class="number">2</span>*a)) ys=-ys;</span><br><span class="line">                <span class="keyword">if</span>(ys==a*<span class="number">2</span>) cout&lt;&lt;<span class="string">&quot;sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(!(ys%(a*<span class="number">2</span>))) cout&lt;&lt;<span class="built_in">abs</span>(ys/(a*<span class="number">2</span>))&lt;&lt;<span class="string">&quot;*sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(!(a*<span class="number">2</span>%ys)) cout&lt;&lt;<span class="string">&quot;sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)/&quot;</span>&lt;&lt;<span class="built_in">abs</span>(a*<span class="number">2</span>/ys)&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">else</span> cout&lt;&lt;<span class="built_in">abs</span>(ys/__gcd(ys,a*<span class="number">2</span>))&lt;&lt;<span class="string">&quot;*sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)/&quot;</span>&lt;&lt;<span class="built_in">abs</span>(a*<span class="number">2</span>/__gcd(ys,a*<span class="number">2</span>))&lt;&lt;endl;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="代码-3"><a class="markdownIt-Anchor" href="#代码-3"></a> 代码</h2><p>可以看看注释，非常详细。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="comment">//修改过的代码，复杂度O(Tb)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> t,m; </span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">yls</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> d)</span></span>&#123; <span class="comment">//输出分子为u，分母为d的有理分数 </span></span><br><span class="line">    <span class="keyword">if</span>((u&lt;<span class="number">0</span>&amp;&amp;d&gt;<span class="number">0</span>)||(u&gt;<span class="number">0</span>&amp;&amp;d&lt;<span class="number">0</span>)) cout&lt;&lt;<span class="string">&#x27;-&#x27;</span>; <span class="comment">//异号，值为负 </span></span><br><span class="line">    <span class="comment">//除gcd可以达到化简分数的效果 </span></span><br><span class="line">    <span class="keyword">if</span>(d/__gcd(u,d)==<span class="number">1</span>) cout&lt;&lt;<span class="built_in">abs</span>(u/__gcd(u,d)); <span class="comment">//分母为1，输出整数形式 </span></span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;<span class="built_in">abs</span>(u/__gcd(u,d))&lt;&lt;<span class="string">&#x27;/&#x27;</span>&lt;&lt;<span class="built_in">abs</span>(d/__gcd(u,d)); <span class="comment">//按照分数形式输出 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">wqpf</span><span class="params">(<span class="type">int</span> tr)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">pow</span>(<span class="built_in">floor</span>(<span class="built_in">sqrt</span>(tr)),<span class="number">2</span>)==tr; <span class="comment">//判断一个整数tr是否为完全平方数，即为判断根号是否为整 </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;uqe.in&quot;</span>,<span class="string">&quot;r&quot;</span>,stdin);</span><br><span class="line">    <span class="built_in">freopen</span>(<span class="string">&quot;uqe.out&quot;</span>,<span class="string">&quot;w&quot;</span>,stdout); <span class="comment">//考试的时候不要写错了啊qwq </span></span><br><span class="line">    cin&gt;&gt;t&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,a,b,c;i&lt;=t;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;<span class="type">int</span> tr=b*b<span class="number">-4</span>*a*c; <span class="comment">//计算解的根号部分的被开方数 </span></span><br><span class="line">        <span class="keyword">if</span>(tr&lt;<span class="number">0</span>) cout&lt;&lt;<span class="string">&quot;NO&quot;</span>&lt;&lt;endl; <span class="comment">//实数范围内无解 </span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">wqpf</span>(tr))&#123; <span class="comment">//根号部分是完全平方数，即有有理数解 </span></span><br><span class="line">                <span class="keyword">if</span>((<span class="built_in">sqrt</span>(tr)-b)/(<span class="number">2</span>*a)&gt;(-<span class="built_in">sqrt</span>(tr)-b)/(<span class="number">2</span>*a)) <span class="comment">//寻找最大解 </span></span><br><span class="line">                    <span class="built_in">yls</span>(<span class="built_in">sqrt</span>(tr)-b,<span class="number">2</span>*a); <span class="comment">//套公式即可 </span></span><br><span class="line">                <span class="keyword">else</span> <span class="built_in">yls</span>(-<span class="built_in">sqrt</span>(tr)-b,<span class="number">2</span>*a);</span><br><span class="line">                cout&lt;&lt;endl;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>((-b)*<span class="number">1.0</span>/(a*<span class="number">2</span>)) <span class="built_in">yls</span>(-b,a*<span class="number">2</span>),cout&lt;&lt;<span class="string">&#x27;+&#x27;</span>;</span><br><span class="line">                <span class="comment">// 根据乘法分配律可得(-b+sqrt(tr))/2a=-b/2a-sqrt(tr)/2a</span></span><br><span class="line">                <span class="comment">// 即为输出解的前一项b/2a，为有理数。 </span></span><br><span class="line">                <span class="type">int</span> ys=<span class="number">1</span>,rr=tr,cnt; <span class="comment">//tr为根号下三角形的被开方数，ys为被开方数的最大完全平方因数 </span></span><br><span class="line">                <span class="comment">//rr作临时变量，对根式进行化简，提系数 </span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i*<span class="built_in">i</span>&lt;=rr;i++)</span><br><span class="line">                    <span class="keyword">if</span>(!(rr%i))&#123; <span class="comment">//找质因数 </span></span><br><span class="line">                        cnt=<span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">while</span>(!(rr%i)) rr/=i,cnt++; <span class="comment">//化简至rr与i互质，cnt即为原数所含质因数i的个数 </span></span><br><span class="line">                        ys*=<span class="built_in">pow</span>(i,cnt-cnt%<span class="number">2</span>); <span class="comment">//提偶数个i出来 </span></span><br><span class="line">                    &#125;</span><br><span class="line">                tr/=ys,ys=<span class="built_in">sqrt</span>(ys); <span class="comment">//化简，提出来 </span></span><br><span class="line">                <span class="keyword">if</span>((-<span class="built_in">sqrt</span>(tr)*ys-b)/(<span class="number">2</span>*a)&gt;(<span class="built_in">sqrt</span>(tr)*ys-b)/(<span class="number">2</span>*a)) ys=-ys;</span><br><span class="line">                <span class="comment">//如果-b/2a-sqrt(tr)/2a是最大解时，把提出来的系数取负，直接就可以当做-b/2a+sqrt(tr)/2a </span></span><br><span class="line">                <span class="keyword">if</span>(ys==a*<span class="number">2</span>) cout&lt;&lt;<span class="string">&quot;sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line">                <span class="comment">//系数为1时，直接输出根号格式 </span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(!(ys%(a*<span class="number">2</span>))) cout&lt;&lt;<span class="built_in">abs</span>(ys/(a*<span class="number">2</span>))&lt;&lt;<span class="string">&quot;*sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)&quot;</span>&lt;&lt;endl;</span><br><span class="line">                <span class="comment">//系数为整数时。注意：可以证明 sqrt(tr)/2a 一定为整，为了方便符号处理，直接取绝对值就好了 </span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(!(a*<span class="number">2</span>%ys)) cout&lt;&lt;<span class="string">&quot;sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)/&quot;</span>&lt;&lt;<span class="built_in">abs</span>(a*<span class="number">2</span>/ys)&lt;&lt;endl;</span><br><span class="line">                <span class="comment">//系数分子为1，当作除法处理 </span></span><br><span class="line">                <span class="keyword">else</span> cout&lt;&lt;<span class="built_in">abs</span>(ys/__gcd(ys,a*<span class="number">2</span>))&lt;&lt;<span class="string">&quot;*sqrt(&quot;</span>&lt;&lt;tr&lt;&lt;<span class="string">&quot;)/&quot;</span>&lt;&lt;<span class="built_in">abs</span>(a*<span class="number">2</span>/__gcd(ys,a*<span class="number">2</span>))&lt;&lt;endl;</span><br><span class="line">                <span class="comment">//系数为分数时，按照题面格式输出为a*sqrt(c)/b的格式 </span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="t4-bus"><a class="markdownIt-Anchor" href="#t4-bus"></a> T4 bus</h1><p>咕咕咕。。。qwq</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;考完了CSP之后，自然是打算写题解了，因为今年没参加S组qwq，所以就只写了J组的TJ。&lt;/p&gt;
&lt;h1 id=&quot;t1-apple&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#t1-apple&quot;&gt;&lt;/a&gt; T1 apple&lt;/h1&gt;
&lt;h2 i</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="BFS" scheme="https://blog.yaria.top/tags/BFS/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数论" scheme="https://blog.yaria.top/tags/%E6%95%B0%E8%AE%BA/"/>
    
    <category term="数据结构" scheme="https://blog.yaria.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="贪心" scheme="https://blog.yaria.top/tags/%E8%B4%AA%E5%BF%83/"/>
    
    <category term="模拟" scheme="https://blog.yaria.top/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="最短路" scheme="https://blog.yaria.top/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    <category term="DFS" scheme="https://blog.yaria.top/tags/DFS/"/>
    
    <category term="分层图" scheme="https://blog.yaria.top/tags/%E5%88%86%E5%B1%82%E5%9B%BE/"/>
    
    <category term="DP" scheme="https://blog.yaria.top/tags/DP/"/>
    
  </entry>
  
  <entry>
    <title>CSP-J 2023 复赛游记</title>
    <link href="https://blog.yaria.top/posts/2da55a98/"/>
    <id>https://blog.yaria.top/posts/2da55a98/</id>
    <published>2023-10-28T02:17:11.000Z</published>
    <updated>2023-10-28T02:17:11.000Z</updated>
    
    <content type="html"><![CDATA[<p><s>这个蒟蒻是290</s> CQ-J00273 qwq</p><p>千盼万盼终于等来了J组复赛！今年能一举进士吗?！</p><h2 id="105"><a class="markdownIt-Anchor" href="#105"></a> 10/5</h2><p>10/3和10/4 10/5考了三场，分数160、290、290（肘鸡和HZL出的屑题）</p><p>（记住这个290）</p><h2 id="1014"><a class="markdownIt-Anchor" href="#1014"></a> 10/14</h2><p>考了一场模拟赛，只有190，rank二十几！！！TaT</p><p>知道为什么吗？T2本来是100pts，但是输出文件名，r打成t了，文件错误痛失100pts。</p><p>（记住这个本来应该是的290）</p><h2 id="csp-j2-day-0"><a class="markdownIt-Anchor" href="#csp-j2-day-0"></a> CSP-J2 Day 0</h2><p>回家打准考证，啥也没干等死qwq。</p><p>但是在洛谷收到了私信祝贺：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">倒计时还有 1 天 CSP-S2 2023，提前祝你 CSP 快乐！接龙哈！发给你最好的10个朋友，超过15个就永远幸福，不许在你这里断了。</span><br><span class="line">今天必须发完，不许偷懒。想起谁，发给谁，包括我，别小气 ，如果我不是你的朋友，你也可以不发。明天是天神的生日快把信息传送出去吧。</span><br><span class="line">传送0人 半年倒霉；</span><br><span class="line">传送1人 一个月倒霉；</span><br><span class="line">传送5人 幸运半年；</span><br><span class="line">传送10人 AK CSP</span><br><span class="line">传送15人 万事如意；</span><br><span class="line">传送20人 幸运一辈子！</span><br></pre></td></tr></table></figure><p>晚上颓florr玩到了很晚，打了好多青卡啊qwq</p><h2 id="day-1"><a class="markdownIt-Anchor" href="#day-1"></a> Day 1</h2><p>早上7点起床，吃了外公做的（（（ 稀饭，然后拿上笔和准考证去学校。</p><p>去东区考场之后看到了一堆外校生，唯独我一个xdfz的。。。</p><p>然后等啊等8：10的时候本部大队伍终于来了，PYB拍了几个合照，然后wx给每个人发了两个脆脆鲨，以至于我们认为脆脆鲨是不是应该给€€￡打钱（虽然Save Money已经很多了）</p><p>进考场之后，是Tad和CZC（貌似，记不得了）监考，都是熟悉的机房，自己的老师，真香。</p><p>然后CZC宣读了一遍CCF的考场纪律（我听了到个作弊什么三年内禁止参加CCF活动啥的），我在折腾电脑。</p><p>D盘和桌面分别有一份压缩包，里面当然是样例组和题面。除此之外，桌面上还有个不痛不痒的重庆市考场注意事项，大概讲了配置的环境。不管怎么样，这个电脑还是很熟悉的。看了一下Cena，配好了啊，那太好了。</p><p>为了防止因为各种奇怪原因CE掉，我直接用了NOI Linux里面的VSCode来打程序，虽然没有专门配置C++，但用起来还是比Dev好很多的啊qwq。</p><p>然后研究编译命令，我发现如果直接按照Windows那一套打是不行的，看了看Geany的默认命令格式，然后我就这样写了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ <span class="string">&quot;road.cpp&quot;</span> -o <span class="string">&quot;road&quot;</span> -Wall -O2 -Wfatal-error -static-libgcc -std=c++14 </span><br></pre></td></tr></table></figure><p>非常不错，就是要手动打，不如Dev方便。</p><p>比赛开始，老师用极域下发了密码，但是我发现直接照着打压缩密码打不开，复制一下就好了（但是我以前是复制密码反而打不开啊，玄学WinRAR（PS：压缩包是rar，noilinux打不开）</p><p>然后就开始打题。</p><p>T1手玩了一下样例，发现只需要一直总数减掉向上取整除以三就能过，第二问只需要检测到第一次%3==1直接输出就好，还是很开心的。</p><p>T2看了半天，都没看出来个啥，我寻思今年草草烦不会在T2放DP吧）管他的，先做T3。</p><p>T3，恶心模拟，难度堪比有些年S组T1（今年不清楚），考到了初二数学实数、二次根式相关内容（以及初一的分式），刚好我们最近还在学实数，直接就可以做了。只需要按照题目除gcd化分数开尽方就好了。（调了大概一坤时）</p><p>但是的但是，我开方直接暴力枚举完全平方因数，我寻思 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mi>c</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(Tc)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">c</span><span class="mclose">)</span></span></span></span> 也不会炸啊，才5000*1000=5000000，不过这个破题还是T了几个点（锣鼓80，消屠零/晕豆70）。</p><p>真的服了qwq，不过据说有些卧龙凤雏的数组开小了（（</p><p>然后T4，乱打BFS，特殊性质 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">a_i=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> ，10分到天了。</p><p>终于有时间打T2了，手玩样例发现贪心规律，即把每个加油站都替换为该站前面的加油站中最小的一个，然后整除模拟加油就好了。。。。</p><p>终于考完了</p><p>回来看了下锣鼓，求了一下CQ代码，但是好像没人给啊qwq</p><h2 id="day-2"><a class="markdownIt-Anchor" href="#day-2"></a> Day 2</h2><p>终于有好心人给代码了，马上洛谷自测了一遍，320！数据这么水么？T4给了40分</p><p>后面看了一下小图灵，290，T1 100 T2 100 T3 70 T4 20</p><p>还有云斗学院，是某人在FZOIC2024群里面发的：</p><p>290,T1 100 T2 95 T3 80 T4 15</p><p>总之都不怎么样啊qwq</p><p>应该可以压线1=，关键是今年cq某些无耻中学（我不说是谁）让很多高中生参加J组拉高了分数线。</p><p>可是，按照模拟赛看来，一切都注定了我的290啊啊啊啊啊啊</p><p>不管怎么样，比赛结束了，这个大半whk人还要去考半期啊！！！！！！！！！！！！！！！！</p>]]></content>
    
    
    <summary type="html">蒟蒻的1=（？）之路 290与Ta的不解之缘?）太恶劣了</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="游记" scheme="https://blog.yaria.top/tags/%E6%B8%B8%E8%AE%B0/"/>
    
    <category term="日记" scheme="https://blog.yaria.top/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>成都——古蜀底蕴和现代都市的碰撞</title>
    <link href="https://blog.yaria.top/posts/7edb78c4/"/>
    <id>https://blog.yaria.top/posts/7edb78c4/</id>
    <published>2023-10-04T16:11:50.000Z</published>
    <updated>2023-10-04T16:11:50.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前摇"><a class="markdownIt-Anchor" href="#前摇"></a> 前摇</h1><div class="note warning flat"><p><strong>祝贺这个蒟蒻作为半四川半重庆人，终于在国庆去了心心念念的成都！</strong></p></div><p>要去成都耍这件事，貌似是六年级就有了，不过。。。毕业考试并没有时间。而到了初一的时候，就是疫情挤占上期，竞赛占用下期，以至于完全没时间出游，倒是在重庆解放碑啥的瞎逛了一溜（你说得对，但是这样显得ta很像个外地游客的感觉）。初二倒是有空了。</p><p>趁着今年国庆当然就去了，因为3号要滚回水土上OI，于是赶着29号就走了，2号回来。</p><h1 id="日记"><a class="markdownIt-Anchor" href="#日记"></a> 日记</h1><h2 id="9月28日"><a class="markdownIt-Anchor" href="#9月28日"></a> 9月28日</h2><p>晚上回来当然是放假了！！！我妈吃饭就开始跟我交流出去耍的事情了，讨论一番就决定去CD了，因为要上竞赛赶时间，所以打算明天就去。</p><p>但是！堵车！！要坐高铁！！！要抢票！！！！快来不及了！！！！！</p><p>然而我明天上午十点半之前上补习班，坐轻轨过去~~（重庆人，别批斗叫法，蟹蟹）~~又得一个多小时，基本上下午一点才来得及。</p><p>于是打开12306，找到一张下午3点的票，看到还剩10张一等座。然后我妈反复确认+犹豫，然后！</p><p><strong>没票了！</strong></p><p>后来抢到一张12点的票，但是发现来不及，我爸又说要开车去，只好作罢（这个蒟蒻是不想坐私家车的，运转一下不更好玩么qwq）。</p><p>我妈。。。很晚才想起来退票，结果导致遭了20%的手续费，99块。。。。</p><h2 id="9月29日"><a class="markdownIt-Anchor" href="#9月29日"></a> 9月29日</h2><p>上完补习班，关电脑，收东西衣服，走人。坐车去咯！</p><p>然后刚上高速就堵车了。10km，最后堵了1h。关键是，交警在乱搞！~~（其实交警都不在的，肯定是玩原神去了）~~前面隧道改道导致的！</p><p>再开了大概三个多小时过了隧道之后，看到的是一片茫然的成都平原！</p><p>接下来这个没见过世面的重庆人就开始震惊了——路上往外看，不应该是山么。。。为什么这么平！</p><p>四周只有高楼大厦阻挡了远处的实现，一片白茫茫的，被震撼到了，所以人家成都叫做“天府之国是有原因的”<s>（还有一个后面会说）</s>。</p><p>再折腾一个多小时大概下午5点多到了市中心，进酒店歇了一会，看了看下面一片堵车，于是就去坐地铁~~（CQ特有的轻轨地铁双标）~~了。</p><p>这个蒟蒻本来是希望能运转一下的，但是情况不佳，只好作罢。顺带一提，CD的地府通乘车码特别恶心，还要实名qwq，于是就在华为钱包弄了个交通联合。</p><p><s>（CQ的学生卡新卡有交通联合，但是貌似很多地方没加白名单，所以作用不明显，最近发的又抹掉了标识awa（本质上依然是交通联合的系统），反正连地府通都不行就别指望什么了）</s></p><p>可惜地铁留下的证据太少了，买了张单程票作纪念。（话说你都地铁标牌甚至CQ JR风）</p><p><em>下面请原谅这个蒟蒻的拍照技术</em></p><p><img src="https://bu.dusays.com/2023/10/05/651da4eb56d3b.webp" alt="IMG_20230929_170321.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da4ea420c0.webp" alt="IMG_20230929_170430.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da4e9488b6.webp" alt="IMG_20230929_170736.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da56d1ca80.webp" alt="IMG_20230930_171508.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da56e1528b.webp" alt="IMG_20230930_171514.webp" /></p><p>啊？去哪里？</p><p><img src="https://bu.dusays.com/2023/10/05/651da5c0cb662.webp" alt="IMG_20230929_171650.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da5d6914d8.webp" alt="IMG_20230929_171638.webp" /></p><p><strong>宽窄巷子</strong></p><p>蛮像磁器口的，不过一点都不陡，就算是窄巷子也宽敞一点，而且比磁器口良心。</p><p>晚上吃了点小吃（这和重庆的有什么区别啊awa），就跑去太古里逛了一圈。</p><p><img src="https://bu.dusays.com/2023/10/05/651da69b5990c.webp" alt="IMG_20230929_202658.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da6bdd1c5b.webp" alt="IMG_20230929_192400.webp" /></p><p><img src="https://bu.dusays.com/2023/10/05/651da6daf312a.webp" alt="IMG_20230929_192733.webp" /></p><p>上面有一只熊猫，你很难看见它的正脸，怎么看呢？爬到IFS7楼就好咯！<s>沿途看到一堆买不起的</s></p><p><img src="https://bu.dusays.com/2023/10/05/651da7297f4a7.webp" alt="IMG_20230929_194046.webp" /></p><p>这天晚上就总算是玩完了，坐地铁回去就好了，悲哀的是，我要赶作业qwq。。。明天早上还得上补习班。。。。。。。。</p><h2 id="9月30日"><a class="markdownIt-Anchor" href="#9月30日"></a> 9月30日</h2><p>咕咕咕</p><h2 id="10月1日"><a class="markdownIt-Anchor" href="#10月1日"></a> 10月1日</h2><p>咕咕咕</p><h2 id="10月2日"><a class="markdownIt-Anchor" href="#10月2日"></a> 10月2日</h2><p>咕咕咕</p><p>回去了</p>]]></content>
    
    
    <summary type="html">祝贺这个蒟蒻作为半四川半重庆人，终于在国庆去了心心念念的成都！（但是这篇文章咕了一个月了还没写完qwq）</summary>
    
    
    
    <category term="生活" scheme="https://blog.yaria.top/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://blog.yaria.top/tags/%E7%94%9F%E6%B4%BB/"/>
    
    <category term="游记" scheme="https://blog.yaria.top/tags/%E6%B8%B8%E8%AE%B0/"/>
    
    <category term="日记" scheme="https://blog.yaria.top/tags/%E6%97%A5%E8%AE%B0/"/>
    
    <category term="旅游" scheme="https://blog.yaria.top/tags/%E6%97%85%E6%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>CSP JS 2023 第一轮 游记</title>
    <link href="https://blog.yaria.top/posts/e94b15ea/"/>
    <id>https://blog.yaria.top/posts/e94b15ea/</id>
    <published>2023-09-09T11:34:44.000Z</published>
    <updated>2023-09-16T12:34:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>众所周知的，这位蒟蒻已经在 8/28 因为 WHK 差而 AFO，然而因为 Tad 很早以前就让我们报名导致了退不了钱，毕竟还有点念想，为了了个心愿也罢。</p><p>去年只学了点贪心啥的就去报J组初赛也是勇敢。。。甚至发现J组要考 Huffman 树qwq。</p><h1 id="日记部分"><a class="markdownIt-Anchor" href="#日记部分"></a> 日记部分</h1><h2 id="817"><a class="markdownIt-Anchor" href="#817"></a> 8/17</h2><p>报了S和J组的名，血亏100块qwq</p><h2 id="828"><a class="markdownIt-Anchor" href="#828"></a> 8/28</h2><p>草AFO了</p><h2 id="99"><a class="markdownIt-Anchor" href="#99"></a> 9/9</h2><p>新建此文章</p><p>晚上做了一套CSP2022，J组80，S组57.5分，感觉自己应该稳了，飘了qwq。</p><p>颓florr去啦</p><h2 id="915"><a class="markdownIt-Anchor" href="#915"></a> 9/15</h2><p>下午放学，晚上打印了一下准考证，然后和tym一起颓florr去了(熬到了十二点被我妈当成保皇派批斗了qwq)。</p><p>还好考点就在本部，明天早点起来半个小时就到了。（虽然是水土人）</p><h2 id="916"><a class="markdownIt-Anchor" href="#916"></a> 9/16</h2><p>六点半起床，发现喉咙巨痛还带点头痛打喷嚏声音贼大但是精神没问题，不会发烧了罢？但是怕去医院浪费时间打算下午再说。</p><p>一番折腾后，带好东西和手机7点半走了。</p><p>8点到了本部，没看到QYC发的Tad接送，然而st人并没有本部的人脸，于是进不了校门。。。看到LHF了。</p><p>大概8点14的时候，Tad就过来放我们了，然后去击剑楼406和其它久违的滚到本部的同学面基+复习。</p><p>然后看到ztj有几套czc发的复习题然后毛了一份awa。四十几分的时候tym过来了，就打开梯子+Discord+Florr去颓废了（我才知道florr的LBone这么好打打白蚁就好了）。途中向tym和lfy展示了军火（手机+Phigros）</p><p>颓了一会之后9点15就去3楼图书馆考场了，于是带上了照片超级丑的身份证和准考证和2b铅笔橡皮擦以及签字笔进了J组考场。熟悉的CZC、HZL、Tad和PYB监考，但是没有wx和QYC。（然而这可能是这个蒟蒻倒数第二次见到他们了）。</p><p>进考场之后查东西，不让带电子手表。。。（只能看时间的啊喂）于是拿出去了。然而图书馆前面那个挂钟时间不准 慢5分钟），于是CZC让PYB去调了亿下。</p><p>9点20发卷子，看了看题，一眼看到拓扑，好久以前学的刚刚复习了（妙啊），当然选B啦，就是不能写。迟迟没发答题卡和草稿纸。</p><p>然而实际上答题卡在开考前一分钟才发，草稿纸开考后3分钟才发。</p><p>开考之后，很快就被T6卡住了，手动列表列了十几分钟（还好最后对了）</p><p>然后是T8，我寻思异或的优先级更低，所以不应该是：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mn>6</mn><mo>−</mo><mo stretchy="false">(</mo><mn>2</mn><mo>+</mo><mn>3</mn><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>∗</mo><mo stretchy="false">(</mo><mn>3</mn><mo>+</mo><mn>8</mn><mi mathvariant="normal">/</mi><mn>2</mn><mo stretchy="false">)</mo><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo stretchy="false">)</mo><mo>+</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">(((6-(2+3))*(3+8/2))^2)+3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mopen">(</span><span class="mopen">(</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord">8</span><span class="mord">/</span><span class="mord">2</span><span class="mclose">)</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 么？</p><p>可是并没有，挣扎一番之后还是选了A。</p><p>T9算了半天结果发现是小学数学竖式加错了qwq最后是检查的时候发现的。</p><p>T10用了一种奇怪的方法：因为忘记了哈夫曼树的构造方式，于是就把每一种编码方案的长度总代价算出来看哪个小，于是选A）</p><p>T11不会二叉树遍历，但是考试中途CZC更正了两次试卷，第一次修改A，第二次修改B。<br />这个蒟蒻想的是：第一次肯定是影响正确答案的选择了，所以得修改A，但是第二次是€€￡突然发现这样子会被拆穿就糊弄了一下选手（笑   所以就选A罢</p><p>然而T14本蒟蒻忘记了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C(n,m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A(n,m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span> 的公式，于是现场推了一下，算出来却是1320，管他的，A是1420最接近选A。</p><p>然后，这个蒟蒻在T22选了勾（但是这f不就是LCS么（然而实际上ta搞混了最长公共子串和最长公共子序列）</p><p>so，为什么T26不选C，你看，他把第一个字符串两个拼一起，第二个单独，这也匹配不上啊？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">csppsccsppsc</span><br><span class="line">spsccp</span><br></pre></td></tr></table></figure><p>后面就不多赘述了，非常水。只不过这个蒟蒻貌似不知道consecutive的意思，所以T37乱写错了啊啊啊。</p><p>最后，通过我看游记学会的恶习，我把我的答案写在了橡皮上面，然后用外壳挡住，放进裤包里面了（主要是也怕要查准考证内容没写准考证上）。</p><p>收卷子之前在草稿纸上写了FxxkCCF不知道会不会被暴戾语言禁赛三年省队–之类的（doge）</p><p>然而的然而，出考场之后发现别人把答案写准考证上，虽然czc要检查内容，但是没一个被发现的qwq。</p><p>管他的反正我把橡皮答案誊到了准考证上。</p><p>然后和lfy玩了一会pgr，帮他打了水trojan（tarjian不是）涨了点rks，然后加上cyh、wyh（afo，但是去了生竞）等滚到本部去的st大佬去边吃饭边聊天，去超市买了点吃的（好羡慕本部，钱花多不会被一堆人围着批斗，伙食还好），然而那些本部大佬吃了饭有寝室睡觉这个蒟蒻只能在积健楼4楼某教室睡了。</p><p>实际上这个蒟蒻并没有睡觉，wzh来了之后就开始用手机玩pgr了。不过wzh天天越级，15打一堆b，打半天甚至rks都没涨。</p><p>突然发现QQ群弹了xwd发的参考答案，旁边的lzy（afo但是本部人）拿着答案估了下分，很好，是69。很悬的。不过我的准考证在机房的（锁门了），于是看到czc之后就去让他开门去拿了。拿过来之后马上改卷子，估分91分（HZL说很好）。水yu只有三十几，菜。</p><p>然后我们进行了一番批斗大会来评论答案的正确性。其实就是上面的一些部分，一个好玩的是，T5的3次方，本来应该是算出来<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>3</mn><mn>0</mn></msup><mo>+</mo><msup><mn>3</mn><mn>1</mn></msup><mo>+</mo><msup><mn>3</mn><mn>2</mn></msup><mo>+</mo><msup><mn>3</mn><mn>3</mn></msup><mo>+</mo><msup><mn>3</mn><mn>4</mn></msup><mo>+</mo><msup><mn>3</mn><mn>5</mn></msup><mo>+</mo><msup><mn>3</mn><mn>6</mn></msup><mo>+</mo><msup><mn>3</mn><mn>7</mn></msup><mo>+</mo><msup><mn>3</mn><mn>8</mn></msup><mo>&gt;</mo><mn>2023</mn></mrow><annotation encoding="application/x-tex">3^0+3^1+3^2+3^3+3^4+3^5+3^6+3^7+3^8&gt;2023</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.853208em;vertical-align:-0.0391em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">2</span><span class="mord">3</span></span></span></span>,所以应该选8层，然而hzl忘记加<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>3</mn><mn>8</mn></msup></mrow><annotation encoding="application/x-tex">3^8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">8</span></span></span></span></span></span></span></span></span></span></span>前面那一坨了。。。</p><p>讨论之后，懒得玩pgr了(本来我想玩源神（阿卡伊）但是得更新才能登录流量不够)。于是打开b站，主页看见了chubbyemu的热乎某PT把百草枯放进**视频，然后看了一段时间后机房开门了，就去机房讨论了一番题目，完后就滚去S考场了。</p><p>S开考（PS这回依然是橡皮擦誊准考证）了，感觉题好难，蒙了好多。</p><p>S我不太想写太多了，就这样罢。</p><p>考完试打开锣鼓发现chenzhe发了s组答案，于是赶紧核对，完成程序只对了两个炸掉25分，前面一共扣了30.5，喜提44.5不上线qwq血亏50，甚至分比去年只高了一分没啥差别。</p><p>听群里说满车s80分，心里不禁感觉难看，肯定会挂，毕竟只有21年地狱难度CQ才出现了44.5分数线。</p><p>啊啊啊啊啊啊啊啊啊啊啊啊啊</p><p>然后就去九院看病了，没带医保卡，也没开电子医保，花了250+，真的恶劣。</p><p>快乐的本部一日游当然就结束了，回家就得面对whk的抨击，以后可能再也没机会了。</p><p>回来又用有道小图灵，估分出来是92分的44.5差异不大。</p><p>又打开了florr和discord。。。和tym。。。</p><h2 id="926"><a class="markdownIt-Anchor" href="#926"></a> 9/26</h2><p>出成绩，J92，S44.5，CQ J 67.5，S 50.5，S组挂，然后去报J组了。</p><h2 id="930"><a class="markdownIt-Anchor" href="#930"></a> 9/30</h2><p>通过一些特殊的方式复役了，关键是要看文化课qwq…</p><p>接下来就是J2的事情了，看看新文章罢（</p><a class="tag-Link" target="_blank" href="./2da55a98">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/./2da55a98.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">CSP-J 2023 复赛游记</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;众所周知的，这位蒟蒻已经在 8/28 因为 WHK 差而 AFO，然而因为 Tad 很早以前就让我们报名导致了退不了钱，毕竟还有点念想，为了了个心愿也罢。&lt;/p&gt;
&lt;p&gt;去年只学了点贪心啥的就去报J组初赛也是勇敢。。。甚至发现J组要考 Huffman 树qwq。&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="游记" scheme="https://blog.yaria.top/tags/%E6%B8%B8%E8%AE%B0/"/>
    
    <category term="日记" scheme="https://blog.yaria.top/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>「BZOJ2393」Cirno 的完美算数教室 题解</title>
    <link href="https://blog.yaria.top/posts/1d499ffd/"/>
    <id>https://blog.yaria.top/posts/1d499ffd/</id>
    <published>2023-08-29T01:12:48.000Z</published>
    <updated>2023-08-29T01:12:48.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="bzoj2393cirno-的完美算数教室"><a class="markdownIt-Anchor" href="#bzoj2393cirno-的完美算数教室"></a> 「BZOJ2393」Cirno 的完美算数教室</h2><p>AFO 前的最后一篇题解，难蚌。</p><p>终于遇到了一个能写 TJ 的数论题了qwq，这个whk废物没救了。</p><h3 id="题意"><a class="markdownIt-Anchor" href="#题意"></a> 题意</h3><p>给定 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>，求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo>∼</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">l\sim r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 之间能整除一个仅由 2 和 9 组成的数的个数。 $1 \le l &lt; r \le 10^{10} $（原题范围貌似写的不对）</p><h3 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h3><p>容斥原理的一个练习题，可以先用 <code>dfs</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>r</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 求出所有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≤</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">\le r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">baka</mtext></mrow><annotation encoding="application/x-tex">\texttt{baka}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">baka</span></span></span></span></span> 数加入集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> ，然后 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 筛选掉每个对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>∈</mo><mi>P</mi><mo stretchy="false">(</mo><mi>x</mi><mo>&lt;</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x,y \in P (x &lt; y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335400000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 时 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">lcm</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>y</mi></mrow><annotation encoding="application/x-tex">\operatorname{lcm}(x,y)=y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span class="mord mathrm">l</span><span class="mord mathrm">c</span><span class="mord mathrm">m</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> 的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>，并将筛选完的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 加入 一个新集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi></mrow><annotation encoding="application/x-tex">U</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span></span></span></span>。</p><p><em><s>(PS：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi mathvariant="normal">lcm</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>a</mi><mi>b</mi></mrow><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\operatorname{lcm}(a,b)=\frac{ab}{\gcd(a,b)}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.6074400000000004em;vertical-align:-1.05372em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5537200000000004em;"><span style="top:-3.5537199999999998em;"><span class="pstrut" style="height:3.3714399999999998em;"></span><span class="mord"><span class="mop"><span class="mord mathrm">l</span><span class="mord mathrm">c</span><span class="mord mathrm">m</span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.05372em;"><span></span></span></span></span></span></span></span></span></span></span>)，筛选可以通过排序数组后把对应位置元素置 0 后续跳过的方案）</s></em></p><p>如何处理 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">lcm</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\operatorname{lcm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop"><span class="mord mathrm">l</span><span class="mord mathrm">c</span><span class="mord mathrm">m</span></span></span></span></span> 相同导致重复筛选的情况呢？可以通过 <code>dfs</code> 搜索并剪枝的方式枚举子集并去重。</p><p>~（最开始本蒟蒻用了 <code>map</code> 判重不幸 <code>TLE</code> 了，这个复杂度是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>3</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mn>10</mn></msup></mrow><annotation encoding="application/x-tex">2^{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span> 肯定过不了，警钟长鸣）~~</p><p>定义一个 <code>calc(t1,t2,lcm)</code> 函数，当达到边界条件<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mn>1</mn><mo>≥</mo><mi mathvariant="normal">∣</mi><mi>U</mi><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">t1\ge |U|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">t</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord">∣</span></span></span></span> 时根据 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">t2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">t</span><span class="mord">2</span></span></span></span> 的奇偶性来确定当前的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span> 是需要增加还是排斥。否则继续搜索。在继续搜索之前，将当前的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">lcm</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\operatorname{lcm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop"><span class="mord mathrm">l</span><span class="mord mathrm">c</span><span class="mord mathrm">m</span></span></span></span></span> 乘以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>U</mi><mrow><mi>t</mi><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">U_{t1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 并除以它们的最大公约数，这样可以计算出新的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">lcm</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\operatorname{lcm}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mop"><span class="mord mathrm">l</span><span class="mord mathrm">c</span><span class="mord mathrm">m</span></span></span></span></span>。如果新的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">lcm</mi><mo>⁡</mo><mo>≤</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">\operatorname{lcm}\le r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mop"><span class="mord mathrm">l</span><span class="mord mathrm">c</span><span class="mord mathrm">m</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>，则继续搜索，参数的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">t2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal">t</span><span class="mord">2</span></span></span></span> 需要加 1，表示当前的数字可以被 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">baka</mtext></mrow><annotation encoding="application/x-tex">\texttt{baka}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">baka</span></span></span></span></span> 数整除。</p><p>时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mi>log</mi><mo>⁡</mo><mi>r</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(2^n \log r)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span>。（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">\log r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 来源于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 的计算）</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><p><s>不行本蒟蒻懒得打注释了</s></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">ll l,r,ans;</span><br><span class="line">vector&lt;ll&gt; nums,u;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(ll num)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(num&gt;r) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(num) nums.<span class="built_in">push_back</span>(num);</span><br><span class="line">    <span class="built_in">dfs</span>(num*<span class="number">10</span><span class="number">+2</span>),<span class="built_in">dfs</span>(num*<span class="number">10</span><span class="number">+9</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">calc</span><span class="params">(ll t1,ll t2,ll lcm)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t1&gt;=u.<span class="built_in">size</span>())&#123;</span><br><span class="line">        <span class="keyword">if</span>(t2&amp;<span class="number">1</span>) ans+=r/lcm-(l<span class="number">-1</span>)/lcm;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(t2) ans-=r/lcm-(l<span class="number">-1</span>)/lcm;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">calc</span>(t1<span class="number">+1</span>,t2,lcm);</span><br><span class="line">    lcm=lcm*u[t1]/__gcd(lcm,u[t1]);</span><br><span class="line">    <span class="keyword">if</span>(lcm&lt;=r) <span class="built_in">calc</span>(t1<span class="number">+1</span>,t2<span class="number">+1</span>,lcm);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">0</span>),<span class="built_in">sort</span>(nums.<span class="built_in">begin</span>(),nums.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!nums[i]) <span class="keyword">continue</span>;</span><br><span class="line">        u.<span class="built_in">push_back</span>(nums[i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=i<span class="number">+1</span>;j&lt;nums.<span class="built_in">size</span>();j++)</span><br><span class="line">            <span class="keyword">if</span>(nums[j]&amp;&amp;!(nums[j]%nums[i])) nums[j]=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">calc</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>),cout&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;bzoj2393cirno-的完美算数教室&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#bzoj2393cirno-的完美算数教室&quot;&gt;&lt;/a&gt; 「BZOJ2393」Cirno 的完美算数教室&lt;/h2&gt;
&lt;p&gt;AFO 前的最后一篇题解，</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数论" scheme="https://blog.yaria.top/tags/%E6%95%B0%E8%AE%BA/"/>
    
    <category term="AFO" scheme="https://blog.yaria.top/tags/AFO/"/>
    
  </entry>
  
  <entry>
    <title>数据结构——浅谈 zkw 线段树</title>
    <link href="https://blog.yaria.top/posts/orzzkwdl/"/>
    <id>https://blog.yaria.top/posts/orzzkwdl/</id>
    <published>2023-08-22T07:29:08.000Z</published>
    <updated>2023-08-22T07:29:08.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>数论好难，所以回去看了看qwq</p><p>最近在复习前面的知识的时候突然发现 Tad 以前给我们发的 zkw 线段树讲稿，去研究了一番，发现这个玩意非常强大，然后就有感而发写了此文。。。</p><h1 id="介绍"><a class="markdownIt-Anchor" href="#介绍"></a> 介绍</h1><p>原讲稿可自行百度。</p><p>线段树确实是一个实用、高效还万能的数据结构，一切皆为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> ，问题在于它的常数极大，非常令人烦恼，经常被卡掉，即使是用二进制优化堆存储+快都快写依然力不从心。</p><p>实际上线段树是不需要递归的，有一些方式可以实现非递归线段树以减少递归开销。</p><p>ZKW 线段树就是一种不错的非递归解决方案。</p><p>它是由一位清华大佬张昆玮发明的一种非递归线段树，采用了二进制位运算的方式计算节点，所以具有相当优秀的常数，在一般 RMQ 问题中使用时间常数约为普通线段树的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>∼</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\frac{1}{2} \sim \frac{1}{4}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.30744em;vertical-align:-0.90372em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4037200000000003em;"><span style="top:-3.4037200000000003em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.90372em;"><span></span></span></span></span></span></span></span></span></span></span> ，树状数组和 ST 表的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mn>4</mn><mn>5</mn></mfrac><mo>∼</mo><mfrac><mn>5</mn><mn>2</mn></mfrac></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\frac{4}{5}\sim \frac{5}{2}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.30744em;vertical-align:-0.90372em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4037200000000003em;"><span style="top:-3.4037200000000003em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.90372em;"><span></span></span></span></span></span></span></span></span></span></span> 倍，算是相当优秀了。</p><p>zkw 线段树的整体代码给人了一种树状数组的简洁感，甚至他本人在演讲中告诉大家树状数组就是去掉一个 2 倍空间的线段树（</p><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><p>本文参考了 <a href="https://www.cnblogs.com/frankchenfu/p/7132445.html">https://www.cnblogs.com/frankchenfu/p/7132445.html</a> ，故部分地方可能稍有雷同，请谅解。</p><p>下面将以求区间和为例进行讲解。</p><h2 id="单点修改区间查询"><a class="markdownIt-Anchor" href="#单点修改区间查询"></a> 单点修改区间查询</h2><h3 id="建树"><a class="markdownIt-Anchor" href="#建树"></a> 建树</h3><p><img src="https://cdn.fzoi.top/upload/user/st20250310/23082106539311.png" alt="" /></p><p>这是一个长度为4的线段对应的二叉树，树上的每个节点对应的权值就是每个节点编号的二进制表示。可见第三层的节点右移一位之后，就变成了他们的父节点。同理，第二层中的结点也可以通过相同的方式变成根节点。</p><p>看起来和普通的线段树一样，都是堆存储，不过…</p><p>这棵树其实是可以使用普通的循环方式存下来的。</p><p>我们先获取一个全局变量bit表示这棵线段树非叶子节点的总数，可以通过循环移位的方式拿到：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(bit=<span class="number">1</span>;bit&lt;=n<span class="number">+1</span>;bit&lt;&lt;=<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>然而人家这个bit以后都是要用到的呢:(</p><p>然后给所有叶子节点赋值：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">+1</span>;i&lt;=bit+n;i++)</span><br><span class="line">    t[i]=arr[i-bit];</span><br></pre></td></tr></table></figure><p>接下来呢？当然是向上传递了，实际上只需要倒序遍历非叶子节点（保证层数从下向上传递），然后加和即可。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">-1</span>;i;i--)</span><br><span class="line">   t[i]=t[i&lt;&lt;<span class="number">1</span>]+t[i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>]; <span class="comment">//位运算优化堆存储</span></span><br></pre></td></tr></table></figure><p>那么整个build就长这样了：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(bit=<span class="number">1</span>;bit&lt;=n<span class="number">+1</span>;bit&lt;&lt;=<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">+1</span>;i&lt;=bit+n;i++)</span><br><span class="line">        t[i]=arr[i-bit];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">-1</span>;i;i--)</span><br><span class="line">        t[i]=t[i&lt;&lt;<span class="number">1</span>]+t[i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>当然是非常的简洁啦~ 比起原版递归线段树真的好了很多，虽然时间复杂度都是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> ，但是没有递归开销</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//原版</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    t[p].l=l,t[p].r=r;</span><br><span class="line">    <span class="keyword">if</span>(l==r)&#123;</span><br><span class="line">        t[p].sum=a[l];</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">build</span>(p*<span class="number">2</span>,l,mid);</span><br><span class="line">    <span class="built_in">build</span>(p*<span class="number">2</span><span class="number">+1</span>,mid<span class="number">+1</span>,r);</span><br><span class="line">    t[p].sum=t[p*<span class="number">2</span>].sum+t[p*<span class="number">2</span><span class="number">+1</span>].sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="单点修改"><a class="markdownIt-Anchor" href="#单点修改"></a> 单点修改</h3><p>修改敲简单的！先找到它对应在树上的叶子节点，然后一直找父亲传递就好了欸！</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(t[x+=bit]=v,x&gt;&gt;=<span class="number">1</span>;x;x&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        t[x]=t[x&lt;&lt;<span class="number">1</span>]+t[x&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>比起原版是不是简单多了？</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> x,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[p].l==t[p].r) t[p].data=v;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> mid=(t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;=mid) <span class="built_in">change</span>(p*<span class="number">2</span>,x,v);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">change</span>(p*<span class="number">2</span><span class="number">+1</span>,x,v);</span><br><span class="line">        t[p].data=t[p*<span class="number">2</span>].data+t[p*<span class="number">2</span><span class="number">+1</span>].data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="区间查询"><a class="markdownIt-Anchor" href="#区间查询"></a> 区间查询</h3><p>区间查询稍微麻烦一小点了，首先要把区间化为开区间（为了防止越界到其他位置，大家可以结合上面的那个图看一下），然后从下往上找父亲传递就好了。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) ans+=t[l^<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>) ans+=t[r^<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>类似普通线段树，需要判断左右孩子。</p><p><code>~l&amp;1</code> ,意思是是否为左儿子，对于兄弟节点来说，最低位为 0 或 1,0 为左儿子，1 为右儿子，对于左端点 <code>l</code> 来说，我们只需向右合并更新 <code>ans</code>（加上兄弟节点，也就是右节点，<code>l^1</code>），而不管其左边。当然 <code>r&amp;1</code>，同理意思是是否为右儿子。</p><p>每次循环后移向其父节点继续操作，退出条件为 <code>l^r^1</code> ,为什么呢？若 <code>l</code> 和 <code>r</code> 不为同一点或兄弟节点，<code>l^r^1</code> 一定为 <code>true</code>，否则在为同一点或兄弟节点时跳出循环。</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><p>最后贴出一道<a href="https://loj.ac/p/130">树状数组1</a>のzkw线段树版本：</p><p>PS：板子不好找，将就用树状数组的。</p><p>对比时间复杂度：</p><p>树状数组：<a href="https://loj.ac/s/1819032">https://loj.ac/s/1819032</a><br />zkw: <a href="https://loj.ac/s/1869150">https://loj.ac/s/1869150</a><br />普通线段树：<a href="https://loj.ac/s/1869161">https://loj.ac/s/1869161</a></p><p>（快读zkw甚至比树状数组快</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> m,n,bit,t[<span class="number">4000005</span>],arr[<span class="number">4000005</span>],l,r,a,b;</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(bit=<span class="number">1</span>;bit&lt;=n<span class="number">+1</span>;bit&lt;&lt;=<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">+1</span>;i&lt;=bit+n;i++)</span><br><span class="line">        t[i]=arr[i-bit];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">-1</span>;i;i--)</span><br><span class="line">        t[i]=t[i&lt;&lt;<span class="number">1</span>]+t[i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(t[x+=bit]=v,x&gt;&gt;=<span class="number">1</span>;x;x&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        t[x]=t[x&lt;&lt;<span class="number">1</span>]+t[x&lt;&lt;<span class="number">1</span>|<span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) ans+=t[l^<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>) ans+=t[r^<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;arr[i];</span><br><span class="line">    <span class="built_in">build</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        cin&gt;&gt;ch;</span><br><span class="line">        <span class="keyword">switch</span>(ch)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">                <span class="built_in">change</span>(a,<span class="built_in">ask</span>(a,a)+b);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;0&#x27;</span>:</span><br><span class="line">                cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">                cout&lt;&lt;<span class="built_in">ask</span>(l,r)&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="区间修改区间查询"><a class="markdownIt-Anchor" href="#区间修改区间查询"></a> 区间修改区间查询</h2><p>与平常所用的线段树不同，因为实现原理的差别（一个是递归传递一个是迭代递推），所以说我们像普通线段树一样来进行懒标记是超级麻烦的qwq。</p><p>那么我们该怎么办呢？还记得在树状数组中学到的差分吗？我们这里也需要用到类似的思想，不过按照zkw的说法，这叫做标记永久化。</p><p>考虑维护一个结构体堆 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span></span></span></span> 作为线段树，定义 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">sum</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span></span></span></span> 为线段树本来维护的和，而 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">add</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal">d</span></span></span></span> 为该节点和它父亲的差，即为差分数组。</p><p>那么我们就相当于在维护一个永久化标记（树上差分？）了。</p><p>原文：</p><p>其实堆式存储也可以自顶向下访问</p><p>就是上下各走一次而已</p><p>但是我们有更好的办法</p><p>这里我们采用标记永久化的思想（就是不下推lazy tag让他彻底lazy下去）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> add[MAXN&lt;&lt;<span class="number">2</span>];</span><br></pre></td></tr></table></figure><p><img src="https://cdn.fzoi.top/upload/user/st20250310/23082109003769.png" alt="" /></p><p>因为要维护两个数值了，所以我采用了结构体 <code>pair</code> 的方式建树。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> add first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> sum second <span class="comment">//方便理解</span></span></span><br><span class="line">pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; t[<span class="number">4000005</span>];</span><br><span class="line"><span class="comment">//如果用的是结构体别忘了初始化</span></span><br></pre></td></tr></table></figure><h3 id="区间建树"><a class="markdownIt-Anchor" href="#区间建树"></a> 区间建树</h3><p>只需要维护 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">sum</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span></span></span></span> 就好了awa</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(bit=<span class="number">1</span>;bit&lt;=n<span class="number">+1</span>;bit&lt;&lt;=<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">+1</span>;i&lt;=bit+n;i++)</span><br><span class="line">        t[i].sum=arr[i-bit];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">-1</span>;i;i--)</span><br><span class="line">        t[i].sum=t[i&lt;&lt;<span class="number">1</span>].sum+t[i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="区间修改"><a class="markdownIt-Anchor" href="#区间修改"></a> 区间修改</h3><p>这是一棵zkw线段树（图源某lg日报）:</p><p><img src="https://cdn.fzoi.top/upload/user/st20250310/23082210188759.jpeg" alt="" /></p><p>如果我们需要修改区间 <code>[2,10]</code> 整体加 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 的话，会涉及到这些部分：</p><p><img src="https://cdn.fzoi.top/upload/user/st20250310/23082210533353.jpeg" alt="" /></p><p>当然，为了确保永久化正确性，我们需要上推到根节点（这样可能会出现常数在数据水的时候比逼近于普通线段树了）</p><p>有了这样的差分维护思想（说实话也感觉跟平常的lazy大差不差），我们就可以写出区间修改代码了：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> lc=<span class="number">0</span>,rc=<span class="number">0</span>,len=<span class="number">1</span>; </span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>,len&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) t[l^<span class="number">1</span>].add+=v,lc+=len;</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>)  t[r^<span class="number">1</span>].add+=v,rc+=len;</span><br><span class="line">        t[l&gt;&gt;<span class="number">1</span>].sum+=v*lc,t[r&gt;&gt;<span class="number">1</span>].sum+=v*rc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(lc+=rc;l&gt;<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        t[l&gt;&gt;<span class="number">1</span>].sum+=v*lc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="区间查询-2"><a class="markdownIt-Anchor" href="#区间查询-2"></a> 区间查询</h3><p>过程类似，基本上查询加上即可，不过注意加上原数组的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>u</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">sum</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span></span></span></span>。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> sum first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> add second</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> m,n,bit,arr[<span class="number">1000005</span>],l,r,a,b,x;</span><br><span class="line">pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; t[<span class="number">4000005</span>];</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(T* n)</span></span>&#123;</span><br><span class="line">    T x=<span class="number">0</span>;<span class="type">bool</span> f=<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> c=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(c&lt;<span class="number">48</span>||c&gt;<span class="number">57</span>)</span><br><span class="line">        f=c!=<span class="number">45</span>,c=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(c&gt;<span class="number">47</span>&amp;&amp;c&lt;<span class="number">58</span>)</span><br><span class="line">        x=(x&lt;&lt;<span class="number">3</span>)+(x&lt;&lt;<span class="number">1</span>)+(c^<span class="number">48</span>),</span><br><span class="line">        c=<span class="built_in">getchar</span>();</span><br><span class="line">    *n=f?x:-x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(initializer_list&lt;T*&gt; il)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;it:il) <span class="built_in">read</span>&lt;T&gt;(it);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">(T* beg,T* ed)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(;beg!=ed;++beg)</span><br><span class="line">        <span class="built_in">read</span>&lt;T&gt;(beg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">write</span><span class="params">(T x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="built_in">putchar</span>(<span class="number">45</span>),x=-x;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>) <span class="built_in">write</span>(x/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(x%<span class="number">10</span><span class="number">+48</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(bit=<span class="number">1</span>;bit&lt;=n<span class="number">+1</span>;bit&lt;&lt;=<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">+1</span>;i&lt;=bit+n;i++)</span><br><span class="line">        t[i].sum=arr[i-bit];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">-1</span>;i;i--)</span><br><span class="line">        t[i].sum=t[i&lt;&lt;<span class="number">1</span>].sum+t[i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> lc=<span class="number">0</span>,rc=<span class="number">0</span>,len=<span class="number">1</span>; </span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>,len&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) t[l^<span class="number">1</span>].add+=v,lc+=len;</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>)  t[r^<span class="number">1</span>].add+=v,rc+=len;</span><br><span class="line">        t[l&gt;&gt;<span class="number">1</span>].sum+=v*lc,t[r&gt;&gt;<span class="number">1</span>].sum+=v*rc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(lc+=rc;l&gt;<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        t[l&gt;&gt;<span class="number">1</span>].sum+=v*lc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> lc=<span class="number">0</span>,rc=<span class="number">0</span>,len=<span class="number">1</span>,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>,len&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) ans+=t[l^<span class="number">1</span>].sum+len*t[l^<span class="number">1</span>].add,lc+=len;</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>) ans+=t[r^<span class="number">1</span>].sum+len*t[r^<span class="number">1</span>].add,rc+=len;</span><br><span class="line">        <span class="keyword">if</span>(t[l&gt;&gt;<span class="number">1</span>].add) ans+=t[l&gt;&gt;<span class="number">1</span>].add*lc;</span><br><span class="line">        <span class="keyword">if</span>(t[r&gt;&gt;<span class="number">1</span>].add) ans+=t[r&gt;&gt;<span class="number">1</span>].add*rc; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(lc+=rc,l&gt;&gt;=<span class="number">1</span>;l;l&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span>(t[l].add) ans+=t[l].add*lc;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">read</span>(&#123;&amp;n,&amp;m&#125;),<span class="built_in">read</span>(arr<span class="number">+1</span>,arr<span class="number">+1</span>+n),<span class="built_in">build</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">        <span class="keyword">switch</span>(ch)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>: <span class="built_in">read</span>(&#123;&amp;a,&amp;b,&amp;x&#125;),<span class="built_in">change</span>(a,b,x);<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>: <span class="built_in">read</span>(&#123;&amp;l,&amp;r&#125;),<span class="built_in">write</span>(<span class="built_in">ask</span>(l,r)),<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h3><p>贴出一份<a href="https://loj.ac/p/132">树状数组3</a>或<a href="https://www.luogu.com.cn/problem/P3372">P3372（线段树1）</a>的zkw版完整版代码（不开ll真见祖宗qwq）</p><p>复杂度对比：</p><p>普通线段树：<a href="https://loj.ac/s/1819042">https://loj.ac/s/1819042</a><br />zkw： <a href="https://loj.ac/s/1869146">https://loj.ac/s/1869146</a></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> sum first</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> add second</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> m,n,bit,arr[<span class="number">1000005</span>],l,r,a,b,x,op;</span><br><span class="line">pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt; t[<span class="number">4000005</span>];</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(T* n)</span></span>&#123;</span><br><span class="line">    T x=<span class="number">0</span>;<span class="type">bool</span> f=<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> c=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(c&lt;<span class="number">48</span>||c&gt;<span class="number">57</span>)</span><br><span class="line">        f=c!=<span class="number">45</span>,c=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(c&gt;<span class="number">47</span>&amp;&amp;c&lt;<span class="number">58</span>)</span><br><span class="line">        x=(x&lt;&lt;<span class="number">3</span>)+(x&lt;&lt;<span class="number">1</span>)+(c^<span class="number">48</span>),</span><br><span class="line">        c=<span class="built_in">getchar</span>();</span><br><span class="line">    *n=f?x:-x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(initializer_list&lt;T*&gt; il)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;it:il) <span class="built_in">read</span>&lt;T&gt;(it);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">(T* beg,T* ed)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(;beg!=ed;++beg)</span><br><span class="line">        <span class="built_in">read</span>&lt;T&gt;(beg);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">write</span><span class="params">(T x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="built_in">putchar</span>(<span class="number">45</span>),x=-x;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>) <span class="built_in">write</span>(x/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(x%<span class="number">10</span><span class="number">+48</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">build</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(bit=<span class="number">1</span>;bit&lt;=n<span class="number">+1</span>;bit&lt;&lt;=<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">+1</span>;i&lt;=bit+n;i++)</span><br><span class="line">        t[i].sum=arr[i-bit];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=bit<span class="number">-1</span>;i;i--)</span><br><span class="line">        t[i].sum=t[i&lt;&lt;<span class="number">1</span>].sum+t[i&lt;&lt;<span class="number">1</span>|<span class="number">1</span>].sum;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> lc=<span class="number">0</span>,rc=<span class="number">0</span>,len=<span class="number">1</span>; </span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>,len&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) t[l^<span class="number">1</span>].add+=v,lc+=len;</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>)  t[r^<span class="number">1</span>].add+=v,rc+=len;</span><br><span class="line">        t[l&gt;&gt;<span class="number">1</span>].sum+=v*lc,t[r&gt;&gt;<span class="number">1</span>].sum+=v*rc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(lc+=rc;l&gt;<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        t[l&gt;&gt;<span class="number">1</span>].sum+=v*lc;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> lc=<span class="number">0</span>,rc=<span class="number">0</span>,len=<span class="number">1</span>,ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(l+=bit<span class="number">-1</span>,r+=bit<span class="number">+1</span>;l^r^<span class="number">1</span>;l&gt;&gt;=<span class="number">1</span>,r&gt;&gt;=<span class="number">1</span>,len&lt;&lt;=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(~l&amp;<span class="number">1</span>) ans+=t[l^<span class="number">1</span>].sum+len*t[l^<span class="number">1</span>].add,lc+=len;</span><br><span class="line">        <span class="keyword">if</span>(r&amp;<span class="number">1</span>) ans+=t[r^<span class="number">1</span>].sum+len*t[r^<span class="number">1</span>].add,rc+=len;</span><br><span class="line">        <span class="keyword">if</span>(t[l&gt;&gt;<span class="number">1</span>].add) ans+=t[l&gt;&gt;<span class="number">1</span>].add*lc;</span><br><span class="line">        <span class="keyword">if</span>(t[r&gt;&gt;<span class="number">1</span>].add) ans+=t[r&gt;&gt;<span class="number">1</span>].add*rc; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(lc+=rc,l&gt;&gt;=<span class="number">1</span>;l;l&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span>(t[l].add) ans+=t[l].add*lc;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">read</span>(&#123;&amp;n,&amp;m&#125;),<span class="built_in">read</span>(arr<span class="number">+1</span>,arr<span class="number">+1</span>+n),<span class="built_in">build</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="built_in">read</span>(&amp;op);</span><br><span class="line">        <span class="keyword">switch</span>(op)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: <span class="built_in">read</span>(&#123;&amp;a,&amp;b,&amp;x&#125;),<span class="built_in">change</span>(a,b,x);<span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: <span class="built_in">read</span>(&#123;&amp;l,&amp;r&#125;),<span class="built_in">write</span>(<span class="built_in">ask</span>(l,r)),<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;数论好难，所以回去看了看qwq&lt;/p&gt;
&lt;p&gt;最近在复习前面的知识的时候突然发现 Tad 以前给我们发的 zkw 线段树讲稿，去研究了一番，发现</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数据结构" scheme="https://blog.yaria.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="线段树" scheme="https://blog.yaria.top/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    <category term="位运算" scheme="https://blog.yaria.top/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>猴王 题解 || 冷门的 pb_ds 库</title>
    <link href="https://blog.yaria.top/posts/houwang/"/>
    <id>https://blog.yaria.top/posts/houwang/</id>
    <published>2023-08-22T03:02:23.000Z</published>
    <updated>2023-08-22T03:02:23.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>虽然很久以前（6月）在我们刚学并查集的时候 QYC 就给我们讲了左偏树可以拿来做这道题，但是左偏树作为拓展内容还是稍有难度，最近在 gcc 中看到 pb_ds 库，发现非常好用，于是就有了这种偷懒解法。</p><h1 id="pb_ds-库"><a class="markdownIt-Anchor" href="#pb_ds-库"></a> pb_ds 库</h1><p>pb_ds 库是内置于 GCC 中的一种拓展库，可以在 CCF 系列比赛中使用。</p><p>pb_ds 库中提供了许多好用的数据结构，比如远快于 <code>unordered_map</code> （umap 常数太大）的 <code>gp_hash_table</code> （查探法）和 <code>cc_hash_table</code>，还有我们接下来要用到的各种不同于 STL 的配对堆、二顶堆等其它在某些方面优于二叉堆的结构，以及在 C2025 现阶段尚未学习的各种平衡树。</p><p>下面重点讲一下 pb_ds <s>平板电视</s> 库中的 <code>__gnu_pbds::priority_queue</code>。</p><h2 id="引入"><a class="markdownIt-Anchor" href="#引入"></a> 引入</h2><p>可以使用：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ext/pb_ds/priority_queue.hpp&gt;</span></span></span><br></pre></td></tr></table></figure><p>来引入 pb_ds 的 pq，但是你也可以通过以下方式图方便：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/extc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_cxx;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_pbds;</span><br></pre></td></tr></table></figure><p>一次性导入包括 <code>std::</code> 在内的所有 GCC 内置库。</p><p>上面的 <code>bits/extc++.h</code> 在 TDM-GCC 下会报错，需要手动找到文件（编译器会提示）删除这一段：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _GLIBCXX_HAVE_ICONV</span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ext/codecvt_specializations.h&gt;</span></span></span><br><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ext/enc_filebuf.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h2 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h2><p>使用以下方式来定义一个大根堆（比起STL少一个定义堆存储类型的参数，多一个类型声明）：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__gnu_pbds::priority_queue&lt;type,less&lt;type&gt;,pairing_heap_tag&gt; <span class="comment">//避免和stl混淆，pairing_heap_tag表示声明配对堆，可以合并</span></span><br><span class="line"><span class="comment">//有pairing_heap_tag binary_heap_tag binomial_heap_tag rc_binomial_heap_tag thin_heap_tag</span></span><br><span class="line"><span class="comment">//实测pairing_heap_tag在本题中表现最优秀，二叉堆会TLE，具体可以参考下文OIWiki</span></span><br><span class="line"><span class="comment">//实际上是可以缺省的</span></span><br><span class="line">__gnu_pbds::priority_queue&lt;type&gt;</span><br></pre></td></tr></table></figure><p>大体上和 STL 差不多，只不过支持了 <code>Remove()</code> 、<code>Modify()</code> 和 <code>Merge()</code> 操作：</p><p>Merge 复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="built_in">join</span>(b); <span class="comment">//将b并入a，b清空，两堆类型需要一致</span></span><br></pre></td></tr></table></figure><p>Remove 和 Modify 需要迭代器支持：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> it=pq.<span class="built_in">push</span>(<span class="number">114514</span>); <span class="comment">//push返回元素迭代器</span></span><br><span class="line">pq.<span class="built_in">modify</span>(it,<span class="number">1919810</span>); <span class="comment">//修改114514为1919810</span></span><br><span class="line">pq.<span class="built_in">remove</span>(it); <span class="comment">//删除1919810</span></span><br></pre></td></tr></table></figure><p>其它部分可以参见：<a href="https://oi-wiki.org/lang/pb-ds/pq/">https://oi-wiki.org/lang/pb-ds/pq/</a></p><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><p>知道了可并堆的用法，我们就可以做这道题了。</p><p>我采用了这样的方案：维护一个数组 <code>pq a[]</code> 存储每一个猴子所在集合的朋友，再维护一个并查集来映射每一个猴子所在的集合，每次争斗后取出堆顶各自减半，再将两猴子的堆合并到第一个猴子那边，并合并并查集即可。</p><p>这样是不是比左偏树什么的简单多了qwq</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><p>下面是这道题的代码，其实也就很简单了</p><h2 id="注释版"><a class="markdownIt-Anchor" href="#注释版"></a> 注释版</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/extc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_pbds;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_cxx;</span><br><span class="line">__gnu_pbds::priority_queue&lt;<span class="type">int</span>&gt; pq[<span class="number">100005</span>]; <span class="comment">//这里要防止命名冲突，后面缺省即可</span></span><br><span class="line"><span class="type">int</span> n,m,fa[<span class="number">100005</span>]; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123; <span class="comment">//并查集板子</span></span><br><span class="line">    <span class="keyword">return</span> fa[x]==x?x:fa[x]=<span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> u=<span class="built_in">find</span>(x),v=<span class="built_in">find</span>(y);</span><br><span class="line">    <span class="keyword">if</span>(x!=y) fa[v]=u;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n,<span class="built_in">iota</span>(fa,fa<span class="number">+1</span>+n,<span class="number">0</span>); <span class="comment">//STL函数，连续给fa进行范围赋值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,t;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,pq[i].<span class="built_in">push</span>(t); <span class="comment">//初始时各自为一个集合</span></span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y,t;i&lt;=m;i++)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        <span class="comment">//两方各自取出堆顶并减半放回去（其实可以用modify但是稍微麻烦）</span></span><br><span class="line">        t=pq[<span class="built_in">find</span>(x)].<span class="built_in">top</span>(),pq[<span class="built_in">find</span>(x)].<span class="built_in">pop</span>(),pq[<span class="built_in">find</span>(x)].<span class="built_in">push</span>(t/<span class="number">2</span>);</span><br><span class="line">        t=pq[<span class="built_in">find</span>(y)].<span class="built_in">top</span>(),pq[<span class="built_in">find</span>(y)].<span class="built_in">pop</span>(),pq[<span class="built_in">find</span>(y)].<span class="built_in">push</span>(t/<span class="number">2</span>);</span><br><span class="line">        <span class="comment">//合并两个堆和并查集</span></span><br><span class="line">        pq[<span class="built_in">find</span>(x)].<span class="built_in">join</span>(pq[<span class="built_in">find</span>(y)]),<span class="built_in">merge</span>(x,y);</span><br><span class="line">        <span class="comment">//输出最后的堆顶即可</span></span><br><span class="line">        cout&lt;&lt;pq[<span class="built_in">find</span>(x)].<span class="built_in">top</span>()&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//写完了awa</span></span><br></pre></td></tr></table></figure><h2 id="极速版"><a class="markdownIt-Anchor" href="#极速版"></a> 极速版</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/extc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_pbds;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_cxx;</span><br><span class="line">__gnu_pbds::priority_queue&lt;<span class="type">int</span>&gt; pq[<span class="number">100005</span>];</span><br><span class="line"><span class="type">int</span> n,m,fa[<span class="number">100005</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> fa[x]==x?x:fa[x]=<span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">merge</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> u=<span class="built_in">find</span>(x),v=<span class="built_in">find</span>(y);</span><br><span class="line">    <span class="keyword">if</span>(x!=y) fa[v]=u;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n,<span class="built_in">iota</span>(fa,fa<span class="number">+1</span>+n,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,t;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,pq[i].<span class="built_in">push</span>(t);</span><br><span class="line">    cin&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y,t;i&lt;=m;i++)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        t=pq[<span class="built_in">find</span>(x)].<span class="built_in">top</span>(),pq[<span class="built_in">find</span>(x)].<span class="built_in">pop</span>(),pq[<span class="built_in">find</span>(x)].<span class="built_in">push</span>(t/<span class="number">2</span>);</span><br><span class="line">        t=pq[<span class="built_in">find</span>(y)].<span class="built_in">top</span>(),pq[<span class="built_in">find</span>(y)].<span class="built_in">pop</span>(),pq[<span class="built_in">find</span>(y)].<span class="built_in">push</span>(t/<span class="number">2</span>);</span><br><span class="line">        pq[<span class="built_in">find</span>(x)].<span class="built_in">join</span>(pq[<span class="built_in">find</span>(y)]),<span class="built_in">merge</span>(x,y);</span><br><span class="line">        cout&lt;&lt;pq[<span class="built_in">find</span>(x)].<span class="built_in">top</span>()&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;虽然很久以前（6月）在我们刚学并查集的时候 QYC 就给我们讲了左偏树可以拿来做这道题，但是左偏树作为拓展内容还是稍有难度，最近在 gcc 中看</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数据结构" scheme="https://blog.yaria.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="STL" scheme="https://blog.yaria.top/tags/STL/"/>
    
    <category term="pbds" scheme="https://blog.yaria.top/tags/pbds/"/>
    
    <category term="堆" scheme="https://blog.yaria.top/tags/%E5%A0%86/"/>
    
    <category term="并查集" scheme="https://blog.yaria.top/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    
  </entry>
  
  <entry>
    <title>[ABC176D] Wizard in Maze 题解</title>
    <link href="https://blog.yaria.top/posts/abc176d/"/>
    <id>https://blog.yaria.top/posts/abc176d/</id>
    <published>2023-08-22T00:44:46.000Z</published>
    <updated>2023-08-22T00:44:46.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="题意"><a class="markdownIt-Anchor" href="#题意"></a> 题意</h3><p>黄水题（</p><p>传送门：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/AT_abc176_d">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/AT_abc176_d.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">[ABC176D] Wizard in Maze</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>给出一个包含 <code>#</code> 和 <code>.</code> 的地图，有两种移动方式：一种是在 <code>.</code> 间移动，一种是在移动到以当前点为中心的 <code>5x5</code> 的矩阵内的任意 <code>.</code>。问至少需要进行多少次第二种移动才能从给定的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>s</mi><mi>x</mi><mo separator="true">,</mo><mi>s</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(sx,sy)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span> 走到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>d</mi><mi>x</mi><mo separator="true">,</mo><mi>d</mi><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(dx,dy)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">d</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>。如果无解输出 <code>-1</code>。（这一点题目中并没有说，是在WA了两个点之后发现的）</p><h3 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h3><h4 id="初版"><a class="markdownIt-Anchor" href="#初版"></a> 初版</h4><p>考虑使用 <code>BFS</code> 来搜索路径。我们将 <code>.</code> 第一种移动花费的代价设为 <code>0</code> ，第二种花费代价则为 <code>1</code> 。问题就转换为了求矩阵最短路问题，最后得到的最小代价即为第二种移动的最少次数，然后输出后 <code>break</code> 即可。</p><p>可以将当前的花费代价、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> 存在一个 <code>pair&lt;int,pair&lt;int,int&gt;&gt;</code> 中，然后放在队列里面进行搜索。</p><p>不同于图上最短路，这类矩阵最短路的代价是在队列存储的 <code>pair</code> 中传递的，显然这会导致可能出现最先搜到的并不是最优解，那么我们需要记录 <code>ans=min(cnt,ans)</code> 最后输出，如果 <code>ans==INF</code> 就输出 <code>-1</code> 否则输出 <code>ans</code>。</p><h5 id="6分代码"><a class="markdownIt-Anchor" href="#6分代码"></a> 6分代码</h5><p>然后很容易得到一段朴素的 BFS 代码。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,sx,sy,dx,dy,cnt,ans=<span class="number">1e9</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> fx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,fy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">char</span> c[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line">queue&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt; q;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;sx&gt;&gt;sy&gt;&gt;dx&gt;&gt;dy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            cin&gt;&gt;c[i][j];</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(<span class="number">0</span>,<span class="built_in">make_pair</span>(sx,sy))); <span class="comment">//初始化，pair内容可以当作dfs的参数来理解</span></span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> p=q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(p.second.first==dx&amp;&amp;p.second.second==dy) <span class="comment">//边界条件，走到底了已经</span></span><br><span class="line">            ans=<span class="built_in">min</span>(ans,p.first);</span><br><span class="line">        vis[p.second.first][p.second.second]=<span class="number">1</span>; <span class="comment">//标记走过</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> t=<span class="number">0</span>;t&lt;<span class="number">4</span>;t++)&#123;</span><br><span class="line">            <span class="type">int</span> nx=p.second.first+fx[t],ny=p.second.second+fy[t]; <span class="comment">//在方案1中扩展状态并入队</span></span><br><span class="line">            <span class="keyword">if</span>(c[nx][ny]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(nx&lt;<span class="number">1</span>||ny&lt;<span class="number">1</span>||nx&gt;n||ny&gt;m) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(vis[nx][ny]) <span class="keyword">continue</span>;</span><br><span class="line">            q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(p.first,<span class="built_in">make_pair</span>(nx,ny)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=p.second.first<span class="number">-2</span>;i&lt;=p.second.first<span class="number">+2</span>;i++) <span class="comment">//以x,y为中心的5*5矩阵等价于((x+2,x-2),(y+2,y-2))</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=p.second.second<span class="number">-2</span>;j&lt;=p.second.second<span class="number">+2</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;<span class="number">1</span>||j&lt;<span class="number">1</span>||i&gt;n||i&gt;m) <span class="keyword">continue</span>; <span class="comment">//在方案2中扩展状态并入队</span></span><br><span class="line">                <span class="keyword">if</span>(c[i][j]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(vis[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(p.first<span class="number">+1</span>,<span class="built_in">make_pair</span>(i,j))); </span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;(ans==<span class="number">1e9</span>?<span class="number">-1</span>:ans); <span class="comment">//判断是否有解并输出</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>恭喜你喜提6分 TLE：</p><p><img src="https://cdn.fzoi.top/upload/user/st20250310/23072007384883.png" alt="" /></p><h4 id="优化1"><a class="markdownIt-Anchor" href="#优化1"></a> 优化1</h4><p>显然这需要优化。</p><p>考虑贪心，每一次尽量找代价最小的进行转移。</p><p>如果使用数组暴力肯定会炸，可以使用优先队列和双端队列。</p><p>因为代价只有 <code>0</code> 和 <code>1</code>，显然当代价为 <code>0</code> 时放到双端队列队头，为 <code>1</code> 是放在队尾，就可以保证它内部是有序的，每次取出队头扩展时也一定是最近的，就不需要记录 <code>ans</code> 了，找到直接输出即可。</p><p>当然也可以使用优先队列，但是这里双端队列的复杂度仅为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，而优先队列为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>⁡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，稍比 <code>deque</code> 高，所以优先考虑 <code>deque</code>。</p><p>很容易改写出双端队列版。</p><h5 id="42分代码"><a class="markdownIt-Anchor" href="#42分代码"></a> 42分代码</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,sx,sy,dx,dy,cnt;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> fx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,fy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">char</span> c[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line">deque&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt; q;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;sx&gt;&gt;sy&gt;&gt;dx&gt;&gt;dy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            cin&gt;&gt;c[i][j];</span><br><span class="line">    q.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(<span class="number">0</span>,<span class="built_in">make_pair</span>(sx,sy)));</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> p=q.<span class="built_in">front</span>();</span><br><span class="line">        <span class="comment">// cerr&lt;&lt;p.second.first&lt;&lt;&quot; &quot;&lt;&lt;p.second.second&lt;&lt;endl; //PS：cerr是好东西（自己搜）</span></span><br><span class="line">        q.<span class="built_in">pop_front</span>();</span><br><span class="line">        <span class="keyword">if</span>(p.second.first==dx&amp;&amp;p.second.second==dy)</span><br><span class="line">            cout&lt;&lt;p.first,<span class="built_in">exit</span>(<span class="number">0</span>); <span class="comment">//边界条件，直接输出后退出</span></span><br><span class="line">        vis[p.second.first][p.second.second]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> t=<span class="number">0</span>;t&lt;<span class="number">4</span>;t++)&#123;</span><br><span class="line">            <span class="type">int</span> nx=p.second.first+fx[t],ny=p.second.second+fy[t];<span class="comment">//方案1，入队头</span></span><br><span class="line">            <span class="keyword">if</span>(c[nx][ny]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(nx&lt;<span class="number">1</span>||ny&lt;<span class="number">1</span>||nx&gt;n||ny&gt;m) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(vis[nx][ny]) <span class="keyword">continue</span>;</span><br><span class="line">            q.<span class="built_in">push_front</span>(<span class="built_in">make_pair</span>(p.first,<span class="built_in">make_pair</span>(nx,ny)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=p.second.first<span class="number">-2</span>;i&lt;=p.second.first<span class="number">+2</span>;i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=p.second.second<span class="number">-2</span>;j&lt;=p.second.second<span class="number">+2</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(i&lt;<span class="number">1</span>||j&lt;<span class="number">1</span>||i&gt;n||i&gt;m) <span class="keyword">continue</span>; <span class="comment">//方案2，入队尾</span></span><br><span class="line">                <span class="keyword">if</span>(c[i][j]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(vis[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                q.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(p.first<span class="number">+1</span>,<span class="built_in">make_pair</span>(i,j)));</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="number">-1</span>; <span class="comment">//无解</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这份代码只有42分。会爆彩虹（AC+TLE+MLE）。</p><h4 id="卡常玄学部分の优化3"><a class="markdownIt-Anchor" href="#卡常玄学部分の优化3"></a> 卡常+玄学部分の优化3</h4><p>上一份代码只有42分，但是我们已经优化过了，原因会让人感到非常玄学。</p><p>经过了一番BFS和DFS的结合体之后，我想到一种优化方案：</p><p>问题出在这一句上，方案2的转移如果每次都循环 <code>25</code> 次未免浪费时间了，遇到超出坐标范围时应该直接在循环边界里面限制下，就可以卡掉一个 <code>25</code> 的时间和空间常数（估计是这么多实际上可能只有 <code>5~10</code> 的）：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(i&lt;<span class="number">1</span>||j&lt;<span class="number">1</span>||i&gt;n||i&gt;m) <span class="keyword">continue</span>;</span><br></pre></td></tr></table></figure><p>我们删掉这一句，把循环的边界改为：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">max</span>(p.second.first<span class="number">-2</span>,<span class="number">1</span>);i&lt;=<span class="built_in">min</span>(p.second.first<span class="number">+2</span>,n);i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="built_in">max</span>(p.second.second<span class="number">-2</span>,<span class="number">1</span>);j&lt;=<span class="built_in">min</span>(m,p.second.second<span class="number">+2</span>);j++)&#123;</span><br></pre></td></tr></table></figure><p>这道题就通过了。</p><p>卡常万岁！！！</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><h4 id="注释版"><a class="markdownIt-Anchor" href="#注释版"></a> 注释版</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,sx,sy,dx,dy;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> fx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,fy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;; <span class="comment">//扩展的4个方向</span></span><br><span class="line"><span class="type">char</span> c[<span class="number">1005</span>][<span class="number">1005</span>]; <span class="comment">//地图</span></span><br><span class="line"><span class="type">int</span> vis[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line">deque&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt; q; <span class="comment">//双端队列，pair的三个元素分别存储当前转移代价和xy坐标</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); <span class="comment">//读入优化</span></span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;sx&gt;&gt;sy&gt;&gt;dx&gt;&gt;dy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            cin&gt;&gt;c[i][j];</span><br><span class="line">    q.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(<span class="number">0</span>,<span class="built_in">make_pair</span>(sx,sy)));</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> p=q.<span class="built_in">front</span>(); <span class="comment">//弹出队头，用auto自动推导偷懒</span></span><br><span class="line">        q.<span class="built_in">pop_front</span>();</span><br><span class="line">        <span class="keyword">if</span>(p.second.first==dx&amp;&amp;p.second.second==dy)</span><br><span class="line">            cout&lt;&lt;p.first,<span class="built_in">exit</span>(<span class="number">0</span>); <span class="comment">//边界条件，第一个就是最优解，输出后直接退出</span></span><br><span class="line">        vis[p.second.first][p.second.second]=<span class="number">1</span>; <span class="comment">//标记走过</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> t=<span class="number">0</span>;t&lt;<span class="number">4</span>;t++)&#123; <span class="comment">//4个方向扩展</span></span><br><span class="line">            <span class="type">int</span> nx=p.second.first+fx[t],ny=p.second.second+fy[t];</span><br><span class="line">            <span class="keyword">if</span>(c[nx][ny]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>; <span class="comment">//不是路不走</span></span><br><span class="line">            <span class="keyword">if</span>(nx&lt;<span class="number">1</span>||ny&lt;<span class="number">1</span>||nx&gt;n||ny&gt;m) <span class="keyword">continue</span>; <span class="comment">//边界</span></span><br><span class="line">            <span class="keyword">if</span>(vis[nx][ny]) <span class="keyword">continue</span>; <span class="comment">//走过</span></span><br><span class="line">            q.<span class="built_in">push_front</span>(<span class="built_in">make_pair</span>(p.first,<span class="built_in">make_pair</span>(nx,ny))); <span class="comment">//方案1，压入队头，当前代价不变</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">max</span>(p.second.first<span class="number">-2</span>,<span class="number">1</span>);i&lt;=<span class="built_in">min</span>(p.second.first<span class="number">+2</span>,n);i++) <span class="comment">//限制循环边界，卡常</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="built_in">max</span>(p.second.second<span class="number">-2</span>,<span class="number">1</span>);j&lt;=<span class="built_in">min</span>(m,p.second.second<span class="number">+2</span>);j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(c[i][j]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>; <span class="comment">//不是路不走</span></span><br><span class="line">                <span class="keyword">if</span>(vis[i][j]) <span class="keyword">continue</span>; <span class="comment">//走过</span></span><br><span class="line">                q.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(p.first<span class="number">+1</span>,<span class="built_in">make_pair</span>(i,j))); <span class="comment">//方案2，压入队尾，当前代价+1</span></span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="number">-1</span>; <span class="comment">//无解</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="无注释版"><a class="markdownIt-Anchor" href="#无注释版"></a> 无注释版</h4><p><span style="color:white">可以CTJ的版本</span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,sx,sy,dx,dy,cnt;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> fx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,fy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">char</span> c[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line">deque&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt; q;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;sx&gt;&gt;sy&gt;&gt;dx&gt;&gt;dy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            cin&gt;&gt;c[i][j];</span><br><span class="line">    q.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(<span class="number">0</span>,<span class="built_in">make_pair</span>(sx,sy)));</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> p=q.<span class="built_in">front</span>();</span><br><span class="line">        q.<span class="built_in">pop_front</span>();</span><br><span class="line">        <span class="keyword">if</span>(p.second.first==dx&amp;&amp;p.second.second==dy)</span><br><span class="line">            cout&lt;&lt;p.first,<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        vis[p.second.first][p.second.second]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> t=<span class="number">0</span>;t&lt;<span class="number">4</span>;t++)&#123;</span><br><span class="line">            <span class="type">int</span> nx=p.second.first+fx[t],ny=p.second.second+fy[t];</span><br><span class="line">            <span class="keyword">if</span>(c[nx][ny]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(nx&lt;<span class="number">1</span>||ny&lt;<span class="number">1</span>||nx&gt;n||ny&gt;m) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(vis[nx][ny]) <span class="keyword">continue</span>;</span><br><span class="line">            q.<span class="built_in">push_front</span>(<span class="built_in">make_pair</span>(p.first,<span class="built_in">make_pair</span>(nx,ny)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">max</span>(p.second.first<span class="number">-2</span>,<span class="number">1</span>);i&lt;=<span class="built_in">min</span>(p.second.first<span class="number">+2</span>,n);i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="built_in">max</span>(p.second.second<span class="number">-2</span>,<span class="number">1</span>);j&lt;=<span class="built_in">min</span>(m,p.second.second<span class="number">+2</span>);j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(c[i][j]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(vis[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                q.<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(p.first<span class="number">+1</span>,<span class="built_in">make_pair</span>(i,j)));</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="优先队列版"><a class="markdownIt-Anchor" href="#优先队列版"></a> 优先队列版</h4><p><s>没事干写的</s></p><p>实测复杂度带的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>log</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\log</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span></span></span></span> 会被卡掉：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,sx,sy,dx,dy;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> fx[]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;,fy[]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">char</span> c[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line"><span class="type">int</span> vis[<span class="number">1005</span>][<span class="number">1005</span>];</span><br><span class="line">priority_queue&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;,vector&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt;,greater&lt;pair&lt;<span class="type">int</span>,pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt;&gt;&gt; q;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m&gt;&gt;sx&gt;&gt;sy&gt;&gt;dx&gt;&gt;dy;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=m;j++)</span><br><span class="line">            cin&gt;&gt;c[i][j];</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(<span class="number">0</span>,<span class="built_in">make_pair</span>(sx,sy)));</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">auto</span> p=q.<span class="built_in">top</span>();</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">if</span>(p.second.first==dx&amp;&amp;p.second.second==dy)</span><br><span class="line">            cout&lt;&lt;p.first,<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        vis[p.second.first][p.second.second]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> t=<span class="number">0</span>;t&lt;<span class="number">4</span>;t++)&#123;</span><br><span class="line">            <span class="type">int</span> nx=p.second.first+fx[t],ny=p.second.second+fy[t];</span><br><span class="line">            <span class="keyword">if</span>(c[nx][ny]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(nx&lt;<span class="number">1</span>||ny&lt;<span class="number">1</span>||nx&gt;n||ny&gt;m) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span>(vis[nx][ny]) <span class="keyword">continue</span>;</span><br><span class="line">            q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(p.first,<span class="built_in">make_pair</span>(nx,ny)));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="built_in">max</span>(p.second.first<span class="number">-2</span>,<span class="number">1</span>);i&lt;=<span class="built_in">min</span>(p.second.first<span class="number">+2</span>,n);i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="built_in">max</span>(p.second.second<span class="number">-2</span>,<span class="number">1</span>);j&lt;=<span class="built_in">min</span>(m,p.second.second<span class="number">+2</span>);j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(c[i][j]==<span class="string">&#x27;#&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(vis[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">                q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(p.first<span class="number">+1</span>,<span class="built_in">make_pair</span>(i,j)));</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>各位大佬们点个赞嘛qwq~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;题意&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#题意&quot;&gt;&lt;/a&gt; 题意&lt;/h3&gt;
&lt;p&gt;黄水题（&lt;/p&gt;
&lt;p&gt;传送门：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://w</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="搜索" scheme="https://blog.yaria.top/tags/%E6%90%9C%E7%B4%A2/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="BFS" scheme="https://blog.yaria.top/tags/BFS/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P1967「NOIP2013」货车运输 题解</title>
    <link href="https://blog.yaria.top/posts/tadbanlg/"/>
    <id>https://blog.yaria.top/posts/tadbanlg/</id>
    <published>2023-08-22T00:27:51.000Z</published>
    <updated>2023-08-22T00:27:51.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>传送门：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P1967">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P1967.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">「NOIP2013」货车运输</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这道题算是一个稍有思维难度的 MST+LCA 题目了。</p><p>稍微卡了一会（0-88-88-88-100（打表）-100（打表）-100（正解）），开始是打了表过了，后面在同学的帮助下正解通过（下面注释提到的一个坑）。</p><h1 id="题目大意"><a class="markdownIt-Anchor" href="#题目大意"></a> 题目大意</h1><p>给出一张无向图 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">G</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">G</span></span></span></span>，有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个点和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 个边 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">(x,y)=z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> ，找到一条路径使 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>u</mi><mo>→</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(u \to v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> 中最小的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 最大并输出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>，如果找不到这样的路径，输出 <code>-1</code>。</p><h1 id="题目解析"><a class="markdownIt-Anchor" href="#题目解析"></a> 题目解析</h1><p>考虑最大生成树，因为最大生成树可以保证图的每个点之间依然联通且可以拿到尽可能大的边权，可以保证接下来能操作的路径之间权值更大。</p><p>这里使用 Kruskal 算法，在执行时以每条当前极大边建无向图就行了。</p><p>得到这个树形结构的图之后，为了获取两点之间的通路和最小的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> ，就需要求解 LCA（最近公共祖先）了，下面采用倍增的方式。</p><p>如果直接采用普通的 ST LCA，会发现一个问题：在求解时最小的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 怎么获取呢？</p><p>我们可以考虑在执行预处理 <code>pre()</code> 时和 <code>f[u][k]</code> 同时维护一个数组 <code>wi[u][k]</code> 表示点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">u</span></span></span></span> 向上走 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>2</mn><mi>k</mi></msup></mrow><annotation encoding="application/x-tex">2^k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> 步时最小的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>。</p><p>像 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(u,\ i+1)=f(f(u,\ i),\ i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span> 这个式子一样，易得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>i</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>w</mi><mi>i</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>w</mi><mi>i</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">wi(u,\ i+1)=\min(wi(u,\ i),wi(f(u,\ i),\ i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p><p>为了在 <code>pre()</code> 中能够处理 <code>wi[][]</code>，我们需要在 <code>pre(u,fa)</code> 新增一个参数 <code>w</code>，表示 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mi>a</mi><mo separator="true">,</mo><mi>u</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(fa,u)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span></span></span></span> 的权值，以此来设置边界条件，即：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mi>i</mi><mo stretchy="false">(</mo><mi>u</mi><mo separator="true">,</mo><mtext> </mtext><mn>0</mn><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi></mrow><annotation encoding="application/x-tex">wi(u,\ 0)=w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace"> </span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></p><p>最后在 <code>lca()</code> 中维护一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span> 表示 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>u</mi><mo>→</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(u \to v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> 中最小的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>，并在每次上移时更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span></span></span></span>，返回该值即可。</p><p>还有一个问题：如何判定两点不通？其实在运行 Kruskal 时留下的并查集就可以发挥作用，如果两点不通，肯定不是在一个集合里面的，所以只需要在 <code>lca()</code> 中的第一行这样子写：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">find</span>(x)!=<span class="built_in">find</span>(y)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br></pre></td></tr></table></figure><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><p>下面的代码注释会提出几个小坑，如果您自己码题时不注意您一定无法通过此题（打表除外）！</p><h2 id="注释版"><a class="markdownIt-Anchor" href="#注释版"></a> 注释版</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span> <span class="comment">//万能头偷懒（</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">5e5</span><span class="number">+5</span>; <span class="comment">//注意数据范围</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">r</span> &#123;<span class="type">int</span> u,v,w;&#125;; <span class="comment">//结构体，存储Kruskal时需要的边</span></span><br><span class="line"><span class="type">int</span> n,m,cnt,dep[maxn],fa[maxn],f[maxn][<span class="number">24</span>],wi[maxn][<span class="number">24</span>],vis[maxn];</span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; g[maxn]; <span class="comment">//邻接表vector建图</span></span><br><span class="line">vector&lt;r&gt; edge; <span class="comment">//Kruskal用</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v,<span class="type">int</span> w)</span> </span>&#123;g[u].<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(v,w));&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="keyword">return</span> x==fa[x]?x:fa[x]=<span class="built_in">find</span>(fa[x]);&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa,<span class="type">int</span> w)</span></span>&#123; <span class="comment">//预处理</span></span><br><span class="line">    dep[u]=dep[fa]<span class="number">+1</span>; <span class="comment">//深度处理</span></span><br><span class="line">    f[u][<span class="number">0</span>]=fa,wi[u][<span class="number">0</span>]=w,vis[u]=<span class="number">1</span>; <span class="comment">//vis和递推の边界条件</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++) <span class="comment">//倍增递推</span></span><br><span class="line">        f[u][i<span class="number">+1</span>]=f[f[u][i]][i],</span><br><span class="line">        wi[u][i<span class="number">+1</span>]=<span class="built_in">min</span>(wi[u][i],wi[f[u][i]][i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [v,w]:g[u]) <span class="comment">//遍历当前点扩展节点</span></span><br><span class="line">        <span class="comment">//auto [v,w]:g[u] 为 C++17语法，可以把结构体的两个值解包到 v,w 中（包括pair）</span></span><br><span class="line">        <span class="keyword">if</span>(!vis[v]) <span class="built_in">pre</span>(v,u,w);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">1e9</span>; <span class="comment">//维护的最小的w ans</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">find</span>(x)!=<span class="built_in">find</span>(y)) <span class="keyword">return</span> <span class="number">-1</span>; <span class="comment">// 不是通路</span></span><br><span class="line">    <span class="keyword">if</span>(dep[x]&lt;dep[y]) <span class="built_in">swap</span>(x,y); <span class="comment">//交换，方便</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[f[x][i]]&gt;=dep[y]) <span class="comment">//同步x和y的层级</span></span><br><span class="line">            ans=<span class="built_in">min</span>(ans,wi[x][i]),x=f[x][i]; <span class="comment">//更新ans</span></span><br><span class="line">        <span class="keyword">if</span>(x==y) <span class="keyword">return</span> ans; <span class="comment">//共线，找到LCA，返回</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--) <span class="comment">//向上试探</span></span><br><span class="line">        <span class="keyword">if</span>(f[x][i]!=f[y][i]) <span class="comment">//直到LCA的下一层</span></span><br><span class="line">            ans=<span class="built_in">min</span>(ans,<span class="built_in">min</span>(wi[x][i],wi[y][i])), <span class="comment">//更新ans</span></span><br><span class="line">            x=f[x][i],y=f[y][i]; <span class="comment">//向上更新x,y</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(ans,<span class="built_in">min</span>(wi[x][<span class="number">0</span>],wi[y][<span class="number">0</span>])); <span class="comment">//再次更新最后一级，返回ans</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">kruskal</span><span class="params">()</span></span>&#123; <span class="comment">//kruskal部分</span></span><br><span class="line">    <span class="built_in">sort</span>(edge.<span class="built_in">begin</span>(),edge.<span class="built_in">end</span>(),[](r a,r b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.w&gt;b.w; <span class="comment">//注意是最大生成树</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [u,v,w]:edge)&#123; <span class="comment">//结构体解包</span></span><br><span class="line">        <span class="type">int</span> x=<span class="built_in">find</span>(u),y=<span class="built_in">find</span>(v); <span class="comment">//正常部分</span></span><br><span class="line">        <span class="keyword">if</span>(x==y) <span class="keyword">continue</span>;</span><br><span class="line">        fa[x]=y,cnt++;</span><br><span class="line">        <span class="built_in">add</span>(u,v,w),<span class="built_in">add</span>(v,u,w); <span class="comment">//建无向树形图</span></span><br><span class="line">        <span class="keyword">if</span>(cnt==n<span class="number">-1</span>) <span class="keyword">break</span>; <span class="comment">//已经生成一棵树了</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); <span class="comment">//关同步流</span></span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,a,b,w;i&lt;=m;i++)</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;w,edge.<span class="built_in">push_back</span>(&#123;a,b,w&#125;); <span class="comment">//读入边并存入边集</span></span><br><span class="line">    <span class="built_in">iota</span>(fa<span class="number">+1</span>,fa<span class="number">+1</span>+n,<span class="number">1</span>),<span class="built_in">kruskal</span>();</span><br><span class="line">    <span class="comment">//iota在stl中稍冷门，可以在迭代器范围内从第三个参数起自增1赋值，其实很适合拿来初始化并查集</span></span><br><span class="line">    <span class="built_in">pre</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>);<span class="type">int</span> x,y,q;cin&gt;&gt;q; <span class="comment">//预处理，初始化部分变量</span></span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        <span class="keyword">if</span>(!vis[x]) <span class="built_in">pre</span>(x,<span class="number">0</span>,<span class="number">0</span>); </span><br><span class="line">        <span class="comment">//坑：多次预处理，以防第一次从1开始的图部分点不联通导致两个不联通于1的点未成功初始化出错，不加这句只有88分qwq</span></span><br><span class="line">cout&lt;&lt;<span class="built_in">lca</span>(x,y)&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Endl QwQ</span></span><br></pre></td></tr></table></figure><h2 id="极速版"><a class="markdownIt-Anchor" href="#极速版"></a> 极速版</h2><p><span style="color:white">可以CTJ的版本</span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn=<span class="number">5e5</span><span class="number">+5</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">r</span> &#123;<span class="type">int</span> u,v,w;&#125;;</span><br><span class="line"><span class="type">int</span> n,m,cnt,dep[maxn],fa[maxn],f[maxn][<span class="number">24</span>],wi[maxn][<span class="number">24</span>],vis[maxn];</span><br><span class="line">vector&lt;pair&lt;<span class="type">int</span>,<span class="type">int</span>&gt;&gt; g[maxn];</span><br><span class="line">vector&lt;r&gt; edge;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v,<span class="type">int</span> w)</span> </span>&#123;g[u].<span class="built_in">push_back</span>(<span class="built_in">make_pair</span>(v,w));&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="keyword">return</span> x==fa[x]?x:fa[x]=<span class="built_in">find</span>(fa[x]);&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa,<span class="type">int</span> w)</span></span>&#123;</span><br><span class="line">    dep[u]=dep[fa]<span class="number">+1</span>;</span><br><span class="line">    f[u][<span class="number">0</span>]=fa,wi[u][<span class="number">0</span>]=w,vis[u]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)</span><br><span class="line">        f[u][i<span class="number">+1</span>]=f[f[u][i]][i],</span><br><span class="line">        wi[u][i<span class="number">+1</span>]=<span class="built_in">min</span>(wi[u][i],wi[f[u][i]][i]);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [v,w]:g[u])</span><br><span class="line">        <span class="keyword">if</span>(!vis[v]) <span class="built_in">pre</span>(v,u,w);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">1e9</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">find</span>(x)!=<span class="built_in">find</span>(y)) <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span>(dep[x]&lt;dep[y]) <span class="built_in">swap</span>(x,y);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[f[x][i]]&gt;=dep[y]) </span><br><span class="line">            ans=<span class="built_in">min</span>(ans,wi[x][i]),x=f[x][i];</span><br><span class="line">        <span class="keyword">if</span>(x==y) <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">        <span class="keyword">if</span>(f[x][i]!=f[y][i])</span><br><span class="line">            ans=<span class="built_in">min</span>(ans,<span class="built_in">min</span>(wi[x][i],wi[y][i])),</span><br><span class="line">            x=f[x][i],y=f[y][i];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">min</span>(ans,<span class="built_in">min</span>(wi[x][<span class="number">0</span>],wi[y][<span class="number">0</span>]));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">kruskal</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">sort</span>(edge.<span class="built_in">begin</span>(),edge.<span class="built_in">end</span>(),[](r a,r b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.w&gt;b.w;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> [u,v,w]:edge)&#123;</span><br><span class="line">        <span class="type">int</span> x=<span class="built_in">find</span>(u),y=<span class="built_in">find</span>(v);</span><br><span class="line">        <span class="keyword">if</span>(x==y) <span class="keyword">continue</span>;</span><br><span class="line">        fa[x]=y,cnt++;</span><br><span class="line">        <span class="built_in">add</span>(u,v,w),<span class="built_in">add</span>(v,u,w);</span><br><span class="line">        <span class="keyword">if</span>(cnt==n<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,a,b,w;i&lt;=m;i++)</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b&gt;&gt;w,edge.<span class="built_in">push_back</span>(&#123;a,b,w&#125;);</span><br><span class="line">    <span class="built_in">iota</span>(fa<span class="number">+1</span>,fa<span class="number">+1</span>+n,<span class="number">1</span>),<span class="built_in">kruskal</span>();</span><br><span class="line">    <span class="built_in">pre</span>(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>);<span class="type">int</span> x,y,q;cin&gt;&gt;q;</span><br><span class="line">    <span class="keyword">while</span>(q--)&#123;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        <span class="keyword">if</span>(!vis[x]) <span class="built_in">pre</span>(x,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">cout&lt;&lt;<span class="built_in">lca</span>(x,y)&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;传送门：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="最小生成树" scheme="https://blog.yaria.top/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    
    <category term="LCA" scheme="https://blog.yaria.top/tags/LCA/"/>
    
    <category term="图论" scheme="https://blog.yaria.top/tags/%E5%9B%BE%E8%AE%BA/"/>
    
  </entry>
  
  <entry>
    <title>洛谷 P3258 [JLOI2014] 松鼠的新家 题解</title>
    <link href="https://blog.yaria.top/posts/lgtp3258/"/>
    <id>https://blog.yaria.top/posts/lgtp3258/</id>
    <published>2023-08-22T00:27:51.000Z</published>
    <updated>2023-08-22T00:27:51.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="jloi2014松鼠的新家"><a class="markdownIt-Anchor" href="#jloi2014松鼠的新家"></a> 「JLOI2014」松鼠的新家</h2><h3 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h3><p>最近在学校上课，不过还是用wexa传了博客（只是懒得放封面</p><p>传送门：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P3258">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P3258.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">[JLOI2014] 松鼠的新家</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这道题倒也不是很难，只是有一些小坑需要避一下，可以看作半个 LCA 树上差分裸题。</p><h3 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h3><p>考虑维护一个树，点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">u</span></span></span></span> 表示每个房间需要的糖果数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">s_u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，而维尼在参观房间时从 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> 就需要在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mo>→</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(a,\to b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> 的路径上的每个房间都摆上一个糖果，这时直接使用树上差分来区间维护先前的那棵树即可。</p><p>树上差分不懂的自行百度。</p><p>这里求差分所用的 LCA 采用了倍增的方式，总计时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>log</mi><mo>⁡</mo><mi>n</mi><mo>+</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n \log n+n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>。</p><p>需要注意的坑是（不看一定会爆零的qwq：</p><ol><li>输入格式，边在路径下面，需要把路径存下来。</li><li>这里的路径是一个数组，每次维护差分时实际上 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi></mrow><annotation encoding="application/x-tex">u,v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 对应的是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>a</mi><mi>t</mi><msub><mi>h</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>p</mi><mi>a</mi><mi>t</mi><msub><mi>h</mi><mrow><mi>i</mi><mo>+</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">path_i,path_{i+1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.902771em;vertical-align:-0.208331em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>。</li><li>因为每一次到一个房间时会更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>u</mi><mo>→</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(u\to v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span> 中的每个节点的差分值，当然包括了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">u</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span>，那么你再出发时开始的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 又会被重复加上，而且最后一个房间是没有糖果的，所以只需要更新 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>u</mi><mo>→</mo><mi>f</mi><mi>a</mi><mo stretchy="false">[</mo><mi>v</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mn>0</mn><mo stretchy="false">]</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(u\to fa[v][0])</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mclose">)</span></span></span></span> （<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 的父亲节点）范围内的增值就好了。<br />写成代码就是：</li></ol><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff[u]++,diff[f[v][<span class="number">0</span>]]++,diff[<span class="built_in">lca</span>(u,v)]--,diff[f[<span class="built_in">lca</span>(u,v)][<span class="number">0</span>]]--;</span><br></pre></td></tr></table></figure><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><h4 id="有注释版"><a class="markdownIt-Anchor" href="#有注释版"></a> 有注释版</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="type">int</span> maxn=<span class="number">3e5</span><span class="number">+5</span>; <span class="comment">//这样定义要快一点（c++11</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[maxn]; <span class="comment">//vector邻接表建图</span></span><br><span class="line"><span class="type">int</span> n,m,diff[maxn],dep[maxn],s[maxn],f[maxn][<span class="number">24</span>],ans;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v)</span> </span>&#123;g[u].<span class="built_in">push_back</span>(v);&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    dep[u]=dep[fa]<span class="number">+1</span>,f[u][<span class="number">0</span>]=fa; <span class="comment">//预处理</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)</span><br><span class="line">        f[u][i<span class="number">+1</span>]=f[f[u][i]][i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> v:g[u])</span><br><span class="line">        <span class="keyword">if</span>(v!=fa) <span class="built_in">pre</span>(v,u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dep[x]&lt;dep[y]) <span class="built_in">swap</span>(x,y); <span class="comment">//倍增求LCA</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[f[x][i]]&gt;=dep[y]) x=f[x][i];</span><br><span class="line">        <span class="keyword">if</span>(x==y) <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">        <span class="keyword">if</span>(f[x][i]!=f[y][i])</span><br><span class="line">            x=f[x][i],y=f[y][i];</span><br><span class="line">    <span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e:g[u])&#123; <span class="comment">//回溯还原差分数组</span></span><br><span class="line">        <span class="keyword">if</span>(e==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(e,u),diff[u]+=diff[e];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i]; <span class="comment">//注意输入格式，坑1</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y;i&lt;n;i++)</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y,<span class="built_in">add</span>(x,y),<span class="built_in">add</span>(y,x);</span><br><span class="line">    <span class="built_in">pre</span>(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y;i&lt;n;i++) <span class="comment">//维护方式，坑2 </span></span><br><span class="line">        x=s[i],y=s[i<span class="number">+1</span>],diff[x]++,diff[f[y][<span class="number">0</span>]]++,  <span class="comment">//坑3</span></span><br><span class="line">        diff[<span class="built_in">lca</span>(x,y)]--,diff[f[<span class="built_in">lca</span>(x,y)][<span class="number">0</span>]]--;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">0</span>); <span class="comment">//还原数组</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cout&lt;&lt;diff[i]&lt;&lt;endl; <span class="comment">//输出糖果数即可</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="无注释版"><a class="markdownIt-Anchor" href="#无注释版"></a> 无注释版</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">constexpr</span> <span class="type">int</span> maxn=<span class="number">3e5</span><span class="number">+5</span>;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; g[maxn];</span><br><span class="line"><span class="type">int</span> n,m,diff[maxn],dep[maxn],s[maxn],f[maxn][<span class="number">24</span>],ans;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v)</span> </span>&#123;g[u].<span class="built_in">push_back</span>(v);&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pre</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    dep[u]=dep[fa]<span class="number">+1</span>,f[u][<span class="number">0</span>]=fa;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">20</span>;i++)</span><br><span class="line">        f[u][i<span class="number">+1</span>]=f[f[u][i]][i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> v:g[u])</span><br><span class="line">        <span class="keyword">if</span>(v!=fa) <span class="built_in">pre</span>(v,u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(dep[x]&lt;dep[y]) <span class="built_in">swap</span>(x,y);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">if</span>(dep[f[x][i]]&gt;=dep[y]) x=f[x][i];</span><br><span class="line">        <span class="keyword">if</span>(x==y) <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">20</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">        <span class="keyword">if</span>(f[x][i]!=f[y][i])</span><br><span class="line">            x=f[x][i],y=f[y][i];</span><br><span class="line">    <span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> fa)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> e:g[u])&#123;</span><br><span class="line">        <span class="keyword">if</span>(e==fa) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="built_in">dfs</span>(e,u),diff[u]+=diff[e];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;s[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y;i&lt;n;i++)</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y,<span class="built_in">add</span>(x,y),<span class="built_in">add</span>(y,x);</span><br><span class="line">    <span class="built_in">pre</span>(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,x,y;i&lt;n;i++)</span><br><span class="line">        x=s[i],y=s[i<span class="number">+1</span>],diff[x]++,diff[f[y][<span class="number">0</span>]]++,</span><br><span class="line">        diff[<span class="built_in">lca</span>(x,y)]--,diff[f[<span class="built_in">lca</span>(x,y)][<span class="number">0</span>]]--;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cout&lt;&lt;diff[i]&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;jloi2014松鼠的新家&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#jloi2014松鼠的新家&quot;&gt;&lt;/a&gt; 「JLOI2014」松鼠的新家&lt;/h2&gt;
&lt;h3 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot;</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="LCA" scheme="https://blog.yaria.top/tags/LCA/"/>
    
    <category term="差分" scheme="https://blog.yaria.top/tags/%E5%B7%AE%E5%88%86/"/>
    
    <category term="树" scheme="https://blog.yaria.top/tags/%E6%A0%91/"/>
    
    <category term="树上差分" scheme="https://blog.yaria.top/tags/%E6%A0%91%E4%B8%8A%E5%B7%AE%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>全新音游 RYCEAM——一个小小的评测</title>
    <link href="https://blog.yaria.top/posts/guysb616/"/>
    <id>https://blog.yaria.top/posts/guysb616/</id>
    <published>2023-08-09T00:58:03.000Z</published>
    <updated>2023-08-09T00:58:03.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>RYC 从刚入音游圈就开始关注了，总算公测了，好耶！</p><p>因为昨天没空，原定于昨天写的评测文鸽了一天。下文可能会有多个联想其余音游的文本，非ky，勿喷，谢谢。</p><h1 id="实际体验"><a class="markdownIt-Anchor" href="#实际体验"></a> 实际体验</h1><p>以下的游玩设备为华为Mate30 6+128G。大家应该猜到结局了（bushi</p><h2 id="启动界面"><a class="markdownIt-Anchor" href="#启动界面"></a> 启动界面</h2><p>RYCEAM，启动！</p><p><img src="https://bu.dusays.com/2023/08/09/64d2e55e7eace.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/08/09/64d2e568c28ed.jpg" alt="" /></p><p>（这个光敏性有点蚌埠住了，貌似有人说晕3D）</p><p><img src="https://bu.dusays.com/2023/08/09/64d2e579a992b.jpg" alt="" /></p><p>UI写的很好</p><p><img src="https://bu.dusays.com/2023/08/09/64d2e5fc74b34.jpg" alt="" /></p><p>这个Tips极度生草（</p><p>这个游戏是有防沉迷的，别问我怎么过的）</p><h2 id="设置界面"><a class="markdownIt-Anchor" href="#设置界面"></a> 设置界面</h2><p><img src="https://bu.dusays.com/2023/08/09/64d2e64538c22.jpg" alt="" /></p><p>小调了一下延迟，作为一个Arc人，看到流速当然是拉满啦！</p><div class="note info flat"><p><img src="https://bu.dusays.com/2023/08/09/64d2e6a6e0d3a.jpg" alt="" /></p><p>PS：不调流速会被创死.jpg</p></div><h2 id="菜单选歌"><a class="markdownIt-Anchor" href="#菜单选歌"></a> 菜单&amp;&amp;选歌</h2><p><img src="https://bu.dusays.com/2023/08/09/64d2e6236d21e.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/08/09/64d2e634186f8.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/08/09/64d2e64538c22.jpg" alt="" /></p><p>看到臀里面的失语症，刚进来首当其冲就打了一次，然后被创飞了（见上PS）。。。后面会再打一次</p><h2 id="大概的玩法"><a class="markdownIt-Anchor" href="#大概的玩法"></a> 大概的玩法</h2><h3 id="歌曲难度与解锁"><a class="markdownIt-Anchor" href="#歌曲难度与解锁"></a> 歌曲难度与解锁</h3><p>ryc是需要棱镜（类似于残片，即右上角左侧的指南针形状物体）解锁歌曲的，每首歌有4个难度为Easy Parallel Rhythm Havoc，对应EZ HD IN AT，PST PRS FTR BYD，Easy Normal Hard Special。貌似有些歌只有两个难度，应该是谱师偷懒了罢。定数从1~16都有，因为有些铺面思路的原因，总体定数±0~2大概才为对应phi定数</p><h3 id="奇怪的mr"><a class="markdownIt-Anchor" href="#奇怪的mr"></a> 奇怪的MR</h3><p>每个人有一个MR（Mirror Rating）值，对应rks ptt rating。具体的计算方法我不太清楚，但是有一股浓烈的orz味道。</p><h3 id="键型"><a class="markdownIt-Anchor" href="#键型"></a> 键型</h3><p>键型有 Click对应phi的Tap，Flick，Drag，Hold和D-Flick，这个D-Flick有点不太一样，需要前面的Tap判定到之后划后面的粉键才行，如果前面的tap没按后面的粉键也不给判定。有一种最新最热配置的样子。Dflick手感不是很好，经常遇到断触。这个样子看起来像arc天地双压（</p><h3 id="判定规则"><a class="markdownIt-Anchor" href="#判定规则"></a> 判定规则</h3><p>判定基本上是中等严判，比arc：</p><ul><li>Precise，对应臀Perfect ±65ms。</li><li>Great，对应臀Good ±120ms。</li><li>Blur，对应臀Bad，断连，但是给20%分不给acc，目测±180ms。</li><li>Miss，您的小姐啥也没有awa</li></ul><p>还有一点就是游戏是有轨道判定的，只要点击在同一轨道上下面的音符都会判定上来。</p><h3 id="评级"><a class="markdownIt-Anchor" href="#评级"></a> 评级</h3><p>每首歌满分为200万，有点怪qwq</p><p>计算分数和acc采用这样的方案：Precise给100%分，100%acc，Great给75%分，50%acc，Blur断连，给20%分，0%acc</p><ul><li>RY：2000000分</li><li>EX+：1990000~1999999分</li><li>EX：1960000~1989999分</li><li>S：1900000~1959999分</li><li>A：1800000~1899999分</li><li>B：1650000~1799999分</li><li>C：1500000~1649999分</li><li>False：0~1499999分</li></ul><p>除此之外，游戏还有角色系统，暂时没做完，只有默认的（悲）</p><h2 id="游玩体验"><a class="markdownIt-Anchor" href="#游玩体验"></a> 游玩体验</h2><p>以下为本人phi成绩，总之是拇指党废物，15最高打的dna87w 95%，准度堪忧，交互打不来，收的只有12。</p><p><img src="https://bu.dusays.com/2023/08/09/64d2ee6aeca83.jpg" alt="" /></p><h3 id="aphasia"><a class="markdownIt-Anchor" href="#aphasia"></a> Aphasia</h3><p>因为第一次被创飞了，感觉可能是流速慢适应不了，就去把流速跳到6x二见了失语症。</p><p>加载界面做的不错</p><p><img src="https://bu.dusays.com/2023/08/09/64d2eb29e52a2.jpg" alt="" /></p><p>这是暂停界面：</p><p><img src="https://bu.dusays.com/2023/08/09/64d2eb037628e.jpg" alt="" /></p><p>铺面不错，但是尾杀有很多初见杀脑裂，极其考验读谱力，建议利用垂判。</p><p><img src="https://bu.dusays.com/2023/08/09/64d2eba56db44.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/08/09/64d2eb77c42e6.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/08/09/64d2ebb604b5a.jpg" alt="" /></p><p>准度堪忧（主要是吃音，待会慢慢讲）：</p><p><img src="https://bu.dusays.com/2023/08/09/64d2ecfccd6dd.jpg" alt="" /></p><p>然后说一下这个铺面，整体有一种Phi的美感，毕竟你游谱师都是写臀自制谱过来的。11的这个失语症在臀也算13中位了，算是良谱了。</p><p>我要在一个月内看见ryc转phi制谱器（bushi</p><h3 id="你游名字最长曲"><a class="markdownIt-Anchor" href="#你游名字最长曲"></a> 你游名字最长曲</h3><p>翻歌的时候翻到一首名字超长的歌，应该就是你游最长了，买了Rhy13难度，直接开始被创。</p><p><img src="https://bu.dusays.com/2023/08/09/64d2ead54d8e7.jpg" alt="" /></p><p>加载页面甚至滚动曲名，他真的我哭死。</p><p><img src="https://bu.dusays.com/2023/08/09/64d2ed659f8a2.jpg" alt="" /></p><p>流速有点太快了，而且铺面变化很大，目押人不太好把握了）</p><p><img src="https://bu.dusays.com/2023/08/09/64d2edde0d876.jpg" alt="" /></p><p>疯狂吃音断触被创飞.jpg</p><p>打完之后感觉大概phi14左右。</p><h1 id="锐评游戏"><a class="markdownIt-Anchor" href="#锐评游戏"></a> 锐评游戏</h1><p>感觉ryc的优势挺多，但是作为一个新游戏，问题还是蛮多的，我都抛出来讲一讲吧。</p><h2 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h2><ol><li>曲绘质量超高的qwq</li><li>选曲是我目前见到除隔壁bt矿游以外很好的了(比起早期phi)</li><li>起点很高</li><li>铺面质量很优秀</li><li>玩法开创空间很大</li><li>测试很用心</li><li>官方态度很好（比起英国无良小作坊来说）</li><li>角色很好看（</li><li>界面做的很统一（听人说内测时期很乱的）</li></ol><h2 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h2><ol><li>华为（貌似很多平台都是）断触吃音极其严重，流速调高可缓解，但是依然无法正常游玩</li><li>判定不太好适应</li><li>打击手感软绵绵，不清脆，需要优化</li><li>有些人会晕3D</li><li>铺面定数有些不太合理</li><li>每首歌都有一种流速得调的感觉。你们与Phi不一样的是，phi的流速是写死的，谱师随意发挥。但是ryc既然可调流速，谱师们就得注意尽量保持流速一致，不然高流速玩家会很难蚌（）</li><li>双押提示不明显</li><li>偶尔卡顿掉帧（这点其实最严重的是phira）</li><li>容易爆early，尤其是目押</li><li>blur打击效果不太合适</li></ol><p>总的来说，这是一个优秀的游戏，但是细节需要大量打磨，最后希望ryc成为一个优秀的音游！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;RYC 从刚入音游圈就开始关注了，总算公测了，好耶！&lt;/p&gt;
&lt;p&gt;因为昨天没空，原定于昨天写的评测文鸽了一天。下文可能会有多个联想其余音游的文</summary>
      
    
    
    
    <category term="音游" scheme="https://blog.yaria.top/categories/%E9%9F%B3%E6%B8%B8/"/>
    
    
    <category term="音游" scheme="https://blog.yaria.top/tags/%E9%9F%B3%E6%B8%B8/"/>
    
    <category term="评测" scheme="https://blog.yaria.top/tags/%E8%AF%84%E6%B5%8B/"/>
    
  </entry>
  
  <entry>
    <title>运用 Windows 的 Hook 淦极域 &amp;&amp; MinHook 入门教程</title>
    <link href="https://blog.yaria.top/posts/mhaoxonk/"/>
    <id>https://blog.yaria.top/posts/mhaoxonk/</id>
    <published>2023-07-29T09:42:09.000Z</published>
    <updated>2023-07-29T14:29:09.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>因为 NTD 的某 UDP 重放攻击被机房的同学们大肆滥用（诸如乱关机），加上我们的 Tad 的一些坑人行为，于是就阅读并参考 JiyuTrainer 的源码，然后在 NoTopDomain 加上了拦截远程命令、杀进程和置顶功能。</p><p>阅读本文章前，请确保您拥有以下前置知识：</p><ol><li>C/C++ 的语言基础</li><li>能够简单使用 Windows API</li></ol><p>如果您缺少一部分，建议先学习之后再过来。</p><h1 id="了解-hook技术"><a class="markdownIt-Anchor" href="#了解-hook技术"></a> 了解 Hook技术</h1><p>摘自：</p><a class="tag-Link" target="_blank" href="https://blog.csdn.net/qq_36381855/article/details/79962673">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.csdn.net/qq_36381855/article/details/79962673.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hook（钩子技术）基本知识讲解，原理</div>            <div class="tag-link-sitename">CSDN</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="一-什么是hook钩子"><a class="markdownIt-Anchor" href="#一-什么是hook钩子"></a> 一、什么是HOOK（钩子）</h2><p>对于Windows系统，它是建立在事件驱动机制上的，说白了就是整个系统都是通过消息传递实现的。hook（钩子）是一种特殊的消息处理机制，它可以监视系统或者进程中的各种事件消息，截获发往目标窗口的消息并进行处理。所以说，我们可以在系统中自定义钩子，用来监视系统中特定事件的发生，完成特定功能，如屏幕取词，监视日志，截获键盘、鼠标输入等等。</p><p>钩子的种类很多，每种钩子可以截获相应的消息，如键盘钩子可以截获键盘消息，外壳钩子可以截取、启动和关闭应用程序的消息等。钩子可以分为线程钩子和系统钩子，线程钩子可以监视指定线程的事件消息，系统钩子监视系统中的所有线程的事件消息。因为系统钩子会影响系统中所有的应用程序，所以钩子函数必须放在独立的动态链接库(DLL) 中。</p><p>所以说，hook（钩子）就是一个Windows消息的拦截机制，可以拦截单个进程的消息(线程钩子)，也可以拦截所有进程的消息(系统钩子)，也可以对拦截的消息进行自定义的处理。Windows消息带了一些程序有用的信息，比如Mouse类信息，就带有鼠标所在窗体句柄、鼠标位置等信息，拦截了这些消息，就可以做出例如金山词霸一类的屏幕取词功能。</p><h2 id="二-hook-分类"><a class="markdownIt-Anchor" href="#二-hook-分类"></a> 二、Hook 分类</h2><p>（1） 线程钩子监视指定线程的事件消息。</p><p>（2） 系统钩子监视系统中的所有线程的事件消息。因为系统钩子会影响系统中所有的应用程序，所以钩子函数必须放在独立的动态链接库(DLL)中。这是系统钩子和线程钩子很大的不同之处。</p><h2 id="三-hook钩子的工作原理"><a class="markdownIt-Anchor" href="#三-hook钩子的工作原理"></a> 三、HOOK（钩子）的工作原理</h2><p>在正确使用钩子函数前，我们先讲解钩子函数的工作原理。当您创建一个钩子时，WINDOWS会先在内存中创建一个数据结构，该数据结构包含了钩子的相关信息，然后把该结构体加到已经存在的钩子链表中去。新的钩子将加到老的前面。当一个事件发生时，如果您安装的是一个线程钩子，您进程中的钩子函数将被调用。如果是一个系统钩子，系统就必须把钩子函数插入到其它进程的地址空间，要做到这一点要求钩子函数必须在一个动态链接库中，所以如果您想要使用系统钩子，就必须把该钩子函数放到动态链接库中去。</p><p>当然有两个例外：工作日志钩子和工作日志回放钩子。这两个钩子的钩子函数必须在安装钩子的线程中。原因是：这两个钩子是用来监控比较底层的硬件事件的，既然是记录和回放，所有的事件就当然都是有先后次序的。所以如果把回调函数放在DLL中，输入的事件被放在几个线程中记录，所以我们无法保证得到正确的次序。故解决的办法是：把钩子函数放到单个的线程中，譬如安装钩子的线程。</p><h3 id="几点需要说明的地方"><a class="markdownIt-Anchor" href="#几点需要说明的地方"></a> 几点需要说明的地方：</h3><p>（1） 如果对于同一事件（如鼠标消息）既安装了线程钩子又安装了系统钩子，那么系统会自动先调用线程钩子，然后调用系统钩子。</p><p>（2） 对同一事件消息可安装多个钩子处理过程，这些钩子处理过程形成了钩子链。当前钩子处理结束后应把钩子信息传递给下一个钩子函数。而且最近安装的钩子放在链的开始，而最早安装的钩子放在最后，也就是后加入的先获得控制权。</p><p>（3） 钩子特别是系统钩子会消耗消息处理时间，降低系统性能。只有在必要的时候才安装钩子，在使用完毕后要及时卸载。</p><p><strong>简单的说，就是在 Windows 进行消息处理时拦截该消息并进行额外的处理的一种系统机制，可以形象的当作一个钩子来比喻。</strong></p><h1 id="windows-hook-的一个小实例"><a class="markdownIt-Anchor" href="#windows-hook-的一个小实例"></a> Windows Hook 的一个小实例</h1><p>众所周知，极域会在广播和黑屏时加上一层键盘锁，使我们无法通过一些特殊的方式关掉它。实际上极域就是用了 Windows 的全局钩子拦截住了 WM_KEYBOARD 事件，然后返回一个错误值，使键盘无法正常使用。</p><p>那么我们就可以通过把钩子钩回去的方式来解除极域键盘锁了。</p><p>在 Windows API 文档中，提供了这样一种函数，可以设置一种全局钩子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">HHOOK <span class="title">SetWindowsHookEx</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  <span class="type">int</span>       idHook,</span></span></span><br><span class="line"><span class="params"><span class="function">  HOOKPROC  lpfn,</span></span></span><br><span class="line"><span class="params"><span class="function">  HINSTANCE hmod,</span></span></span><br><span class="line"><span class="params"><span class="function">  DWORD     dwThreadId</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>;</span><br></pre></td></tr></table></figure><p>其中，<code>idHook</code> 表示挂钩类型，<code>lpfn</code> 表示hook的回调函数（注意要强转以下），<code>hmod</code> 表示挂钩 DLL 句柄，如果想要设置为全局 Hook，参数需要写成 <code>GetModuleHandle(NULL)</code>，<code>dwThreadId</code> 表示挂钩线程，一般留为0即可。</p><p>那么我们解键盘锁的函数可以写成这样（具体讲解见注释）：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">HOOKPROC <span class="title">HookProc</span><span class="params">(<span class="type">int</span> nCode,WPARAM wParam,LPARAM lParam)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//这是Hook回调函数的参数，因为我们不需要执行任何内容，只是为了覆盖掉极域，所以直接返回0表示事件正常运行即可</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">UnlockKeyboard</span><span class="params">()</span></span>&#123;</span><br><span class="line">    HHOOK kbdHook=<span class="built_in">SetWindowsHookEx</span>(WH_KEYBOARD_LL,(HOOKPROC)HookProc,<span class="built_in">GetModuleHandle</span>(<span class="literal">NULL</span>),<span class="number">0</span>); <span class="comment">//设置Hook函数，注意要记录一个返回句柄</span></span><br><span class="line">    <span class="built_in">Sleep</span>(<span class="number">50</span>); <span class="comment">//等待一会</span></span><br><span class="line">    <span class="built_in">UnhookWindowsHookEx</span>(kbdHook); <span class="comment">//根据前面返回的句柄卸载掉该Hook</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>不过实际上我们的 <code>UnlockKeyboard</code> 是需要循环执行的，所以我们一般会在程序里加一个线程，然后在里面这样写：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">bool</span> canHook=<span class="number">1</span>; <span class="comment">//标记是否选中了需要解键盘锁选项的一个变量</span></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span>(canHook)</span><br><span class="line">        <span class="built_in">UnlockKeyboard</span>();</span><br></pre></td></tr></table></figure><p>注意以上 API 在PyWin32 中不可用，建议用 C++ 编写后打包成 DLL 给 Python 调用（参考 <code>NTDTools.dll</code>）</p><h1 id="hook一个-winapi-函数"><a class="markdownIt-Anchor" href="#hook一个-winapi-函数"></a> Hook一个 WinAPI 函数</h1><p><s>PS：JiYuTrainer用的是 mhook 库，并不是我采用的 MinHook，后者稍微强大一些。</s></p><p>大家应该发现了，上面的 Hook 都是针对 Windows 的消息处理的，那我们能不能给一个函数挂钩呢？在极域内部实现中，它调用了 <code>CreateProcessW</code> <code>TerminateProcess</code> 等函数，我们是不是可以修改其内部实现后注入进极域实现拦截并与软件主进程通信呢？</p><p>微软并没有提供像样的解决方案。唯一勉强可以的是免费版的 Detour 库，可惜它只支持 32 位，且配置复杂，这显然不符合我们的要求。</p><p>不过微软没写，倒是有一个叫做 <code>MinHook</code> 的库实现了函数 Hook 的功能，使用了 inline hook 技术。</p><p>接下来介绍一下它的使用吧。</p><h2 id="minhook-库的获取"><a class="markdownIt-Anchor" href="#minhook-库的获取"></a> MinHook 库的获取</h2><p>因为许多 OIer 都使用的是 GCC 编译器，所以这里的配置教程都针对 GCC。</p><p>偶尔会遇到一些库函数版本不兼容，建议大家使用尽可能新的 GCC 版本。</p><p>首先在 Github 上获取 MinHook.h 和 MinHook.x(64/86).lib、MinHook.x(64/86).dll</p><a class="tag-Link" target="_blank" href="https://github.com/TsudaKageyu/minhook/release">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/TsudaKageyu/minhook/release.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">TsudaKageyu/minhook Release</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后下载 MinHook_133_bin.zip ，解压上面说到的三个文件，是 x86 还是 x64 根据自己编译软件情况决定，因为极域是 32 位的，直接下载 x86 即可，最后将这些文件拷贝到你的程序目录中。</p><h2 id="minhook-的使用"><a class="markdownIt-Anchor" href="#minhook-的使用"></a> MinHook 的使用</h2><p>首先我们需要引入以下头文件</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;MinHook.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br></pre></td></tr></table></figure><p>这样就可以开始调用 MinHook 的函数了。</p><p>为了初始化 MinHook，需要调用 <code>MH_Initialize()</code> 函数并检测是否初始化成功：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">MH_Initialize</span>()!=MH_OK) <span class="keyword">return</span> TRUE;</span><br></pre></td></tr></table></figure><p>接下来需要创建一个钩子，在此之前，我们需要拿到 3 个东西：</p><ol><li>指向原版被勾函数的指针（real）</li><li>自己定义的 Hook 函数（fake）</li><li>原版被勾函数的参数类型定义（r）</li></ol><p>这些函数的传参需要翻阅 Microsoft 文档后照抄下来，这里以 <code>MessageBoxA</code> 为例：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">MessageBoxA</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">  [in, optional] HWND   hWnd,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in, optional] LPCSTR lpText,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in, optional] LPCSTR lpCaption,</span></span></span><br><span class="line"><span class="params"><span class="function">  [in]           UINT   uType</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>;</span><br></pre></td></tr></table></figure><p>那么我们可以这样定义原函数的类型 <code>rMessageBoxA</code> ：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(WINAPI *rMessageBoxA)</span><span class="params">(HWND hWnd,LPCSTR lpText,LPCSTR lpCaption,UINT uType)</span></span>;</span><br></pre></td></tr></table></figure><p>然后创建指向原函数的指针：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rMessageBoxA realMessageBoxA=(rMessageBoxA)&amp;MessageBoxA;</span><br></pre></td></tr></table></figure><p>最后我们来定义我们自己编写的 Hook 函数：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> WINAPI <span class="title">fakeMessageBoxA</span><span class="params">(HWND hWnd,LPCSTR lpText,LPCSTR lpCaption,UINT uType)</span></span>&#123;</span><br><span class="line">    <span class="built_in">realMessageBoxA</span>(hWnd,<span class="string">&quot;Hooked!&quot;</span>,lpCaption,uType); <span class="comment">//改变消息框文本为Hooked!，忽略原本的参数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接下来就可以创建钩子了，同样注意判断是否创建成功：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">MH_CreateHook</span>((PVOID*)&amp;MessageBoxA,(PVOID*)&amp;fakeMessageBoxA,<span class="built_in">reinterpret_cast</span>&lt;<span class="type">void</span>**&gt;(&amp;realMessageBoxA))!=MH_OK)</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br></pre></td></tr></table></figure><p>最后启动钩子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">MH_EnableHook</span>((PVOID*)&amp;MessageBoxA)!=MH_OK)</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br></pre></td></tr></table></figure><p>使用以下语句关闭钩子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="built_in">MH_DisableHook</span>((PVOID*)&amp;MessageBoxA)!=MH_OK)</span><br><span class="line">    <span class="keyword">return</span> TRUE;</span><br></pre></td></tr></table></figure><p>我们可以写一句调用试一试：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">MessageBoxA</span>(<span class="number">0</span>,<span class="string">&quot;unHook&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="number">0</span>);</span><br></pre></td></tr></table></figure><p>那么整个程序就写成这样子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;MinHook.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">typedef</span> <span class="title">int</span> <span class="params">(WINAPI *rMessageBoxA)</span><span class="params">(HWND hWnd,LPCSTR lpText,LPCSTR lpCaption,UINT uType)</span></span>;</span><br><span class="line">rMessageBoxA realMessageBoxA=(rMessageBoxA)&amp;MessageBoxA;</span><br><span class="line"><span class="function"><span class="type">int</span> WINAPI <span class="title">fakeMessageBoxA</span><span class="params">(HWND hWnd,LPCSTR lpText,LPCSTR lpCaption,UINT uType)</span></span>&#123;</span><br><span class="line">    <span class="built_in">realMessageBoxA</span>(hWnd,<span class="string">&quot;Hooked!&quot;</span>,lpCaption,uType); <span class="comment">//改变消息框文本为Hooked!，忽略原本的参数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">MH_Initialize</span>()!=MH_OK) <span class="keyword">return</span> TRUE;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">MH_CreateHook</span>((PVOID*)&amp;MessageBoxA,(PVOID*)&amp;fakeMessageBoxA,<span class="built_in">reinterpret_cast</span>&lt;<span class="type">void</span>**&gt;(&amp;realMessageBoxA))!=MH_OK)</span><br><span class="line">        <span class="keyword">return</span> TRUE;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">MH_EnableHook</span>((PVOID*)&amp;MessageBoxA)!=MH_OK)</span><br><span class="line">        <span class="keyword">return</span> TRUE;</span><br><span class="line">    <span class="built_in">MessageBoxA</span>(<span class="number">0</span>,<span class="string">&quot;unHook&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="comment">// if(MH_DisableHook((PVOID*)&amp;MessageBoxA)!=MH_OK)</span></span><br><span class="line">        <span class="keyword">return</span> TRUE;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="minhook-的编译"><a class="markdownIt-Anchor" href="#minhook-的编译"></a> MinHook 的编译</h2><p>如果我们直接运行程序，会得到以下结果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c:/mingw/bin/../lib/gcc/mingw32/9.2.0/../../../../mingw32/bin/ld.exe: C:\Users\lyx-blbl\AppData\Local\Temp\cc0MgB7J.o:test.cpp:(.text+0x63): undefined reference to `MH_CreateHook@12<span class="string">&#x27;</span></span><br><span class="line"><span class="string">c:/mingw/bin/../lib/gcc/mingw32/9.2.0/../../../../mingw32/bin/ld.exe: C:\Users\lyx-blbl\AppData\Local\Temp\cc0MgB7J.o:test.cpp:(.text+0x82): undefined reference to `MH_EnableHook@4&#x27;</span></span><br><span class="line">c:/mingw/bin/../lib/gcc/mingw32/9.2.0/../../../../mingw32/bin/ld.exe: C:\Users\lyx-blbl\AppData\Local\Temp\cc0MgB7J.o:test.cpp:(.text+0xc8): undefined reference to `MH_DisableHook@4<span class="string">&#x27;</span></span><br><span class="line"><span class="string">collect2.exe: error: ld returned 1 exit status</span></span><br></pre></td></tr></table></figure><p>显然我们没有链接上 MinHook 的库函数，记得开始下载的 <code>MinHook.x86/64.lib</code> 吗？我们需要把它链接上，只需要在程序名后面加上这个lib文件即可。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ test.cpp MinHook.x86.lib -m32 -o test.exe</span><br></pre></td></tr></table></figure><p>在运行时程序会寻找 MinHook.x86.dll，未找到时也会RE。</p><p>接下来运行程序，可以看到我们已经成功进行 Hook 了qwq！</p><p><img src="https://bu.dusays.com/2023/07/30/64c5c99775d52.png" alt="" /></p><h1 id="dll-注入技术"><a class="markdownIt-Anchor" href="#dll-注入技术"></a> DLL 注入技术</h1><p>大家应该发现了，这样子写 Hook 的话，只会对自己的程序起效，但是我们要是要淦极域或是其它软件怎么办呢？</p><p>这时候就需要请出我们的大杀器——DLL 注入了。</p><p>DLL，即动态链接库（Dynamic Link Library），用于在程序运行时动态加载方法函数并实时调用。</p><p>当然我们需要的并不是实时调用方法，那些软件也不会傻到自己调用我们写的函数，不过在 Windows API 的加载 DLL 所用的函数 <code>LoadLibrary</code> 中，每次用这个函数加载时都会运行 DLL 中导出的 <code>DllMain</code> 函数！</p><p>那么我们就可以想办法让一个进程用 <code>LoadLibrary</code> 加载自己写的 DLL 然后在 DLL 里面藏私活了。这样子就通过 DLL 注入技术实现了自己想要的功能。</p><h2 id="编写-dll"><a class="markdownIt-Anchor" href="#编写-dll"></a> 编写 DLL</h2><p>首先我们需要编写一份 DLL，来执行我们的东西。</p><p>在此之前，需要介绍以下 <code>DllMain</code> 的写法：</p><p>微软官方文档写成这样子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">BOOL WINAPI <span class="title">DllMain</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    HINSTANCE hinstDLL,  <span class="comment">// handle to DLL module</span></span></span></span><br><span class="line"><span class="params"><span class="function">    DWORD fdwReason,     <span class="comment">// reason for calling function</span></span></span></span><br><span class="line"><span class="params"><span class="function">    LPVOID lpvReserved )</span>  <span class="comment">// reserved</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Perform actions based on the reason for calling.</span></span><br><span class="line">    <span class="keyword">switch</span>( fdwReason ) </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="keyword">case</span> DLL_PROCESS_ATTACH:</span><br><span class="line">         <span class="comment">// Initialize once for each new process.</span></span><br><span class="line">         <span class="comment">// Return FALSE to fail DLL load.</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> DLL_THREAD_ATTACH:</span><br><span class="line">         <span class="comment">// Do thread-specific initialization.</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> DLL_THREAD_DETACH:</span><br><span class="line">         <span class="comment">// Do thread-specific cleanup.</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> DLL_PROCESS_DETACH:</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">if</span> (lpvReserved != <span class="literal">nullptr</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// do not do cleanup if process termination scenario</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">         <span class="comment">// Perform any necessary cleanup.</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TRUE;  <span class="comment">// Successful DLL_PROCESS_ATTACH.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>具体含义请自己机翻（，我们只需要在 switch 开关里面的 DLL_PROCESS_ATTACH 中塞东西就行了。</p><h2 id="注入的方法"><a class="markdownIt-Anchor" href="#注入的方法"></a> 注入的方法</h2><p>要想注入 DLL，我们一般采用以下方式：</p><ul><li>申请一块长度为路径长度的内存地址，用于存储 <code>LoadLibrary</code> 的参数，即为 DLL 路径</li><li>把我们的路径参数甩到这块内存里面</li><li>在一个进程上创建远程线程并执行 <code>LoadLibrary</code> 函数，并把我们刚刚拿到的DLL路径内存地址给进去作为参数</li></ul><p>写成 C++ 程序就是这样：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">InjectDLL</span><span class="params">(DWORD dwId,LPCSTR path)</span></span>&#123; <span class="comment">//dwId为进程PID，path为DLL路径，采用窄字符方式</span></span><br><span class="line">    HANDLE mProcess=<span class="built_in">OpenProcess</span>(PROCESS_ALL_ACCESS, FALSE, dwId); <span class="comment">//打开进程</span></span><br><span class="line">    LPTHREAD_START_ROUTINE fun =(LPTHREAD_START_ROUTINE)LoadLibraryA; <span class="comment">//获取LoadLibrary地址</span></span><br><span class="line">    SIZE_T pathSize=<span class="built_in">strlen</span>(path)<span class="number">+1</span>; <span class="comment">//计算路径长度，注意要算对，加上 char*最后的 \0，如果不清楚建议重修C/C++语法基础</span></span><br><span class="line">    LPVOID mBuffer=<span class="built_in">VirtualAllocEx</span>(mProcess, <span class="literal">NULL</span>, pathSize, MEM_COMMIT, PAGE_READWRITE); <span class="comment">//分配写入函数的地址</span></span><br><span class="line">    <span class="built_in">WriteProcessMemory</span>(mProcess, mBuffer, path, pathSize, <span class="literal">NULL</span>); <span class="comment">//写入路径</span></span><br><span class="line">    <span class="built_in">CreateRemoteThread</span>(mProcess, <span class="literal">NULL</span>, <span class="number">0</span>, fun, mBuffer, <span class="number">0</span>, <span class="literal">NULL</span>); <span class="comment">//创建远程线程并执行</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>至于怎么注入就看实际情况了，注意编译该注入器的位数必须与要注入的程序的位数一致（使用 <code>-m32</code> 和 <code>-m64</code>），如果不清楚的话可以使用 <code>IsWow64Process</code> 和 <code>GetSystemInfo</code> 来查看（具体使用见文档）</p><p>原因也很简单，32位软件运行在 WoW64环境中，内存分配的机制和64位软件不同，自然无法跨位数分配内存。</p><p>这是 NTD 注入进极域的效果：</p><p><img src="https://bu.dusays.com/2023/08/08/64d23dc3ed12f.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/08/08/64d23ddb589c9.png" alt="" /></p><p>（Guy的顾辉和快端上来罢，赶紧似木琴，劳斯莱斯确实很好）</p><p>最后提示一下，请勿在任何游戏或测试中使用DLL注入！有封号风险！</p><p>（下为这个florr 90级的青红混合卡蒟蒻手贱下汉化插件被封号的悲剧qwq</p><p><img src="https://bu.dusays.com/2023/08/08/64d2394aa1193.png" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;因为 NTD 的某 UDP 重放攻击被机房的同学们大肆滥用（诸如乱关机），加上我们的 Tad 的一些坑人行为，于是就阅读并参考 JiyuTrai</summary>
      
    
    
    
    <category term="编程" scheme="https://blog.yaria.top/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="Windows" scheme="https://blog.yaria.top/tags/Windows/"/>
    
    <category term="编程" scheme="https://blog.yaria.top/tags/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="NoTopDomain" scheme="https://blog.yaria.top/tags/NoTopDomain/"/>
    
    <category term="Hook" scheme="https://blog.yaria.top/tags/Hook/"/>
    
  </entry>
  
  <entry>
    <title>洛谷 P2573 [SCOI2012] 滑雪 题解</title>
    <link href="https://blog.yaria.top/posts/bb62b405/"/>
    <id>https://blog.yaria.top/posts/bb62b405/</id>
    <published>2023-07-29T03:34:51.000Z</published>
    <updated>2023-07-29T03:34:51.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h3><a class="tag-Link" target="_blank" href="https://luogu.com.cn/problem/P2573">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/luogu.com.cn/problem/P2573.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P2573 【SCOI2012】 滑雪</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>调了一个下午终于弄出来了！！！</p><p><s>最近开始毛616的CG当封面偷懒了qwq</s></p><h3 id="题目"><a class="markdownIt-Anchor" href="#题目"></a> 题目</h3><details class="toggle" ><summary class="toggle-button" style="">查看题面</summary><div class="toggle-content"><h4 id="scoi2012-滑雪"><a class="markdownIt-Anchor" href="#scoi2012-滑雪"></a> [SCOI2012] 滑雪</h4><h5 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h5><p>a180285 非常喜欢滑雪。他来到一座雪山，这里分布着 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 条供滑行的轨道和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个轨道之间的交点（同时也是景点），而且每个景点都有一编号 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mtext> </mtext><mo stretchy="false">(</mo><mn>1</mn><mo>≤</mo><mi>i</mi><mo>≤</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">i\space (1 \le i \le n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">i</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79549em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 和一高度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">h_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>a180285 能从景点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 滑到景点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> 当且仅当存在一条 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> 之间的边，且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 的高度<strong>不小于</strong> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>。与其他滑雪爱好者不同，a180285 喜欢用最短的滑行路径去访问尽量多的景点。如果仅仅访问一条路径上的景点，他会觉得数量太少。</p><p>于是 a18028 5拿出了他随身携带的时间胶囊。这是一种很神奇的药物，吃下之后可以立即回到上个经过的景点（不用移动也不被认为是 a180285 滑行的距离）。</p><p>请注意，这种神奇的药物是可以连续食用的，即能够回到较长时间之前到过的景点（比如上上个经过的景点和上上上个经过的景点）。 现在，a180285站在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 号景点望着山下的目标，心潮澎湃。他十分想知道在不考虑时间胶囊消耗的情况下，以最短滑行距离滑到尽量多的景点的方案（即满足经过景点数最大的前提下使得滑行总距离最小）。你能帮他求出最短距离和景点数吗？</p><h5 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h5><p>输入的第一行是两个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo separator="true">,</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">n,m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span></span></span></span>。<br />接下来一行有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">h_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，分别表示每个景点的高度。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span> 行，表示各个景点之间轨道分布的情况。每行三个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi><mo separator="true">,</mo><mi>v</mi><mo separator="true">,</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">u,v,k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">u</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>，表示编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">u</span></span></span></span> 的景点和编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 的景点之间有一条长度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 的轨道。</p><h5 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h5><p>输出一行，表示 a180285 最多能到达多少个景点，以及此时最短的滑行距离总和。</p><h5 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h5><h6 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">3 3 </span><br><span class="line">3 2 1 </span><br><span class="line">1 2 1 </span><br><span class="line">2 3 1 </span><br><span class="line">1 3 10</span><br></pre></td></tr></table></figure><h6 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3 2</span><br></pre></td></tr></table></figure><h5 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h5><p>【数据范围】<br />对于 $ 30% $ 的数据，$ 1 \le n \le 2000 $；<br />对于 $ 100% $ 的数据，$ 1 \le n \le 10^5 $。</p><p>对于所有的数据，保证 $ 1 \le m \le 10^6 $ , $ 1 \le h_i \le 10^9 $ ，$ 1 \le k_i \le 10^9 $。</p></div></details><h3 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h3><p>首先不难想到这是一个最小生成树题目：a180285 从点 1 出发，他希望遍历尽可能多的点且他可以回退，需要求此时代价最小路径的长度。</p><p>考虑使用 Kruskal 或 Prim 算法，因为 Kruskal 编码比较简单，遂采用该算法。</p><p>因为多个滑雪站之间只有高度较高的才能前往高度较低的站点，即对于任意 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>V</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">G(V,E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>，当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo>∈</mo><mi>V</mi></mrow><annotation encoding="application/x-tex">i,j\in V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> 时且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>i</mi></msub><mo>≥</mo><msub><mi>h</mi><mi>j</mi></msub></mrow><annotation encoding="application/x-tex">h_i\ge h_j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span> 时才存在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>∈</mo><mi>E</mi></mrow><annotation encoding="application/x-tex">(i,j)\in E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span></span></span></span>，所以我们需要根据 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">h_u</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mi>v</mi></msub></mrow><annotation encoding="application/x-tex">h_v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 的关系来确定需要添加的边。</p><p>然后我们从起点 1 开始执行 BFS （DFS也可），算出从起点出发最多可以到达的顶点个数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">tot</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span></span></span></span> 。</p><p>为了方便，我开了一个前向星（纠正：因本蒟蒻之前的理解偏差，这并不叫做前向星，叫做存边数组差不多）和一个邻接表分别用于 Kruskal 和 BFS（都是打的 <code>vector</code> qwq）。</p><p>接下来排序并执行 Kruskal。排序需要注意一点：直接根据每一条边的权值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 排序的贪心策略是错误的，可以考虑这么一种情况：</p><p><img src="https://cdn.fzoi.top/upload/user/st20250310/23072705162383.png" alt="" /></p><p>这是一张图，其中每个节点上面的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">vx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">x</span></span></span></span> 表示编号，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo>:</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">h: x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 表示高度，边上的数字表示权值。如果我们按照边权排序后选择的话，就会选到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">(4,3)=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">(1,3)=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">(1,2)=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>，即上面描红了的边。然而这是无向图，我们就会发现 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">v1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">1</span></span></span></span> 并不能到达 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mn>4</mn></mrow><annotation encoding="application/x-tex">v4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord">4</span></span></span></span>，然而我们要是选择了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo><mo>=</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">(1,4)=11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span>，虽然代价稍大，但是可以保证选到最多的点。</p><p>因为高度呈降序排列，前面的点一定可以到达后面的点，所以我们在高度上贪心取最小值即可保证尽可能选到多的点，当然高度一样时肯定也需要取权值较小的。</p><p>有几个坑：</p><p>坑 1：注意 BFS 时的 <code>vis</code> 数组，处理 Kruskal 时如果 <code>!vis[u]||!vis[v]</code> 时需要跳过（因为无法走到）。</p><p>坑 2：建边处理高度时需要同时考虑开的一个前向星和一个邻接表，不能少一个，否则必爆 <span style="color:red;font-weight: 700;">0</span> ~ <span style="color:rgb(230, 156, 0);font-weight: 700;">18</span>。</p><p>坑 3：处理 Kruskal 时，如果 <code>cnt==tot-1</code> 即已遍历边数已经形成树形结构时就得 <code>break</code> 了。</p><p>那么代码就很简单了（但是注意有很多坑+没看注释导致的CE）</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><p>偷懒，所以用了新特性，注意开 C++20以上。</p><h4 id="注释版"><a class="markdownIt-Anchor" href="#注释版"></a> 注释版</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long <span class="comment">// 见祖宗+偷懒</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,fa[<span class="number">100005</span>],tot=<span class="number">1</span>,ans,vis[<span class="number">100005</span>],h[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;<span class="type">int</span> x,y,w,h;&#125;; <span class="comment">// 前向星，存起点终点和高度</span></span><br><span class="line">vector&lt;node&gt; star; <span class="comment">// 前向星</span></span><br><span class="line">vector&lt;<span class="type">int</span>&gt; lst[<span class="number">100005</span>]; <span class="comment">// 邻接表</span></span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q; <span class="comment">// BFS用</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v,<span class="type">int</span> w)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(h[u]&gt;=h[v]) <span class="comment">// 根据高度情况考虑，注意两点高度相等时也可滑过</span></span><br><span class="line">        star.<span class="built_in">push_back</span>(&#123;u,v,w,h[v]&#125;), <span class="comment">// 前向星建图</span></span><br><span class="line">        lst[u].<span class="built_in">push_back</span>(v); <span class="comment">// 邻接表建图</span></span><br><span class="line">    <span class="keyword">if</span>(h[u]&lt;=h[v]) <span class="comment">// 同上</span></span><br><span class="line">        star.<span class="built_in">push_back</span>(&#123;v,u,w,h[u]&#125;),</span><br><span class="line">        lst[v].<span class="built_in">push_back</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123; <span class="comment">// 三目表达式版简化find函数</span></span><br><span class="line">    <span class="keyword">return</span> x==fa[x]?x:fa[x]=<span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); <span class="comment">// 关流同步，卡常（实际上题目给的5秒够用）</span></span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;h[i],fa[i]=i; <span class="comment">// 初始化</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,u,v,c;i&lt;=m;i++)</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;v&gt;&gt;c,<span class="built_in">add</span>(u,v,c); <span class="comment">// 加边</span></span><br><span class="line">    q.<span class="built_in">push</span>(<span class="number">1</span>),vis[<span class="number">1</span>]=<span class="number">1</span>; <span class="comment">// BFS部分，起点入队</span></span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> u=q.<span class="built_in">front</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;it:lst[u])</span><br><span class="line">            <span class="keyword">if</span>(!vis[it]) <span class="comment">// 计算可到达次数</span></span><br><span class="line">                vis[it]=<span class="number">1</span>,tot++,q.<span class="built_in">push</span>(it);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(star.<span class="built_in">begin</span>(),star.<span class="built_in">end</span>(),[](node a,node b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.h==b.h?a.w&lt;b.w:a.h&gt;b.h;</span><br><span class="line">    &#125;); <span class="comment">// 注意需要按高度排序，具体见TJ.</span></span><br><span class="line">    <span class="comment">// 这里用了C++11新特性lambda表达式，可以内联进参数里面</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> cnt=<span class="number">0</span>;<span class="keyword">auto</span> it:star)&#123; <span class="comment">// 遍历前向星跑 Kruskal</span></span><br><span class="line">        <span class="comment">// 这里的初始化cnt偷懒用了C++20新特性在范围循环初始化</span></span><br><span class="line">        <span class="keyword">if</span>(vis[it.x]&amp;&amp;vis[it.y])&#123; </span><br><span class="line">            <span class="type">int</span> x=<span class="built_in">find</span>(it.x),y=<span class="built_in">find</span>(it.y); <span class="comment">// 并查集板子</span></span><br><span class="line">            <span class="keyword">if</span>(x==y) <span class="keyword">continue</span>;</span><br><span class="line">            fa[x]=y,cnt++,ans+=it.w; <span class="comment">// 算答案</span></span><br><span class="line">            <span class="keyword">if</span>(cnt==tot<span class="number">-1</span>) <span class="keyword">break</span>; <span class="comment">// 边界条件，见TJ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;tot&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="无注释版"><a class="markdownIt-Anchor" href="#无注释版"></a> 无注释版</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,fa[<span class="number">100005</span>],tot=<span class="number">1</span>,ans,vis[<span class="number">100005</span>],h[<span class="number">100005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;<span class="type">int</span> x,y,w,h;&#125;;</span><br><span class="line">vector&lt;node&gt; star;</span><br><span class="line">vector&lt;<span class="type">int</span>&gt; lst[<span class="number">100005</span>];</span><br><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u,<span class="type">int</span> v,<span class="type">int</span> w)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(h[u]&gt;=h[v])</span><br><span class="line">        star.<span class="built_in">push_back</span>(&#123;u,v,w,h[v]&#125;),</span><br><span class="line">        lst[u].<span class="built_in">push_back</span>(v);</span><br><span class="line">    <span class="keyword">if</span>(h[u]&lt;=h[v])</span><br><span class="line">        star.<span class="built_in">push_back</span>(&#123;v,u,w,h[u]&#125;),</span><br><span class="line">        lst[v].<span class="built_in">push_back</span>(u);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x==fa[x]?x:fa[x]=<span class="built_in">find</span>(fa[x]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;h[i],fa[i]=i;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>,u,v,c;i&lt;=m;i++)</span><br><span class="line">        cin&gt;&gt;u&gt;&gt;v&gt;&gt;c,<span class="built_in">add</span>(u,v,c);</span><br><span class="line">    q.<span class="built_in">push</span>(<span class="number">1</span>),vis[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!q.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="type">int</span> u=q.<span class="built_in">front</span>();q.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span> &amp;it:lst[u])</span><br><span class="line">            <span class="keyword">if</span>(!vis[it])</span><br><span class="line">                vis[it]=<span class="number">1</span>,tot++,q.<span class="built_in">push</span>(it);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(star.<span class="built_in">begin</span>(),star.<span class="built_in">end</span>(),[](node a,node b)&#123;</span><br><span class="line">        <span class="keyword">return</span> a.h==b.h?a.w&lt;b.w:a.h&gt;b.h;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> cnt=<span class="number">0</span>;<span class="keyword">auto</span> it:star)&#123;</span><br><span class="line">        <span class="keyword">if</span>(vis[it.x]&amp;&amp;vis[it.y])&#123;</span><br><span class="line">            <span class="type">int</span> x=<span class="built_in">find</span>(it.x),y=<span class="built_in">find</span>(it.y);</span><br><span class="line">            <span class="keyword">if</span>(x==y) <span class="keyword">continue</span>;</span><br><span class="line">            fa[x]=y,cnt++,ans+=it.w;</span><br><span class="line">            <span class="keyword">if</span>(cnt==tot<span class="number">-1</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;tot&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>emm 你谷这道题是蓝…</p>]]></content>
    
    
    <summary type="html">离谱卡题，不过不如我以前的蚯蚓 儒略日和网络连接（</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="最小生成树" scheme="https://blog.yaria.top/tags/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    
    <category term="图论" scheme="https://blog.yaria.top/tags/%E5%9B%BE%E8%AE%BA/"/>
    
    <category term="图" scheme="https://blog.yaria.top/tags/%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>CF1850E Cardboard for Pictures 题解</title>
    <link href="https://blog.yaria.top/posts/aa2fa75f/"/>
    <id>https://blog.yaria.top/posts/aa2fa75f/</id>
    <published>2023-07-22T00:20:39.000Z</published>
    <updated>2023-07-22T00:20:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>热乎着的一道题，昨晚上刚考完，然而这是一场悲剧。。。。</p><p>传送门：</p><a class="tag-Link" target="_blank" href="https://codeforces.com/contest/1850/problem/E">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/codeforces.com/contest/1850/problem/E.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">E. Cardboard for Pictures</div>            <div class="tag-link-sitename">Codeforces</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h1><h2 id="题目大意"><a class="markdownIt-Anchor" href="#题目大意"></a> 题目大意</h2><p>给定 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub><mtext> </mtext><msub><mi>a</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">a_1 ~ a_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace nobreak"> </span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span> ，求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mi>n</mi></msub><mo>+</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">(a_1+2\times w)^2+(a_2+2\times w)^2+...+(a_n+2\times w)^2=c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span> 时 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 的最小值</p><h2 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h2><p>我们来化简一下这个式子：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo>+</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mi>n</mi></msub><mo>+</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">(a_1+2\times w)^2+(a_2+2\times w)^2+...+(a_n+2\times w)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p><p>根据完全平方公式 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>=</mo><msup><mi>a</mi><mn>2</mn></msup><mo>+</mo><msup><mi>b</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mi>a</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">(a+b)^2=a^2+b^2+2ab</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal">a</span><span class="mord mathnormal">b</span></span></span></span> （对！初一数学！）可得</p><p>原式<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>=</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>×</mo><msub><mi>a</mi><mn>1</mn></msub><mo>×</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>×</mo><msub><mi>a</mi><mn>2</mn></msub><mo>×</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><mo stretchy="false">)</mo><mo>+</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo>+</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mi>n</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>×</mo><msub><mi>a</mi><mi>n</mi></msub><mo>×</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">=(a_1)^2+(2\times w)^2+2\times a_1\times (2\times w)+(a_2)^2+(2\times w)^2+2\times a_2\times (2\times w)+...+(a_n)^2+(2\times w)^2+2\times a_n\times (2\times w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>≤</mo><mi>n</mi></mrow></munderover><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mi>n</mi><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>≤</mo><mi>n</mi></mrow></munderover><mn>2</mn><mo>×</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>×</mo><mo stretchy="false">(</mo><mn>2</mn><mo>×</mo><mi>w</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}=\sum_{i=1}^{i\le n} (a_i)^2+n(2\times w)^2+(\sum_{i=1}^{i\le n} 2\times a_i)\times (2\times w)\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.3955170000000003em;vertical-align:-1.4477585000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9477585000000002em;"><span style="top:-3.947758500000001em;"><span class="pstrut" style="height:3.8178480000000006em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8178480000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.306184em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8178480000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.306184em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4477585000000002em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>所以预处理出 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>≤</mo><mi>n</mi></mrow></munderover><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\sum_{i=1}^{i\le n} (a_i)^2\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.3955170000000003em;vertical-align:-1.4477585000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9477585000000002em;"><span style="top:-3.947758500000001em;"><span class="pstrut" style="height:3.8178480000000006em;"></span><span class="mord"><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8178480000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.306184em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4477585000000002em;"><span></span></span></span></span></span></span></span></span></span></span>=<code>sum1</code>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtable rowspacing="0.24999999999999992em" columnalign="right" columnspacing=""><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mo stretchy="false">(</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow><mi>i</mi><mo>≤</mo><mi>n</mi></mrow></munderover><mn>2</mn><mo>×</mo><msub><mi>a</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr></mtable><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\begin{aligned}(\sum_{i=1}^{i\le n} 2\times a_i\end{aligned})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.3955170000000003em;vertical-align:-1.4477585000000002em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.9477585000000002em;"><span style="top:-3.947758500000001em;"><span class="pstrut" style="height:3.8178480000000006em;"></span><span class="mord"><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8178480000000004em;"><span style="top:-1.872331em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.050005em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.306184em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">≤</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.277669em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4477585000000002em;"><span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>=<code>sum2</code> 即可。</p><p>然后考虑二分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> ，<code>check</code> 函数这样子写：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">check</span><span class="params">(ll x)</span></span>&#123;</span><br><span class="line">    ll t=x*<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">return</span> sum1+t*t*n+sum2*t&lt;=c;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><p>思路很简单，那么就直接给出代码吧qwq！</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> i128 __int128 <span class="comment">//不开int128见祖宗</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">i128 T,n,c,t,sum1,sum2; <span class="comment">//sum1 sum2见上</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(T&amp; n)</span></span>&#123;</span><br><span class="line">    T x=<span class="number">0</span>;<span class="type">bool</span> f=<span class="number">1</span>; <span class="comment">//int128特有的快读快写（悲）</span></span><br><span class="line">    <span class="type">char</span> c=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(c&lt;<span class="number">48</span>||c&gt;<span class="number">57</span>)</span><br><span class="line">        f=c!=<span class="number">45</span>,c=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(c&gt;<span class="number">47</span>&amp;&amp;c&lt;<span class="number">58</span>)</span><br><span class="line">        x=(x&lt;&lt;<span class="number">3</span>)+(x&lt;&lt;<span class="number">1</span>)+(c^<span class="number">48</span>),c=<span class="built_in">getchar</span>();</span><br><span class="line">    n=f?x:-x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="type">void</span> <span class="title">write</span><span class="params">(T x)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span>) <span class="built_in">putchar</span>(<span class="number">45</span>),x=-x;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>) <span class="built_in">write</span>(x/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(x%<span class="number">10</span><span class="number">+48</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">bool</span> <span class="title">check</span><span class="params">(i128 x)</span></span>&#123;</span><br><span class="line">    i128 t=x*<span class="number">2</span>; <span class="comment">//check，见上</span></span><br><span class="line">    <span class="keyword">return</span> sum1+t*t*n+sum2*t&lt;=c;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">read</span>(T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">read</span>(n),<span class="built_in">read</span>(c),sum1=<span class="number">0</span>,sum2=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="built_in">read</span>(t),sum1+=t*t,sum2+=<span class="number">2</span>*t; <span class="comment">//预处理</span></span><br><span class="line">        i128 l=<span class="number">0</span>,r=<span class="number">1e9</span>,mid;</span><br><span class="line">        <span class="keyword">while</span>(l&lt;=r)&#123; <span class="comment">//二分</span></span><br><span class="line">            mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid<span class="number">+1</span>;</span><br><span class="line">            <span class="keyword">else</span> r=mid<span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">write</span>(r),<span class="built_in">puts</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="彩蛋"><a class="markdownIt-Anchor" href="#彩蛋"></a> 彩蛋</h2><p>聊聊赛时的一场悲剧：</p><p>还剩最后22分钟时，跟 cyh 交流出了解法，她表示：我不想打了，感觉调不出来了。</p><p>但是本蒟蒻上次被 Skipped 的Div.4（5.6那次）可是做了 5 道，可不能成为耻辱，上次加了164Rating！</p><p>然后就开始调二分了，然而一直卡题，卡了7次到处改都是WA在Test4。</p><p>当时打的是：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> ll __int128 <span class="comment">//C++17,GCCmsys264能过</span></span></span><br><span class="line">...</span><br><span class="line">ll l=<span class="number">0</span>,r=c,mid; <span class="comment">//r太大了！！！，l=0用不着</span></span><br><span class="line"><span class="keyword">while</span>(l&lt;r)&#123; <span class="comment">//PS：原版题解里的l&lt;=r是怕玄学，实际上一样的</span></span><br><span class="line">    mid=l+r&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">check</span>(mid)) l=mid<span class="number">+1</span>;</span><br><span class="line">    <span class="keyword">else</span> r=mid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>时间飞逝，比赛结束，最后一次提交依然没过，难绷。</p><p>本来想打一个高精度的，但是感觉时间会炸就没打（实际上如果用python一切都能避免只可惜来不及改了）。</p><p>比赛完时突然想到 <code>unsigned __int128</code> ，改了一下: <code>#define ll unsigned __int128</code></p><p>比赛完之后大概 1:39 分时， CF 服务器终于不卡了，于是又提交上去，过了？</p><p>还我 T5，unsigned 我*************！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</p><p>真蚌埠住了，这场玩飘了。</p><p>然后根据 czy 在犇犇里说的 <code>r=1e9</code> 就行，改了一下，换回 <code>signed __int128</code> 就过了。。。。。。。</p><p>这份也是题解里面的版本。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;热乎着的一道题，昨晚上刚考完，然而这是一场悲剧。。。。&lt;/p&gt;
&lt;p&gt;传送门：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数论" scheme="https://blog.yaria.top/tags/%E6%95%B0%E8%AE%BA/"/>
    
    <category term="二分" scheme="https://blog.yaria.top/tags/%E4%BA%8C%E5%88%86/"/>
    
  </entry>
  
  <entry>
    <title>【ABC254Ex】 Multiply or Divide by 2 题解</title>
    <link href="https://blog.yaria.top/posts/c1d78b77/"/>
    <id>https://blog.yaria.top/posts/c1d78b77/</id>
    <published>2023-07-22T00:17:53.000Z</published>
    <updated>2023-07-22T00:17:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>传送门：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/AT_abc254_h">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/AT_abc254_h.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">【ABC254Ex】 Multiply or Divide by 2</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h3 id="题意"><a class="markdownIt-Anchor" href="#题意"></a> 题意</h3><p>给你两个集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ，你可以把集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 的任意一项变为原来的 $\left \lfloor\frac{1}{2}\right \rfloor $ 或 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 倍，求至少需要操作几步才能使 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>=</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A=B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>。如果无法将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 变为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，输出 <code>-1</code>。</p><h3 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h3><p>考虑贪心，可以将“把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 的任意元素变为原来的两倍”转换为“把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> 的任意元素变为原来的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{1}{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>”，这两个方法是等效的。</p><p>我们维护两个优先队列 <code>a</code> 和 <code>b</code>代表集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span> ，每次取出两个集合的最大值进行转化，然后我们采用这样的贪心策略：</p><p>如果 <code>a.top()==b.top()</code> ，那么直接将这两个元素出队，这说明两个集合的这两个元素已经相等了。</p><p>如果 <code>b.top()&gt;a.top()</code> ，那么将 <code>b.top()</code> 出队，除以2后再入队，这等价于将 集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 的最大值乘上2。</p><p>大家应该意识到了一个问题，如果将 <code>b.top()</code> 除以2的话，实际上是和 <code>a.top()*2</code> 的效果并不完全一样，因为除以2时会向下取整，所以到后面会一直多一个 1 而无法将 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 变为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>，这种情况就需要输出 <code>-1</code> 了。</p><p>接下来如果 <code>a.top()&gt;b.top()</code> 的话，跟上面一样，将 <code>a.top()</code> 出队，除以2后再入队即可，不需要考虑其他条件，因为在题意中已经说到需要向下取整了。</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><p>那么代码就很简单了，使用优先队列维护即可，单次修改（除 <code>a.top()==b.top()</code> 时）执行 <code>cnt++</code>，最后输出 <code>cnt</code> 作为答案即可。</p><h4 id="注释版"><a class="markdownIt-Anchor" href="#注释版"></a> 注释版</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,t,cnt; <span class="comment">//cnt作为答案 </span></span><br><span class="line">priority_queue&lt;<span class="type">int</span>&gt; a,b; <span class="comment">//优先队列 </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,a.<span class="built_in">push</span>(t); <span class="comment">//直接在a和b中入队，不需要静态数组储存，后面用不到静态数组的 </span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,b.<span class="built_in">push</span>(t);</span><br><span class="line">    <span class="keyword">while</span>(!a.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.<span class="built_in">top</span>()==b.<span class="built_in">top</span>()) <span class="comment">//贪心策略1，见TJ </span></span><br><span class="line">            a.<span class="built_in">pop</span>(),b.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.<span class="built_in">top</span>()&gt;b.<span class="built_in">top</span>())&#123; <span class="comment">//贪心策略3，见TJ </span></span><br><span class="line">            t=a.<span class="built_in">top</span>();</span><br><span class="line">            a.<span class="built_in">pop</span>(),a.<span class="built_in">push</span>(t&gt;&gt;<span class="number">1</span>),cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b.<span class="built_in">top</span>()&gt;a.<span class="built_in">top</span>())&#123; <span class="comment">//贪心策略2，见TJ </span></span><br><span class="line">            <span class="keyword">if</span>(b.<span class="built_in">top</span>()&amp;<span class="number">1</span>) <span class="comment">//b.top()是奇数则不满足*2的条件 </span></span><br><span class="line">                cout&lt;&lt;<span class="string">&quot;-1&quot;</span>,<span class="built_in">exit</span>(<span class="number">0</span>); <span class="comment">//退出程序，exit(0)等效于在main中return 0;，但是不用花括号 </span></span><br><span class="line">            t=b.<span class="built_in">top</span>(); <span class="comment">//需要一个变量临时保存当前的堆顶 </span></span><br><span class="line">            b.<span class="built_in">pop</span>(),b.<span class="built_in">push</span>(t&gt;&gt;<span class="number">1</span>),cnt++; <span class="comment">//位运算卡常 x&gt;&gt;1==x/2 </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;cnt;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//好习惯 </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="无注释版"><a class="markdownIt-Anchor" href="#无注释版"></a> 无注释版</h4><p><span style="color:white">可以CTJ的版本</span></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,t,cnt;</span><br><span class="line">priority_queue&lt;<span class="type">int</span>&gt; a,b;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,a.<span class="built_in">push</span>(t);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,b.<span class="built_in">push</span>(t);</span><br><span class="line">    <span class="keyword">while</span>(!a.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.<span class="built_in">top</span>()==b.<span class="built_in">top</span>())</span><br><span class="line">            a.<span class="built_in">pop</span>(),b.<span class="built_in">pop</span>();</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.<span class="built_in">top</span>()&gt;b.<span class="built_in">top</span>())&#123;</span><br><span class="line">            t=a.<span class="built_in">top</span>();</span><br><span class="line">            a.<span class="built_in">pop</span>(),a.<span class="built_in">push</span>(t&gt;&gt;<span class="number">1</span>),cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b.<span class="built_in">top</span>()&gt;a.<span class="built_in">top</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>(b.<span class="built_in">top</span>()&amp;<span class="number">1</span>)</span><br><span class="line">                cout&lt;&lt;<span class="string">&quot;-1&quot;</span>,<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            t=b.<span class="built_in">top</span>();</span><br><span class="line">            b.<span class="built_in">pop</span>(),b.<span class="built_in">push</span>(t&gt;&gt;<span class="number">1</span>),cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;cnt;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="multiset做法"><a class="markdownIt-Anchor" href="#multiset做法"></a> multiset做法</h4><p>我这里提供一种 <code>multiset</code> 的做法，闲的没事写的（</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,t,cnt;</span><br><span class="line">multiset&lt;<span class="type">int</span>&gt; a,b;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,a.<span class="built_in">emplace</span>(t); <span class="comment">//emplace比insert稍微快一点</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;t,b.<span class="built_in">emplace</span>(t);</span><br><span class="line">    <span class="keyword">while</span>(!a.<span class="built_in">empty</span>())&#123;</span><br><span class="line">        <span class="keyword">if</span>(*a.<span class="built_in">rbegin</span>()==*b.<span class="built_in">rbegin</span>())</span><br><span class="line">            a.<span class="built_in">erase</span>(--a.<span class="built_in">end</span>()),b.<span class="built_in">erase</span>(--b.<span class="built_in">end</span>());</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(*a.<span class="built_in">rbegin</span>()&gt;*b.<span class="built_in">rbegin</span>())&#123;</span><br><span class="line">            t=*a.<span class="built_in">rbegin</span>();</span><br><span class="line">            a.<span class="built_in">erase</span>(--a.<span class="built_in">end</span>()),a.<span class="built_in">emplace</span>(t&gt;&gt;<span class="number">1</span>),cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(*a.<span class="built_in">rbegin</span>()&lt;*b.<span class="built_in">rbegin</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>((*b.<span class="built_in">rbegin</span>())&amp;<span class="number">1</span>)</span><br><span class="line">                cout&lt;&lt;<span class="string">&quot;-1&quot;</span>,<span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">            t=*b.<span class="built_in">rbegin</span>();</span><br><span class="line">            b.<span class="built_in">erase</span>(--b.<span class="built_in">end</span>()),b.<span class="built_in">emplace</span>(t&gt;&gt;<span class="number">1</span>),cnt++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;cnt;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;传送门：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/AT_abc254_h&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="贪心" scheme="https://blog.yaria.top/tags/%E8%B4%AA%E5%BF%83/"/>
    
    <category term="优先队列" scheme="https://blog.yaria.top/tags/%E4%BC%98%E5%85%88%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>Interval GCD 题解 || WHK废物快乐题</title>
    <link href="https://blog.yaria.top/posts/9581764a/"/>
    <id>https://blog.yaria.top/posts/9581764a/</id>
    <published>2023-07-15T16:18:06.000Z</published>
    <updated>2023-07-15T16:18:06.000Z</updated>
    
    <content type="html"><![CDATA[<p>转自校内OJ博客，懒得改了（</p><p>这原本是lyd蓝书CH上的题欸……</p><h3 id="题目"><a class="markdownIt-Anchor" href="#题目"></a> 题目</h3><p>给定一个长度为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>的数列<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>，以及<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>条指令 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>≤</mo><mn>5</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">N≤5\times10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>,$ M&lt;=10^5$)，每条指令可能是以下两种之一：</p><p><code>C l r d</code>，表示把 <code>A[l],A[l+1],…,A[r]</code> 都加上 <code>d</code>。</p><p><code>Q l r</code>，表示询问 <code>A[l],A[l+1],…,A[r]</code> 的最大公约数(GCD)。</p><h4 id="输入"><a class="markdownIt-Anchor" href="#输入"></a> 输入</h4><p>第一行两个整数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo separator="true">,</mo><mi>M</mi></mrow><annotation encoding="application/x-tex">N,M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>，第二行<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>个整数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">A_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，接下来M行每条指令的格式如题目描述所示。</p><h4 id="输出"><a class="markdownIt-Anchor" href="#输出"></a> 输出</h4><p>对于每个询问，输出一个整数表示答案。</p><h4 id="样例"><a class="markdownIt-Anchor" href="#样例"></a> 样例</h4><h5 id="样例输入1"><a class="markdownIt-Anchor" href="#样例输入1"></a> 样例输入1</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">5 5</span><br><span class="line">1 3 5 7 9</span><br><span class="line">Q 1 5</span><br><span class="line">C 1 5 1</span><br><span class="line">Q 1 5</span><br><span class="line">C 3 3 6</span><br><span class="line">Q 2 4</span><br></pre></td></tr></table></figure><h5 id="样例输出1"><a class="markdownIt-Anchor" href="#样例输出1"></a> 样例输出1</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">4</span><br></pre></td></tr></table></figure><h4 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h4><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo separator="true">,</mo><mi>M</mi><mo>≤</mo><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">N,M≤2\times10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi><mo>&lt;</mo><mo>=</mo><mi>r</mi></mrow><annotation encoding="application/x-tex">l&lt;=r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73354em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>，数据保证任何时刻序列中的数都是不超过2^62-1的正整数。</p><h3 id="题意"><a class="markdownIt-Anchor" href="#题意"></a> 题意</h3><p>给定一个序列，需要对其进行区间加和和查询 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 操作。</p><h3 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h3><p>首先看到了区间加和，自然想到是直接打懒标记，但是呢。。。 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 具有一些特殊性，我们并不能通过向下传递标记的方式维护 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 。</p><p>于是想到树状数组区间修改的差分数组方案。</p><p>我们创建一个数组 b 来维护这个数列的差分值即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mi>i</mi></msub><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>i</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">b_i=a_i-a_{i-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span>，每一次区间修改就对区间的头尾进行单点增加即可。</p><p>那么b有什么用呢？请看：</p><p>首先在我们刚学递归的时候，老师们就曾讲过《九章算术》中求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 的更相减损术：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo>−</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gcd(x,y)= \gcd(x,y-x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></p><p>对于这个whk废物来说，证明它确实有点困难，不过通过BDFS的方式，得到了这样的答案：</p><p>设 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>c</mi><mi>d</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">gcd(x,y)=k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">c</span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> ，显然 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mi>k</mi><mo>⋅</mo><msub><mi>p</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>y</mi><mo>=</mo><mi>k</mi><mo>⋅</mo><msub><mi>p</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">x=k\cdot p_1,y=k\cdot p_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>；</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∴</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><mi>y</mi><mo separator="true">,</mo><mi>x</mi><mo>−</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>p</mi><mn>2</mn></msub><mo>⋅</mo><mi>k</mi><mo separator="true">,</mo><mi>k</mi><mo>⋅</mo><mo stretchy="false">(</mo><msub><mi>p</mi><mn>1</mn></msub><mo>−</mo><msub><mi>p</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>=</mo><mi>k</mi></mrow><annotation encoding="application/x-tex">\therefore \gcd(y,x-y)=\gcd(p_2\cdot k,k\cdot (p_1-p_2) )=k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69224em;vertical-align:0em;"></span><span class="mrel amsrm">∴</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></p><p>很好，我们证出来了这个之后可以容易地归纳出：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>−</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo>−</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>−</mo><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><mo stretchy="false">)</mo><mo>=</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><mi>gcd</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mi>a</mi><mn>2</mn></msub><mo>−</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo>−</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\gcd(a_1,a_2,...a_{n-1},a_n)=\gcd(a_1,a_2-a_1,a_3-a_2,...a_{n-3}-a_{n-2},a_{n}-a{n-1})=\gcd(a_1,\gcd(a_2-a_1,a_3-a_2,...a_{n-3}-a_{n-2},a_{n}-a_{n-1}))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p><p><em><s>我不告诉你其实这个我没有证明出来是瞎猜的</s></em></p><p>看到最后一个式子了么？<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub><mo>−</mo><msub><mi>a</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>a</mi><mn>3</mn></msub><mo>−</mo><msub><mi>a</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>3</mn></mrow></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>2</mn></mrow></msub><mo separator="true">,</mo><msub><mi>a</mi><mi>n</mi></msub><mo>−</mo><msub><mi>a</mi><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">a_2-a_1,a_3-a_2,...a_{n-3}-a_{n-2},a_{n}-a_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.73333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">.</span><span class="mord">.</span><span class="mord">.</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">3</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.791661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span></span></span></span> 不就是我们刚刚维护的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> 数组吗？那么问题就转化成了维护 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span> 的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 了。</p><p>最后还有一点，求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>gcd</mi><mo>⁡</mo></mrow><annotation encoding="application/x-tex">\gcd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mop"><span style="margin-right:0.01389em;">g</span>cd</span></span></span></span> 的时候第一个参数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 怎么求？非常简单，只需要维护一个树状数组来修改 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span> ，传入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">a_l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 就行了。</p><p>那么树状数组怎么区间增加呢？用树状数组维护一个差分数组，修改时更改左右端点，初始化为0表示原本 <code>a[i]</code> 的变化量，然后加上 <code>a[i]</code> 即可。</p><p>其实这也可以再打一个维护前缀和的线段树，但是有点麻烦了。</p><p>这时候 <code>Q l r</code> 就等价于：<code>gcd(a[l],ask(1,l+1,r))</code></p><p>对于<code>gcd</code>函数来说，我直接采用了 gcc 内置的 <code>__gcd</code> 函数，反正CCF比赛都是能用的（喜）</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><p>无坑。</p><h4 id="注释版"><a class="markdownIt-Anchor" href="#注释版"></a> 注释版</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> gcd __gcd <span class="comment">//节约码长... </span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long <span class="comment">//坏习惯，但是我用了 </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> l,r,data; <span class="comment">//维护的线段树，我采用结构体维护单个节点 </span></span><br><span class="line">&#125;t[<span class="number">2000005</span>];</span><br><span class="line"><span class="type">int</span> m,n,arr[<span class="number">500005</span>],l,r,a,b[<span class="number">500005</span>],c[<span class="number">500005</span>];</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="comment">// 线段树板子 </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    t[p].l=l,t[p].r=r;</span><br><span class="line">    <span class="keyword">if</span>(l==r) t[p].data=b[l];</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">build</span>(p*<span class="number">2</span>,l,mid);</span><br><span class="line">        <span class="built_in">build</span>(p*<span class="number">2</span><span class="number">+1</span>,mid<span class="number">+1</span>,r);</span><br><span class="line">        t[p].data=<span class="built_in">gcd</span>(t[p*<span class="number">2</span>].data,t[p*<span class="number">2</span><span class="number">+1</span>].data); <span class="comment">//这里把板子上面的min改为gcd就行了 </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> x,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[p].l==t[p].r) t[p].data+=v;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> mid=(t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;=mid) <span class="built_in">change</span>(p*<span class="number">2</span>,x,v);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">change</span>(p*<span class="number">2</span><span class="number">+1</span>,x,v);</span><br><span class="line">        t[p].data=<span class="built_in">gcd</span>(t[p*<span class="number">2</span>].data,t[p*<span class="number">2</span><span class="number">+1</span>].data); <span class="comment">//l18，s++</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&lt;=t[p].l&amp;&amp;r&gt;=t[p].r) <span class="keyword">return</span> <span class="built_in">abs</span>(t[p].data);</span><br><span class="line">    <span class="type">int</span> mid=(t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>,val=<span class="number">0</span>; <span class="comment">//这里val必须初始化为0不然会爆0 </span></span><br><span class="line">    <span class="keyword">if</span>(l&lt;=mid) val=<span class="built_in">gcd</span>(val,<span class="built_in">ask</span>(p*<span class="number">2</span>,l,r));</span><br><span class="line">    <span class="keyword">if</span>(r&gt;mid) val=<span class="built_in">gcd</span>(val,<span class="built_in">ask</span>(p*<span class="number">2</span><span class="number">+1</span>,l,r));</span><br><span class="line">    <span class="keyword">return</span> val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 树状数组板子，实际上维护的是差分，前缀和即为a[i]的变化量 </span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="keyword">return</span> x&amp;-x;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">gs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(;x;x-=<span class="built_in">lowbit</span>(x)) ans+=c[x];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(;x&lt;=n;x+=<span class="built_in">lowbit</span>(x)) c[x]+=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123; <span class="comment">/*因为用了 #define int long long导致函数返回值变成long long而编译器又不允许，</span></span><br><span class="line"><span class="comment">signed又等价于int，所以只能这样子写（其实在编译器宽松的情况下可以不加返回类型和return 0来压行，但是CCF比赛必爆0）*/</span></span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); <span class="comment">//读入优化 </span></span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m; </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;arr[i],b[i]=arr[i]-arr[i<span class="number">-1</span>]; <span class="comment">//维护差分数组 </span></span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n); <span class="comment">// 不build_tree见祖宗 </span></span><br><span class="line">    <span class="keyword">while</span>(m--)&#123; <span class="comment">//循环m次的简便写法，m减到0变成false即停止 </span></span><br><span class="line">        cin&gt;&gt;ch;</span><br><span class="line">        <span class="keyword">switch</span>(ch)&#123; <span class="comment">//switch开关，稍微比if简单，注意除最后一部分外每个部分结束要加break不然爆0 </span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">                cin&gt;&gt;l&gt;&gt;r&gt;&gt;a;</span><br><span class="line">                <span class="comment">//维护线段树和树状数组的差分</span></span><br><span class="line">                <span class="built_in">add</span>(l,a),<span class="built_in">change</span>(<span class="number">1</span>,l,a);</span><br><span class="line">                <span class="built_in">change</span>(<span class="number">1</span>,r<span class="number">+1</span>,-a),<span class="built_in">add</span>(r<span class="number">+1</span>,-a);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;Q&#x27;</span>:</span><br><span class="line">                cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">                <span class="comment">// 见上文 </span></span><br><span class="line">                cout&lt;&lt;<span class="built_in">gcd</span>(<span class="built_in">ask</span>(<span class="number">1</span>,l<span class="number">+1</span>,r),arr[l]+<span class="built_in">gs</span>(l))&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="极速版"><a class="markdownIt-Anchor" href="#极速版"></a> 极速版</h4><p><s><em>无注释版</em></s> <span style="color:white">可以CTJ的代码</span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> gcd __gcd</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span>&#123;</span><br><span class="line">    <span class="type">int</span> l,r,data;</span><br><span class="line">&#125;t[<span class="number">2000005</span>];</span><br><span class="line"><span class="type">int</span> m,n,arr[<span class="number">500005</span>],l,r,a,b[<span class="number">500005</span>],c[<span class="number">500005</span>];</span><br><span class="line"><span class="type">char</span> ch;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    t[p].l=l,t[p].r=r;</span><br><span class="line">    <span class="keyword">if</span>(l==r) t[p].data=b[l];</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="built_in">build</span>(p*<span class="number">2</span>,l,mid);</span><br><span class="line">        <span class="built_in">build</span>(p*<span class="number">2</span><span class="number">+1</span>,mid<span class="number">+1</span>,r);</span><br><span class="line">        t[p].data=<span class="built_in">gcd</span>(t[p*<span class="number">2</span>].data,t[p*<span class="number">2</span><span class="number">+1</span>].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">change</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> x,<span class="type">int</span> v)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(t[p].l==t[p].r) t[p].data+=v;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> mid=(t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(x&lt;=mid) <span class="built_in">change</span>(p*<span class="number">2</span>,x,v);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">change</span>(p*<span class="number">2</span><span class="number">+1</span>,x,v);</span><br><span class="line">        t[p].data=<span class="built_in">gcd</span>(t[p*<span class="number">2</span>].data,t[p*<span class="number">2</span><span class="number">+1</span>].data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">ask</span><span class="params">(<span class="type">int</span> p,<span class="type">int</span> l,<span class="type">int</span> r)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(l&lt;=t[p].l&amp;&amp;r&gt;=t[p].r) <span class="keyword">return</span> <span class="built_in">abs</span>(t[p].data);</span><br><span class="line">    <span class="type">int</span> mid=(t[p].l+t[p].r)&gt;&gt;<span class="number">1</span>,val=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(l&lt;=mid) val=<span class="built_in">gcd</span>(val,<span class="built_in">ask</span>(p*<span class="number">2</span>,l,r));</span><br><span class="line">    <span class="keyword">if</span>(r&gt;mid) val=<span class="built_in">gcd</span>(val,<span class="built_in">ask</span>(p*<span class="number">2</span><span class="number">+1</span>,l,r));</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(val);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">lowbit</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;<span class="keyword">return</span> x&amp;-x;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">gs</span><span class="params">(<span class="type">int</span> x)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(;x;x-=<span class="built_in">lowbit</span>(x)) ans+=c[x];</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(;x&lt;=n;x+=<span class="built_in">lowbit</span>(x)) c[x]+=y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        cin&gt;&gt;arr[i],b[i]=arr[i]-arr[i<span class="number">-1</span>];</span><br><span class="line">    <span class="built_in">build</span>(<span class="number">1</span>,<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">while</span>(m--)&#123;</span><br><span class="line">        cin&gt;&gt;ch;</span><br><span class="line">        <span class="keyword">switch</span>(ch)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;C&#x27;</span>:</span><br><span class="line">                cin&gt;&gt;l&gt;&gt;r&gt;&gt;a;</span><br><span class="line">                <span class="built_in">add</span>(l,a),<span class="built_in">change</span>(<span class="number">1</span>,l,a);</span><br><span class="line">                <span class="keyword">if</span>(r&lt;n) <span class="built_in">change</span>(<span class="number">1</span>,r<span class="number">+1</span>,-a),<span class="built_in">add</span>(r<span class="number">+1</span>,-a);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;Q&#x27;</span>:</span><br><span class="line">                cin&gt;&gt;l&gt;&gt;r;</span><br><span class="line">                cout&lt;&lt;<span class="built_in">gcd</span>(<span class="built_in">ask</span>(<span class="number">1</span>,l<span class="number">+1</span>,r),arr[l]+<span class="built_in">gs</span>(l))&lt;&lt;endl;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;转自校内OJ博客，懒得改了（&lt;/p&gt;
&lt;p&gt;这原本是lyd蓝书CH上的题欸……&lt;/p&gt;
&lt;h3 id=&quot;题目&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#题目&quot;&gt;&lt;/a&gt; 题目&lt;/h3&gt;
&lt;p&gt;给定一个长度为&lt;span class=&quot;katex</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数论" scheme="https://blog.yaria.top/tags/%E6%95%B0%E8%AE%BA/"/>
    
    <category term="线段树" scheme="https://blog.yaria.top/tags/%E7%BA%BF%E6%AE%B5%E6%A0%91/"/>
    
    <category term="树状数组" scheme="https://blog.yaria.top/tags/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84/"/>
    
  </entry>
  
  <entry>
    <title>【ABC098D】 XOR Sum 2 题解</title>
    <link href="https://blog.yaria.top/posts/c8da5f65/"/>
    <id>https://blog.yaria.top/posts/c8da5f65/</id>
    <published>2023-06-30T09:37:37.000Z</published>
    <updated>2023-06-30T09:37:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>题目链接：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/AT_arc098_b">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/AT_arc098_b.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">【ABC098D】 Xor Sum 2</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h3 id="题解"><a class="markdownIt-Anchor" href="#题解"></a> 题解</h3><h4 id="题目大意"><a class="markdownIt-Anchor" href="#题目大意"></a> 题目大意</h4><p>给出一个序列 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> ，求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>l</mi></msub><mo>⊕</mo><msub><mi>A</mi><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>⊕</mo><mo>⋯</mo><mo>⊕</mo><msub><mi>A</mi><mi>r</mi></msub><mo>=</mo><msub><mi>A</mi><mi>l</mi></msub><mo>+</mo><msub><mi>A</mi><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><mo>⋯</mo><mo>+</mo><msub><mi>A</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">A_l \oplus A_{l+1} \oplus \dots \oplus A_r = A_l + A_{l + 1} +\dots+ A_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> （ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⊕</mo></mrow><annotation encoding="application/x-tex">\oplus</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">⊕</span></span></span></span> 即为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 异或 ）</p><h4 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h4><p>众所周知，异或是位运算中的一种不进位加法，即为如果两个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">bit</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span></span></span></span> 相等返回 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> ，反之返回 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p><p>为什么说是不进位加法呢？比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mn>1</mn><mn>2</mn></msub><mo>+</mo><msub><mn>1</mn><mn>2</mn></msub><mo>=</mo><mn>1</mn><msub><mn>0</mn><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">1_2+1_2=10_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，但是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mn>1</mn><mn>2</mn></msub><mo>⊕</mo><msub><mn>1</mn><mn>2</mn></msub><mo>=</mo><msub><mn>0</mn><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">1_2 \oplus 1_2=0_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，前面一位的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 没了。</p><p>因为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> 的这种特性，易得 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>⊕</mo><mi>b</mi><mo>≤</mo><mi>a</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \oplus b\le a+b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83041em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>。</p><p>比如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1000001</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>+</mo><mo stretchy="false">(</mo><mn>10001</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mn>1000010</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(1000001)_2+(10001)_2=(1000010)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，而<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1000001</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>⊕</mo><mo stretchy="false">(</mo><mn>10001</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub><mo>=</mo><mo stretchy="false">(</mo><mn>1001000</mn><msub><mo stretchy="false">)</mo><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">(1000001)_2 \oplus (10001)_2=(1001000)_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>。</p><p>题目要求求 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>l</mi></msub><mo>⊕</mo><msub><mi>A</mi><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>⊕</mo><mo>⋯</mo><mo>⊕</mo><msub><mi>A</mi><mi>r</mi></msub><mo>=</mo><msub><mi>A</mi><mi>l</mi></msub><mo>+</mo><msub><mi>A</mi><mrow><mi>l</mi><mo>+</mo><mn>1</mn></mrow></msub><mo>+</mo><mo>⋯</mo><mo>+</mo><msub><mi>A</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">A_l \oplus A_{l+1} \oplus \dots \oplus A_r = A_l + A_{l + 1} +\dots+ A_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.891661em;vertical-align:-0.208331em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，所以这个区间要是能满足要求的话就需要满足所有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mi>i</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">bit</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span></span></span></span> 上最多只有一个 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 才能让 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>a</mi><mo>⊕</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a+b= a \oplus b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>。</p><p>所以这些数据肯定是有单调性的，然后用双指针扫一遍，用了实时处理前缀 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>o</mi><mi>r</mi></mrow><annotation encoding="application/x-tex">xor</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>、和的方式，稍微省了一些空间。</p><h3 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h3><p><s>Like QYC, it had some bug and I digged many pits. So if you Ctrl+ACV in one go, you’ll see quite lots of frogs are shouting.</s> 坑删了</p><p>请自己理解思路之后打代码。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,a[<span class="number">1919810</span>];</span><br><span class="line">ll l=<span class="number">1</span>,sxor,sum,ans;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); <span class="comment">//加速读入</span></span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> r=<span class="number">1</span>;r&lt;=n;r++)&#123;</span><br><span class="line">        sum+=a[r],sxor^=a[r]; <span class="comment">//处理当前前缀sum和xor</span></span><br><span class="line">        <span class="keyword">while</span>(sxor!=sum&amp;&amp;(l&lt;r)) <span class="comment">//向左边扩展范围</span></span><br><span class="line">            sum-=a[l],sxor^=a[l++]; <span class="comment">//算xor和sum</span></span><br><span class="line">        ans+=r-l<span class="number">+1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">一鸽又咕的文章...</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="双指针" scheme="https://blog.yaria.top/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"/>
    
    <category term="位运算" scheme="https://blog.yaria.top/tags/%E4%BD%8D%E8%BF%90%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P4008 [NOI2003] 文本编辑器</title>
    <link href="https://blog.yaria.top/posts/8820b6d1/"/>
    <id>https://blog.yaria.top/posts/8820b6d1/</id>
    <published>2023-05-28T00:40:28.000Z</published>
    <updated>2023-05-28T00:40:28.000Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P4008">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P4008.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P4008 [NOI2003] 文本编辑器</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p><s>某普及组蒟蒻居然做紫题？这是人性的扭曲还是道德的沦丧？</s></p><p>STL大水模拟，逃（</p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">点击查看题面</summary><div class="toggle-content"><h1 id="noi2003-文本编辑器"><a class="markdownIt-Anchor" href="#noi2003-文本编辑器"></a> [NOI2003] 文本编辑器</h1><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>很久很久以前，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mi>O</mi><mi>S</mi><mn>3.</mn><mi>x</mi></mrow><annotation encoding="application/x-tex">DOS3.x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord">3</span><span class="mord">.</span><span class="mord mathnormal">x</span></span></span></span> 的程序员们开始对 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>D</mi><mi>L</mi><mi>I</mi><mi>N</mi></mrow><annotation encoding="application/x-tex">EDLIN</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal">L</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 感到厌倦。于是，人们开始纷纷改用自己写的文本编辑器⋯⋯</p><p>多年之后，出于偶然的机会，小明找到了当时的一个编辑软件。进行了一些简单的测试后，小明惊奇地发现：那个软件每秒能够进行上万次编辑操作（当然，你不能手工进行这样的测试） ！于是，小明废寝忘食地想做一个同样的东西出来。你能帮助他吗？</p><p>为了明确目标，小明对“文本编辑器”做了一个抽象的定义:</p><p>文本：由 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 个或多个 ASCII 码在闭区间 [<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn></mrow><annotation encoding="application/x-tex">32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">2</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>126</mn></mrow><annotation encoding="application/x-tex">126</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">6</span></span></span></span>] 内的字符构成的序列。</p><p>光标：在一段文本中用于指示位置的标记，可以位于文本首部，文本尾部或文本的某两个字符之间。</p><p>文本编辑器：由一段文本和该文本中的一个光标组成的，支持如下操作的数据结构。如果这段文本为空，我们就说这个文本编辑器是空的。</p><table><thead><tr><th style="text-align:left">操作名称</th><th style="text-align:left">输入文件中的格式</th><th style="text-align:left">功能</th></tr></thead><tbody><tr><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Move</mtext><mo stretchy="false">(</mo><mi>k</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Move}(k)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Move</span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left">Move k</td><td style="text-align:left">将光标移动到第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> 个字符之后，如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">k=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>，将光标移到文本开头</td></tr><tr><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Insert</mtext><mo stretchy="false">(</mo><mi>n</mi><mo separator="true">,</mo><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Insert}(n,s)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Insert</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left">Insert n s</td><td style="text-align:left">在光标处插入长度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 的字符串 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>，光标位置不变<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n\geq1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td></tr><tr><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Delete</mtext><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Delete}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Delete</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left">Delete n</td><td style="text-align:left">删除光标后的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个字符，光标位置不变，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \geq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td></tr><tr><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Get</mtext><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Get}(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Get</span></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left">Get n</td><td style="text-align:left">输出光标后的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个字符，光标位置不变，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≥</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n \geq 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td></tr><tr><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Prev</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Prev}()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Prev</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left">Prev</td><td style="text-align:left">光标前移一个字符</td></tr><tr><td style="text-align:left"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>Next</mtext><mo stretchy="false">(</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\text{Next}()</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">Next</span></span><span class="mopen">(</span><span class="mclose">)</span></span></span></span></td><td style="text-align:left">Next</td><td style="text-align:left">光标后移一个字符</td></tr></tbody></table><p>你的任务是：</p><ul><li><p>建立一个空的文本编辑器。</p></li><li><p>从输入文件中读入一些操作并执行。</p></li><li><p>对所有执行过的 <code>GET</code> 操作，将指定的内容写入输出文件。</p></li></ul><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>输入文件 <code>editor.in</code> 的第一行是指令条数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span></span></span></span>，以下是需要执行的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathnormal">t</span></span></span></span> 个操作。其中：</p><p>为了使输入文件便于阅读， <code>Insert</code> 操作的字符串中可能会插入一些回车符， 请忽略掉它们（如果难以理解这句话，可以参照样例） 。</p><p>除了回车符之外，输入文件的所有字符的 ASCII 码都在闭区间 [<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>32</mn></mrow><annotation encoding="application/x-tex">32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">2</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>126</mn></mrow><annotation encoding="application/x-tex">126</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">6</span></span></span></span>] 内。且</p><p>行尾没有空格。</p><p>这里我们有如下假定：</p><ul><li><p><code>MOVE</code> 操作不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>50000</mn></mrow><annotation encoding="application/x-tex">50000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 个， <code>INSERT</code> 和 <code>DELETE</code> 操作的总个数不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4000</mn></mrow><annotation encoding="application/x-tex">4000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>，<code>PREV</code> 和 <code>NEXT</code> 操作的总个数不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>200000</mn></mrow><annotation encoding="application/x-tex">200000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p></li><li><p>所有 <code>INSERT</code> 插入的字符数之和不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mi>M</mi></mrow><annotation encoding="application/x-tex">2M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi>M</mi><mo>=</mo><mn>1024</mn><mo>×</mo><mn>1024</mn></mrow><annotation encoding="application/x-tex">1M=1024\times 1024</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">2</span><span class="mord">4</span></span></span></span> 字节） ，正确的输出文件长度不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>M</mi></mrow><annotation encoding="application/x-tex">3M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 字节。</p></li><li><p><code>DELETE</code> 操作和 <code>GET</code> 操作执行时光标后必然有足够的字符。 <code>MOVE</code> 、 <code>PREV</code> 、 <code>NEXT</code> 操作必然不会试图把光标移动到非法位置。</p></li><li><p>输入文件没有错误。</p></li></ul><p>对 C++ 选手的提示：经测试，最大的测试数据使用 <code>fstream</code> 进行输入有可能会比使用 <code>stdio</code> 慢约 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 秒。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>输出文件 editor.out 的每行依次对应输入文件中每条 <code>Get</code> 指令的输出。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">15</span><br><span class="line">Insert 26</span><br><span class="line">abcdefghijklmnop</span><br><span class="line">qrstuv wxy</span><br><span class="line">Move 15</span><br><span class="line">Delete 11</span><br><span class="line">Move 5</span><br><span class="line">Insert 1</span><br><span class="line">^</span><br><span class="line">Next</span><br><span class="line">Insert 1</span><br><span class="line">_</span><br><span class="line">Next</span><br><span class="line">Next</span><br><span class="line">Insert 4</span><br><span class="line">.\/.</span><br><span class="line">Get 4</span><br><span class="line">Prev</span><br><span class="line">Insert 1</span><br><span class="line">^</span><br><span class="line">Move 0</span><br><span class="line">Get 22</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.\/.</span><br><span class="line">abcde^_^f.\/.ghijklmno</span><br></pre></td></tr></table></figure></div></details><h1 id="正常做题思想"><a class="markdownIt-Anchor" href="#正常做题思想"></a> 正常做题思想</h1><h2 id="块状链表"><a class="markdownIt-Anchor" href="#块状链表"></a> 块状链表</h2><p>块状链表本身的原理是：将一个链表分割成 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.11333499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9266650000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.886665em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.11333499999999996em;"><span></span></span></span></span></span></span></span></span> 个长为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.11333499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9266650000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.886665em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.11333499999999996em;"><span></span></span></span></span></span></span></span></span> 的块，并为每一个块创建一个数组索引，每次访问时先找到元素对应的块，再在每一个块中朴素查找。</p><p>这样时间复杂度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>N</mi><msqrt><mi>N</mi></msqrt><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(N \sqrt{N})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.176665em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9266650000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.886665em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.11333499999999996em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ，不过对于这道 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>2</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">1\le N \le 2\times 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span> 的题勉强能过。</p><p>参考：</p><a class="tag-Link" target="_blank" href="https://oi-wiki.org/ds/block-list/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/oi-wiki.org/ds/block-list/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">块状链表</div>            <div class="tag-link-sitename">OI Wiki</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="splay"><a class="markdownIt-Anchor" href="#splay"></a> Splay</h2><p>不过问题是：链表不断更新，如何维护每一个块，使每个块保持 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msqrt><mi>N</mi></msqrt></mrow><annotation encoding="application/x-tex">\sqrt{N}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.04em;vertical-align:-0.11333499999999996em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9266650000000001em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-2.886665em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg width='400em' height='1.08em' viewBox='0 0 400000 1080' preserveAspectRatio='xMinYMin slice'><path d='M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z'/></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.11333499999999996em;"><span></span></span></span></span></span></span></span></span> 的长度呢？</p><p>这确实很复杂，考虑的细节很多，所以还有一种叫做Splay的树来维护（但本蒟蒻不会 qwq</p><p>参考：</p><a class="tag-Link" target="_blank" href="https://oi-wiki.org/ds/splay/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/oi-wiki.org/ds/splay/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Splay 树</div>            <div class="tag-link-sitename">OI Wiki</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="stl大水法"><a class="markdownIt-Anchor" href="#stl大水法"></a> STL大水法</h1><h2 id="介绍"><a class="markdownIt-Anchor" href="#介绍"></a> 介绍</h2><p>这道题用高级数据结构虽然比较麻烦（如上），不过GCC给我们提供了一个利器：<code>ext/rope</code>。</p><p>这是内置于 <code>gcc</code> 编译器的 <code>ext</code> 文件夹内的头文件中定义的数据结构，并非ISO C++，当然使用的命名空间也有所不同，并且有两条下划线：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_cxx;</span><br></pre></td></tr></table></figure><p>不过大家不用担心，按照€€￡在2021年发布的公告的说法，明确支持了双下划线开头的库函数可以在竞赛中使用！！！（CCF你变了好多，当年你还不准用STL呢！）</p><p>名义上这是一种块状链表，本来是设计来存储字符串，当然实际上是使用可持久化平衡树实现的，所以复杂度实际上是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\ log\ n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，更加优秀。</p><h1 id="用法"><a class="markdownIt-Anchor" href="#用法"></a> 用法</h1><p>使用以下方式引入它：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ext/rope&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_cxx; <span class="comment">//因为这是g++内置非标库函数</span></span><br></pre></td></tr></table></figure><p>初始化一个rope：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rope&lt;<span class="type">int</span>&gt; rp; <span class="comment">//创建一个int类型的rope，这常被用来水主席树（</span></span><br><span class="line">rope&lt;pair&lt;string,<span class="type">int</span>&gt;&gt; rp2; <span class="comment">//创建一个存储了pair&lt;string,int&gt;的rope</span></span><br><span class="line">crope rp3; <span class="comment">//这等价于下面的：</span></span><br><span class="line">rope&lt;<span class="type">char</span>&gt; rp3;</span><br></pre></td></tr></table></figure><p>插入元素：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">crope test;</span><br><span class="line">test.<span class="built_in">push_back</span>(x); <span class="comment">//在末尾添加x</span></span><br><span class="line">test.<span class="built_in">insert</span>(pos,x); <span class="comment">//在pos插入x　　</span></span><br><span class="line">test.<span class="built_in">erase</span>(pos,x); <span class="comment">//从pos开始删除x个</span></span><br><span class="line">test.<span class="built_in">copy</span>(pos,len,x); <span class="comment">//从pos开始到pos+len为止用x代替</span></span><br><span class="line">test.<span class="built_in">replace</span>(pos,x); <span class="comment">//从pos开始换成x元素</span></span><br><span class="line">test.<span class="built_in">substr</span>(pos,x); <span class="comment">//提取pos开始x个元素</span></span><br><span class="line">test.<span class="built_in">at</span>(x); <span class="comment">//访问第x个元素，这等价于下面的：</span></span><br><span class="line">tast[x];</span><br></pre></td></tr></table></figure><p>这就是 <code>rope</code> 的简单水法了。</p><h1 id="水过这道题"><a class="markdownIt-Anchor" href="#水过这道题"></a> 水过这道题！</h1><p>现在我们就可以把 <code>crope</code> 存储的文本当作 <code>string</code> 一样对待来打模拟了，用<code>pos</code>表示光标位置，按照题目指引模拟做题即可。</p><p>注意读入不能用 <code>cin</code> <code>cout</code>，建议关闭流同步（注意这时不要使用  <code>string</code> ）或使用 <code>scanf</code> <code>printf</code>，也可以使用 <code>getchar</code> <code>putchar</code> <code>puts</code> 等手打快读来卡常。</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//QwQ</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ext/rope&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> __gnu_cxx;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">crope R; <span class="comment">//存储文本</span></span><br><span class="line"><span class="type">char</span> cmd[<span class="number">24</span>],s[<span class="number">19198101</span>];  <span class="comment">//cmd读入命令，s读入文字</span></span><br><span class="line"><span class="type">int</span> t,pos,n; <span class="comment">//pos存光标位置</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">readint</span><span class="params">()</span></span>&#123; <span class="comment">//快读，读int</span></span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="keyword">while</span>(!<span class="built_in">isdigit</span>(c=<span class="built_in">getchar</span>()));</span><br><span class="line">    <span class="type">int</span> k=c<span class="number">-48</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">isdigit</span>(c=<span class="built_in">getchar</span>()))</span><br><span class="line">        k=(k&lt;&lt;<span class="number">1</span>)+(k&lt;&lt;<span class="number">3</span>)+c<span class="number">-48</span>;</span><br><span class="line">    <span class="keyword">return</span> k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">reads</span><span class="params">(<span class="type">char</span> *s,<span class="type">int</span> len)</span></span>&#123; <span class="comment">//快读，读char*</span></span><br><span class="line">    s[len]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    len--;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;=len;i++)&#123;</span><br><span class="line">        s[i]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="keyword">while</span>(s[i]&lt;<span class="number">32</span>||<span class="number">126</span>&lt;s[i]) s[i]=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;t);</span><br><span class="line">    <span class="keyword">while</span>(t--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,&amp;cmd);</span><br><span class="line">        <span class="keyword">switch</span>(cmd[<span class="number">0</span>])&#123; <span class="comment">//不同命令</span></span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;M&#x27;</span>: <span class="comment">//Move 移动光标</span></span><br><span class="line">                pos=<span class="built_in">readint</span>();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;I&#x27;</span>:&#123; <span class="comment">//Insert 插入文本，注意作用域，加大括号 </span></span><br><span class="line">                <span class="type">int</span> len=<span class="built_in">readint</span>();</span><br><span class="line">                <span class="built_in">reads</span>(s,len);</span><br><span class="line">                R.<span class="built_in">insert</span>(pos,s);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>: <span class="comment">//Delete 删除文本</span></span><br><span class="line">                n=<span class="built_in">readint</span>();</span><br><span class="line">                R.<span class="built_in">erase</span>(pos,n);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;G&#x27;</span>: <span class="comment">//Get 读取文本</span></span><br><span class="line">                n=<span class="built_in">readint</span>()<span class="number">-1</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=pos;i&lt;=pos+n;i++)</span><br><span class="line">                <span class="built_in">putchar</span>(R[i]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;P&#x27;</span>: <span class="comment">//Prev 向前移动光标</span></span><br><span class="line">                pos--;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;N&#x27;</span>: <span class="comment">//Next 向后移动光标</span></span><br><span class="line">                pos++;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">紫题，但是可以用STL rope以 O(nlogn) 的复杂度 水过</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数据结构" scheme="https://blog.yaria.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="模拟" scheme="https://blog.yaria.top/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="STL" scheme="https://blog.yaria.top/tags/STL/"/>
    
    <category term="分块" scheme="https://blog.yaria.top/tags/%E5%88%86%E5%9D%97/"/>
    
    <category term="链表" scheme="https://blog.yaria.top/tags/%E9%93%BE%E8%A1%A8/"/>
    
  </entry>
  
  <entry>
    <title>【公测中/NoTopDomain】还在忍受极域的烦恼吗？</title>
    <link href="https://blog.yaria.top/posts/55af90aa/"/>
    <id>https://blog.yaria.top/posts/55af90aa/</id>
    <published>2023-05-19T15:36:09.000Z</published>
    <updated>2023-05-19T15:36:09.000Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://github.com/lyxofficial/notopdomain">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/lyxofficial/notopdomain.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">LYXOfficial/NoTopDomain</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>因为信息老师的奇怪行为（上课禁了U盘网站）导致本蒟蒻水题困难，于是在五一开始编写此程序。</p><div class="note info flat"><p>《宇宙安全声明》</p><p>如果被OI教练/信息老师骂诸如说是：</p><p>“如果你还是以这个态度来面对竞赛的话，那我觉得你的竞赛生涯已经结束了。”</p><p>这种的话，本蒟蒻并不会背锅。</p></div><h1 id="软件截图"><a class="markdownIt-Anchor" href="#软件截图"></a> 软件截图</h1><p><img src="https://bu.dusays.com/2023/05/20/6467a21bb795a.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/05/20/6467a21fa5d84.png" alt="" /></p><h1 id="软件介绍"><a class="markdownIt-Anchor" href="#软件介绍"></a> 软件介绍</h1><p>因为并不擅长MFC/Qt C++ GUI开发，选择了自己有经验的PyQt5（本来打算用PySide6的但是对Win7等老机房兼容不好），借助PyWin32API和psutil加以实现，打包用的是nuitka，本机使用Py38-32环境，不过因为有时候会在学校打（是Py311-64），所以有时候大小会从16M变成21M左右。</p><p>我也知道Python效率略低且打包文件稍大，不过还是控制在了可接受范围吧（qwq</p><p>既然名字都叫 NoTopDomain 了，主要功能与极域有关，至于学生机房管理助手，因为我们学校并没有安装~~ <s>（曾经装过却因为一堆bug断送了几个OIer的竞赛生涯）</s>，这时建议用：</p><a class="tag-Link" target="_blank" href="https://github.com/BengbuGuards/mythwaretoolkit">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/BengbuGuards/mythwaretoolkit.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">BengbuGuards/mythwaretoolkit</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>软件可能会报毒（尤其是b1.4+更容易爆，但是似乎只有Win10会报，Win11扫描一下也没有爆），需要手动给杀毒软件加白名单</p><p>主要功能相信大家也大概清楚了：</p><ol><li>杀掉/启动极域</li><li>挂起/恢复极域</li><li>多线程定时循环+DLL保持自身最前（因为没做令牌窃取超级置顶，所以广播时会闪烁）</li><li>多线程定时循环+DLL解除黑屏等键盘限制（鼠标限制因用户体验已放弃）</li><li>解除广播全屏化（也可以解除共享屏幕，注意只是解了按钮）</li><li>智慧的解法：把鼠标拖到解禁了的按钮按一下再拖回来 awa（在设置第二项）</li><li>一部分QSS</li><li>解除U盘/软件限制（暂不可恢复）</li><li>解除网站访问限制（暂不可恢复）</li><li>唤起任务管理器并勾选置顶</li><li>杀掉选定/输入进程</li><li>修改选定窗口置顶状态（采用的是SWP_TOPMOST而不是SWP_TOP）</li><li>热键唤起：默认Alt+M唤起主窗口，Alt+T唤起任务管理器，Alt+Y切换当前窗口置顶，Alt+K杀死当前进程</li><li>脱离极域远程关机</li><li>脱离教师远程控制（尚未实现）</li><li>屏蔽教师远程命令（尚未实现）</li><li>获取极域密码（尚未实现）（PS：mythware_super_password）</li><li>强制卸载极域（尚未实现）</li><li>解除工具栏提交（尚未实现）</li><li>接收因杀掉极域等时教师发送的文件的遗漏部分（已抛弃）</li><li>解除工具限制（如TSK CMD等）</li><li>解除映像劫持（主要防学机管）</li><li>重启资源管理器</li><li>检测极域/广播/黑屏状态</li><li>一部分配置、设置快捷键</li></ol><p>目前软件因为部分功能未完成，依然停留在beta阶段，尽量一周一更，欢迎使用（</p><p>以上部分功能体验并不好，欢迎大家反馈（暂时只支持Github提交issue/pr，以前uClock Dxdownload的那种邮箱反馈个人感觉不太合适。）</p><h1 id="下载链接"><a class="markdownIt-Anchor" href="#下载链接"></a> 下载链接</h1><p>除上文Github外，还可以在蓝奏云下载，包含了所有历史Release及源码：</p><a class="tag-Link" target="_blank" href="https://xydc.lanzouo.com/b018x6qza">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/xydc.lanzouo.com/b018x6qza.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">NoTopDomain</div>            <div class="tag-link-sitename">蓝奏云</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>密码:2al0</p>]]></content>
    
    
      
      
    <summary type="html">&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://github.com/lyxofficial/notopdomain&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
    &lt;div </summary>
      
    
    
    
    <category term="编程" scheme="https://blog.yaria.top/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="编程" scheme="https://blog.yaria.top/tags/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="NoTopDomain" scheme="https://blog.yaria.top/tags/NoTopDomain/"/>
    
    <category term="PyQt5" scheme="https://blog.yaria.top/tags/PyQt5/"/>
    
    <category term="Python" scheme="https://blog.yaria.top/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>千呼万唤始出来！鸽了一年半的第八章终于更新了！！！</title>
    <link href="https://blog.yaria.top/posts/28159584/"/>
    <id>https://blog.yaria.top/posts/28159584/</id>
    <published>2023-04-21T15:26:49.000Z</published>
    <updated>2023-04-21T15:26:49.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>自从2021年底以来 Phigros更新第七章后，你游在2022~2023长达一年多的时间内都未更新主线章节（当然更了弭刻日支线二）。</p><p>今年2月时，官方发布了一段预告视频，在3月底又发了新版视频，并且出现了表魔王（在实机演示中出现过第八章共有6首歌）</p><p>旧版视频在新版发布后进行了换源，并且更改了标题，冷光变成了无信号（鸠鸠看烟花被幽蓝边界吞噬了 qwq）【所以说鸠鸠在第六章死一次 第八章又死一次，鸽游礼貌吗】</p><p><img src="https://bu.dusays.com/2023/04/21/6442b2a7d091b.png" alt="1682092709459.png" /></p><p>（1为新版 3为旧版，实际上旧版的经纬度刚好对应21日的一次日环食的经纬度）</p><p>有趣的一件事是，在BK对鸽游的那次采访中实际上是透露了Phigros第八章的曲目的，甚至包括隐藏曲（PS：愚人节的Phi\g/os实际上也是来自于这个视频的一个员工的整活）</p><p><img src="https://bu.dusays.com/2023/04/21/6442b2a7d091b.png" alt="1682092709459.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442b3d1af242.png" alt="1682093008522.png" /></p><p>（这是隐藏魔王！！！）</p><p><img src="https://bu.dusays.com/2023/04/22/6442b3ed5b3e8.png" alt="1682093035075.png" /></p><p>（这个图实际上是透露了321的曲师，勉强可见Normal1Zer）</p><p><img src="https://bu.dusays.com/2023/04/22/6442b4d432a00.png" alt="1682093266334.png" /></p><p><span style="color:green">LeaF</span></p><p><img src="https://bu.dusays.com/2023/04/22/6442b5bda17a6.png" alt="1682093499666.png" /></p><p>全独占，破产计划（</p><p>后面的流程素材都是网图，因为不方便截屏 <s>太菜了</s></p><h1 id="30更了什么"><a class="markdownIt-Anchor" href="#30更了什么"></a> 3.0更了什么</h1><p>先讲讲一些其它的更新吧</p><h2 id="闫大大的故事"><a class="markdownIt-Anchor" href="#闫大大的故事"></a> 闫大大的故事</h2><h3 id="曲绘更换"><a class="markdownIt-Anchor" href="#曲绘更换"></a> 曲绘更换</h3><p>失心疯换了曲绘，但是我觉得原来的更好看（这个新的鸠鸠看起来很那啥？</p><p><img src="https://bu.dusays.com/2023/04/22/6442bb8965911.png" alt="1682094983561.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442b9d4a570f.png" alt="1682094546576.png" /></p><h3 id="创人の疯屿at"><a class="markdownIt-Anchor" href="#创人の疯屿at"></a> 创人の疯屿AT</h3><p>可是我的IN13已经被198创死了（交互打得烂死了最近还癖上了qwq</p><p>闫东炜：我这么多曲子，好不容易失心疯和华灯爱弄了个14都是下位，鸽游你礼貌吗？</p><p>于是疯屿就使用了著名的尾杀硬塞法塞到了14.8</p><p><img src="https://bu.dusays.com/2023/04/22/6442bb4f0d348.png" alt="1682094924840.png" /></p><p>总的来说，这次闫大大完全胜利，就等闫东炜精选集了）</p><h2 id="第四章被幽蓝边界吞噬了"><a class="markdownIt-Anchor" href="#第四章被幽蓝边界吞噬了"></a> 第四章被幽蓝边界吞噬了</h2><p>变成过去的章节了（</p><p>话说第五章会不会变啊，应该是魔王曲，不会变？</p><h2 id="变涩的-新图标"><a class="markdownIt-Anchor" href="#变涩的-新图标"></a> <s>变涩的</s> 新图标</h2><p>看看：</p><p><img src="https://bu.dusays.com/2023/04/22/6442bc20a9133.png" alt="1682095135594.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442bbfab24ce.png" alt="1682095097263.png" /></p><h2 id="全新的收藏界面"><a class="markdownIt-Anchor" href="#全新的收藏界面"></a> 全新的收藏界面</h2><p>（在BK访问出现过</p><p>特别惊艳，还可以跟着陀螺仪转！</p><p><img src="https://bu.dusays.com/2023/04/22/6442c4458a7c8.png" alt="1682097218420.png" /></p><h2 id="来玩第八章吧"><a class="markdownIt-Anchor" href="#来玩第八章吧"></a> 来玩第八章吧！</h2><p>首先进入第八章显示的UI是全新的（非常惊艳），没想到曾经Tip和林百的PhigrOS真的被你游弄出来了！</p><p><img src="https://bu.dusays.com/2023/04/22/6442cc185b364.png" alt="1682099222508.png" /></p><p>（很细节）</p><p><img src="https://bu.dusays.com/2023/04/22/6442c33646c6f.png" alt="1682096948515.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442c29a026e7.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442c411398c8.png" alt="1682097164003.png" /></p><h3 id="解锁流程"><a class="markdownIt-Anchor" href="#解锁流程"></a> 解锁流程</h3><p>Tip: 各位像我一样的蒟蒻小鸽子可以打HD哦！</p><p>首先在第六章把micro.wav打到S（已经打了的也行），然后点击就会自动跳到Crave Wave（虽然是13.6，但是交互课堂创死本蒟蒻）</p><p><img src="https://bu.dusays.com/2023/04/22/6442c9198eee0.png" alt="1682098455172.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442c948c9c43.png" alt="1682098503200.png" /></p><p>（又是你）</p><p>打完即可解锁（真的无门槛！！！）</p><p>然后打Cerreis（过去的章节）打到S（同上），也会自动进入战车 （14.4，感觉这个叠键稍多，但是比冷光难（？）</p><p><img src="https://bu.dusays.com/2023/04/22/6442c9774c7be.png" alt="1682098549113.png" /></p><p>打完后经过剧情后会强制打retribution（15.8，背景效果很花，事血条，很符合我对未来生活的想象（</p><p><img src="https://bu.dusays.com/2023/04/22/6442ca68aca5e.png" alt="1682098790784.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442caae88607.png" alt="1682098858774.png" /></p><p>接下来会进入解锁321（表魔王）的流程（15.9 16.6 全黄塞爆），后面的效果特别目害，完全读谱不能 qwq（这段貌似对配置要求高，不然会卡，怪不得愚人节要加光敏性癫痫）</p><p><img src="https://bu.dusays.com/2023/04/22/6442caeb1136e.png" alt="1682098920037.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442cb4e76b7f.png" alt="1682099019361.png" /></p><p>要打完的时候会提示PhigrOS崩溃，这时重开就解锁表魔王了</p><p><img src="https://bu.dusays.com/2023/04/22/6442cb19a34e0.png" alt="1682098967176.png" /></p><p>好了，现在剩下了两首未解锁，一首就是冷光，一首就是我们梦寐以求的里魔王了！！！</p><p>冷光怎么开呢？看到前面线索提示的“换个角度思考问题”了吗，只需要在第二首（当然你也发现第二首的曲绘倒着的）转板触发自动翻转就可以进入了。（看pv以为是镜像，后面以为又是像orz愚人节一样躺在床上打 真笨）</p><p><img src="https://bu.dusays.com/2023/04/22/6442cb77b4110.png" alt="1682099060381.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442cba1605b8.png" alt="1682099101620.png" /></p><p>（百九十八又双叒叕创人）</p><p>如果黄键全接着，尾杀会放烟花，然后又会打一遍retribution（这次背景是蓝的），去解锁真魔王Distorted Fate（15.9 16.7 居然是削除 怪不得卖周边，但感觉这次魔王的谱有点摆烂，居然没Iga Rr难）</p><p><img src="https://bu.dusays.com/2023/04/22/6442cd0876fbc.png" alt="1682099461308.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442cd397e10b.png" alt="1682099509223.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442cd7669dce.png" alt="1682099571615.png" /></p><p>第八章解锁完后，游戏的UI会出现类似(幽蓝边界)这样的效果?可能还有一些隐蔽的东西，按照收集品的说法，感觉里魔王应该还会有一个爆谱，应该是一个复杂的流程，等解包结果吧，而且第八章没掉曲绘只有诗签啊啊啊啊啊啊！</p><p><img src="https://bu.dusays.com/2023/04/22/6442cda158c1a.png" alt="1682099614720.png" /></p><p><img src="https://bu.dusays.com/2023/04/22/6442cde604ef4.png" alt="1682099683352.png" /></p><p>PS：在解锁完毕后，第八章的UI不习惯是可以切回普通UI的</p><p>（2023.5.19更新：并没有什么东西，盲猜是第九章线索（）</p><h1 id="所以这是非商业音游"><a class="markdownIt-Anchor" href="#所以这是非商业音游"></a> 所以，这是非商业音游？</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;自从2021年底以来 Phigros更新第七章后，你游在2022~2023长达一年多的时间内都未更新主线章节（当然更了弭刻日支线二）。&lt;/p&gt;
</summary>
      
    
    
    
    <category term="音游" scheme="https://blog.yaria.top/categories/%E9%9F%B3%E6%B8%B8/"/>
    
    
    <category term="音游" scheme="https://blog.yaria.top/tags/%E9%9F%B3%E6%B8%B8/"/>
    
    <category term="Phigros" scheme="https://blog.yaria.top/tags/Phigros/"/>
    
  </entry>
  
  <entry>
    <title>谜题保管所:与deathMark的访谈（piecemeal）</title>
    <link href="https://blog.yaria.top/posts/fcfde12/"/>
    <id>https://blog.yaria.top/posts/fcfde12/</id>
    <published>2023-03-12T02:24:54.000Z</published>
    <updated>2023-03-12T02:24:54.000Z</updated>
    
    <content type="html"><![CDATA[<p>转一篇林泊水一水 qwq</p><p>原文</p><a class="tag-Link" target="_blank" href="https://wiki.pigeon-games.com/index.php?title=%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:%E6%AD%A3%E8%A8%80%E7%A2%8E%E8%AF%AD">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/wiki.pigeon-games.com/index.php?title=%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:%E6%AD%A3%E8%A8%80%E7%A2%8E%E8%AF%AD.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">谜题保管所:与deathMark的访谈（piecemeal） </div>            <div class="tag-link-sitename">林泊百科</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>此处放置<a href="%E7%A2%8E%E6%95%B0%E7%A0%94%E5%9B%A2%E5%BB%BA%E5%9C%BA" title="wikilink">碎数研团建场</a>与<a href="%E5%90%89%E8%AF%BA%E6%98%9F%E8%A7%82%E6%B5%8B%E7%AB%99" title="wikilink">吉诺星观测站</a>成员在与剧情主笔<a href="User:DeathMark" title="wikilink">deathMark</a>先生对世界观和剧情内容进行相关讨论时，dM给出的补充设定。<br />该页面长期更新，刊载内容均已获得dM本人批准。<br />欲添加过往内容请联系<a href="User_talk:Nannnnn" title="wikilink">User:Nannnnn</a>，并提供相关聊天记录。</p><ul><li>分割线代表该问答告一段落</li><li>若括号中未标出发言人，则一律默认回复者为dM</li></ul><h2 id="正文"><a class="markdownIt-Anchor" href="#正文"></a> 正文</h2><h3 id="碎片群集一"><a class="markdownIt-Anchor" href="#碎片群集一"></a> 碎片群集一</h3><ol><li><p><strong>你剧情里的人都是大佬啊，随便抓一个都有头有脸那种（）</strong></p><ul><li>有没有可能，没头没脸的，你们没记住。</li><li><a href="%E9%98%BF%E7%89%B9%E6%8B%89%E6%96%AF" title="wikilink">萨芙</a>：一般路过女通。</li><li>卡尔、西奥、寇马 Carl、Theo、Kouma：一般路过<a href="%E5%8E%9F%E4%BD%8F%E6%B0%91" title="wikilink">原住民</a>。</li><li>（<a href="User:Dorothy" title="wikilink">多萝西</a>：）<a href="%E5%B0%8A%E5%B8%88%E5%8F%A4%E5%8D%A2" title="wikilink">尊师</a>没脸，我们也记住了。</li><li>（<a href="User:%E5%B0%8F%E5%96%B5%E5%AD%90%E9%85%B1" title="wikilink">小喵子酱</a>：）隼也是没头没脸啊。</li></ul></li><li><p><strong>坏啦，那个给鸠空投小饼干的女生，奶白色头发来着，叫什么来着（捂头）</strong></p><ul><li>（<a href="User:%E5%81%B7%E5%90%83%E7%9A%84%E8%B4%A1%E5%93%81%E6%98%AF%E9%9B%AA%E9%A5%BC" title="wikilink">XB</a>：）是莉莉。</li></ul><p><strong>莉莉是不是《Eradication Catastrophe》曲绘上的人物形象？还是《Engine x Start!! (melody mix)》的？</strong></p><ul><li>是（《EC》曲绘上的人物形象）。</li><li>《E x S》对应结尾啊，两个人骑摩托在雪原上奔驰。</li><li>Kouma没有曲绘，《PRAW》都第三章了。</li></ul><p><strong>那布兰达的形象？</strong></p><ul><li>布兰达没有。</li></ul></li><li><p><strong>dM，dM，Kouma大概长啥样？</strong></p><ul><li>拾荒者，老迈，还有色彩杂乱的衣服。</li></ul></li><li><p><strong>想起您说的《PRAW》背景代<a href="%E7%9F%B3%E6%9E%97" title="wikilink">石林</a>？</strong></p><ul><li>不是一个时代的石林。</li></ul><p><strong>是还未荒废的？</strong></p><ul><li>第二章结尾，他们不是被吸入<a href="%E5%B9%BD%E8%93%9D%E5%9B%BD" title="wikilink">幽蓝国</a>了吗。</li></ul></li><li><p><strong>那《PRAW》曲绘上的是谁？</strong></p><ul><li>一个回归者。</li></ul></li></ol><p><code>前情提要：</code><a href="%E7%94%A8%E6%88%B7:NoteSymphonic" title="wikilink"><code>笔记RE</code></a><code>提起话题开始讨论《九色鹿》。</code><br /><code>dM：（前传《九色鹿》）想写成少年遇见少女，但不得，AI禁止谈恋爱。</code></p><ol><li><p><strong>AI不能谈恋爱，那可不可以结婚？</strong></p><ul><li>可以。</li></ul></li><li><p><strong>少年少女，额，还挺接地气的。</strong></p><ul><li>《爱上便利店员》</li></ul><p>《买早点遇到少女便利店员竟然是小学老师！？》</p><ul><li>《便利店的萝莉老师》</li></ul><p>;（笔记：）你这么一说我来兴趣了。</p><ul><li>听起来像针对老师，萝莉，温柔xp的特供品。</li></ul></li><li><p><strong>我是没感觉出叶云有啥萝莉要素？</strong></p><ul><li>叶云：半长头发扣在围巾里，带着半框眼镜，嘴唇微微干裂，两颊被风吹的泛红，别人说话时会很认真的听，并说出鼓励的话。</li></ul><p><strong>评价：温柔暖心大姐姐。</strong></p><ul><li>但平凡。</li></ul></li><li><p><strong>既然AI可以结婚能不能把叶云带回家？</strong></p><ul><li>不能，她没被赋予这个社会职能。</li></ul><p>有脱离这个限制的手段吗？</p><ul><li>有啊，等她发现自己是AI，再爱上某人。</li><li>但她会不会以她是AI拒绝你，这就不得而知了。</li></ul></li><li><p><strong>如果前传处于2050年的话，那么现在<a href="%E5%83%8F%E7%B4%A0%E5%A1%94" title="wikilink">像素塔</a>历时，叶云、诺特等前传人物还在吗？</strong></p><ul><li>在的。</li></ul></li><li><p><em>（鸽游discord群组）</em> <strong>年龄争两天了，所以Gino是不是真的21岁？</strong></p><ul><li>这谁知道。</li></ul><p>我也不知道哪儿看到的，好像是一个官方人员说的？</p><ul><li>喔，还真是21（岁）。</li></ul><p>成年了，好！（</p></li></ol><p><code>前情提要：笔记看到像素塔切面地图感到了疑惑，提出了自己的想法：</code><br /><code>“我想象是一种是圈层结构，里面石林是包围着整个</code><a href="%E5%86%B0%E5%B0%81" title="wikilink"><code>冰封</code></a><code>的，塔应该不需要形状，所有成分浑然一体的结构就是塔。串联的方式大概就是中轴线了，想象一个通天的光柱。”</code><br /><code>dM：这非常地心说。</code></p><ol><li><p><strong>（笔记：）对的，我就是这种思路，石林区整个包裹住冰封大核，类似早期西方天体图的风格，背面就是海洋。</strong></p><ul><li>不过实际上石林层比冰封要小的多。</li></ul></li><li><p><strong>石林只有十个区，冰封小队每隔几公里一个还有三百多个小队（好像？</strong></p><ul><li>小队这个，我没有提到过距离。</li></ul><p>只记得好像隔的挺远的（</p><ul><li>那是非常远啊。不过因为只包含<a href="%E6%B1%9F%E6%BA%90%E5%9F%BA%E5%9C%B0" title="wikilink">江源基地</a>，所以没地球那么大。</li><li>诶，怎么是地平说（看）</li></ul></li></ol><p><code>dM：那个那个，笔记同学（看）</code><br /><code>笔记：咋了？</code><br /><code>dM：</code><strong><code>你看过《Sein》的歌词吗？</code></strong><br /><code>dM：</code><strong><code>里面的三重光，就是第一章最后那个门：逆卡巴拉之树，正好接第二章的光。</code></strong><br /><code>（众人：？？？！）</code><br /><code>笔记：没……但记得好久之前提过来着（回忆）</code><br /><code>笔记：你是说这个光柱（笔记流像素塔中轴线）能对上？</code><br /><code>dM：并不，只是提示。</code><br /><code>dM：这就是普通的，犹太神秘学！</code></p><ol><li><p><strong>在林现的江源基地里都是咋防寒的？今年冬天好冷！</strong></p><ul><li>不知道，dM也好冷。</li><li>祝大家2022顺顺利利开开心心！</li><li>按道理，2030s左右就要if线（像素塔线）了。</li><li>如果分析哲学/脑科学/量子计算机发展的太过缓慢，导致低端劳动力代替机器人未得到发展，那就无了。</li></ul></li><li><p><strong>如果2022年就if，那估计是欧洲没了，直接人口剩余：70%？</strong></p><ul><li>欧洲还早呢，《<a href="%E5%8D%81%E4%B8%83%E7%9A%84%E5%AE%9D%E8%97%8F" title="wikilink">十七的宝藏</a>2》里还有伦敦呢。</li></ul></li><li><p><strong>单个江源基地有多大？</strong></p><ul><li>立体多层，估计有省会大小。</li></ul></li><li><p><strong>愿世界和平，我还没坐过热气球（卑微）</strong></p><ul><li>我也没坐过（卑微）</li></ul></li><li><p><strong>居民大家都知道处于的地方是多层的吗？（也包括新生代的孩子们）</strong></p><ul><li>知道啊，还有立体交通呢。</li><li>冰封层依照长江上游（包括三江源）规划，这个在<a href="%E5%86%B0%E5%B0%81#%E6%B0%B4%E6%96%87" title="wikilink">词条里提到过</a>。</li></ul><p>那其他地方没有吗？</p><ul><li>不是只在江源基地里吗，其他地方怎么会有啊。</li></ul><p>我好奇是不是哪儿都有，比如深圳地下啥的。</p><ul><li>并不是。不过深圳可能有，现在有地下规划的城市不多嘛。</li></ul></li><li><p><strong>可以挖山然后住山里吗？</strong></p><ul><li>可以。</li></ul></li><li><p><strong>对了，游戏内tips中的吉诺写作基诺<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>确定没问题吗？</strong></p><ul><li>繁体翻译写的基诺。</li><li>（<a href="User:UnFtr" title="wikilink">幻羽</a>：）繁翻啊，那没事儿了。</li></ul></li></ol><p><code>前情提要：dM在与团建场讨论</code><a href="%E7%A2%8E%E6%95%B0%E7%A0%94" title="wikilink"><code>碎数研</code></a><code>词条的撰写要义。</code></p><ol><li><p><strong>可否问一个问题：如何把握可公开于词条与不可公开的度，以在营造诡异感的同时又能让观众看出来写了啥？</strong></p><ul><li>但是林百的工作是揭露真相吧。它再内部，也会进幽蓝国；碎数研直接去幽蓝国里抓啊。</li><li>像素塔没有秘密！</li></ul></li><li><p><strong>我可以把<a href="%E4%B9%85%E4%BD%8F" title="wikilink">久住</a>从幽蓝国里抓出来吗？</strong></p><ul><li>理论上可以，但是（前提是）久住不是<a href="%E5%8E%86%E5%8F%B2" title="wikilink">纷乱代</a>亡的。</li></ul><p><strong>但问题是，她是啊。</strong></p><ul><li>是啊，除非再收集一次。</li><li>（<a href="User:DuckieARZ" title="wikilink">鸭鸭</a>：）再造一个久住！</li><li>但再生成的久住还是之前的久住吗，我们不得而知。</li><li>留个二头身不错了，她还记得你们的。</li></ul></li></ol><p><code>dM：所以，没有什么不可以写的！碎数研的同胞们！</code></p><ol><li><p><strong>dM，<em>幽蓝国权限</em>的具体定义是什么？</strong></p><ul><li>实施数据删除。</li></ul><p>塔内拥有这个权限的多吗？</p><ul><li>人类都没有。</li></ul></li><li><p><strong>突然好奇一个事，除了主线章节和支线章节以外，单曲精选集里有出现什么剧情里的角色么？</strong></p><ul><li>《Eltaw》/《Snow Desert》</li></ul><p><strong>《Eltaw》是鸠吧？《Snow Desert》是谁啊？</strong></p><ul><li>是Dlyrotz（即<a href="Dlyro" title="wikilink">Dlyro</a>）。</li></ul><p>; （<em>相关补充<sub>摘自B站</sub>：</em><br /><code>&lt;small&gt;</code>{=html}<strong>所以玩家角度可以明确确定久住就是《Spasmodic》曲绘上那个粉毛了吗？</strong></p></li></ol><p><code>&lt;/small&gt;</code>{=html}</p><p>::*<code>&lt;small&gt;</code>{=html}可以的，以及《Fuli Auto Shooter》和《No One Yes<br />Man》（的曲绘人物）也是一个人。<code>&lt;/small&gt;</code>{=html}</p><p>::*<code>&lt;small&gt;</code>{=html}<a href="%E9%87%8D%E7%94%9F%E5%BC%95%E5%AF%BC%E5%91%98" title="wikilink">Igallta</a>有三种形态，融合型（《望影の方舟six》曲绘人物），蓝色型（解锁动画），暴走型（本体曲绘），原型是奥尔兰神话著名英雄迪卢木多的愤怒双剑，大家明白了吗？<code>&lt;/small&gt;</code>{=html}</p><p>::*<code>&lt;small&gt;</code>{=html}难道没人发现《Rrhar'il》的主角是<a href="%E5%BC%AD%E5%84%BF" title="wikilink">弭儿</a>背后的狗吗？<br />很明显，耳朵什么的是装饰品。<code>&lt;/small&gt;</code>{=html}</p><p>::;; （''相关补充~<s>从幽蓝国中捕获</s>~：</p><p>:::*鸽游旧官号上曾发过一条名曰&quot;六色之虹&quot;的动态，其配图中左侧人物为<a href="%E9%9C%93%E8%99%B9" title="wikilink">霓虹</a>德利（头发因画师沟通而误画成金色，实际为白色），右侧人物为尊师。</p><p>:::*《Chronos Collapse - La<br />Campanella》曲绘上的人物为<a href="%E5%85%8B%E6%B4%9B%E8%AF%BA%E6%96%AF" title="wikilink">克洛诺斯</a>，《Chronologika》曲绘中人物为乌鸦博士。~（又名<a href="%E7%BA%B3%E8%B4%9D%E6%B5%81%E5%A3%AB%E5%8D%9A%E5%A3%AB" title="wikilink">纳贝流士</a>又又名克洛诺斯）~。</p><ol><li><p><strong>dM，从<a href="%E6%B8%AF%E6%B9%BE" title="wikilink">港湾</a>的天空能看到<a href="%E5%BE%8B%E5%8A%A8%E6%98%9F" title="wikilink">律动星</a>是嘛？</strong></p><ul><li>可以哇。</li></ul><p><strong>是几大星球层都能看到还是？</strong></p><ul><li>都能，因为是行星。</li></ul></li><li><p><strong>目前有可以自由切换两种状态的存在吗？</strong></p><ul><li>可见，人类也是异想。信息、概念、语言、图像。</li><li>一切引起你思考，引起你异常分泌的，都是异想的源头。</li><li>你可能没明白我的意思。</li></ul><p><strong>&quot;现象&quot;引起思考，思考产生异想吗？</strong></p><ul><li>行而思，思而行。你说呢？</li><li>失去主观能动性，仍由他人揉拧的，才可叫做异想。</li><li>不得不说，爱也是种污染啊。</li></ul><p><strong>人（在林泊现实）有实体------根本区别不是这个吗？</strong></p><ul><li>这是发挥主观能动性的条件。</li><li>是这样的。异想不可能被消灭，但可以被战胜。</li><li>异化异想，使其不具备危害性，这是<a href="%E7%BB%9F%E6%B2%BB%E5%B1%80#%E7%A7%A9%E5%BA%8F%E7%BB%B4%E6%8C%81%EF%BC%88%E6%83%85%E6%8A%A5%E9%83%A8%EF%BC%89" title="wikilink">情报部</a>的工作。</li></ul></li><li><p><strong>我要是想我会遭遇某件事情，那会成真吗？</strong></p><ul><li>如果这件事和其他主体无关，有可能成真。</li><li>你无法操控别人的思想啊，除非发出信息暗示（或明示）。</li><li>比如说你想要一个人喜欢你，无缘无故肯定做不到（甚至生成异想也不可能）。</li></ul><p>就是说，两个人在想同一件事情，这个事情真的可能发生？</p><ul><li>是的。</li></ul></li><li><p><strong>如果，我的思想在想，我死了呢？</strong></p><ul><li><strong>你真的会死。</strong></li></ul><p>是否会因为某些变故导致自己真的死掉?</p><ul><li>Dlyro怎么死的（喝茶）。</li></ul></li><li><p><strong>如何控制自己的思维？有这种教育或者技术吗，还是说全靠焚书？</strong></p><ul><li>很难控制，得想一想（不如参考某些宗教材料）。</li></ul><p>每个人控制的方式不一样…吧。更多时候会被他人的思想控制吧？</p><ul><li>被他人的思想污染了。不过一般的想死的念头是不够的。</li><li>无法控制自己的思维，更不可能知道生成值有多少。</li></ul><p>（思考）自己想死+别人也想让自己死，可以吗？</p><ul><li>别人想你死，不太行。因为别人无法影响你，就算他有求生欲。</li></ul></li><li><p><strong>那么整个学校的学生都在想，“学校如果被炸了就好了”，学校就真的会被炸？</strong></p><ul><li>很有可能。</li></ul><p>那像素塔会不会三天两头有学校被炸的新闻？</p><ul><li>有想法就有对策啊。</li><li>学校里学生绝大部分不是林泊。</li></ul></li><li><p><strong>（查资料中）天授唱诗人是塔世界的灵感来源之一吗？</strong></p><ul><li>不是，原理类似。</li><li>快进到林现传奇词条。</li></ul></li><li><p><strong>如何做《Phigros》的人物分析？</strong></p><ul><li>人物方面，《Phi》开始没有注重任何人物的描写。是以事件、感情、物象驱动的。</li><li>画师喜欢在曲绘上画人物，就编入了一些合理的理由，将曲绘人物作为线索串联。</li><li>所以真要做人物分析，除非我把小说版一类需要人物的衍生写出来。</li><li>某种意义上，《Phi》没有剧情人物，一切皆是收录曲的印象文本。</li></ul><p><strong>（点头）所以对角色现有的行为分析解读是允许的是吗？</strong></p><ul><li>角色出现行为上的个体性，就不能看做歌曲本身了，比如鸠和Gino。</li><li>我现在看<a href="Fuli" title="wikilink">Fuli</a>的描写，感觉像个好邻居NPC。</li><li>但到第六章约曲，明确和<code>&lt;ruby&gt;</code>{=html}卖鱼客<code>&lt;rt&gt;</code>{=html}MYUKKE.<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}说了，要人声切片和旋律感，又和<code>&lt;ruby&gt;</code>{=html}青鸟<code>&lt;rt&gt;</code>{=html}（曲绘画师）<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}说，想搞个怪盗，人设才定下来。</li></ul></li><li><p><strong>弭儿这个名字有什么含义吗？</strong></p><ul><li>（<a href="User:Lasta_vol_ista" title="wikilink">风铃</a>：）我只知道弭儿的英文取自&quot;神听到了&quot;的希伯来语（回忆）已经记不清大概的意思了…</li><li>弭儿英文名肯定是拉丁文啊，我说过<a href="%E5%BC%82%E6%83%B3%E4%B9%8B%E7%89%A9#%E5%B9%BB%E6%83%B3%E9%80%A0%E7%89%A9%E7%9A%84%E7%94%9F%E6%88%90" title="wikilink">原型有撒母耳</a>。</li></ul></li><li><p><strong>纳贝流士的也是吗？（思考）</strong></p><ul><li>纳贝流士的英文应该是随便翻的，这是个固有名词。</li><li>你游都是很常见的历史神话梗。</li><li>玩梗而已，随时都有可能，谁知道下一个是谁。</li></ul></li><li><p><strong>等下，所以是根本上的出典不同？</strong></p><ul><li>指（纳贝流士）有两个出典。</li><li>尊师也不只一个出典。除了&quot;胜利者（耆那）&quot;，其实还有一个。</li><li>印度源头宗教，有个共同点，起源于一位贤师，婆耆佛的origin<br />story基本相同。（跑路）</li><li>古鲁原来是黑暗中光芒万丈的意思。<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></li><li>我一直以为，就是老师。</li><li><em>那纳克被信徒尊为&quot;古鲁&quot;(祖师)。在印地语中,&quot;古&quot;意即黑暗,&quot;鲁&quot;意指光芒,喻那纳克为黑暗中的万丈光芒,给信徒指明方向。晚年,古鲁那纳克定居在旁遮普的卡泰普尔。1539年9月,他走完了人生的旅程,享年70岁。</em></li></ul></li><li><p><strong>唐突，想知道像素塔楼层里地租多少（什）</strong></p><ul><li>不要钱，但要确认用法及相关收益。</li><li>亏本买卖，如果还不被顾客认可，就得爬出金街。</li></ul></li><li><p><strong>每一层有管理者吗，如果有的话会不会没收过长时间没人打理的占地？</strong></p><ul><li>不会吧。</li><li>阿特拉斯以上就没有实质上的管理者了。前四层是无人区，所以要楼层守护者。</li><li>前四层是有货币流通的！原住民社会啊。</li></ul></li><li><p><strong>突然想到，忘忧宫收藏品《纸片》中这个提到的&quot;天空钟&quot;的概念是不是指《Chronomia》曲绘？</strong></p><ul><li>不是，天文钟就是天文钟啊，当然你可以当成同样的东西。</li></ul></li><li><p><strong>那天文钟在第七章象征什么，是形象借用吗？</strong></p><ul><li>第七章有很多天文钟，主要还是指克洛诺斯（时钟城）。</li><li>第七章，基本上没啥曲名neta，主要讲一个巧合性，为什么Phigros会收如此多的&quot;克洛诺斯&quot;。谜底不在任何曲名中，又寓于第七章之中。</li><li>而且，以时间系命名的歌曲，总有一种过去与未来的重叠感。</li></ul></li><li><p><strong>那在收《Chronostasis》和《Khronostasis<br />Katharsis》的时候还没有搞这么全是钟的一章的打算吗？还是说pass了（虽说这两个上架时间老早了）</strong></p><ul><li>《时停》是联动，《KK》是《时停》的联动（指曲绘人物竖食指）。</li></ul></li><li><p><strong>塔里的所有人都有<a href="PhigrOS" title="wikilink">PhigrOS</a>终端吗？林泊重生后自带终端还是要作为遗物去认领？</strong></p><ul><li>PhigrOS是绑定的，没有认领的说法。</li></ul><p>成为林泊就会有？</p><ul><li>不是林泊也有啊，不然为啥要有<a href="%E5%9C%9F%E6%98%9F%E7%B3%BB%E7%BB%9F" title="wikilink">土星系统</a>。</li></ul><p>终端是实体吗？如果意外损坏了怎么办？</p><ul><li>像素塔没有东西是实体的。</li><li>里的物品相当于一段记忆，你可能因为重生丢失物品，这是肯定的，但是PhigrOS系统是登录像素塔的工具，类似人的DNA，是一种不可舍弃的元素，它不是记忆，因此不会丢失。</li></ul></li></ol><p><em><code>dM：不一定要用``&lt;ruby&gt;</code>{=html}<code>vault``&lt;rt&gt;</code>{=html}<code>穹顶``&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}<code>去撞幽蓝国，全塔各地都有幽蓝国的临时通道，从那里进去也是可以的。</code></em></p><ol><li><p><strong>像渔网一样打捞数据…？</strong></p><ul><li>首先可以打捞说明幽蓝国内部<strong>没有&quot;侵蚀&quot;功能</strong>，只要能进入，设置无线操作即可。</li><li>已知的危险主要是<strong>会让用户断连，和分解异想</strong>。</li></ul><p>像是无信号区（？）未觉醒居民不会被分解？</p><ul><li>它就是个回收站啊（看）</li><li>准确来说，vault不会被吞噬，被吞噬的是vault之间的联系。</li><li>我觉得这个设定很基础计算机理论了（看）之前抽奖系统没抽出东西就是null。</li></ul><p>？合着我们抽奖是拿破碎数据，从幽蓝国里面去抽。</p><ul><li>对，就像现在一样。</li></ul></li></ol><p><code>''dM：我是觉得人造穹顶，的确能延缓幽蓝边界的脚步，但也只跟疯狂建亚空间的效能差不多。碎数研可能参与了穹顶概念的提出，甚至人造穹顶，单靠人造穹顶下潜进入幽蓝国，像开飞船一样，有点违反vault的本质。</code></p><ol><li><p><strong>港湾拖幽蓝拖得最久的原因之一是挂的亚空间多吗（看）</strong></p><ul><li>因为（港湾）是中宫紫薇，你看中之层也挂在港湾。</li></ul></li><li><p><strong>话说幽蓝的吞噬方式是什么样的？</strong></p><ul><li>数据删除，打碎联系，极致压缩。</li></ul><p>什，是直接全塌还是一点点像橡皮擦一样？</p><ul><li>可视的境界线。</li></ul></li><li><p><strong>那可以直接从通道光明正大的进去捞吗？</strong></p><ul><li>可以，不怕迷失的话。</li></ul><p>迷失是指被数据删除还是单纯在废墟中迷路？</p><ul><li><strong>幽蓝境内没有上下左右的物理方位，唯一的方法是找到多个有联系的数据跳转，直到跳到靠近边界的稳定地带，例如说管道迷宫。</strong></li></ul><p>草，所以是会字面意义上的迷失是吗。</p><ul><li>对，关键在于，你该怎么知道哪个数据是有用的呢。</li><li><code>&lt;ruby&gt;</code>{=html}ss1<code>&lt;rt&gt;</code>{=html}忘忧宫收藏品<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}中的碎数研，与其说是捞，不如说是复制。</li><li>快进到碎数研为了让管理AI打开幽蓝国，制造异想灾害.jpg</li></ul></li><li><p><strong>可以理解为正常破碎数据打捞的方式，是利用无人远程操控AI机械大型采集数据，然后探索类似于管道迷宫一样的空间节点，通过这些空间节点再回到碎数研吗？</strong></p><ul><li>就是数据遍历。</li><li><a href="https://baike.baidu.com/item/OSI%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/7628304">https://baike.baidu.com/item/OSI体系结构/7628304</a></li><li>你看这个，是否就能理解像素塔了呢？</li></ul></li><li><p><strong>像素塔崩坏就相当于网络层及以上开始炸了？</strong></p><ul><li>怎么炸，也不可能炸物理层（确信）</li></ul><p>改天去林泊现实找塔组织交一份名单去（无慈悲）</p><ul><li>全体人民都是用户，你是要交人口普查结果吗（看）</li><li>（TNM：）都是用户，区别仅在与记不记得自己塔里的登入秘钥。</li></ul></li></ol><p>#;顺便一问，林泊现实相关收藏品那个&quot;01&quot;是指8月29日？</p><p>#* 是的吧。</p><h3 id="碎片群集二"><a class="markdownIt-Anchor" href="#碎片群集二"></a> 碎片群集二</h3><ol><li><p><strong>忘忧宫人物外貌兼详细设定，when？（问问作者也好------）</strong></p><ul><li>你叫我问不存在的东西？不过，艾达就是《<code>&lt;ruby&gt;</code>{=html}波塞冬<code>&lt;rt&gt;</code>{=html}Ποσειδών<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}》的角色，老张的画是定制的。</li></ul></li><li><p><strong>说起来，dM先生能否<code>&lt;ruby&gt;</code>{=html}口嗨<code>&lt;rt&gt;</code>{=html}同人<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}一下Karl和Theo的文字外貌设定------</strong></p><ul><li>卡尔：雀斑、淡棕发。淡棕唇。</li><li>西奥：（身材）比卡尔壮一些，姜红头发，剑眉，厚唇。</li></ul></li><li><p><strong>（双手合十）上D，能不能帮忙看看我推的对不对。</strong><br />1.[错误信息已屏蔽]<br />2.[错误信息已屏蔽]<br />3.然后帕拉斯假装自己是门图（帕拉斯=假门图）。<br />4.假门图向外宣称自己的父亲是帕拉斯。</p><ul><li>1No 2No 3Yes 4Yes<br />艾尔帕克是五魂之一。<br />帕拉斯一系负责保存珠子还是匣子的吧。</li></ul><p><strong>（方解：）那…门图…（疯狂比划）（混乱）。</strong></p><ul><li>门图死了，在上次探索中，他们没进到内部。</li></ul><p><strong>（方解：）那，门图父亲是谁（混乱）</strong>。</p><ul><li>帕拉斯。</li></ul><p>（dM：）这个哪里有疑问啊？<br />（方解：）我一直以为是艾尔帕克的娃------<br />（毕竟艾尔帕克也捡了个球），我以为门图偷的球是这个（抱头）<br />（犀鸟：）艾尔帕克是捡了球以后才继承克洛诺斯的记忆，后觉醒欲望，还是本来就继承了（？什）<br />（方解：）捡了球之后罢？</p><ul><li>（犀鸟、dM：）（我一直以为那个球就是个记忆数据体。）</li><li>相当于ss1里有5+2+1个要素：<br />5部分，2道具，1本体。</li><li>果然隐藏自身最好的办法是改个性别（？</li></ul><p><strong>（方解：）那，艾尔帕克说非五魂进不了忘忧宫这句话属实吗（剧情里）</strong></p><ul><li>艾尔帕克已经收集到剩下三魂了。</li><li>之后艾达也没出忘忧宫，直接重生了。</li></ul><p><strong>（犀鸟：）艾达还活着？（醒</strong></p><ul><li>她是林泊啊。</li><li>这几个人物的人物小传直接放出的。<br />克洛诺斯=艾达=纳贝流士。</li></ul><p><strong>（方解：）dM，假门图（帕拉斯）后期在忘忧宫里抱着哭的是真门图罢？</strong></p><ul><li>是啊。</li></ul><p><strong>（犀鸟：）那这个事迹是？（收藏品[奥德修斯港出海记录]截图.jpg）</strong></p><ul><li>换名字了。</li><li>克某：赣，销号重来！</li></ul><p>（犀鸟：）然后就成，纳贝流士了（？</p><ul><li>尖端销号水平。</li><li>（dM：）艾达-承诺，伯尼丝-智慧，艾尔帕克-欲望，帕拉斯-热情，还有个方法就是虚妄之匣和真理之珠。\</li><li>（dM：）萨芙：我太无辜了。</li></ul><p>（方解：）凑齐了就能召唤一个骂骂咧咧回塔的纳贝流士？<br />（犀鸟：）门图：终究是错付了。<br />（方解：）所以是因为忘忧宫开启之后谁都能进所以萨芙才能进去吗？还是？</p><ul><li>萨芙被弹出去了。帕拉斯的魂给了艾尔帕克，也被弹出去了。</li></ul><p>（犀鸟：）好惨一萨芙。<br />（方解：）草，魂还能转交的啊？什么英雄父亲帕拉斯（</p><ul><li>帕：儿子肯定不在里面，不如交出去。</li></ul></li><li><p><strong>（TNM：）对了，如果dM准许的话打算问下诗笺一些扣字眼内容（悲）比如#11的&quot;她&quot;指代的是哪位？</strong></p><ul><li>啥？脱离文本了，坑太多，没反应过来。</li></ul><p>（截图）</p><ul><li>啊，是第三章的一个<strong>叙事视角</strong>啦，没啥可以探究的。</li><li>（一个）和幽酱有关的人物。</li></ul></li><li><p><strong>那&quot;我&quot;又是谁？（指&quot;为什么我进不去？&quot;）</strong></p><ul><li>我肯定是我啊，dM啊，<strong>（诗笺的）第一句默认是dM说的</strong>。</li></ul><p>您当时真的就是尾随啊草）</p><ul><li>是啊，像私生饭尾随偶像！</li></ul></li></ol><p><code>dM：貌似没看到深挖帕拉斯和艾尔帕克背景的同人。</code><br /><code>dM：一、他们是曾经的同事；二、分别继承了一魂；三、艾尔帕克知道帕拉斯的身份；四、艾尔帕克为什么答应带帕拉斯去忘忧宫；五、艾达的诞生是否是二人的阴谋。</code></p><ol><li><p><strong>（方解：）第一点体现在哪（惊醒）</strong></p><ul><li>帕拉斯知道真理之珠的作用，可见他没有重生，或者他那时已经是林泊了，五魂携带者不是完全随机的，因为负责忘忧宫撤退的人不多。</li><li>那么，<code>&lt;ruby&gt;</code>{=html}潘老师<code>&lt;rt&gt;</code>{=html}帕拉斯<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}和<code>&lt;ruby&gt;</code>{=html}挨饿品格<code>&lt;rt&gt;</code>{=html}艾尔帕克<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}就<strong>有可能</strong>是同事！</li></ul><p>艾达的出现居然是有意为之而不是<code>&lt;ruby&gt;</code>{=html}那不勒斯<code>&lt;rt&gt;</code>{=html}纳贝流士<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}套马甲把记忆掀了跑路后本体重生的吗（混乱）</p><ul><li>也是种<strong>可能</strong>。</li><li>我，非常擅长造谣！</li></ul></li><li><p><strong>dM，能，比划一下，他们几个的，样貌，吗？</strong></p><ul><li><strong>同人视角</strong>，我来评价一下：</li><li>艾达：一个普通的妹子，如《<code>&lt;ruby&gt;</code>{=html}波塞冬<code>&lt;rt&gt;</code>{=html}Ποσειδών<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}》曲绘。</li><li>萨芙：半长淡棕卷毛，露出整个右耳，前凸后翘，猎鸭靴，紧身工装。以及，要大波！</li><li>伯尼丝：短发，发尾外翘，单片眼镜，唇红齿白，蓝眸银发，深色贴身长裙，蕾丝长衫，宝石银饰。</li><li>帕拉斯：面带老态，半长到肩，发色灰夹白，两鬓雪丝向后延伸，棱角分明，眼窝深陷，鼻梁高挺，薄唇坚毅。</li><li>门图：回忆中同样灰发蓝瞳，半寸短发，T恤短裤；ss1潘老师假扮版，发型更像潘老师，冒险者打扮，左腿有枪束带。</li><li>艾尔帕克：棕红发，一寸马尾，右眼前留下一束，红瞳，衣冠禽兽。</li><li><a href="https://m.weibo.cn/u/7772633150?uid=7772633150&amp;t=0&amp;luicode=10000011&amp;lfid=100103type%3D1%26q%3D%E5%83%8F%E7%B4%A0%E5%A1%94%E9%9A%94%E7%A9%BA%E5%96%8A%E8%AF%9Dbot">塔厕</a>，我要<a href="https://www.tapechat.net/uu/JWFDJJ/1JJCYKHR">投塔厕</a>！</li></ul></li><li><p><strong>（端出ss1剧情人物结局）帮忙看看有没有错------</strong></p><ul><li>艾尔帕克没死啊？</li><li>（众人：）？</li><li>（dM：）没说，有谁死了吧？</li><li>（dM：）那克洛诺斯不就杀人了吗？</li></ul><p><strong>那浮点错误（收藏品《伯尼丝的神奇挎包》）这里是？</strong></p><ul><li>这是退出游戏啊，不是退出地球online。</li><li>也就是说像素塔以后没有艾尔帕克这个人了。</li><li>（TNM：）也就是说艾尔帕克这个存在算是没了是吧？</li><li>（dM：）现实没死，像素塔翘了，他不能再登录像素塔了。</li><li>（江若飞：）哦我懂了！就是，艾尔帕克的林现体没办法再用&quot;艾尔帕克&quot;这个号登录像素塔了。相当于，封号？</li><li>（dM：）Y。</li></ul></li></ol><p><code>前情提要：2094.10.30，dM直播讲解收藏品相关内容。</code><sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup><br /><code>dM：这忘忧宫，一整章就来引出这个</code><a href="%E5%85%8B%E6%B4%9B%E8%AF%BA%E6%96%AF" title="wikilink"><code>克洛诺斯</code></a><code>……</code></p><ol><li><strong>关于《萨芙的运动相机》？</strong><ul><li>这里…是弭儿的第一次登场，也是<a href="%E5%85%8B%E5%8A%B3%E5%B0%94" title="wikilink">克劳尔</a>第一次登场。</li><li>742年，已经有弭儿了。</li><li>当时（弭儿刚诞生）就是克劳尔受dM派遣去负责这个事情，去找方舟领航员，然后他们两个就开始搞一些奇奇怪怪的事情。</li><li>这个相机，就是开发很快还瞎迭代，他们第一代都没发过，直接从第二代开始发了。</li><li>&quot;委托打捞的就是相机的失主…&quot;看这边！最重要的东西出现了！</li><li><strong>就是萨芙委托碎数研打捞这个相机，顺便把（ss1剧情）这个时期的所有东西都打捞了出来。</strong></li><li>波提切利…啊对是对佛罗伦萨那个画家，《维也纳的诞生》那个。</li><li>这个相机，作为一个收集品，里边有很多萨芙和艾达之间的回忆保存在这个相机里面的，甚至可以通过这个相机建造一个亚空间的。</li><li><strong>其实<a href="%E5%88%9B%E4%B8%96%E5%85%89%E7%9B%98" title="wikilink">创世光盘</a>也是有这个用法，依造一个收集品去把里面所记录的时间线上的东西，给重新整出来。</strong></li><li>委托打捞的是萨芙，总不是<a href="%E5%85%8B%E6%B4%9B%E8%AF%BA%E6%96%AF" title="wikilink">他自己</a>吧。</li><li>直接去看<a href="%E5%85%8B%E6%B4%9B%E8%AF%BA%E6%96%AF#%E6%9C%AA%E7%9F%A5%E7%9A%84%E4%BB%A3%E5%8F%B7%EF%BC%88%E7%8E%B0%E5%9C%A8%EF%BC%89" title="wikilink">克洛诺斯</a>742年那边，肯定是萨芙她一重生，就开始调查自己是怎么死的，克洛诺斯哪会管这些事情。</li></ul></li><li><strong>艾达最后发生了什么？</strong><ul><li>艾达弹完琴就死了，就是<a href="%E6%8B%89%E7%93%A6%E9%92%B5%E5%A4%A7%E6%92%A4%E9%80%80" title="wikilink">重现了曾经的历史</a>，那个《Chronos<br />Collapse》的曲绘。时间崩溃，“克洛诺斯的崩溃”，差不多这个意思。</li><li>其实为什么C7放这首歌，和克洛诺斯本人没什么关系。</li></ul></li><li><strong>关于克洛诺斯？</strong><ul><li>主要他是作为一个神系的开头，作为一个设计者存在的。</li><li>你要真说的话，是<em>柯洛诺斯</em>这个人，这太一就是初始的意思，也就是时间的开头。</li><li>不是泰坦神王克洛诺斯，但他们俩概念混同了。但是后来为什么会混到<em>塔耳塔洛斯</em>呢，因为塔耳塔洛斯的守门人是三头犬呀。</li><li>名字代表一切。现在我们这个像素塔的这个系统它平移的是一帮长期使用汉语的人民，以他们为基础的话，那克洛诺斯这个词就不可能是希腊语。<br />即使是以英语为基石语言交流，那它那边的两个克洛诺斯也是混起来的。</li><li>所谓历史就是人类的观点，所有知道这件事情的人将一件事物的概念混杂在一起，那么印象强的那一方就是主导这个概念生存的一方，弱的一方就被蚕食掉了。</li><li>如果有很多人的大脑连接在一起那么最后的结果就是这样，只有影响深刻、连接更广的东西才能存在。</li></ul></li><li><strong>为什么最后编入的是三头犬？</strong><ul><li>我也忘记了，反正就是因为地狱的问题嘛，就希腊神话里面的地狱就那么几个人，考虑到其他都有亲缘关系，就只有三头犬是个畜生啊，就比较有可能通过他来重生，就我猜是这么想的，感觉就是跟希腊神话还是有渊源所以猜到三头犬。</li><li>我对数量这个东西记得很清楚，因为我是暗黑数学！</li></ul></li><li><strong>关于管道迷宫的过境贴纸？（收藏品《录音笔Alpa》）</strong><ul><li>过境贴纸，就是《<a href="%E8%99%B9%E4%B9%8B%E6%88%98#%E5%90%8C%E5%90%8D%E6%B8%B8%E6%88%8F" title="wikilink">虹之战</a>》那个街机你过关之后，它会给你突突突突突（*兑奖票吐出声）发了一堆那种东西，然后你可以拿那个去换贴纸。</li><li>管道迷宫里面有一个区域有很多街机，也相当于一个街机街。</li><li>管道迷宫它有一个很本质的特点是它有很多个Puzzle，每一个Puzzle之间用管道连接起来，鸠和吉诺一开始进去是分开的，他们经过了好多个puzzle才聚集到一起。</li></ul></li></ol><p><code>前情提要：因碎数研的疑问所起，dM前去询问忘忧宫剧情主笔关若文。</code></p><ol><li><strong>准确来说，艾尔帕克手上的其他两魂，怎么得到的？</strong><ul><li>门图他被抓前把<code>&lt;ruby&gt;</code>{=html}那个玩意<code>&lt;rt&gt;</code>{=html}真理之珠<code>&lt;/rt&gt;</code>{=html}<code>&lt;/ruby&gt;</code>{=html}邮寄出去了，然后艾达和伯尼丝根据暗示收到了货<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li><li>真理之珠和虚妄之匣啊，这俩玩意拼一起就是钥匙。</li><li>是这样，无尽海底谁都知道有个忘忧宫，但是放下去的探测器无一成功返回。时间久了之后就被当做忘忧宫不存在。</li><li>然后这俩东西是分割出的实体，组合在一起就是保护人能穿过忘忧宫保护层的钥匙。</li></ul></li><li><strong>那五魂呢？</strong><ul><li>分身只有四个啦，承诺艾达、热情帕拉斯，智慧伯尼丝，欲望艾尔帕克。</li></ul></li><li><strong>帕拉斯不是被弹出去了吗？</strong><ul><li>穿保护层的时候么，他们穿防护膜期间被艾尔帕克搞了，所以有两个人被挤出去，意识就陷入缓存区了。</li><li>帕拉斯最先搞的事，反而弄巧成拙了。</li><li>我记得是一笔带过了。<sup class="footnote-ref"><a href="#fn5" id="fnref5">[5]</a></sup></li></ul></li><li><strong>怎么搞的？我很久之前说，帕拉斯把分魂给了艾尔帕克。</strong><ul><li>这个没必要的，帕拉斯也是分身之一。只不过这个分身的份量不是很多，因为回去的欲望不是很强烈。</li><li>艾尔帕克对忘忧宫的秘密做过多种猜想，其中一个猜测就是忘忧宫周围存在一个保护罩，会让人失去意识。</li><li>他得知虚妄之匣的存在后，便确定了这个想法，能让任何物品都看起来不存在明显是不可能的，这一定是一种能影响意识层面的异象。</li><li>他便暗中把智能绳索的信标放在了帕拉斯身上，然后让自己昏迷，在沉入保护层之后信标自动启动。</li><li>这样就把自己拉到了钥匙的保护区内，而且因为之前是昏迷状态，所以忘忧宫的防护膜没有做出反应。</li><li>就这么把萨芙和帕拉斯踢出去啦。</li></ul></li></ol><h3 id="碎片群集三"><a class="markdownIt-Anchor" href="#碎片群集三"></a> 碎片群集三</h3><ol><li><p><strong>我记得之前好像有说过，独立于像素塔的亚空间是最先没的来着？</strong></p><ul><li>反正，独立于像素塔是指不是主塔的空间，它们比主楼层后建，所以容易没。</li><li>容易没的话，改程序可以保住。</li></ul></li><li><p><strong>非林泊可以创建亚空间吗？</strong></p><ul><li>非林泊只能无意识地提供生成值，他们不知道原理。</li></ul><p><strong>是间接提供吗，还是说直接占了算力？</strong></p><ul><li>占算力了。</li></ul><p><strong>（原子:）我也乱了…毕竟，不能一个人住在自己的脑子里（什么胡说一气）</strong></p><ul><li>你可以一个人住，但你访问的系统是云的。</li></ul><p><strong>用大脑作为信息交换节点，让像素塔内亚空间能够在脑中加载，并且像素塔内个体可以访问这个区域？</strong></p><ul><li>（比如说）你建个blog，不给公网ip，别人也看不到。</li></ul></li><li><p><strong>没觉醒的林泊有重生福利吗？</strong></p><ul><li>我都说了，重生的是<strong>用户</strong>不是<strong>林泊</strong>，强调了起码三次！</li><li>相当于云游戏，你可以不下载游戏云玩。你的手机只是个信息交换的装置。原█就有云玩。</li></ul><p><strong>就，林泊重生只是壳子刷新了一套，用户是删档重来吗？</strong></p><ul><li>本身删档，但有些信息会存在其他用户和基站本地。成为林泊可以调用回来。</li><li>后来提到的数据转移是指转移到VR平台上，这种转移肯定会丢失数据。</li></ul><p><strong>所以是说重生者觉醒可以读取未觉醒的前几辈子的记忆但不完全吗？</strong></p><ul><li>Yes.</li></ul><p><strong>既然如此，那如果这个林泊所做的某些事情没有被其他用户所看到或记住的话，这些部分的数据是不是就算不可以调回了？</strong></p><ul><li>是的。</li></ul></li><li><p><strong>可以存在纯粹由异想污染形成的亚空间吗，到处蹭一点点算力的无主亚空间？</strong></p><ul><li>可。</li></ul></li><li><p><strong>幽蓝边界可以看作一个数据修正程序么，除去非林泊现实数据？</strong></p><ul><li>数据都在林泊现实，你的说法有问题。</li></ul><p><strong>（原子：）（<a href="%E5%B9%BD%E8%93%9D%E5%9B%BD#%E5%B9%BD%E8%93%9D%E8%BE%B9%E7%95%8C" title="wikilink">截图</a>）<a href="%E5%8E%86%E5%8F%B2" title="wikilink">不过第一次出现是在阿特拉斯吃节点水库啊（</a></strong></p><ul><li>哦，我懂了，这里的林泊现实性是指客观存在，不连像素塔也能调用的数据…确实，可能。</li></ul><p><strong>这样的话，完全封闭，存在个人，那还能被幽蓝边界清除么？</strong></p><ul><li>可以，要改程序。</li></ul></li><li><p><strong>非林泊也能创建亚空间对吧，如果能创建的话，应该就是和普通亚空间一样吞了就找不回来？</strong></p><ul><li>是啊，现实里你的不知道有这么个东西。但如果他是碎数研成员，那就不好说了。</li><li>非林泊碎数研，成功保存了收集品，然而无法在现实中调用，且尚未单独觉醒。他是真的垃圾佬，我好感动。</li></ul></li><li><p><strong>林现的自己可以梦到塔里自己建的亚空间吗？</strong></p><ul><li>可能可以，觉不觉醒不知道。</li></ul></li><li><p><strong>林泊现实可以打捞数据吗？</strong></p><ul><li>可以，看手法了。</li></ul></li><li><p><strong>所以非林泊到底能不能建立亚空间，能的话和林泊的建立方式有什么区别吗？</strong></p><ul><li>能，是<a href="%E4%BA%9A%E7%A9%BA%E9%97%B4" title="wikilink">基本功能</a>。</li><li>他有道具就能建。就比如林泊想生成现实里用过的马桶刷，他立刻就能拿到，但非林泊不能。非林泊从别人口中听说了还有马桶刷这个东西，对着照片疯狂做想象训练，最后造出了个牙刷。</li><li><em>人们刚刚进入像素塔时，类似现实里失忆的状态，他们面对的是被模拟出的2019年，拥有的是虚假的社会身份。</em></li></ul><p><strong>但非林泊可以使用林泊造出来的马桶刷来刷马桶（草</strong></p><ul><li>确实。</li></ul><p><strong>所以是非林泊没有准确的关于&quot;马桶刷&quot;的概念，所以对这一概念也只能在不准确的情况下提供生成值？</strong></p><ul><li>（莘青：）非林泊没有现实的载体，想不出来，只能多练（</li><li><strong>不是，林泊是指知道现实社会的用户，用户都是有现实载体的，这里非林泊都指用户。</strong></li><li>也可能你是说他们意向的对象没有现实载体，那我理解错了。</li></ul><p><strong>刚进塔的时候知道塔是塔的只有AI？</strong></p><ul><li>确实，毕竟脑回路不同。</li></ul></li><li><p><strong>非林泊建立的亚空间，（亚空间内）只有一个非林泊，如何造出许多异想?</strong></p><ul><li>他可以买，或者造出现过的异想，自己造新的。</li></ul><p><strong>道具补足。亚空间就不用管生成值了。</strong></p></li><li><p><strong>那就是，提供的生成值不是生成&quot;马桶刷&quot;这个异想？生成值有定向某个物体或者不定向的区别吗？</strong></p><ul><li>生成值一定是指向一个物体或一类物体的，就和AI绘画类似。</li></ul><p><strong>如果非林泊在塔里见过摸过用过真正的马桶刷，那他能造出来不？</strong></p><ul><li>能。</li></ul><p><strong>那就是说林泊和非林泊的在造异想上的区别其实只有信息差吗？</strong></p><ul><li>对。</li></ul></li><li><p><strong>话说《清醒者日报》的封面照片上的食物看起来都好好吃（不是）会是谁拍的？</strong></p><ul><li>是鸠（认真）。</li></ul></li></ol><p>[待补充]</p><h2 id="零碎单句"><a class="markdownIt-Anchor" href="#零碎单句"></a> 零碎单句</h2><ul><li>楼层=以概念为中心的质料添加。</li><li>任何存在的概念被人类抽象，并积聚后，超过它本身作为物质态所需的信息量，则会以污染的形式，对像素塔实行侵蚀。</li><li>（塔里）最高级别的管理们可以召唤幽蓝边界。</li><li>分身异想并非原型本人，这个问题就像用一个人的基因克隆出一个新的个体，新的个体有着本体完全不同的经历，二者之间的关系不过基因（像素塔则为模因）的同一性，然而我们真的能说他们是同一个人吗？</li><li>异想的效果可以是亚空间。</li><li>异想是体验的具现化，反映的二重反映。</li><li>像素塔内没有英雄主义，但不妨碍偶像崇拜。</li><li>93届ALIGN举办的时候中之层还在港湾。</li><li>亚空间是借助phigrOS搭建的，只要你在塔内登录登出，自然会有信息通过亚空间主传递。人脑和计算机还是有区别的。</li></ul><p>[待补充]</p><h2 id="相关内容"><a class="markdownIt-Anchor" href="#相关内容"></a> 相关内容</h2><ul><li>第一期→<a href="%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:20931232" title="wikilink">谜题保管所:Talk:20931232</a></li><li>第二期→<a href="%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:20940101" title="wikilink">谜题保管所:Talk:20940101</a></li><li>第三期→<a href="%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:20940102" title="wikilink">谜题保管所:Talk:20940102</a></li><li>第四期→<a href="%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:20940106" title="wikilink">谜题保管所:Talk:20940106</a></li><li>第五期→<a href="%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:20940124" title="wikilink">谜题保管所:Talk:20940124</a></li><li>第六期→<a href="%E8%B0%9C%E9%A2%98%E4%BF%9D%E7%AE%A1%E6%89%80:Talk:20940430" title="wikilink">谜题保管所:Talk:20940430</a></li></ul><h2 id="注释"><a class="markdownIt-Anchor" href="#注释"></a> 注释</h2><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>原句：“鸠和基诺会一直陪伴着你。。只要你不卸载Phigros的话！” <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>此段为后补充，将有联系的信息放在了一起。 <a href="#fnref2" class="footnote-backref">↩︎</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://www.bilibili.com/video/BV1wG411u7UC/?share_source=copy_web&amp;vd_source=95a97ef99d0f1e2bc1378618fab9af74/"><code>直播录屏指路</code></a> <a href="#fnref3" class="footnote-backref">↩︎</a></p></li><li id="fn4" class="footnote-item"><p>收藏品【真理之珠】------[十分钟之后，他们意外等到包裹一件，二人略有猜测，还未拆开…] <a href="#fnref4" class="footnote-backref">↩︎</a></p></li><li id="fn5" class="footnote-item"><p>收藏品【定向绳索】------[他掏出门图潜水衣的巡航仪，轻转两圈目标锁定&quot;海底&quot;。]<s>真就是一笔带过啊草！</s> <a href="#fnref5" class="footnote-backref">↩︎</a></p></li></ol></section>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;转一篇林泊水一水 qwq&lt;/p&gt;
&lt;p&gt;原文&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://wiki.pigeon-games.com/index.php?title=%E8%B0%9C%E9%A2%98%E4%</summary>
      
    
    
    
    <category term="音游" scheme="https://blog.yaria.top/categories/%E9%9F%B3%E6%B8%B8/"/>
    
    
    <category term="音游" scheme="https://blog.yaria.top/tags/%E9%9F%B3%E6%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P3956 [NOIP2017 普及组] 棋盘</title>
    <link href="https://blog.yaria.top/posts/92c7795e/"/>
    <id>https://blog.yaria.top/posts/92c7795e/</id>
    <published>2023-03-12T00:28:14.000Z</published>
    <updated>2024-12-13T10:08:16.266Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P3956">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P3956.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P3956 [NOIP2017 普及组] 棋盘</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>本蒟蒻怎么就这么喜欢发noip csp的题呢（</p><p>一个绿题，风光啊 QwQ</p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">点只因查看题面</summary><div class="toggle-content"><h2 id="题目背景"><a class="markdownIt-Anchor" href="#题目背景"></a> 题目背景</h2><p>NOIP2017 普及组 T3</p><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>有一个<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mo>×</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">m \times m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">m</span></span></span></span>的棋盘，棋盘上每一个格子可能是红色、黄色或没有任何颜色的。你现在要从棋盘的最左上角走到棋盘的最右下角。</p><p>任何一个时刻，你所站在的位置必须是有颜色的（不能是无色的）， 你只能向上、 下、左、 右四个方向前进。当你从一个格子走向另一个格子时，如果两个格子的颜色相同，那你不需要花费金币；如果不同，则你需要花费 $1 $个金币。</p><p>另外， 你可以花费 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 个金币施展魔法让下一个无色格子暂时变为你指定的颜色。但这个魔法不能连续使用， 而且这个魔法的持续时间很短，也就是说，如果你使用了这个魔法，走到了这个暂时有颜色的格子上，你就不能继续使用魔法； 只有当你离开这个位置，走到一个本来就有颜色的格子上的时候，你才能继续使用这个魔法，而当你离开了这个位置（施展魔法使得变为有颜色的格子）时，这个格子恢复为无色。</p><p>现在你要从棋盘的最左上角，走到棋盘的最右下角，求花费的最少金币是多少？</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>第一行包含两个正整数$ m, n$，以一个空格分开，分别代表棋盘的大小，棋盘上有颜色的格子的数量。</p><p>接下来的$ n <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>行，每行三个正整数</mtext></mrow><annotation encoding="application/x-tex">行，每行三个正整数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">行</span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">每</span><span class="mord cjk_fallback">行</span><span class="mord cjk_fallback">三</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">正</span><span class="mord cjk_fallback">整</span><span class="mord cjk_fallback">数</span></span></span></span> x, y, c<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>，分别表示坐标为</mtext></mrow><annotation encoding="application/x-tex">， 分别表示坐标为</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">，</span><span class="mord cjk_fallback">分</span><span class="mord cjk_fallback">别</span><span class="mord cjk_fallback">表</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">坐</span><span class="mord cjk_fallback">标</span><span class="mord cjk_fallback">为</span></span></span></span>(x,y)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>的格子有颜色</mtext></mrow><annotation encoding="application/x-tex">的格子有颜色</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">格</span><span class="mord cjk_fallback">子</span><span class="mord cjk_fallback">有</span><span class="mord cjk_fallback">颜</span><span class="mord cjk_fallback">色</span></span></span></span> c$。</p><p>其中$ c=1$ 代表黄色，$ c=0$ 代表红色。 相邻两个数之间用一个空格隔开。 棋盘左上角的坐标为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>，右下角的坐标为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>m</mi><mo separator="true">,</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( m, m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span>。</p><p>棋盘上其余的格子都是无色。保证棋盘的左上角，也就是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 一定是有颜色的。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>一个整数，表示花费的金币的最小值，如果无法到达，输出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span>。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">5 7</span><br><span class="line">1 1 0</span><br><span class="line">1 2 0</span><br><span class="line">2 2 1</span><br><span class="line">3 3 1</span><br><span class="line">3 4 0</span><br><span class="line">4 4 1</span><br><span class="line">5 5 0</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">8</span><br></pre></td></tr></table></figure><h2 id="样例-2"><a class="markdownIt-Anchor" href="#样例-2"></a> 样例 #2</h2><h3 id="样例输入-2"><a class="markdownIt-Anchor" href="#样例输入-2"></a> 样例输入 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5 5</span><br><span class="line">1 1 0</span><br><span class="line">1 2 0</span><br><span class="line">2 2 1</span><br><span class="line">3 3 1</span><br><span class="line">5 5 0</span><br></pre></td></tr></table></figure><h3 id="样例输出-2"><a class="markdownIt-Anchor" href="#样例输出-2"></a> 样例输出 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-1</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><h3 id="输入输出样例-1-说明"><a class="markdownIt-Anchor" href="#输入输出样例-1-说明"></a> 输入输出样例 1 说明</h3><p><img src="https://cdn.luogu.com.cn/upload/pic/10841.png" alt="" /></p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>开始，走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>不花费金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>向下走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>花费 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 枚金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>施展魔法，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>变为黄色，花费 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 枚金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>不花费金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(2,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>不花费金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>花费 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 枚金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(3,4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4,4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>花费 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 枚金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4,4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>施展魔法，将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4,5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mclose">)</span></span></span></span>变为黄色，花费$ 2$ 枚金币，</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4,4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4,5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mclose">)</span></span></span></span>不花费金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(4,5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(5,5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mclose">)</span></span></span></span>花费 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 枚金币</p><p>共花费 $8 $枚金币。</p><h3 id="输入输出样例-2-说明"><a class="markdownIt-Anchor" href="#输入输出样例-2-说明"></a> 输入输出样例 2 说明</h3><p><img src="https://cdn.luogu.com.cn/upload/pic/10842.png" alt="" /></p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 1, 1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 1, 2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>,不花费金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 1, 2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 2, 2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>,花费$ 1 $金币</p><p>施展魔法将<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 2, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>变为黄色,并从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 2, 2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 2, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>花费$ 2$ 金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 2, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>走到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 3, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>不花费金币</p><p>从<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 3, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span>只能施展魔法到达<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>3</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 3, 2),( 2, 3),( 3, 4),( 4, 3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span></p><p>而从以上四点均无法到达<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>5</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">( 5, 5)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">5</span><span class="mclose">)</span></span></span></span>,故无法到达终点,输出<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span></p><h3 id="数据规模与约定"><a class="markdownIt-Anchor" href="#数据规模与约定"></a> 数据规模与约定</h3><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">30\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">%</span></span></span></span>的数据, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>m</mi><mo>≤</mo><mn>5</mn><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">1 ≤ m ≤ 5, 1 ≤ n ≤ 10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。</p><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>60</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">60\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">6</span><span class="mord">0</span><span class="mord">%</span></span></span></span>的数据, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>m</mi><mo>≤</mo><mn>20</mn><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>200</mn></mrow><annotation encoding="application/x-tex">1 ≤ m ≤ 20, 1 ≤ n ≤ 200</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span>的数据, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>m</mi><mo>≤</mo><mn>100</mn><mo separator="true">,</mo><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1</mn><mo separator="true">,</mo><mn>000</mn></mrow><annotation encoding="application/x-tex">1 ≤ m ≤ 100, 1 ≤ n ≤ 1,000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p></div></details><h1 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h1><h2 id="怎么走"><a class="markdownIt-Anchor" href="#怎么走"></a> 怎么走</h2><p>本蒟蒻不会某些大佬的 <code>MBFS Dijkstra 图论 SPFA</code> 什么的，遂采用记忆化DFS+剪枝。 <s>其实这是QYC布置的离dfs神犇一步之遥题单</s></p><p>我们定义一个函数 <code>dfs(x,y,coin,can,color)</code></p><p><code>x,y</code>表示坐标，<code>coin</code>表示当前的金币数量，<code>color</code>表示当前坐标的颜色，<code>can</code>表示当前是否能施展魔法。</p><p>再加一个<code>mp</code>数组记录颜色，-1表示无颜色，0表示红色，1表示黄色</p><p>为什么不直接使用 <code>mp[x][y]</code> 获取颜色呢？从题目中可知，如果下一个格子没有颜色，需要施展“魔法”改变颜色才可以移动，而且这个魔法是临时的，离开之后就会复原，所以需要传一个颜色进去，不然会影响下一步的颜色判定。</p><p>与大部分棋盘类dfs相似，我们定义两个数组<code>fx,fy</code>来记录每个方向两轴的变化：<code>const int fx[5]=&#123;0,-1,1,0,0&#125;,fy[5]=&#123;0,0,-1,1&#125;</code>，写一个1-4的循环，每一次的<code>nx,ny</code>(下一个方向的坐标)就为<code>x+fx[i],y+fy[i]</code>。</p><p>搜索就很简单了，如果<code>mp[nx][ny]==color</code>，那么直接搜索：</p><p><code>dfs(nx,ny,coin,1,color);</code></p><p>不然的话，如果<code>mp[nx][ny]!=-1</code>（即不是无颜色），搜索，并将金币+1：</p><p><code>dfs(nx,ny,coin+1,1,mp[nx][ny]);</code></p><p>否则就没有颜色了，施展魔法将其变为当前格子颜色，因为魔法只能施展一次，前面的<code>can</code>变量就起效了，如果上一次施展过魔法，<code>can</code>为0，就不可以走这个格子了，然后金币+2，即<code>mp[nx][ny]==-1&amp;&amp;can&amp;&amp;coin+2&lt;minmp[nx][ny]</code>。</p><p><code>dfs(nx,ny,coin+2,0,color);</code></p><p>接下来我们需要一些边界条件，如果到达目标点，即为<code>x==m&amp;&amp;y==m</code>时，退出循环并记录最小值。如果x和y超过合法范围也要返回：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(x&gt;m||y&gt;m||x&lt;<span class="number">1</span>||y&lt;<span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span>(x==m&amp;&amp;y==m)&#123;</span><br><span class="line">    minc=<span class="built_in">min</span>(minc,coin);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>除此之外，你需要一个vis数组记录当前走过的部分（回溯！！！），不然你会得到壮观的MLE：</p><p><img src="https://bu.dusays.com/2023/03/12/640d2bed98f67.png" alt="" /></p><p>这就是简单的搜索逻辑。</p><h2 id="剪枝"><a class="markdownIt-Anchor" href="#剪枝"></a> 剪枝</h2><p>作为一个普及组的第三题，哪有那么容易让你拿分呢？</p><p>终于，你写出了代码，你披星戴月、奋不顾身，只为证明——只因它太暴力：</p><p><img src="https://bu.dusays.com/2023/03/12/640d2c3364bfc.png" alt="" /></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf=<span class="number">0x7fffffff</span>,fx[<span class="number">5</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,fy[<span class="number">5</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="type">int</span> m,n,mp[<span class="number">1145</span>][<span class="number">1145</span>],minc=inf,nx,ny,vis[<span class="number">1145</span>][<span class="number">1145</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> coin,<span class="type">bool</span> can,<span class="type">int</span> color)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(coin&gt;minc) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(vis[x][y]) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(x&gt;m||y&gt;m||x&lt;<span class="number">1</span>||y&lt;<span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(x==m&amp;&amp;y==m)&#123;</span><br><span class="line">        <span class="comment">// cout&lt;&lt;&quot;c:&quot;&lt;&lt;coin&lt;&lt;endl&lt;&lt;endl;</span></span><br><span class="line">        minc=<span class="built_in">min</span>(minc,coin);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cout&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;&quot; &quot;&lt;&lt;coin&lt;&lt;&quot; &quot;&lt;&lt;can&lt;&lt;endl;</span></span><br><span class="line">    vis[x][y]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">4</span>;i++)&#123;</span><br><span class="line">        nx=x+fx[i],ny=y+fy[i];</span><br><span class="line">        <span class="keyword">if</span>(color==mp[nx][ny])&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,coin,<span class="number">1</span>,color);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mp[nx][ny]!=<span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,coin<span class="number">+1</span>,<span class="number">1</span>,mp[nx][ny]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mp[nx][ny]==<span class="number">-1</span>&amp;&amp;can)&#123;</span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,coin<span class="number">+2</span>,<span class="number">0</span>,color);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    vis[x][y]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">memset</span>(mp,<span class="number">-1</span>,<span class="built_in">sizeof</span>(mp));</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="type">int</span> x,y,c;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y&gt;&gt;c;</span><br><span class="line">        mp[x][y]=c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,mp[<span class="number">1</span>][<span class="number">1</span>]); </span><br><span class="line">    <span class="keyword">if</span>(minc==inf) cout&lt;&lt;<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;minc;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>显然，她需要剪枝。</p><p>对于剪枝来说，有这几种思路：</p><ol><li>发现当前金币已经比最小的多了，就不用搜下去了</li><li>在循环中就可以判断搜索合法性了，减小函数调用开销（PS：我习惯把这玩意写在边界条件上面，看起来差不多，实则增加了函数调用开销，调用后才返回，花费显然很大</li><li>记忆化，记录走到当前坐标合法路径的最小金币，如果超过就可以不搜了，比第一个更高级</li></ol><p>关于记忆化，我们可以定义一个数组<code>minmp[1145][1145]</code>并初始化为inf（用memset需要改为127）</p><p>然后在循环里面判断即可。</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><p>终于可以上代码了：</p><details class="toggle" ><summary class="toggle-button" style="">我已经认真读完并理解了上面的解析，并且不会直接照搬</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> inf=<span class="number">0x7fffffff</span>,fx[<span class="number">5</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,fy[<span class="number">5</span>]=&#123;<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">-1</span>&#125;; <span class="comment">//每个方向xy变化</span></span><br><span class="line"><span class="type">int</span> m,n,mp[<span class="number">1145</span>][<span class="number">1145</span>],minc=inf,nx,ny,vis[<span class="number">1145</span>][<span class="number">1145</span>],minmp[<span class="number">1145</span>][<span class="number">1145</span>]; <span class="comment">//mp记录颜色，minc为最小金币，vis用于回溯。minmp为某个当前最小值</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> coin,<span class="type">bool</span> can,<span class="type">int</span> color)</span></span>&#123; <span class="comment">//定义见上</span></span><br><span class="line">    <span class="keyword">if</span>(x==m&amp;&amp;y==m)&#123; <span class="comment">//边界</span></span><br><span class="line">        <span class="comment">// cout&lt;&lt;&quot;c:&quot;&lt;&lt;coin&lt;&lt;endl&lt;&lt;endl;</span></span><br><span class="line">        minc=<span class="built_in">min</span>(minc,coin);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    minmp[x][y]=coin;</span><br><span class="line">    <span class="comment">// cout&lt;&lt;x&lt;&lt;&quot; &quot;&lt;&lt;y&lt;&lt;&quot; &quot;&lt;&lt;coin&lt;&lt;&quot; &quot;&lt;&lt;can&lt;&lt;endl;</span></span><br><span class="line">    vis[x][y]=<span class="number">1</span>; <span class="comment">//回溯</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">4</span>;i++)&#123;</span><br><span class="line">        nx=x+fx[i],ny=y+fy[i];</span><br><span class="line">        <span class="keyword">if</span>(nx&gt;m||ny&gt;n||nx&lt;<span class="number">1</span>||ny&lt;<span class="number">1</span>||vis[nx][ny]) <span class="keyword">continue</span>; <span class="comment">//不成立条件写循环里，减小开销</span></span><br><span class="line">        <span class="keyword">if</span>(color==mp[nx][ny]&amp;&amp;coin&lt;minmp[nx][ny]) <span class="comment">//相同颜色</span></span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,coin,<span class="number">1</span>,color);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mp[nx][ny]!=<span class="number">-1</span>&amp;&amp;coin<span class="number">+1</span>&lt;minmp[nx][ny]) <span class="comment">//不同颜色</span></span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,coin<span class="number">+1</span>,<span class="number">1</span>,mp[nx][ny]);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(mp[nx][ny]==<span class="number">-1</span>&amp;&amp;can&amp;&amp;coin<span class="number">+2</span>&lt;minmp[nx][ny]) <span class="comment">//没有颜色，施展魔法</span></span><br><span class="line">            <span class="built_in">dfs</span>(nx,ny,coin<span class="number">+2</span>,<span class="number">0</span>,color);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//走完了</span></span><br><span class="line">    vis[x][y]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">memset</span>(mp,<span class="number">-1</span>,<span class="built_in">sizeof</span>(mp)); <span class="comment">//初始化</span></span><br><span class="line">    <span class="built_in">memset</span>(minmp,<span class="number">127</span>,<span class="built_in">sizeof</span>(minmp));</span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123; <span class="comment">//输入数据</span></span><br><span class="line">        <span class="type">int</span> x,y,c;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y&gt;&gt;c;</span><br><span class="line">        mp[x][y]=c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,mp[<span class="number">1</span>][<span class="number">1</span>]); </span><br><span class="line">    <span class="keyword">if</span>(minc==inf) cout&lt;&lt;<span class="number">-1</span>; <span class="comment">//没搜到</span></span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;minc;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>]]></content>
    
    
      
      
    <summary type="html">&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/P3956&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
    &lt;div clas</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="DFS" scheme="https://blog.yaria.top/tags/DFS/"/>
    
  </entry>
  
  <entry>
    <title>现阶段的OI板子垃圾桶（新版）</title>
    <link href="https://blog.yaria.top/posts/88504706/"/>
    <id>https://blog.yaria.top/posts/88504706/</id>
    <published>2023-03-12T00:00:13.000Z</published>
    <updated>2023-03-12T00:00:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>考虑旧的板子文已经有了一些东西了，所以说开了个新的文章 QwQ</p><p>PS：时期不同 码风略有不同，但是大致一样</p><h1 id="crt中国剩余定理"><a class="markdownIt-Anchor" href="#crt中国剩余定理"></a> CRT（中国剩余定理）</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">ll n,x,y,ans;</span><br><span class="line">ll a[<span class="number">24</span>],m[<span class="number">24</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">exgcd</span><span class="params">(ll a,ll b,ll &amp;x,ll &amp;y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="number">1</span>,y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    ll ret=<span class="built_in">exgcd</span>(b,a%b,x,y);</span><br><span class="line">    ll t=x;x=y,y=t-(a/b)*y;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">CRT</span><span class="params">(ll a[],ll m[],ll n)</span></span>&#123;</span><br><span class="line">    ll ans=<span class="number">0</span>,M=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++) M*=m[i];</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        ll Mi=M/m[i];</span><br><span class="line">        <span class="built_in">exgcd</span>(Mi,m[i],x,y);</span><br><span class="line">        ans=(ans+x*a[i]*Mi)%M;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(ans&lt;<span class="number">0</span>) ans+=M;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(ll i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;m[i]&gt;&gt;a[i];</span><br><span class="line">    ans=<span class="built_in">CRT</span>(a,m,n);</span><br><span class="line">    cout&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="差分"><a class="markdownIt-Anchor" href="#差分"></a> 差分</h1><p>预处理复杂度 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span> 可以让元素修改复杂度降至 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 最后还原前缀和即可。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,m,a[<span class="number">114514</span>],b[<span class="number">114514</span>],c[<span class="number">114514</span>];</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        b[i]=a[i]-a[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="type">int</span> t,x1,y1,z;</span><br><span class="line">        cin&gt;&gt;t&gt;&gt;x1&gt;&gt;y1&gt;&gt;z;</span><br><span class="line">        <span class="keyword">if</span>(t==<span class="number">1</span>)&#123;</span><br><span class="line">            b[x1]+=z;</span><br><span class="line">            b[y1<span class="number">+1</span>]-=z;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(t==<span class="number">2</span>)&#123;</span><br><span class="line">            b[x1]-=z;</span><br><span class="line">            b[y1<span class="number">+1</span>]+=z;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        a[i]=b[i]+a[i<span class="number">-1</span>];</span><br><span class="line">        c[i]=a[i]+c[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> x2,y2;</span><br><span class="line">    cin&gt;&gt;x2&gt;&gt;y2;</span><br><span class="line">    cout&lt;&lt;c[y2]-c[x2<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="二分查找"><a class="markdownIt-Anchor" href="#二分查找"></a> 二分查找</h1><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log\ n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,arr[<span class="number">1919810</span>],x,ans;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); </span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;arr[i];</span><br><span class="line">    cin&gt;&gt;x;</span><br><span class="line">    <span class="type">int</span> l=<span class="number">1</span>,r=n;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">        <span class="type">int</span> mid=(l+r)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(arr[mid]==x) ans=mid,r=mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(arr[mid]&lt;x) l=mid<span class="number">+1</span>;</span><br><span class="line">        <span class="keyword">else</span> r=mid<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!ans) cout&lt;&lt;<span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">else</span> cout&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是QYC（我们教练）的循环版，我更倾向于使用分治来做:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> arr[<span class="number">1919810</span>],n,x;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">binarySearch</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> p,<span class="type">int</span> q,<span class="type">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> mid=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(p&gt;q) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    mid=p+(q-p)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(t==arr[mid]) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t&lt;arr[mid]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">binarySearch</span>(arr,p,mid<span class="number">-1</span>,t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">binarySearch</span>(arr,mid<span class="number">+1</span>,q,t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;arr[i];</span><br><span class="line">    cin&gt;&gt;x;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">binarySearch</span>(arr,<span class="number">1</span>,n,x)&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>二分答案同理。</p><h1 id="归并排序"><a class="markdownIt-Anchor" href="#归并排序"></a> 归并排序</h1><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo><mo>×</mo><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\ log\ n) × O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 很难背的板子，但是效率比快排高且逆序对有要求</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,a[<span class="number">114514</span>],r[<span class="number">114514</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Msort</span><span class="params">(<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> mid=(left+right)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(left==right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">Msort</span>(left,mid);</span><br><span class="line">    <span class="built_in">Msort</span>(mid<span class="number">+1</span>,right);</span><br><span class="line">    <span class="type">int</span> i=left,j=mid<span class="number">+1</span>,k=left;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;=a[j])&#123;</span><br><span class="line">            r[k]=a[i];</span><br><span class="line">            k++,i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            r[k]=a[j];</span><br><span class="line">            k++,j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)&#123;</span><br><span class="line">        r[k]=a[i];</span><br><span class="line">        k++,i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=right)&#123;</span><br><span class="line">        r[k]=a[j];</span><br><span class="line">        k++,j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=left;i&lt;=right;i++) a[i]=r[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;a[i];</span><br><span class="line">    <span class="built_in">Msort</span>(<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cout&lt;&lt;a[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h1 id="快速排序"><a class="markdownIt-Anchor" href="#快速排序"></a> 快速排序</h1><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\ log\ n) ~ O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mspace nobreak"> </span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 有时候会退化，建议直接用 <code>sort</code>或者<code>qsort</code></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,a[<span class="number">114514</span>],r[<span class="number">114514</span>];</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Msort</span><span class="params">(<span class="type">int</span> left,<span class="type">int</span> right)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> mid=(left+right)&gt;&gt;<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(left==right) <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">Msort</span>(left,mid);</span><br><span class="line">    <span class="built_in">Msort</span>(mid<span class="number">+1</span>,right);</span><br><span class="line">    <span class="type">int</span> i=left,j=mid<span class="number">+1</span>,k=left;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid&amp;&amp;j&lt;=right)&#123;</span><br><span class="line">        <span class="keyword">if</span>(a[i]&lt;=a[j])&#123;</span><br><span class="line">            r[k]=a[i];</span><br><span class="line">            k++,i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            r[k]=a[j];</span><br><span class="line">            k++,j++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(i&lt;=mid)&#123;</span><br><span class="line">        r[k]=a[i];</span><br><span class="line">        k++,i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(j&lt;=right)&#123;</span><br><span class="line">        r[k]=a[j];</span><br><span class="line">        k++,j++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=left;i&lt;=right;i++) a[i]=r[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cout.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">Msort</span>(<span class="number">1</span>,n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cout&lt;&lt;a[i];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h1 id="快速幂"><a class="markdownIt-Anchor" href="#快速幂"></a> 快速幂</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">qpow</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b,<span class="type">int</span> q)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>%q;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(b%<span class="number">2</span>==<span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">qpow</span>(a,b<span class="number">-1</span>,q)*a%q;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="type">int</span> t=<span class="built_in">qpow</span>(a,b/<span class="number">2</span>,q);</span><br><span class="line">        <span class="keyword">return</span> t*t%q;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">int</span> a,b,c;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b&gt;&gt;c;</span><br><span class="line">    cout&lt;&lt;<span class="built_in">qpow</span>(a,b,c);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="前缀和"><a class="markdownIt-Anchor" href="#前缀和"></a> 前缀和</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> int long long </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">signed</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="function">ios::sync_with_st <span class="title">dio</span><span class="params">(<span class="literal">false</span>)</span></span>;</span><br><span class="line">    <span class="type">int</span> n,m,a[<span class="number">114514</span>],b[<span class="number">114514</span>];</span><br><span class="line">    cin&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cin&gt;&gt;a[i];</span><br><span class="line">        b[i]=a[i]+b[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">        <span class="type">int</span> x,y;</span><br><span class="line">        cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">        cout&lt;&lt;b[y]-b[x<span class="number">-1</span>]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="最长不下降子序列-lis"><a class="markdownIt-Anchor" href="#最长不下降子序列-lis"></a> 最长不下降子序列 LIS</h1><p>DP的经典问题.</p><p>状态转移方程：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>i</mi></msub><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mo fence="true">{</mo><msub><mi>F</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>m</mi><mi>a</mi><mi>x</mi><mrow><mo fence="true">{</mo><msub><mi>F</mi><mi>j</mi></msub><mo fence="true">}</mo></mrow><mo>+</mo><mn>1</mn><mo fence="true">}</mo></mrow><mo stretchy="false">(</mo><mi>j</mi><mo>&lt;</mo><mi>i</mi><mo separator="true">,</mo><msub><mi>a</mi><mi>j</mi></msub><mo>&lt;</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F_i = max\left \{ F_i, max\left \{F_j\right \}  + 1\right \}  (j &lt; i , a_j &lt; a_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose delimcenter" style="top:0em;">}</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.9456279999999999em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX 1145</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> inf 0x3f3f3f3f</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> n,dp[MAX],arr[MAX],ans=-inf;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) cin&gt;&gt;arr[i];</span><br><span class="line">    dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;i;j++)</span><br><span class="line">            <span class="keyword">if</span>(arr[j]&lt;=arr[i]) dp[i]=<span class="built_in">max</span>(dp[i],dp[j]);</span><br><span class="line">        dp[i]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        ans=<span class="built_in">max</span>(ans,dp[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="最长公共子序列-lcs"><a class="markdownIt-Anchor" href="#最长公共子序列-lcs"></a> 最长公共子序列 LCS</h1><p>也是经典的DP：</p><p>状态转移方程 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>i</mi><mo>=</mo><mn>0</mn><mtext> </mtext><mi>o</mi><mi>r</mi><mtext> </mtext><mi>j</mi><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>+</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mtext>−</mtext><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mi>i</mi></msub><mo>=</mo><msub><mi>b</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mtext>−</mtext><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">(</mo><mi>i</mi><mtext>−</mtext><mn>1</mn><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo separator="true">,</mo><mtext> </mtext></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>a</mi><mi>i</mi></msub><mo mathvariant="normal">≠</mo><msub><mi>b</mi><mi>j</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">f(i,j) = \left\{\begin{matrix} 0,\: &amp; i = 0\:or\:j = 0 \\ 1 + f(i−1,j−1),\: &amp; a_{i} = b_{j} \\ max(f(i,j−1),f(i−1,j)),\: &amp; a_{i} \neq b_{j} \\  \end{matrix}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord">−</span><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mord">−</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="inner"><span class="mrel"></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">int</span> dp[<span class="number">2005</span>][<span class="number">2005</span>],len1,len2;</span><br><span class="line"><span class="type">char</span> a[<span class="number">114514</span>],b[<span class="number">114514</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    len1=<span class="built_in">strlen</span>(a),len2=<span class="built_in">strlen</span>(b);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=len1;i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=len2;j++)</span><br><span class="line">            <span class="keyword">if</span>(a[i<span class="number">-1</span>]==b[j<span class="number">-1</span>]) dp[i][j]=dp[i<span class="number">-1</span>][j<span class="number">-1</span>]<span class="number">+1</span>;</span><br><span class="line">            <span class="keyword">else</span> dp[i][j]=<span class="built_in">max</span>(dp[i<span class="number">-1</span>][j],dp[i][j<span class="number">-1</span>]);</span><br><span class="line">    cout&lt;&lt;dp[len1][len2];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">一堆破板子，简直就是个乐色桶（</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="数据结构" scheme="https://blog.yaria.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P1042 [NOIP2003 普及组] 乒乓球</title>
    <link href="https://blog.yaria.top/posts/1145141/"/>
    <id>https://blog.yaria.top/posts/1145141/</id>
    <published>2023-02-03T07:28:14.000Z</published>
    <updated>2024-12-13T10:08:16.266Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P1042">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P1042.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P1042 [NOIP2003 普及组] 乒乓球</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p><s>本题解原为在FZQOJ上老师的任务,还是我第一次在QOJ上写题解</s></p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">点击查看题面</summary><div class="toggle-content"><h2 id="题目背景"><a class="markdownIt-Anchor" href="#题目背景"></a> 题目背景</h2><p>国际乒联现在主席沙拉拉自从上任以来就立志于推行一系列改革，以推动乒乓球运动在全球的普及。其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 分制改革引起了很大的争议，有一部分球员因为无法适应新规则只能选择退役。华华就是其中一位，他退役之后走上了乒乓球研究工作，意图弄明白 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 分制和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span> 分制对选手的不同影响。在开展他的研究之前，他首先需要对他多年比赛的统计数据进行一些分析，所以需要你的帮忙。</p><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>华华通过以下方式进行分析，首先将比赛每个球的胜负列成一张表，然后分别计算在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 分制和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span> 分制下，双方的比赛结果（截至记录末尾）。</p><p>比如现在有这么一份记录，（其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">W</mtext></mrow><annotation encoding="application/x-tex">\texttt W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">W</span></span></span></span></span> 表示华华获得一分，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">L</mtext></mrow><annotation encoding="application/x-tex">\texttt L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">L</span></span></span></span></span> 表示华华对手获得一分）：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">WWWWWWWWWWWWWWWWWWWWWWLW</mtext></mrow><annotation encoding="application/x-tex">\texttt{WWWWWWWWWWWWWWWWWWWWWWLW}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">WWWWWWWWWWWWWWWWWWWWWWLW</span></span></span></span></span></p><p>在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 分制下，此时比赛的结果是华华第一局 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 比 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 获胜，第二局 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 比 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 获胜，正在进行第三局，当前比分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 比 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。而在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span> 分制下，此时比赛结果是华华第一局 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span> 比 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 获胜，正在进行第二局，比分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 比 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。如果一局比赛刚开始，则此时比分为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 比 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。直到分差大于或者等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>，才一局结束。</p><p>你的程序就是要对于一系列比赛信息的输入（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">WL</mtext></mrow><annotation encoding="application/x-tex">\texttt{WL}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">WL</span></span></span></span></span> 形式），输出正确的结果。</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>每个输入文件包含若干行字符串，字符串有大写的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">W</mtext></mrow><annotation encoding="application/x-tex">\texttt W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">W</span></span></span></span></span> 、 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">L</mtext></mrow><annotation encoding="application/x-tex">\texttt L</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">L</span></span></span></span></span> 和 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">E</mtext></mrow><annotation encoding="application/x-tex">\texttt E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">E</span></span></span></span></span> 组成。其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">E</mtext></mrow><annotation encoding="application/x-tex">\texttt E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">E</span></span></span></span></span> 表示比赛信息结束，程序应该忽略 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">E</mtext></mrow><annotation encoding="application/x-tex">\texttt E</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">E</span></span></span></span></span> 之后的所有内容。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>输出由两部分组成，每部分有若干行，每一行对应一局比赛的比分（按比赛信息输入顺序）。其中第一部分是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 分制下的结果，第二部分是 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span> 分制下的结果，两部分之间由一个空行分隔。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">WWWWWWWWWWWWWWWWWWWW</span><br><span class="line">WWLWE</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">11:0</span><br><span class="line">11:0</span><br><span class="line">1:1</span><br><span class="line"></span><br><span class="line">21:0</span><br><span class="line">2:1</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p>每行至多 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn></mrow><annotation encoding="application/x-tex">25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span></span></span></span> 个字母，最多有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2500</mn></mrow><annotation encoding="application/x-tex">2500</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 行。</p><p>（注：事实上有一个测试点有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2501</mn></mrow><annotation encoding="application/x-tex">2501</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">0</span><span class="mord">1</span></span></span></span> 行数据。）</p><p><strong>【题目来源】</strong></p><p>NOIP 2003 普及组第一题</p></div></details><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><h2 id="关于十一分制和二十一分制"><a class="markdownIt-Anchor" href="#关于十一分制和二十一分制"></a> 关于十一分制和二十一分制</h2><p>在原题中，对于这种分制，描述是这样的：</p><p>在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 分制下，此时比赛的结果是华华第一句 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn><mo>:</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">11:0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 获胜，第二局 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn><mo>:</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">11:0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 获胜，正在进行第三局，当前比分 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>:</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">1:1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 。而在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span> 分制下，此时比赛结果是华华第一局 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn><mo>:</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">21:0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 获胜，正在进行第二局，比分<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>:</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2:1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。如果一局比赛刚开始，则此时比分为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>:</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">0:0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 。直到分差大于或者等于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> ，才一局结束。</p><p>很显然地，我们可以看出一个条件:如果分差 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≥</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\ge 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> ，比赛就结束了。(应该是为了考虑拉开差距)</p><p>但是这个样例看起来人畜无害非常简单，其实就是阻碍理解的一种ex数据:因为这里的悬殊太大，甚至华华对手基本上没有拿到分!</p><p>在第一次遇到的时候我的理解则是总分大于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn></mrow><annotation encoding="application/x-tex">11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 或 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>21</mn></mrow><annotation encoding="application/x-tex">21</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span></span></span></span>就结束 <s>而且没有考虑分差的情况</s> 且分数差距大于2时比赛结束 （因为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11</mn><mo>+</mo><mn>0</mn><mo>=</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">11+0=11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> ?） ，然后写的程序虽然能过样例，但是喜提爆零 <s>WA声一片</s></p><p><img src="https://s1.ax1x.com/2023/02/03/pSsPIOJ.png" alt="pSsPIOJ.png" /></p><p>遂尝试求助网络，有幸搜到了一个较清楚的百科:</p><p>11分制，乒乓球运动比赛规则之一。国际乒联2001年9月1日修订。一场比赛由奇数局组成，在一局比赛中，先得11分的一方为胜方。10平后，先夺得2分的一方为胜方。发、接球次序在获得每2分之后，接发球方即成为发球方。10平后，每方只轮发一球。在决胜局中，一方先得5分时，双方应交换位置。</p><p>从这个规矩就可以很明显看出来：只需要满足<code>(a&gt;=11||b&gt;=11)&amp;&amp;abs(a-b)&gt;=2</code>这个条件即可。</p><h2 id="简单的模拟思路"><a class="markdownIt-Anchor" href="#简单的模拟思路"></a> 简单的模拟思路</h2><p>这道题当然是一个较为简单但是坑爹的模拟题，按照题意计分即可。</p><p>我们使用双层<code>while</code>循环，第一层循环每一局，第二层则是每一局的计分。第二层计分循环除了以上的退出条件之外，还需要考虑最后一个局可能出现不完整的现象，这种情况下只需要检测到全部计分完成之后退出即可(用一个变量记字数)。</p><p>输入分好几行，其实可以视为一行，我使用的是<code>getchar</code>来读入直到检测到<code>E</code>字符。</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><p>话不多说上代码：</p><details class="toggle" ><summary class="toggle-button" style="">我已经认真读完并理解了上面的解析，并且不会直接照搬</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">char</span> f[<span class="number">1919810</span>],t;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> n=<span class="number">1</span>,k=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123; <span class="comment">//读取部分,用getchar手搓一个</span></span><br><span class="line">        t=<span class="built_in">getchar</span>();</span><br><span class="line">        <span class="keyword">if</span>(t==<span class="string">&#x27;E&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(t!=<span class="string">&#x27;\n&#x27;</span>&amp;&amp;t!=<span class="string">&#x27; &#x27;</span>)&#123; <span class="comment">//忽略回车和空格</span></span><br><span class="line">            f[n]=t;</span><br><span class="line">            n++; <span class="comment">//n拿来记字数,后面会考</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    f[n]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    n--;</span><br><span class="line">    <span class="type">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123; <span class="comment">//11分制,外层循环</span></span><br><span class="line">        <span class="type">int</span> a=<span class="number">0</span>,b=<span class="number">0</span>;<span class="comment">//计分</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123; <span class="comment">//每一局的计分</span></span><br><span class="line">            <span class="keyword">if</span>(k&gt;n)&#123; <span class="comment">//k记录已经读取的字符个数,这里说明最后一个残局已经完了了,退出循环</span></span><br><span class="line">                flag=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(a-b)&gt;=<span class="number">2</span>&amp;&amp;(a&gt;=<span class="number">11</span>||b&gt;=<span class="number">11</span>))&#123; <span class="comment">//bt退出条件,进入下一局</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(f[k]==<span class="string">&#x27;W&#x27;</span>)&#123; <span class="comment">//想必W就是Win的意思罢(无慈悲)</span></span><br><span class="line">                a++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(f[k]==<span class="string">&#x27;L&#x27;</span>)&#123; <span class="comment">//想必L就是Lost的意思罢(无慈悲)</span></span><br><span class="line">                b++;</span><br><span class="line">            &#125;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>,a,b); <span class="comment">//书接上回</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>,a,b); <span class="comment">//输出</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    k=<span class="number">1</span>; <span class="comment">//记得重置变量!!!</span></span><br><span class="line">    flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123; <span class="comment">//二十一分制,同上</span></span><br><span class="line">        <span class="type">int</span> a=<span class="number">0</span>,b=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(k&gt;n)&#123;</span><br><span class="line">                flag=<span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>; </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">abs</span>(a-b)&gt;=<span class="number">2</span>&amp;&amp;(a&gt;=<span class="number">21</span>||b&gt;=<span class="number">21</span>))&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(f[k]==<span class="string">&#x27;W&#x27;</span>)&#123;</span><br><span class="line">                a++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(f[k]==<span class="string">&#x27;L&#x27;</span>)&#123;</span><br><span class="line">                b++;</span><br><span class="line">            &#125;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>,a,b);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>,a,b);</span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">//全剧终</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>]]></content>
    
    
      
      
    <summary type="html">&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/P1042&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
    &lt;div clas</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="模拟" scheme="https://blog.yaria.top/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="字符串" scheme="https://blog.yaria.top/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P1540 [NOIP2010 提高组] 机器翻译</title>
    <link href="https://blog.yaria.top/posts/1919810/"/>
    <id>https://blog.yaria.top/posts/1919810/</id>
    <published>2023-02-03T07:28:14.000Z</published>
    <updated>2024-12-13T10:08:16.266Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P1540">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P1540.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P1540 [NOIP2010 提高组] 机器翻译</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>书接上文，本文同样转载自FZQOJ，因为大家学的比较基础，遂简单科普了队列。</p><p><s>略臭题目，话说这道题居然是提高组，€€￡的眼光不愧优秀。</s></p><p>这道题也是一个简单模拟题。需要用到队列。</p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">点击查看题面</summary><div class="toggle-content"><h2 id="题目背景"><a class="markdownIt-Anchor" href="#题目背景"></a> 题目背景</h2><p>小晨的电脑上安装了一个机器翻译软件，他经常用这个软件来翻译英语文章。</p><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>这个翻译软件的原理很简单，它只是从头到尾，依次将每个英文单词用对应的中文含义来替换。对于每个英文单词，软件会先在内存中查找这个单词的中文含义，如果内存中有，软件就会用它进行翻译；如果内存中没有，软件就会在外存中的词典内查找，查出单词的中文含义然后翻译，并将这个单词和译义放入内存，以备后续的查找和翻译。</p><p>假设内存中有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 个单元，每单元能存放一个单词和译义。每当软件将一个新单词存入内存前，如果当前内存中已存入的单词数不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">M-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，软件会将新单词存入一个未使用的内存单元；若内存中已存入 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> 个单词，软件会清空最早进入内存的那个单词，腾出单元来，存放新单词。</p><p>假设一篇英语文章的长度为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个单词。给定这篇待译文章，翻译软件需要去外存查找多少次词典？假设在翻译开始前，内存中没有任何单词。</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 行。每行中两个数之间用一个空格隔开。</p><p>第一行为两个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo separator="true">,</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">M,N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>，代表内存容量和文章的长度。</p><p>第二行为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个非负整数，按照文章的顺序，每个数（大小不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>）代表一个英文单词。文章中两个单词是同一个单词，当且仅当它们对应的非负整数相同。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>一个整数，为软件需要查词典的次数。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3 7</span><br><span class="line">1 2 1 5 4 4 1</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><h3 id="样例解释"><a class="markdownIt-Anchor" href="#样例解释"></a> 样例解释</h3><p>整个查字典过程如下：每行表示一个单词的翻译，冒号前为本次翻译后的内存状况：</p><ol><li><code>1</code>：查找单词 1 并调入内存。</li><li><code>1 2</code>：查找单词 2 并调入内存。</li><li><code>1 2</code>：在内存中找到单词 1。</li><li><code>1 2 5</code>：查找单词 5 并调入内存。</li><li><code>2 5 4</code>：查找单词 4 并调入内存替代单词 1。</li><li><code>2 5 4</code>：在内存中找到单词 4。</li><li><code>5 4 1</code>：查找单词 1 并调入内存替代单词 2。</li></ol><p>共计查了 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 次词典。</p><h3 id="数据范围"><a class="markdownIt-Anchor" href="#数据范围"></a> 数据范围</h3><ul><li>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">10\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">M=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>≤</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">N \leq 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span>；</li><li>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>M</mi><mo>≤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">1 \leq M \leq 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \leq N \leq 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</li></ul></div></details><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><h2 id="队列"><a class="markdownIt-Anchor" href="#队列"></a> 队列</h2><p>首先先向不太了解的同学们简单科普一下队列这个东西：</p><p>队列是一种特殊的线性表（你也可以理解为数组），它只允许在表的前端（front）进行删除操作，而在表的后端（rear）进行插入操作。</p><p>怎么简单地理解它呢？你可以想想你平时吃饭排队时，是不是需要从后面排，然后到了第一个的时候就打饭离开呢？没错，队列也是这样的，我们从后面插入元素，直到前面的元素都被拿走后，就到了队头（front），此时该元素就能被删除了。而从后面插入的地方就叫做队尾（rear）。</p><h2 id="队列的实现"><a class="markdownIt-Anchor" href="#队列的实现"></a> 队列的实现</h2><p>在<code>C++</code>中有两种实现队列的方式：手搓和上STL。手搓队列就是使用数组模拟，用一个变量记录队头索引，一个记录队尾索引，然后根据索引插入、删除、查询即可。但是这种方法会导致空间的浪费，并且稍微麻烦（但是有时候有优点），所以我推荐使用stl。</p><p>使用stl时，我们使用这种语法创建：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;type&gt; q;</span><br></pre></td></tr></table></figure><p>type部分填入的是类型，代表队列可存储的数据类型：比如<code>int</code>、<code>double</code>、<code>char</code>等。</p><p>假如存储int的话，可以这样创建：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queue&lt;<span class="type">int</span>&gt; q;</span><br></pre></td></tr></table></figure><p>哦，对了，要开启STLQueue的大门，我们还需要引入 <s>米奇妙妙屋</s> 头文件：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br></pre></td></tr></table></figure><p>如果你使用了万能头，即<code>#include &lt;bits/stdc++.h&gt;</code>，就不用引入了。</p><p>队列的基础操作也很简单：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这里只介绍基本语法</span></span><br><span class="line">q.<span class="built_in">front</span>(); <span class="comment">//获取队头</span></span><br><span class="line">q.<span class="built_in">rear</span>(); <span class="comment">//获取队尾</span></span><br><span class="line">q.<span class="built_in">push</span>(n); <span class="comment">//在队尾插入元素,即入队,插入类型取决于您声明时的类型</span></span><br><span class="line">q.<span class="built_in">pop</span>(); <span class="comment">//移除队头元素,即出队</span></span><br><span class="line">q.<span class="built_in">size</span>(); <span class="comment">//获取队列长度</span></span><br><span class="line">q.<span class="built_in">empty</span>(); <span class="comment">//获取队列是否为空,效果等同于q.size()==0</span></span><br></pre></td></tr></table></figure><h2 id="解析-2"><a class="markdownIt-Anchor" href="#解析-2"></a> 解析</h2><p>这道题就是一个简单的模拟题简单来说就是如果内存里面没有这个单词（其实是一个数）的话就从外存入队，如果内存容量不够，出队即可。</p><p>哦，对了，每次查询时还要计数噢！</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><p>话不多说上代码</p><details class="toggle" ><summary class="toggle-button" style="">我已经认真读完并理解了上面的解析，并且不会直接照搬</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">find</span><span class="params">(queue&lt;<span class="type">int</span>&gt; q, <span class="type">int</span> n)</span></span>&#123; <span class="comment">//从内存里查找</span></span><br><span class="line">    <span class="type">int</span> size = q.<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;size;i++)&#123;</span><br><span class="line">        <span class="type">int</span> a = q.<span class="built_in">front</span>();</span><br><span class="line">        <span class="keyword">if</span> (a == n)&#123; <span class="comment">//不断出队,如果发现元素返回</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        q.<span class="built_in">pop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//没有元素,需要查询</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>); <span class="comment">//读入优化,虽然没用(</span></span><br><span class="line">    <span class="type">int</span> m,n,c=<span class="number">0</span>;</span><br><span class="line">    queue&lt;<span class="type">int</span>&gt; q; <span class="comment">//初始化</span></span><br><span class="line">    cin&gt;&gt;m&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="type">int</span> t; </span><br><span class="line">        cin&gt;&gt;t;</span><br><span class="line">        <span class="keyword">if</span>(!<span class="built_in">find</span>(q,t))&#123; <span class="comment">//从外存调入</span></span><br><span class="line">            <span class="keyword">if</span>(q.<span class="built_in">size</span>()&lt;m)&#123;</span><br><span class="line">                q.<span class="built_in">push</span>(t); <span class="comment">//容量足够</span></span><br><span class="line">                c++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                q.<span class="built_in">pop</span>(); <span class="comment">//容量不足,先出队再入队</span></span><br><span class="line">                q.<span class="built_in">push</span>(t);</span><br><span class="line">                c++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;c; </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>]]></content>
    
    
      
      
    <summary type="html">&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/P1540&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
    &lt;div clas</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="数据结构" scheme="https://blog.yaria.top/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
    <category term="模拟" scheme="https://blog.yaria.top/tags/%E6%A8%A1%E6%8B%9F/"/>
    
    <category term="STL" scheme="https://blog.yaria.top/tags/STL/"/>
    
    <category term="队列" scheme="https://blog.yaria.top/tags/%E9%98%9F%E5%88%97/"/>
    
  </entry>
  
  <entry>
    <title>宝塔有什么不能用的！破解HydroOJ安装脚本限制</title>
    <link href="https://blog.yaria.top/posts/976a035b/"/>
    <id>https://blog.yaria.top/posts/976a035b/</id>
    <published>2023-01-30T00:15:29.000Z</published>
    <updated>2023-01-30T00:15:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>突然想折腾个OJ出来，看着<a href="https://hydro.js.org/">hydrooj</a>挺好，遂尝试安装。</p><p>可是由于作者对宝塔的极其抵触，导致安装程序一旦检测到宝塔就自动退出，我就不信邪了，为什么不能修改源码呢。</p><p><img src="https://bu.dusays.com/2023/01/30/63d70d660f7ba.png" alt="" /></p><p>下载脚本里面的<code>setup.sh</code>，很明显的，从23行开始到下面的<code>EOF123</code>有一串base64代码，于是我转换了一下，得到了一串min.js。</p><p><img src="https://bu.dusays.com/2023/01/30/63d70ddb75f75.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/30/63d70f4dc31df.png" alt="" /></p><p>格式化后搜索<code>bt</code>不难发现这个部分：</p><p>这就是自动退出的部分了。</p><p><img src="https://bu.dusays.com/2023/01/30/63d71038aeb42.png" alt="" /></p><p>只需要把它注释掉，再编码放回去即可。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">IGNORE_BT</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="title function_">n</span>(<span class="string">&quot;bt default&quot;</span>).<span class="property">code</span> || (s.<span class="title function_">warn</span>(<span class="string">&quot;warn.bt&quot;</span>), process.<span class="title function_">exit</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2023/01/30/63d71093b5e33.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/30/63d710c0cec7c.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/30/63d7113048690.png" alt="" /></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;突然想折腾个OJ出来，看着&lt;a href=&quot;https://hydro.js.org/&quot;&gt;hydrooj&lt;/a&gt;挺好，遂尝试安装。&lt;/p&gt;
&lt;p&gt;可是由于作者对宝塔的极其抵触，导致安装程序一旦检测到宝塔就自动退出，我就不信邪了，为什么不能修改源码呢。&lt;/p&gt;
&lt;p&gt;&lt;img</summary>
      
    
    
    
    <category term="避坑教程" scheme="https://blog.yaria.top/categories/%E9%81%BF%E5%9D%91%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="避坑" scheme="https://blog.yaria.top/tags/%E9%81%BF%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>FZQOJ #203.拦截导弹问题</title>
    <link href="https://blog.yaria.top/posts/ada4230e/"/>
    <id>https://blog.yaria.top/posts/ada4230e/</id>
    <published>2023-01-29T09:33:07.000Z</published>
    <updated>2023-01-29T09:33:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先，需要说明的是，这道题并非完整的NOIP1999那个原题，而是我们学校教练的精简题，因为贪心的不顾后特性，无法解出最优解，原题需要DP才能解出，而且你谷的bt数据更是需要<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>n</mi><mo stretchy="false">)</mo><mtext>做法才能解出，</mtext></mrow><annotation encoding="application/x-tex">O(n\ log\ n)做法才能解出，</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace"> </span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mord cjk_fallback">做</span><span class="mord cjk_fallback">法</span><span class="mord cjk_fallback">才</span><span class="mord cjk_fallback">能</span><span class="mord cjk_fallback">解</span><span class="mord cjk_fallback">出</span><span class="mord cjk_fallback">，</span></span></span></span>O(n^2)$则会TLE。 <s>本蒟蒻不会DP qwq</s></p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><p>话不多说先看题：</p><details class="folding-tag" cyan open><summary> 查看题面 </summary>              <div class='content'>              <p>某国为了防御敌国的导弹袭击，开发出一种导弹拦截系统，但是这种拦截系统有一个缺陷：虽然它的第一发炮弹能够到达任意的高度，但是以后每一发炮弹都不能高于前一发的高度。某天，雷达捕捉到敌国的导弹来袭，由于该系统还在试用阶段。所以一套系统有可能不能拦截所有的导弹。</p><p>输入导弹依次飞来的高度（雷达给出的高度不大于<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30000</mn></mrow><annotation encoding="application/x-tex">30000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>的正整数）。计算要拦截所有导弹最小需要配备多少套这种导弹拦截系统。</p><h2 id="输入"><a class="markdownIt-Anchor" href="#输入"></a> 输入</h2><p>n颗依次飞来的高度（<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1\le n\le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>）</p><h2 id="输出"><a class="markdownIt-Anchor" href="#输出"></a> 输出</h2><p>要拦截所有导弹最小配备的系统数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></p><h2 id="样例"><a class="markdownIt-Anchor" href="#样例"></a> 样例</h2><h3 id="样例输入1"><a class="markdownIt-Anchor" href="#样例输入1"></a> 样例输入1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">389 207 155 300 299 170 158 65</span><br></pre></td></tr></table></figure><h3 id="样例输出1"><a class="markdownIt-Anchor" href="#样例输出1"></a> 样例输出1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p>不断输入，最后停止（直到输入完输入文件中的所有数据）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(cin&gt;&gt;h)&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//做一些事情</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;h)!=EOF)&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//做一些事情</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><p>这道题有一种很明显的贪心策略，即：第一次尽量拦截最高的，然后之后的每一次都拦截尽可能高，但是不足上一个的。</p><p>对于多个系统的情况，只需要一个变量计数即可，其它变量重置再来规划，为了区分已经拦截和未拦截的导弹，可以将已经拦截的改为某个特定值，拦截直到发现每一个导弹都是特定值。</p><p>因为每次都要寻找后面的最大值，所以这种做法的时间复杂度可以大致估计为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></p><div class="tip error"><p>请勿尝试使用贪心通过原题，不然您会爆零的！</p><p>具体原因上面已说，因为贪心不一定能求出最优解。</p></div><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><p>相信理解了上面的解析应该就很简单了：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">p</span><span class="params">(<span class="type">int</span> ds[],<span class="type">int</span> n)</span></span>&#123; <span class="comment">//判断是否每一个导弹都被拦截，似乎直接for n次会WA，具体原因未知</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ds[i]!=<span class="number">-1</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> ds[<span class="number">114514</span>],maxi,k=<span class="number">1</span>,m=<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> ccfxxk=<span class="number">1</span>,max=<span class="number">-0x3f3f3f3f</span>,lmax=<span class="number">0x3f3f3f3f</span>; <span class="comment">//ccfxxk OI日常发情(bushi</span></span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;ds[ccfxxk]) ccfxxk++; <span class="comment">//简单的重复输入直到EOF，并记录个数 </span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">p</span>(ds,ccfxxk))&#123; <span class="comment">//一直拦截到全部都没了为止</span></span><br><span class="line">        <span class="keyword">if</span>(m&gt;ccfxxk)&#123;  <span class="comment">//m是记录当前拦截到了第几个,若&gt;n则本套系统已爆,归零换下一个</span></span><br><span class="line">            m=<span class="number">1</span>;</span><br><span class="line">            lmax=<span class="number">0x3f3f3f3f</span>; <span class="comment">//上一个导弹的高度</span></span><br><span class="line">            max=<span class="number">-0x3f3f3f3f</span>; <span class="comment">//本导弹高度</span></span><br><span class="line">            k++; <span class="comment">//记录系统个数</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=m;i&lt;=ccfxxk;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(ds[i]&gt;max&amp;&amp;ds[i]&lt;=lmax)&#123; <span class="comment">//这里的条件是&lt;上一个且尽可能大</span></span><br><span class="line">                max=ds[i];</span><br><span class="line">                maxi=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ds[maxi]=<span class="number">-1</span>; <span class="comment">//记录-1以防后面的系统误判,但是不需要特判,因为正常的数据是比-1大的</span></span><br><span class="line">        m=maxi<span class="number">+1</span>;</span><br><span class="line">        lmax=max;</span><br><span class="line">        max=<span class="number">-0x3f3f3f3f</span>; </span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;k; <span class="comment">//最后输出就行力</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先，需要说明的是，这道题并非完整的NOIP1999那个原题，而是我们学校教练的精简题，因为贪心的不顾后特性，无法解出最优解，原题需要DP才能解出，而且你谷的bt数据更是需要&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-mathml&quot;&gt;&lt;ma</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="贪心" scheme="https://blog.yaria.top/tags/%E8%B4%AA%E5%BF%83/"/>
    
  </entry>
  
  <entry>
    <title>记一次在CRT的小运转</title>
    <link href="https://blog.yaria.top/posts/crt5kksk/"/>
    <id>https://blog.yaria.top/posts/crt5kksk/</id>
    <published>2023-01-27T06:44:30.000Z</published>
    <updated>2023-01-27T06:44:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>多图警告！！！</p><h1 id="起因"><a class="markdownIt-Anchor" href="#起因"></a> 起因</h1><p>事情的起因是这样的：我爸我妈带着我家四个老人去解放碑玩，可是我已经在解放碑玩过很多次了，也不想去了，于是建议他们去其他地方，但是因为我外婆手脚不方便，所以还是没有去。</p><p>于是我干脆就去运转玩玩，下午再跟他们汇合。经过了一番争取，总算是争取到了机会。</p><h1 id="经过"><a class="markdownIt-Anchor" href="#经过"></a> 经过</h1><h2 id="线路"><a class="markdownIt-Anchor" href="#线路"></a> 线路</h2><p>这次运转我原本的打算是一次尽量坐遍CRT的所有线路，然后下午去解放碑（较场口 临江门 小什字）跟家里人汇合，不过因为空港和 <s>跳江</s> 江跳线的极其独立化行为与基本上只有半个上午的时间限制就没有去，当然回去的时候顺便看看李子坝单轨 <s>不是亲鬼啊啊喂！！！！！</s> 穿楼和重庆人民大礼堂。</p><p><img src="https://bu.dusays.com/2023/01/27/63d39934d8373.jpg" alt="" /></p><p>那么坐的线路就有：As0 B1 单轨2 单轨3 As4 As5 B6 As9 As10 B21（国博）</p><p>运转线路如图，你有没有感觉不太对劲呢？先卖个关子。</p><h2 id="在国博6号线上"><a class="markdownIt-Anchor" href="#在国博6号线上"></a> 在国博&amp;6号线上</h2><p>当前进度（1/10） B21</p><p>1月26号上午9点左右从复兴站出发，坐上国博线去礼嘉换乘6号线：</p><p><img src="https://bu.dusays.com/2023/01/27/63d39ae2233c6.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d39b06ab2dc.jpg" alt="" /></p><p>当前进度（2/10） B6</p><p>礼嘉和国博线的换乘是同台换乘，可惜以前6直通国博的交路在信号改造之后被取消了，说不定国博之后会完全独立。</p><p><img src="https://bu.dusays.com/2023/01/27/63d39b5aec2f5.jpg" alt="" /></p><p>刚好坐到了一个特别臭的车号和车厢号和车门号(便乘)</p><p><img src="https://bu.dusays.com/2023/01/27/63d39b98c55a0.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d39bb2a1283.jpg" alt="" /></p><h2 id="坐了个直快"><a class="markdownIt-Anchor" href="#坐了个直快"></a> 坐了个直快</h2><p>当前进度（4/10） As0&amp;&amp;As4【还是不算5号线了】</p><p>到冉家坝换乘了环线，刚好遇到了一个直快车，就当是4、5、环都坐了一遍（不过5号线顶多算只坐了个车，具体为什么先卖个关子，待会你就知道了）</p><p><img src="https://bu.dusays.com/2023/01/27/63d3eb0f4b8de.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d39c98f114a.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d39ca0532c4.jpg" alt="" /></p><p>在直快上应该就算是同时做了4和环罢，在mmp北北下了（PS当时赶着去坐10号线没拍清楚）（？）</p><p><img src="https://bu.dusays.com/2023/01/27/63d39d943e58a.png" alt="" /></p><h2 id="去坐单轨力"><a class="markdownIt-Anchor" href="#去坐单轨力"></a> 去坐单轨力！</h2><p>当前进度（5/10） As10</p><p>因为3号线要么在龙头寺要么在mmp北南，所以 <s>懒得走</s> 干脆坐10号线到mmp北南来坐3号线（PS：南广场的换乘真的长）</p><p><s>话说CRT的10快是疫情之后不准备开了么，还是说10二来了没调好，还是在等10二修完呢？</s></p><p><img src="https://bu.dusays.com/2023/01/27/63d3a09626b98.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3a0a29169b.jpg" alt="" /></p><p>当前进度（6/10）单轨3</p><p>然后走了贼长的换乘通道（没拍）去了3号线，不过就算是平常感觉也有点挤。</p><p><img src="https://bu.dusays.com/2023/01/27/63d3a0f285b74.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3abe72ed00.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3a5e620996.jpg" alt="" /></p><p>话说CRT3在某些程度上甚至有点像飞机（10也挺像的</p><p><img src="https://bu.dusays.com/2023/01/27/63d3a8123865f.jpg" alt="" />1</p><p>这个：</p><a class="tag-Link" target="_blank" href="https://www.bilibili.com/video/BV15d4y1s7D3/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.bilibili.com/video/BV15d4y1s7D3/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">重庆3号线疑似运行过程中开门？还是地上段？(CRT3)</div>            <div class="tag-link-sitename">bilibili</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="槽点最多-久耗-9号线失败的5号线"><a class="markdownIt-Anchor" href="#槽点最多-久耗-9号线失败的5号线"></a> 槽点最多： <s>久耗</s> ⑨号线&amp;&amp;失败的5号线</h2><p>当前进度（7/10）As9</p><p>接下来就去坐9号线了，如果想要与3号线换乘只能在观坑换乘，这就很恶心了，目前的观坑还有谢坑都得出站换乘，而且还有一些玄学的虚拟换乘连续计费问题，貌似是如果达到线网最高价（7块）就不连续计费了。或者是学生卡不支持？</p><p><img src="https://bu.dusays.com/2023/01/27/63d3ab73a2ccd.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3ab8cc019c.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3abf0189dd.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3abfba3b76.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e4985367e.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e4cb550f7.png" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e4da4b1af.jpg" alt="" /></p><p>话说9号线居然有车厢客流显示）））</p><p>于是按照线网图，我坐到了红岩村站准备换乘5号线下去坐一号线，顺便体验下那个从未体验过的“全国最深地铁站”。</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e4efe499f.jpg" alt="" /></p><p>事实上来说，确实是挺深的，光这种比其它地铁站长的多的扶梯配置就有8大8个，不过迫于赶时间，就没有去慢慢坐上去。</p><h3 id="悲剧"><a class="markdownIt-Anchor" href="#悲剧"></a> 悲剧</h3><p>但是但是，你们还记得吗，CRT是当之无愧的第二名鸽铁，线网图也是画大饼，当时规划运转线路时我刚好没注意，所以说5号线中段。。。还没开呢！暂未开通换乘！于是我就与5号线失之交臂，因为绕路的延误，这也使得原定的参观李子坝和大礼堂的任务并没有做到。</p><p>这下就只能坐到小龙坎换乘一号线了。</p><h3 id="遇到一些有趣的9号线车"><a class="markdownIt-Anchor" href="#遇到一些有趣的9号线车"></a> 遇到一些有趣的9号线车</h3><p>回去赶下一班车，不得不说CRT疫情后恢复运营以来摆烂的10/5分钟间隔还是有点坑的。还好出去逛了一下才不至于干等。</p><p>对面看到了一个赵老师视频传说中的9号线消防主题涂装车，不过挺有诚意的，虽然说基本上是内饰,颇有一种以前CRT1的拉拉涂装的感觉（</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e52f1e22b.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e5514ba98.jpg" alt="" /></p><p>这次等到了一个9号线二期车（某北京地铁名UP一直没蹲到那种），不过这LCD是真够丑的，堪比老年机，但是有魔窗，听说就是跑的Windows系统挂着一个exe，下次有空再去跟TSK玩玩（不过之前说国博线也有魔窗就是没遇着）。</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e573330c0.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e5817cfc8.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e58bd889d.jpg" alt="" /></p><h2 id="1号线上全是看单鬼穿楼的"><a class="markdownIt-Anchor" href="#1号线上全是看单鬼穿楼的"></a> 1号线上全是看单鬼穿楼的</h2><p>当前进度（8/10） B1</p><p>去小龙坎站换乘了1号线，刚好坐到了一个第一次增购车，这个lcd比较像环线，二期增购就是国博线风格了。</p><p>话说这个站厅真好看：</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e5c03d2a9.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e5ce87034.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e5d9c9170.jpg" alt="" /></p><p>（一个臭车 （11)451(4)）</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e5feb5919.jpg" alt="" /></p><p>这时发现车上人好多（没拍）——你别以为都是去解放碑洪崖洞的游客。</p><p>在这个区间拍了个pov，不过因为前面两站的手机对焦怼着玻璃了就没拍到，当然是在后面车窗拍的，因为前面太挤了。</p><p>坐到大坪站去，隐隐发现事情的不对劲…</p><h2 id="李子坝挤死了不去了"><a class="markdownIt-Anchor" href="#李子坝挤死了不去了"></a> 李子坝，挤死了，不去了！</h2><p>当前进度（9/10）单轨2</p><p>欸？不是要坐2号线吗？</p><p>你看，这1号线上少了好多人！全都下车了，去二号线嘞！</p><p>（有幸拍到大坪的CRT老logo，说不定又会被某人搞来像futuguan一样去官网举报来拆了，赶紧拍个留作纪念）</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e62914d49.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e642eb8ee.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e651b519e.jpg" alt="" /></p><p>不过之前的futuguan错误拼音那玩意是真没拍到 已经拆了 qwq</p><p>坐到了一个六编车，然后我又挤到了后面。</p><p>这时我有个神奇的想法想从拍李子坝单轨穿楼的后面展望POV，可惜快到的时候在被我弟打电话催我回去打断了，因此计划失败，不过拍到了一个比较老的4编车？</p><p>尝试李子坝下车，结果人潮汹涌：</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e6713b43c.jpg" alt="" /></p><p>等等，李子坝有6大6楼，而且扶梯还烂了，这挤下去可得要很久呢。</p><p>计划不疾而终，准备直接继续坐车前往临江门站跟我妈汇合了。当然这次坐到了一个8编车，没记错的话应该是02059，这与有些人说的那天只有4/6编的车好像情况不太一样。又拍了个pov，就回去了。</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e68a5ac10.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e69571cc3.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e73d015c2.jpg" alt="" /></p><p>八编车，总结：电子垃圾，难看，抖，吵，落后（指信号都没调试好就上线，还要手动关门的屑八编）。</p><h1 id="晚上遇到的奇观"><a class="markdownIt-Anchor" href="#晚上遇到的奇观"></a> 晚上遇到的奇观</h1><h2 id="一个抢六来用的屑一号线车"><a class="markdownIt-Anchor" href="#一个抢六来用的屑一号线车"></a> 一个抢六来用的屑一号线车</h2><p>见图：</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e6b19c10c.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e6b99a18b.jpg" alt="" /></p><h2 id="小什字站挤死了"><a class="markdownIt-Anchor" href="#小什字站挤死了"></a> 小什字站挤死了</h2><p>这堪比那天烟花秀啊，听b站上说后来是直接放开闸机了通行了，不过给crt少了好多客流，可惜。 <s>（还好我懒得走是朝天门上去的）</s></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e6e06ebdd.jpg" alt="" /></p><h2 id="特别吉利的国博线"><a class="markdownIt-Anchor" href="#特别吉利的国博线"></a> 特别吉利的国博线</h2><p>这数字漂亮滴很呐！</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e6f760e5c.jpg" alt="" /></p><h2 id="在家里偶然发现的老票"><a class="markdownIt-Anchor" href="#在家里偶然发现的老票"></a> 在家里偶然发现的老票</h2><p>甚至还有点臭：</p><p><img src="https://bu.dusays.com/2023/01/27/63d3e728b6c40.jpg" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/27/63d3e73036c65.jpg" alt="" /></p><h1 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h1><p>CRT还是做的挺好的。</p><p>这次唯一遗憾没做到5号线…</p><p><s>给我修好5中！！！</s></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;多图警告！！！&lt;/p&gt;
&lt;h1 id=&quot;起因&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#起因&quot;&gt;&lt;/a&gt; 起因&lt;/h1&gt;
&lt;p&gt;事情的起因是这样的：我爸我妈带着我家四个老人去解放碑玩，可是我已经在解放碑玩过很多次了，也不想去了，于是建议他们去</summary>
      
    
    
    
    <category term="铁道" scheme="https://blog.yaria.top/categories/%E9%93%81%E9%81%93/"/>
    
    
    <category term="生活" scheme="https://blog.yaria.top/tags/%E7%94%9F%E6%B4%BB/"/>
    
    <category term="铁道" scheme="https://blog.yaria.top/tags/%E9%93%81%E9%81%93/"/>
    
    <category term="CRT" scheme="https://blog.yaria.top/tags/CRT/"/>
    
  </entry>
  
  <entry>
    <title>基于腾讯云Cloudbase云开发的Twikoo评论弹幕扩展</title>
    <link href="https://blog.yaria.top/posts/8f578896/"/>
    <id>https://blog.yaria.top/posts/8f578896/</id>
    <published>2023-01-21T16:42:00.000Z</published>
    <updated>2023-01-21T16:42:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>最近发现腾讯云的云开发是可以嫖六个月的（别问我，学生优惠），而且刚好twikoo的vercel api很慢，就换上了，刚好发现两者的api不一样，原来的js需要修改（post参数不一样，原本返回的json现在嵌套了一层，遂给出教程。该js基于CommentBarrage3.0（其实是全版本通用修改？），参考：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/670e47f/#CommentBarrage V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/670e47f/#CommentBarrage V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">博客魔改日记（3）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="apiurl的获取"><a class="markdownIt-Anchor" href="#apiurl的获取"></a> apiUrl的获取</h1><p>在原有的js配置项中有apiUrl，可以这么获取：</p><p><img src="https://bu.dusays.com/2023/01/22/63cca0c5593a3.png" alt="" /></p><p>23.1.22更新：原有版本因为accesstoken问题改为了自动获取，您无需手动获取token。</p><h1 id="js的修改"><a class="markdownIt-Anchor" href="#js的修改"></a> js的修改</h1><p>js则需要这么修改，修改了一些api解析部分：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCommentBarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">            <span class="comment">//带有&#123;envid&#125;的需要自己改成你的envid</span></span><br><span class="line">            <span class="string">&quot;access_token&quot;</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;access_token_&#123;envid&#125;&quot;</span>)).<span class="property">content</span>,</span><br><span class="line">            <span class="string">&quot;dataVersion&quot;</span>: <span class="string">&quot;2020-01-10&quot;</span>,</span><br><span class="line">            <span class="string">&quot;env&quot;</span>: <span class="string">&quot;&#123;envid&#125;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;function_name&quot;</span>: <span class="string">&quot;twikoo&quot;</span>,</span><br><span class="line">            <span class="string">&quot;request_data&quot;</span>: <span class="string">`&#123;&quot;event&quot;:&quot;COMMENT_GET&quot;,&quot;url&quot;:&quot;<span class="subst">$&#123;commentBarrageConfig.pageUrl&#125;</span>&quot;&#125;`</span>,</span><br><span class="line">            <span class="string">&quot;seqId&quot;</span>: <span class="string">&quot;3e580ab19eb64&quot;</span>, <span class="comment">//这里随便，但是必须有</span></span><br><span class="line">            <span class="string">&quot;action&quot;</span>: <span class="string">&quot;functions.invokeFunction&quot;</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="property">withCredentials</span> = <span class="literal">true</span>;</span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;readystatechange&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageList</span> = <span class="title function_">commentLinkFilter</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">responseText</span>).<span class="property">data</span>.<span class="property">response_data</span>).<span class="property">data</span>);</span><br><span class="line">                ... <span class="comment">//视版本而异</span></span><br><span class="line">        &#125;);</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, commentBarrageConfig.<span class="property">twikooUrl</span>);</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>(data);</span><br><span class="line">    &#125;<span class="keyword">catch</span>(e)&#123;<span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;<span class="title function_">initCommentBarrage</span>()&#125;,<span class="number">100</span>)&#125; <span class="comment">//如果原有token过期等待原有评论系统自己刷新，我甩锅了（bushi）</span></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>水文成功，经验+3，告辞（雾）</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;最近发现腾讯云的云开发是可以嫖六个月的（别问我，学生优惠），而且刚好twikoo的vercel api很慢，就换上了，刚好发现两者的api不一样</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="避坑" scheme="https://blog.yaria.top/tags/%E9%81%BF%E5%9D%91/"/>
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>谈谈鸽游新作——Rizline</title>
    <link href="https://blog.yaria.top/posts/861389da/"/>
    <id>https://blog.yaria.top/posts/861389da/</id>
    <published>2023-01-16T08:07:55.000Z</published>
    <updated>2023-01-16T08:07:55.000Z</updated>
    
    <content type="html"><![CDATA[<p>Tip:现在没有截图是因为手机莫名其妙又登不上去了</p><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p><s>由于最近博客咕咕咕了，水篇文吧（bushi</s></p><p>Rizline港澳台区发布已经有一个多月了，但是我还是想评一评。</p><p>早在2021年的时候，日子线就已经做了一些demo和预告，大家其实挺期待的，而且毕竟也是商业音游，可以赚钱的。</p><p>日子线还做了一些独创的打法，比如官方说的Rizcard、联机之类的，还是竖屏音游。感觉做得比屁股肉好吧。</p><p>不过感觉雷霆代理要完，至少能赚到钱。</p><h1 id="体验"><a class="markdownIt-Anchor" href="#体验"></a> 体验</h1><p>最近咕了2年多的Rizline发布了，可是只有港澳台区，具体原因大家都心知肚明，因为商业音游国区是得拿版号的，上面发版号的毕竟也看不起这音游 qwq，所以一直没拿下来。</p><p>国内要是简单想体验的话可以挂梯子登谷歌，如果你是华为没谷歌的话，就只能选择离线登录了。</p><p>不挂梯子的后果：</p><p>在某下载站随便找到Rizline下下来（因为华为没有Google Play商店就只能自己找了，有商店最好支持一下官方），然后安装挂梯子登录就行。</p><p>进入游戏，加载页面给人的感觉像是没做完的半成品，还莫名其妙地崩坏了（phi第七章行为？），等了一会才蹦出来用户协议和登录，然后又卡在加载了，又重启一遍才好。</p><p>进入游戏有三个歌曲是免费的，点进去就行，不过我感觉加载太慢了，其它还好。曲绘感觉好可爱~比Phi应该好了很多，并且有很多独占曲，而且暂停没有独立的键了，只能通过下滑手指来暂停。</p><p>大体上和很多音游一样，音符沿着轨迹运动，到判定环处点击，有tap，drag，hold三种音符，不过没有flick，不知道后面的版本会不会加。落到判定环时在屏幕任意区域点击就行。不过drag设计了防糊机制没法糊。上方有一个血条，血掉完（后宫太多会掉血）之后会停止游戏，这点有点像以前玩过的跳舞的线、滚动的天空了。</p><p>其它曲包需要氪金，目前有一些代购，不知道到时候国区能不能迁移信息。</p><p>其它功能目前基本上无法体验，就略过了。</p><h2 id="优点"><a class="markdownIt-Anchor" href="#优点"></a> 优点</h2><ol><li>比较偏休闲，打起来基本上不会很难受</li><li>界面简洁，比较好看，不过从某些方面看来有点像半成品</li><li>玩法新颖，竖屏音游的设计似乎是想让玩家转手机吧，采用了判定环，而且是全屏判定</li><li>对于鸽游来说，日子线是一个赚钱然后去养好Phi的好方法，希望代理不要烂</li><li>有多人联机对战，这是Phi所没有的，似乎也比arc强，但是目前未上架国区前很难体验</li><li>独创Rizcard，早在21年的官方宣传片里面就有，不过目前还没做出来</li><li>商业音游，曲绘、歌曲、铺面质量好过Phi很多，Phi有些曲也会搬到Riz上面。也许能吸引更多音游来联动吧，可能arc就会和riz联动了。</li></ol><h2 id="缺点"><a class="markdownIt-Anchor" href="#缺点"></a> 缺点</h2><p>先说结论：我觉得日子线现在的状态就是半成品（也许搭配港澳台原生网络体验会好点）</p><ol><li>咕咕咕了2年多就这半成品？</li><li>性能问题糟糕，虽然最近也发了很多更新依然没有完全解决，也老是莫名其妙卡住</li><li>感觉ui有点单调，我觉得可以像屁股肉一样加上模糊元素会好很多。</li><li>要氪金，而且目前港澳台的情况下很难氪。</li><li>雷霆代理。。。</li><li>目前阶段打起来手感稀烂，没有提示音，而且感觉音符难辨认，到hd6就读谱不能了，然后疯狂加后宫，血条疯掉，直接失败，比起phi确实难受得多，没有有效的判定提示，有时候不仔细看都没法看出来你这个note点到没有，而且防糊有点过分了，莫名其妙miss，good和perfect的显示非常蜜汁，而且设计奇怪的是满分是120%</li><li>一种回到了早期版phigros的感觉，就是UI设计很初级，而且bug多。</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Tip:现在没有截图是因为手机莫名其妙又登不上去了&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;&lt;s&gt;由于最近博客咕咕咕了，水篇文吧（bushi&lt;/s&gt;&lt;/p&gt;
&lt;p&gt;Riz</summary>
      
    
    
    
    <category term="音游" scheme="https://blog.yaria.top/categories/%E9%9F%B3%E6%B8%B8/"/>
    
    
    <category term="音游" scheme="https://blog.yaria.top/tags/%E9%9F%B3%E6%B8%B8/"/>
    
    <category term="评测" scheme="https://blog.yaria.top/tags/%E8%AF%84%E6%B5%8B/"/>
    
  </entry>
  
  <entry>
    <title>别了，Windows 8.1</title>
    <link href="https://blog.yaria.top/posts/byewnt63/"/>
    <id>https://blog.yaria.top/posts/byewnt63/</id>
    <published>2023-01-04T12:50:23.000Z</published>
    <updated>2023-01-04T12:50:23.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="告别"><a class="markdownIt-Anchor" href="#告别"></a> 告别</h1><p>虽然最近很不舒服，但是为了告个别，还是写了这篇文章。</p><a class="tag-Link" target="_blank" href="https://support.microsoft.com/zh-cn/windows/windows-8-1%E6%94%AF%E6%8C%81%E5%B0%86%E4%BA%8E-2023-%E5%B9%B4-1-%E6%9C%88-10-%E6%97%A5%E7%BB%93%E6%9D%9F-3cfd4cde-f611-496a-8057-923fba401e93">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/support.microsoft.com/zh-cn/windows/windows-8-1%E6%94%AF%E6%8C%81%E5%B0%86%E4%BA%8E-2023-%E5%B9%B4-1-%E6%9C%88-10-%E6%97%A5%E7%BB%93%E6%9D%9F-3cfd4cde-f611-496a-8057-923fba401e93.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Windows 8.1支持将于 2023 年 1 月 10 日结束</div>            <div class="tag-link-sitename">Microsoft</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>2023年1月10日的零时，Win8.1将会喘下她生命中最后一口气，她于她的前辈Windows 7，Vista，XP一样会落入历史的尘埃。</p><p>虽然她不是一个有许多人为她撑腰的系统，一旦停止支持，她将会永远离去，无法像Win7一样延续自己的生命（指ESU）。也就是说，她不安全了。</p><p>当然，这还意味着Windows NT6开头版本号的所有系统（NT6.0-NT6.4(Win10Beta，或者说是Win9)），都成为了过去式。即便Windows 10的NT10依然基于NT6内核。</p><p>让我们说一句：</p><h2 id="再见windows-81"><a class="markdownIt-Anchor" href="#再见windows-81"></a> 再见，Windows 8.1</h2><h1 id="拯救渣机の英雄"><a class="markdownIt-Anchor" href="#拯救渣机の英雄"></a> 拯救渣机の英雄</h1><p>别的不说，虽然Win8.1用户不多，但是她贼流畅，比WinXP流畅，甚至比Win7都流畅。</p><p>丝滑的各种动画比起Win7好得不是一点半点，得益于MetroUI的简洁和砍掉Aero的大刀阔斧以及为了照顾垃圾Surface导致的神优化，Win8.1的流畅度远远胜于Windows的所有现代系统（除去上古Win9x等）。</p><p><s>当然，其实Win8是很卡的，Win8.1才有优化。 草</s></p><h1 id="革命性的win8"><a class="markdownIt-Anchor" href="#革命性的win8"></a> 革命性的Win8</h1><p>要说Win8.1，首先得聊聊她饱受诟病的前辈——Windows8</p><h1 id="失败的拯救尝试win81"><a class="markdownIt-Anchor" href="#失败的拯救尝试win81"></a> 失败的拯救尝试——Win8.1</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;告别&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#告别&quot;&gt;&lt;/a&gt; 告别&lt;/h1&gt;
&lt;p&gt;虽然最近很不舒服，但是为了告个别，还是写了这篇文章。&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=</summary>
      
    
    
    
    <category term="Windows" scheme="https://blog.yaria.top/categories/Windows/"/>
    
    
    <category term="生活" scheme="https://blog.yaria.top/tags/%E7%94%9F%E6%B4%BB/"/>
    
    <category term="Windows" scheme="https://blog.yaria.top/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>我的2022——年度总结</title>
    <link href="https://blog.yaria.top/posts/c1b2fa94/"/>
    <id>https://blog.yaria.top/posts/c1b2fa94/</id>
    <published>2022-12-30T12:02:32.000Z</published>
    <updated>2023-01-20T12:02:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><s>也许？博客会更偏生活向？</s></p><p>这篇文章也不知道什么时候能写完，反正一天写一点就是，正月初一前能写完就行。</p><p>至于之前的咕咕咕文章，就更不知道了(bushi)</p><h1 id="一个-炒鸡nb-的开头"><a class="markdownIt-Anchor" href="#一个-炒鸡nb-的开头"></a> 一个 <s>炒鸡NB</s> 的开头</h1><p><s>也许？这是一篇作文？</s></p><p>有人说，2022是不平凡的一年：有1月的冬奥会、2月的上海疫情、3月的空难、7月热爆炸的夏天、8月的万千山火、11月的连续疫情、12月的完全放开；</p><p>有人说，2022是平庸的一年，浑浑噩噩，疫情封麻；</p><p>有人说，2022是伟大的一年，象征祖国强大的冬奥会、感染指标极低的疫情、众志成城面对山火到来，以及各种生活中的点点滴滴。</p><p>而对我来说，2022，是这样的。</p><h1 id="疫情之下"><a class="markdownIt-Anchor" href="#疫情之下"></a> 疫情之下</h1><p>疫情真的影响了很多很多，上半年小学的时候许多机器人比赛因此改为了线下，天天戴着口罩，生怕上海出事。</p><p>11月的时候就不用说了吧，关在家里，人都要抑郁了，拖延症发作，每天晚上写作业写到12点，甚至可能有点厌学（？） qwq，有没有人能帮帮我</p><p>后面放开阳了一堆后遗症，到现在都有一点。</p><p>放了暑假也是这样养成了习惯，真的特别难受，究竟该怎么办呢，有没有人能帮帮我。</p><h1 id="聊聊今年"><a class="markdownIt-Anchor" href="#聊聊今年"></a> 聊聊今年</h1><p><del class="noheimu">今年至少说是下半年，总觉得浑浑噩噩的。成绩越来越一般，日子愈发反复。娱乐方式也很单一：刷b站、玩MC、玩音游、折腾博客，除此之外就没有了，甚至宅在家里不愿意出去走走，而且还得偷偷耍。正如前面所说，作业效率很低，很懒，很多是分心造成的。<br>上半年怀着初中的期待学习的热情，下半年没想到就这样了（？</del></p><p><s>上为较悲观言论</s> 不过除了疫情这段时间外，在学校其实挺好的，至少食堂确实厉害，机房电脑配置特别爽，上OI和选修课也很快乐，每天规律作息<s>没有晨跑没有军训</s>，除此之外还有一些社团活动之类的，学校也修的很好。</p><p>上半年就是小学六年级下册，也很简单，每天复习，为了小升初，但是在学校过的很充实。</p><p>虽然但是，六年级下册的时候我还是参加了不少机器人、编程比赛，甚至是到暑假还在参加复赛 <s>挺怀念集训的时候的</s></p><h1 id="做了什么"><a class="markdownIt-Anchor" href="#做了什么"></a> 做了什么</h1><p>实际上，今年还是做了很多事情的</p><ol><li>小学毕业，第一次进入初中校园</li><li>创建了一个自己的小小博客</li><li>第一次坐了地铁，而且很快被吸引进了铁道圈（虽然疫情大部分时候都在云）</li><li>入了二次元坑</li><li>学会了毛笔字</li><li>考到了一个不错的初中</li><li>折腾了很多的东西，获得了成功的喜悦</li><li>小学的时候参加了很多科技区比赛</li><li>写了几个小项目，虽然大多夭折或半停更</li><li>玩到了不少MC新模组</li><li>提升了一些科目的成绩</li><li>学习了OI，虽然CSP没考好（当时是辣鸡编程猫教的），但是明年是肯定有机会的</li><li>学会了C++语言</li><li>进阶了Python</li><li>Phigros带我入了音游坑</li><li>学会了合理利用墨盒打印机加墨省钱（。。。</li><li>因为博客，学会了HTML、CSS、JS（JS是C++语法辅助我学会的，而CSS是QSS（PyQt的）语法辅助我学会的）</li><li>学会了PyQt+WinAPI的更多硬核用法</li><li>折腾了3D打印机，可惜被我爸擅自搬动，搞得半废难修了。</li><li>在信息老师的帮助下学会了简单剪辑视频（即Camtasia），可惜还不会PR</li><li>换了个电脑</li><li>学会了骑自行车(但是我低估了重庆上学走山地的难度因此搁置)</li><li>第一次自己尝试坐动车地铁去学校</li><li>去重庆主城见识了一番</li><li>又学会做一些菜</li></ol><h1 id="这个博客"><a class="markdownIt-Anchor" href="#这个博客"></a> 这个博客</h1><p>2022年5月，我便萌生出了搭建独立Hexo博客的想法，当时因为马上要进行小升初考试了，学习任务紧张，于是想法基本搁置，偶尔做了做，但是没做出来，一直部署失败。</p><p>后来6月放假之后折腾了一番总算搞出来了，部署在Github Page上，速度也死慢，当时并没有写文章。</p><p>在折腾过程中看到了许多大佬的博客非常漂亮，遂接触了魔改，最早都是在百度csdn上面找的教程。</p><p>因为速度太慢，站点还进行过多次转移不同平台，Cloudflare、Vercel、Netlify都有。域名也嫖了一个eu.org的，即 <a href="http://lyxoff2233.eu.org">lyxoff2233.eu.org</a> 这个</p><p>在拥有域名之后，7月6日，我发布了我的第一篇文章：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/aedd05c3/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/aedd05c3/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">eu.org免费域名白嫖教程以及避坑</div>            <div class="tag-link-sitename">Ariasakaの小窝 </div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>不久后的7月20日，在dynadot上面看到xyz域名首年仅售14元就买了这个域名（目前因为续费原因转移到了腾讯云），当然当时也没有想到续费，于是今年打算续费的时候遇到了很多问题。</p><p>接下来，文章不断更新，魔改不断继续。</p><p>后面一段时间，我在魔改右键菜单的时候从搜索引擎中找到了洪哥的博客（洪哥seo权重nb啊），发现洪哥的博客简直无敌，后来发现了冰糖红茶，于是就与糖果屋群友亲切交流了，获得了许多魔改经验。（bushi）此后魔改更多了。</p><p>之后加了很多友链，网站的曝光度稍有提高，我也收获了很多友链。</p><p>12月开始，我发现我的博客实在是太慢了，于是开始了不断的优化（其实优化了还是慢），最早是换CDN，换图床，加sw，后面适配了pjax，全站转存储桶sw代理，资源白嫖elemecdn进行存储，图片全部webp化，现在总算是达到了能看的水平 <s>（速度慢主要是图片太大我还找杜老师抱怨（（（</s> 。</p><p>部分具体更新可以参考更新日志：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/update/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/update/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">更新日志</div>            <div class="tag-link-sitename">Ariasakaの小窝 </div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这就是这个博客的简史了。</p><h1 id="明年todo"><a class="markdownIt-Anchor" href="#明年todo"></a> 明年TODO</h1><p>我希望明年能实现这些事情：</p><ol><li>提升whk成绩！！！考不上竞赛班OI就废了！！！</li><li>拉OI，至少CSP-J得拿不错的成绩（最好是一奖）</li><li>作为一个纯萌新二刺螈当然要补番啦！(补了，但是没完全补番)</li><li>学一些日语</li><li><del class="noheimu">希望能踏出川渝去外面再看看，比如说北京、香港这些（华东南地区基本上都去过力，山东也去过），甚至是出国</del> 不，去成都看大熊猫就行啦！！！</li><li>多写点博客，坚持下去</li><li>争取学校社团机会，给以前的一堆机器人散发余辉</li><li>为CRT&amp;&amp;各地轨交&amp;&amp;CR贡献更多客流量&amp;&amp;POV？ <s>不要变成成局，快门一按铁路中断</s></li><li>修好MC轨道交通</li><li>远离烂梗 <s>依托答辩</s></li><li>完善咕咕咕（实际上现在已经开始完善了）</li><li>做好博客，优化性能</li><li>学会PS、PR</li><li>抽时间打一场CF Round</li><li>qwq</li></ol>]]></content>
    
    
    <summary type="html">不知不觉中，平庸的一年又过去了，这一年似乎浑浑噩噩。</summary>
    
    
    
    <category term="随笔" scheme="https://blog.yaria.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>我🐑了</title>
    <link href="https://blog.yaria.top/posts/114514/"/>
    <id>https://blog.yaria.top/posts/114514/</id>
    <published>2022-12-25T09:13:00.000Z</published>
    <updated>2022-12-29T03:45:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>因为无力开电脑，本文章使用手机浏览器的Wexagonal编写。  <s>还好我早有准备</s></p><p>这篇文章应该会当日记持续更新了算是。</p><h1 id="2022-12-23"><a class="markdownIt-Anchor" href="#2022-12-23"></a> 2022-12-23</h1><p>也就是我发bb说我阳了的那天，我爸阳了。（我当然迟早要阳喽）然后我们把爸爸放到一个房间隔离，虽然可能并没有什么用<br />不过必须得说的是，新冠专治嘴硬，我爸前一天还说他不得遭，属于是打脸了（doge</p><h1 id="2022-12-24"><a class="markdownIt-Anchor" href="#2022-12-24"></a> 2022-12-24</h1><p>早上起来喉咙有点痛，抗原阴的，我妈还说我浪费 qwq。可是这天是我生日诶！！！</p><h1 id="2022-12-25"><a class="markdownIt-Anchor" href="#2022-12-25"></a> 2022-12-25</h1><p>早上起来腰酸背痛，喉咙痛死了，还咳嗽有鼻音，我妈说她也是。</p><p>我弟去做了下抗原，它甚至没有等15分钟，就迫不及待的两条杠了 。</p><p>然后我测了一下，结果是阴性，不过呢我觉得我肯定是假阴，不然为什么喉咙那么痛腰酸背痛还咳嗽呢。</p><p>我妈我外公也是双喜临门，我外公的t甚至没有30秒就红了，它真的，我哭死。</p><p>上午一直没精神，作业也没写，后面吃了枇杷露和感冒灵好点了，还看了会电脑。</p><p>中午吃完饭睡觉去了，一下睡到了四点半，起来脸上发烫，口干舌燥，腰更酸了，背更痛了。</p><p>然后量体温37.9，我爸给我吃了一片那个对什么什么酚的药，但是名字真的记不得了 awa，反正适合小孩子吃</p><p>现在状态好点了，但是还是咳嗽，一走路就头昏脑胀的感觉。晚上考试就请假了，不然我这个数学130顶天的学渣不知道又会考多烂丢脸。</p><p>后面吃完晚饭，也没精神，于是又去睡觉了，zzzzzz</p><h1 id="2022-12-26"><a class="markdownIt-Anchor" href="#2022-12-26"></a> 2022-12-26</h1><p>周末过后，今天开始上课了。</p><p>昨天晚上睡着特别难受，又是喉咙痛又是出汗，然后眼睛都是烫的。</p><p>半夜不知道什么时候醒了，因为手机收了我又没闹铃，反正起来感觉全身一股汗味，其他症状跟上面一样。然后喝了口水，然而这个水是冰的，喝了之后咳得声音都说不出来，而且特别尖的那种感觉。</p><p>3：40我爸起来给我们量体温，我还以为是6点钟，一量是38度6，于是又吃了上面那个退烧药。</p><p>（感谢大家的关心）</p><p>接着继续睡，这下的感觉就更痛苦了，眼睛闭着感觉烫烫的，到处都是汗，还在半清醒的状态下做了断断续续的缝合梦，感觉都见到我祖祖（走了）了。</p><p><s>阎王都夸我，身体倍棒没问题。为什么阎王能看到你，好问题！</s></p><p>总算熬到8点起来，请假不开摄像头， <strong>结果语文老师讲的是周末作业！！！我还没做！！！</strong>  所以听了等于没听</p><p>第一节课下课吃了菜稀饭，不过胃口挺好的，我这算是炫饭株了啊 qwq。</p><p>英语课要做单元过关，于是我在床上坐着做，不仅字写的不好而且颈椎还痛脚还酸！！！</p><p>但是不做会被撅（悲）</p><p>还有，最恼火的是，有时候我看到搞笑的，然后一咳，再一咳，这时痰就从你的支气管里面直窜而上，瞬间堵住你的喉咙眼，接下来你就跟哑巴差不多了，只能通过气来说那种悄悄话。</p><p>中午喝了10ml的不知道什么时候发烧（也许是去年把我烧到40度还惊撅的水痘的时候？）喝的美林，但是真的管用。</p><p>睡了中午觉睡到了14：43（第一节美术课不进会议室），闹铃一响就醒了，然后赶紧打开历史课的腾讯会议，其实也没听到什么因为不太舒服。</p><p>精神没问题，烧也退下来了，但是晚上呢？</p><p>晚上睡前39度，喝了美林，然后一如既往睡不着，一样的感觉，但是没有出汗，全身发冷。</p><p>凌晨我爸也是来量了一下体温，依然是熟悉的38度6，吃了一片对。</p><h1 id="2022-12-27"><a class="markdownIt-Anchor" href="#2022-12-27"></a> 2022-12-27</h1><p>早上起来体温39度，喝了美林（交替喝？）。</p><p>后面在床上挣扎了一会终于降温了，现在就是一直低烧，精神也好点了就是头疼，然后外公给我喝了半包头痛粉。</p><p>顺便说说我弟（三年级）的状况：持续发烧上吐下泻，边吐边拉裤子。 草</p><p>下午则是低烧不止，一直在35-38度之间反复横跳。</p><p>晚上我爸买了化痰和喉咙痛的药。但是但是！！！痰化了其实喉咙干的，贼疼！！！而且一直以来莫名其妙的耳朵问题又开始袭击我了，这个真的是做一堆检查都说没事，当然起因是20年被CQ航空的垃圾航线质量耍了耳膜要炸的感觉 qwq。</p><p>晚上也是睡不着喉咙痛耳朵疼。</p><h1 id="2022-12-28"><a class="markdownIt-Anchor" href="#2022-12-28"></a> 2022-12-28</h1><p>早上起来刀片嗓，水泥鼻，低烧，痰都变黄了。</p><p>痛了我一天！！！</p><p>目前状态：精神没太大问题，偶尔躺一下，然后喉咙痛耳朵疼眼睛疼鼻子塞。</p><p>润喉糖我一天干了一盒（咽立爽和西瓜霜）！！！</p><p>更气人的是，晚上看到了<a href="https://m.bilibili.com/video/BV1QG4y177BZ">这个视频</a>，馋死了，但是没法吃。</p><p>痛死了！！！！！！</p><p>晚上我爸斥巨资（100块）买了两盒化痰的口服液和复方青果颗粒。不过化痰药吃了之后30分钟没法喝水。而且痰化了之后喉咙倒还超级痛欸！耳朵的感觉就是飞机起飞耳膜要爆炸，现在都有这种感觉。</p><h1 id="2022-12-29"><a class="markdownIt-Anchor" href="#2022-12-29"></a> 2022-12-29</h1><p>精神恢复，没发烧了，但是喉咙一如既往的痛，比昨天好点。</p><p>开了中药，不过不苦，一口吃完。</p><h1 id="2022-12-30"><a class="markdownIt-Anchor" href="#2022-12-30"></a> 2022-12-30</h1><p>上午如昨日。</p><p>下午，咳嗽不止，嗓子倒是不痛了，于是24片一盒的银黄含片被我干完了。然后晚上莫名其妙又头痛困没精神，于是就拿一包感冒灵混着那些药喝了。</p><h1 id="2022-12-31"><a class="markdownIt-Anchor" href="#2022-12-31"></a> 2022-12-31</h1><p>猛咳 猛咳 猛咳！！！</p><p>累死了。</p><h1 id="2023-1-1"><a class="markdownIt-Anchor" href="#2023-1-1"></a> 2023-1-1</h1><p>猛咳 猛咳 猛咳！！！</p><p>下午没精神，很困，睡了很久。</p><h1 id="2023-1-2"><a class="markdownIt-Anchor" href="#2023-1-2"></a> 2023-1-2</h1><p>终于转阴了！！！</p><p>还是 猛咳 猛咳 猛咳！！！</p><p>去医院开了药，但是这个药真难喝，肝疼，全身咳得震酸痛了 qwq。</p><p>除此之外，脑雾严重，前几天的事情也记不清楚了，所以就没多写。</p><h1 id="2023-1-3"><a class="markdownIt-Anchor" href="#2023-1-3"></a> 2023-1-3</h1><p>咳没那么严重了。</p><h1 id="2023-1-4"><a class="markdownIt-Anchor" href="#2023-1-4"></a> 2023-1-4</h1><p>今天应该是凉到了，上午没事，晚上又发低烧了，哎。</p>]]></content>
    
    
    <summary type="html">专治嘴硬の奥密克戎，成功加入羊群</summary>
    
    
    
    <category term="生活" scheme="https://blog.yaria.top/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://blog.yaria.top/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>表达式学习笔记</title>
    <link href="https://blog.yaria.top/posts/487b9d4c/"/>
    <id>https://blog.yaria.top/posts/487b9d4c/</id>
    <published>2022-12-19T11:12:28.000Z</published>
    <updated>2022-12-19T11:12:28.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>众所周知，在€€￡的许多比赛中，出现得多的就是表达式题目了，比如：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P8815">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P8815.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P8815 [CSP-J 2022] 逻辑表达式</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P7073">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P7073.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P7073 [CSP-J 2020] 表达式</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P1054">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P1054.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P1054 [NOIP2005 提高组] 等价表达式 </div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>所以，这次，让我们来几个…<s>只因</s>基础的表达式吧。</p><h1 id="前缀后缀"><a class="markdownIt-Anchor" href="#前缀后缀"></a> 前缀&amp;&amp;后缀</h1><p>前缀和后缀表达式，其实都是一个东西，只不过顺序倒过来罢了。</p><p>那么后缀表达式，究竟是什么东西呢？</p><p>这是一个后缀表达式：</p><p><code>514 810 + 24 114 * -</code></p><p>很明显，后缀表达式把所有符号都后置了，这样做就不用考虑括号了。</p><p>那么，她的中缀形式（即正常人的写法）就是这样的：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>24</mn><mo>×</mo><mn>114</mn><mo stretchy="false">)</mo><mo>−</mo><mo stretchy="false">(</mo><mn>514</mn><mo>+</mo><mn>810</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(24 \times 114)-(514+810)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">8</span><span class="mord">1</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></p><p>是不是，后缀表达式把符号都放在了两个数后面，不需要括号了，这样就可以直接从左往右而不用考虑顺序了。因为不加括号的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn><mo>×</mo><mn>114</mn><mo>−</mo><mn>514</mn><mo>+</mo><mn>810</mn></mrow><annotation encoding="application/x-tex">24 \times 114-514+810</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mord">1</span><span class="mord">0</span></span></span></span> 显然计算顺序都不一样，变成了先算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn><mo>×</mo><mn>114</mn></mrow><annotation encoding="application/x-tex">24 \times 114</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span></span></span></span>，再算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>24</mn><mo>×</mo><mn>114</mn><mo stretchy="false">)</mo><mo>−</mo><mn>514</mn></mrow><annotation encoding="application/x-tex">(24 \times 114)-514</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span></span></span></span>。</p><h2 id="算法"><a class="markdownIt-Anchor" href="#算法"></a> 算法</h2><p>那么怎么算呢？</p><p>我们不妨从左往右看，遇到符号的时候就把前面两个数按照这个符号来计算。</p><p>比如：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>114514</mn><mo>+</mo></mrow><annotation encoding="application/x-tex">114 514 +</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span><span class="mord">+</span></span></span></span> ，这个式子，只需要按照加法的法则计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>114</mn></mrow><annotation encoding="application/x-tex">114</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span></span></span></span>和<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>514</mn></mrow><annotation encoding="application/x-tex">514</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span></span></span></span> 两个数的和就可以了。</p><p>但是，如果我们要计算上面的式子：<code>514 810 + 24 114 * - </code>，该怎么算呢？</p><p>这时我们需要把还没算的数存起来了，而且肯定是不止一个两个的，于是你自然而然想到了栈的方法。</p><p>我们算的时候把每个数字依次进栈，遇到符号就把上面两个拉出来，算出结果再放回去，最后肯定栈里面就只剩一个元素了，直接输出即可<span class='p red'>（注意实际上栈顶元素是运算的第一个数，下面一个才是第二个，不能搞反）</span>。</p><p>如果我们要算上面的式子的话，栈的变化是这样的:</p><p>看到第一个元素<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>514</mn></mrow><annotation encoding="application/x-tex">514</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span></span></span></span>：</p><p><code>stack: 514</code></p><p>看到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>810</mn></mrow><annotation encoding="application/x-tex">810</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span><span class="mord">1</span><span class="mord">0</span></span></span></span>：</p><p><code>stack: 514 810</code></p><p>看到加号：</p><p><code>stack: 1324</code></p><p>看到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>24</mn></mrow><annotation encoding="application/x-tex">24</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">4</span></span></span></span>：</p><p><code>stack: 1324 24</code></p><p>看到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>114</mn></mrow><annotation encoding="application/x-tex">114</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span></span></span></span>:</p><p><code>stack: 1324 24 114</code></p><p>看到乘号：</p><p><code>stack: 1324 2736</code></p><p>最后看到减号：</p><p><code>stack: 1412</code></p><p>此时这个式子就算出来了，输出栈顶即可。</p><h2 id="代码实现"><a class="markdownIt-Anchor" href="#代码实现"></a> 代码实现</h2><p>然后这是一些例题的代码</p><h3 id="洛谷p1449-后缀表达式"><a class="markdownIt-Anchor" href="#洛谷p1449-后缀表达式"></a> 洛谷P1449 后缀表达式</h3><p>原题：</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P1449">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P1449.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P1449 后缀表达式</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><details class="folding-tag" blue><summary> 点击查看题面 </summary>              <div class='content'>              <h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>所谓后缀表达式是指这样的一个表达式：式中不再引用括号，运算符号放在两个运算对象之后，所有计算按运算符号出现的顺序，严格地由左而右新进行（不用考虑运算符的优先级）。</p><p>如：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">3*(5-2)+7</mtext></mrow><annotation encoding="application/x-tex">\texttt{3*(5-2)+7}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mord text"><span class="mord texttt">3*(5-2)+7</span></span></span></span></span> 对应的后缀表达式为：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="monospace">3.5.2.-*7.+@</mtext></mrow><annotation encoding="application/x-tex">\texttt{3.5.2.-*7.+@}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61111em;vertical-align:0em;"></span><span class="mord text"><span class="mord texttt">3.5.2.-*7.+@</span></span></span></span></span>。在该式中，<code>@</code> 为表达式的结束符号。<code>.</code> 为操作数的结束符号。</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>输入一行一个字符串 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">s</span></span></span></span>，表示后缀表达式。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>输出一个整数，表示表达式的值。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3.5.2.-*7.+@</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">16</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p>数据保证，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi mathvariant="normal">∣</mi><mi>s</mi><mi mathvariant="normal">∣</mi><mo>≤</mo><mn>50</mn></mrow><annotation encoding="application/x-tex">1 \leq |s| \leq 50</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">s</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord">0</span></span></span></span>，答案和计算过程中的每一个值的绝对值不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>。</p>              </div>            </details><p>这道题按照开始的方法算就行了，但是，但是它是用点来隔开的。所以呢只能手动拆数字了，建议用<code>stoi(string)</code>函数：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    <span class="type">char</span> num[<span class="number">11</span>]; <span class="comment">//字符数组临时放数字</span></span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">    stack&lt;<span class="type">int</span>&gt; eval;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;c)&#123;</span><br><span class="line">        <span class="keyword">if</span>(c==<span class="string">&#x27;@&#x27;</span>) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">isdigit</span>(c))&#123;</span><br><span class="line">            num[k]=c; <span class="comment">//是数字才加到字符数组里面</span></span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;.&#x27;</span>)&#123;</span><br><span class="line">            num[k]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">            string nn=num;</span><br><span class="line">            eval.<span class="built_in">push</span>(<span class="built_in">stoi</span>(nn)); <span class="comment">//遇到点号分割，前面的转数字，并清空入栈</span></span><br><span class="line">            k=<span class="number">0</span>;</span><br><span class="line">            <span class="built_in">memset</span>(num,<span class="number">0</span>,<span class="built_in">sizeof</span>(num));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//以下为各种符号的处理</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;+&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> a,b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a+b);</span><br><span class="line">            <span class="comment">// cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> a,b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a-b); <span class="comment">//注意实际上栈顶元素是运算的第一个数，下面一个才是第二个，不能搞反！！！不然会出错</span></span><br><span class="line">            <span class="comment">// cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;*&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> a,b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a*b);</span><br><span class="line">            <span class="comment">// cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c==<span class="string">&#x27;/&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> a,b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a/b);</span><br><span class="line">            <span class="comment">// cout&lt;&lt;a&lt;&lt;&quot; &quot;&lt;&lt;b&lt;&lt;endl;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;eval.<span class="built_in">top</span>(); <span class="comment">//最后输出栈顶即可</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="fzqoj-139-波兰表达式"><a class="markdownIt-Anchor" href="#fzqoj-139-波兰表达式"></a> FZQOJ #139. 波兰表达式</h3><p><em>（PS：这是学校内部题）</em></p><details class="folding-tag" yellow open><summary> 点击查看题面 </summary>              <div class='content'>              <h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>波兰表达式是一种把运算符前置的算术表达式，例如普通的表达式 <code>2 + 3</code> 的逆波兰表示法为 <code>+ 2 3</code>。</p><p>波兰表达式的优点是运算符之间不必有优先级关系，也不必用括号改变运算次序，例如 <code>(2 + 3) * 4</code> 的逆波兰表示法为 <code>* + 2 3 4</code>。</p><p>本题求解波兰表达式的值，其中运算符包括 <code>+ - * /</code> 四个。</p><h2 id="输入"><a class="markdownIt-Anchor" href="#输入"></a> 输入</h2><p>输入为一行，其中运算符和运算数之间都用空格分隔，运算数是浮点数。</p><h2 id="输出"><a class="markdownIt-Anchor" href="#输出"></a> 输出</h2><p>输出为一行，表达式的值。 可直接用 <code>printf(&quot;%f &quot;, v)</code> 输出表达式的值 。</p><h2 id="样例输入"><a class="markdownIt-Anchor" href="#样例输入"></a> 样例输入</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* + 11.0 12.0 + 24.0 35.0</span><br></pre></td></tr></table></figure><h2 id="样例输出"><a class="markdownIt-Anchor" href="#样例输出"></a> 样例输出</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1357.000000</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p>可使用 <code>atof(str)</code> 把字符串转换为一个<code>double</code>类型的浮点数。<code>atof</code> 定义在 <code>cstdlib</code> 中。</p>              </div>            </details><p>这即是前缀表达式了，方法都一样，但是得倒着来看，注意这道题是浮点数，还有输入有空格了，不用自己拆了，好耶！</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    stack&lt;<span class="type">double</span>&gt; eval;</span><br><span class="line">    string evals[<span class="number">11451</span>];</span><br><span class="line">    <span class="type">int</span> l=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(cin&gt;&gt;evals[l])&#123; </span><br><span class="line">        l++; <span class="comment">//存表达式</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=l<span class="number">-1</span>;i&gt;=<span class="number">1</span>;i--)&#123; <span class="comment">//从后往前遍历表达式</span></span><br><span class="line">        <span class="keyword">if</span>(evals[i]==<span class="string">&quot;+&quot;</span>)&#123;</span><br><span class="line">            <span class="type">double</span> a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">double</span> b=eval.<span class="built_in">top</span>(); <span class="comment">//这里顺序不用反着来了</span></span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a+b); <span class="comment">//一样的</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(evals[i]==<span class="string">&quot;-&quot;</span>)&#123;</span><br><span class="line">            <span class="type">double</span> a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">double</span> b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a-b); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(evals[i]==<span class="string">&quot;*&quot;</span>)&#123;</span><br><span class="line">            <span class="type">double</span> a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">double</span> b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a*b); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(evals[i]==<span class="string">&quot;/&quot;</span>)&#123;</span><br><span class="line">            <span class="type">double</span> a=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            <span class="type">double</span> b=eval.<span class="built_in">top</span>();</span><br><span class="line">            eval.<span class="built_in">pop</span>();</span><br><span class="line">            eval.<span class="built_in">push</span>(a/b); </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            eval.<span class="built_in">push</span>(<span class="built_in">atof</span>(evals[i].<span class="built_in">c_str</span>())); <span class="comment">//否则字符串转数字入栈</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.6lf&quot;</span>,eval.<span class="built_in">top</span>()); <span class="comment">//输出栈顶即可，注意保留6位小数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="万能的方法中缀转后缀"><a class="markdownIt-Anchor" href="#万能的方法中缀转后缀"></a> 万能的方法——中缀转后缀</h1><h2 id="基础转换"><a class="markdownIt-Anchor" href="#基础转换"></a> 基础转换</h2><p>e.g. 洛谷P1981 [NOIP2013 普及组] 表达式求值</p><p>咕咕咕没关系,多画几个大饼 <img class="inline-img" src="https://npm.elemecdn.com/sticker-heo@2022.7.5/Sticker-100/%E7%8B%97%E5%A4%B4%E5%9B%B4%E8%84%96.png" style="height:50px"/></p><p><img src="https://bu.dusays.com/2023/01/20/63ca10d120e5e.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca10d1c7dd5.webp" alt="" /></p><h2 id="括号匹配"><a class="markdownIt-Anchor" href="#括号匹配"></a> 括号匹配</h2>]]></content>
    
    
    <summary type="html">括号，为什么这么坑呢？某Save Money机构究竟是出于什么目的，常考此题呢？为什么某蒟蒻依然调不来中缀转后缀？</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="栈" scheme="https://blog.yaria.top/tags/%E6%A0%88/"/>
    
    <category term="字符处理" scheme="https://blog.yaria.top/tags/%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/"/>
    
    <category term="学习笔记" scheme="https://blog.yaria.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>贪心算法学习笔记</title>
    <link href="https://blog.yaria.top/posts/8a79afba/"/>
    <id>https://blog.yaria.top/posts/8a79afba/</id>
    <published>2022-12-17T12:14:39.000Z</published>
    <updated>2022-12-17T12:14:39.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>没错没错，这篇咕咕咕了十几天的文章，终于迎来了她的更新！！！</p><p>这个蒟蒻的学习路线特别奇怪呢，一会学那个一会学这个。</p><p><s>几天混了这么多分区的蒟蒻居然没有忘本</s></p><h1 id="基础"><a class="markdownIt-Anchor" href="#基础"></a> 基础</h1><p>首先，我们需要知道，什么叫贪心。</p><p>贪心算法，也叫贪婪算法。贪心，顾名思义就是贪心地进行决策。贪心算法总是作出在当前看来最好的选择。也就是说贪心算法并不从整体最优考虑，它所作出的选择只是在某种意义上的局部最优选择。当然，希望贪心算法得到的最终结果也是整体最优的。</p><p>形象一点，就像是有一个贪婪的人，她每次选择的时候只顾眼前的优势，而不考虑将来的后果。 <s>dy毒鸡汤：6</s></p><p>一个例子，假如现有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 分、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 分、<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn></mrow><annotation encoding="application/x-tex">25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span></span></span></span> 分的硬币可用来找钱，现在我们需要找  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>32</mn></mrow><annotation encoding="application/x-tex">N=32</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">2</span></span></span></span> 分的零钱，如何找？自然，我们先从面值大的来找：</p><p>首先找 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn></mrow><annotation encoding="application/x-tex">25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span></span></span></span> 分钱，还剩 $7# 分钱。</p><p>自然，接下来我们找 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 分钱，还剩 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 分钱。</p><p>这 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 分钱自然就只能用 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 分的来找了。</p><p>于是到了最后，我们这32分就变成了1个25分、1个5分，以及2个1分了。</p><h1 id="贪心的正确性"><a class="markdownIt-Anchor" href="#贪心的正确性"></a> 贪心的正确性</h1><p>这是不得不提的一点：贪心，到底是不是正确的选择？</p><p>实际上，贪心决策的正确性是不能确定的，在这一个选硬币的例子中，确实是正确的。</p><p>但是这并不证明贪心就完全是对的，比如著名的01背包，这就需要用到DP了 <s>本蒟蒻不会 qwq</s></p><p>背包的普遍题面是这样的：</p><p>有一个容量为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi></mrow><annotation encoding="application/x-tex">V</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span> 的背包，还有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 个物体。现在忽略物体实际几何形状，我们认为只要背包的剩余容量大于等于物体体积，那就可以装进背包里。每个物体都有两个属性，即体积 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> 和价值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi></mrow><annotation encoding="application/x-tex">v</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span> 。</p><p>问：如何向背包装物体才能使背包中物体的总价值最大？</p><p>看起来，我们可以直接使用贪心决策。</p><p>不过只要我们稍加验证，就发现我们不可以这么想，这是推倒贪心yyds的一个例子：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mo>=</mo><mn>10</mn><mo separator="true">,</mo><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">V=10, n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>1</mn></msub><mo>=</mo><mn>8</mn><mo separator="true">,</mo><msub><mi>v</mi><mn>1</mn></msub><mo>=</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">w_1 = 8, v_1 = 9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn><mo separator="true">,</mo><msub><mi>v</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">w_2 = 3, v_2 = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>3</mn></msub><mo>=</mo><mn>4</mn><mo separator="true">,</mo><msub><mi>v</mi><mn>3</mn></msub><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">w_3 = 4, v_3 = 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>w</mi><mn>4</mn></msub><mo>=</mo><mn>3</mn><mo separator="true">,</mo><msub><mi>v</mi><mn>4</mn></msub><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">w_4 = 3, v_4 = 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.02691em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span></p><p>如果我们使用贪心的话，我们就应该选择性价比最高的物品：即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>v</mi><mi>w</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{v}{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>的值最大的的物品来放进背包。</p><p>显然，我们就可以优先拿第一个物品，因为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><msub><mi>v</mi><mn>1</mn></msub><msub><mi>w</mi><mn>1</mn></msub></mfrac><mo>=</mo><mn>1.125</mn></mrow><annotation encoding="application/x-tex">\frac{v_1}{w_1}=1.125</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1565919999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7114919999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.02691em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.03588em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">1</span><span class="mord">2</span><span class="mord">5</span></span></span></span>，而其余物品均为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mi>v</mi><mi>w</mi></mfrac><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\frac{v}{w}=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.040392em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。</p><p>于是你拿了第一个东西，然后你会发现一个问题：这个背包装不下了！但是，其实它还有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的空间。</p><p>So，贪心不能用的原因就是：它会出现浪费空间的现象，无法保证最终能将背包装满，部分闲置的背包空间使每公斤背包空间的价值降低了。</p><h1 id="例题"><a class="markdownIt-Anchor" href="#例题"></a> 例题</h1><p>贪心，有着许多经典的例题：</p><h2 id="洛谷p1031-noip2002-提高组-均分纸牌"><a class="markdownIt-Anchor" href="#洛谷p1031-noip2002-提高组-均分纸牌"></a> 洛谷P1031 [NOIP2002 提高组] 均分纸牌</h2><h3 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h3><details class="toggle" style="border: 1px solid #34d0cc33"><summary class="toggle-button" style="background-color: #34d0cc33;">点击查看题面</summary><div class="toggle-content"><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>有<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>堆纸牌，编号分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>N</mi></mrow><annotation encoding="application/x-tex">1,2,…,N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>。每堆上有若干张，但纸牌总数必为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 的倍数。可以在任一堆上取若干张纸牌，然后移动。</p><p>移牌规则为：在编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 堆上取的纸牌，只能移到编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 的堆上；在编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 的堆上取的纸牌，只能移到编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">N-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 的堆上；其他堆上取的纸牌，可以移到相邻左边或右边的堆上。</p><p>现在要求找出一种移动方法，用最少的移动次数使每堆上纸牌数都一样多。</p><p>例如 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">N=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 堆纸牌数分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>17</mn><mo separator="true">,</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">9,8,17,6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">7</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">6</span></span></span></span>。</p><p>移动 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 次可达到目的：</p><ul><li>从第三堆取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 张牌放到第四堆，此时每堆纸牌数分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo separator="true">,</mo><mn>8</mn><mo separator="true">,</mo><mn>13</mn><mo separator="true">,</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">9,8,13,10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">8</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。</li><li>从第三堆取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 张牌放到第二堆，此时每堆纸牌数分别为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo separator="true">,</mo><mn>11</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">9,11,10,10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">9</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。</li><li>从第二堆取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 张牌放到第一堆，此时每堆纸牌数分别为  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>10</mn><mo separator="true">,</mo><mn>10</mn></mrow><annotation encoding="application/x-tex">10,10,10,10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>。</li></ul><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>第一行共一个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span>，表示纸牌堆数。<br />第二行共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span></span> 个整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>A</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>⋯</mo><mtext> </mtext><mo separator="true">,</mo><msub><mi>A</mi><mi>N</mi></msub></mrow><annotation encoding="application/x-tex">A_1,A_2,\cdots,A_N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">⋯</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，表示每堆纸牌初始时的纸牌数。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>共一行，即所有堆均达到相等时的最少移动次数。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">9 8 17 6</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">1  \le  N  \le  100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><msub><mi>A</mi><mi>i</mi></msub><mo>≤</mo><mn>10000</mn></mrow><annotation encoding="application/x-tex">1 \le  A_i  \le 10000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p><p><strong>【题目来源】</strong></p><p>NOIP 2002 提高组第一题</p></div></details><h3 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h3><p>这道题采用取平均数的方法，然后咕咕咕？！</p>]]></content>
    
    
    <summary type="html">为什么某蒟蒻蒻得学不会贪心算法？这究竟是人性的扭曲还是道德的沦丧？</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="学习笔记" scheme="https://blog.yaria.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="贪心" scheme="https://blog.yaria.top/tags/%E8%B4%AA%E5%BF%83/"/>
    
  </entry>
  
  <entry>
    <title>如何更加方便地修改Acryple作为自己的主题</title>
    <link href="https://blog.yaria.top/posts/f34c4b49/"/>
    <id>https://blog.yaria.top/posts/f34c4b49/</id>
    <published>2022-12-16T07:54:24.000Z</published>
    <updated>2022-12-30T07:54:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>主题仓库：</p><a class="tag-Link" target="_blank" href="https://github.com/lyxofficial/hexo-theme-acryple">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/lyxofficial/hexo-theme-acryple.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo-theme-Acryple</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>前几个月开源了Acryple主题，可惜的是，我为了图方便，直接把本站放在了主题仓库里面。为了方便大家食用，我制作了这篇教程，以及一个更方便的优化仓库及教程，之后会放在之前的<code>Hexo-theme-Acryple</code>这个仓库，自己的博客则作为私有仓库。</p><div class="tip bell"><p>12.29 修复了之前的友链页导致无法渲染的bug，最近一直没时间改，致歉。</p></div><h1 id="初步准备工作"><a class="markdownIt-Anchor" href="#初步准备工作"></a> 初步准备工作</h1><p>找一个文件夹，打开终端，先把现成的Acryple克隆下来：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/LYXOfficial/Hexo-theme-Acryple.git</span><br></pre></td></tr></table></figure><p>然后安装依赖：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p>此时你的站点应该已经准备就绪了。</p><h1 id="基础修改"><a class="markdownIt-Anchor" href="#基础修改"></a> 基础修改</h1><p>首先，对于一些作者、评论什么的配置，你应该参考butterfly官方文档进行修改，请注意该主题是Butterfly 4.2.2。</p><a class="tag-Link" target="_blank" href="https://butterfly.js.org">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/butterfly.js.org.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly官方文档</div>            <div class="tag-link-sitename">Butterfly</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="修改bbtalk"><a class="markdownIt-Anchor" href="#修改bbtalk"></a> 修改BBTalk</h1><p>对于bbtalk的修改，首先你应该读懂官方文档：</p><a class="tag-Link" target="_blank" href="https://bb.js.org">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/bb.js.org.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">BBTalk官方文档</div>            <div class="tag-link-sitename">BBTalk</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>需要注意的是，现在BBTalk的微信公众号已经跑路，我的建议是直接在Leancloud的地方修改数据库，也非常方便，甚至对于在学校这种微信困难时期很管用。</p><p>然后修改<code>themes\acryple\source\js\bbtalklunbo.js</code>和<code>source\speaks\index.md</code>里面的key。</p><p>除此之外，首页BB轮播有上限100个的bug，注意及时删除。</p><h1 id="修改关于页面"><a class="markdownIt-Anchor" href="#修改关于页面"></a> 修改关于页面</h1><p>关于页面的修改参考：</p><a class="tag-Link" target="_blank" href="https://anzhiy.cn/posts/e62b.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/anzhiy.cn/posts/e62b.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">butterfly魔改关于页面</div>            <div class="tag-link-sitename">安知鱼</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这里的方案与安知鱼的基本一样，众多的css都在<code>ariasakablog.css</code>中，建议配合<kbd>Ctrl</kbd>+<kbd>F</kbd>查找相应图片链接。</p><h1 id="修改aplayer播放列表"><a class="markdownIt-Anchor" href="#修改aplayer播放列表"></a> 修改APlayer播放列表</h1><h2 id="白嫖npm推荐"><a class="markdownIt-Anchor" href="#白嫖npm推荐"></a> 白嫖NPM（推荐）</h2><p>首先，为了了解NPM的使用，你需要先看此文章：</p><a class="tag-Link" target="_blank" href="http://akilar.top/posts/3e956346/#npm%E5%9B%BE%E5%BA%8A%E7%9A%84%E4%BD%BF%E7%94%A8">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/akilar.top/posts/3e956346/#npm%E5%9B%BE%E5%BA%8A%E7%9A%84%E4%BD%BF%E7%94%A8.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">NPM图床的使用</div>            <div class="tag-link-sitename">Akilar</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>相信你已经学会了NPM，假设你有Python的话，你就可以使用我的这个简单脚本快速下载歌单到你的文件夹，并且还加了多线程:</p><p>注意安装requests：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install requests</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,json</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line">url=<span class="string">&quot;https://api.i-meto.com/meting/api?server=netease&amp;type=playlist&amp;id=&#123;换成你的歌单id&#125;&quot;</span> <span class="comment">#具体参数见Metingjs文档，server如果不是网易云可以替换</span></span><br><span class="line">t=[]</span><br><span class="line">req=json.loads(requests.get(url).text)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">doget</span>(<span class="params">key</span>):</span><br><span class="line">    a=key[<span class="string">&quot;title&quot;</span>].replace(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;\\&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    b=key[<span class="string">&quot;url&quot;</span>]</span><br><span class="line">    req=requests.get(b).content</span><br><span class="line">    f=<span class="built_in">open</span>(<span class="string">&quot;music/%s.mp3&quot;</span>%a,<span class="string">&quot;wb+&quot;</span>)</span><br><span class="line">    f.write(req)</span><br><span class="line">    f.close()</span><br><span class="line">    b=key[<span class="string">&quot;pic&quot;</span>]</span><br><span class="line">    req=requests.get(b).content</span><br><span class="line">    f=<span class="built_in">open</span>(<span class="string">&quot;pic/%s.jpg&quot;</span>%a,<span class="string">&quot;wb+&quot;</span>)</span><br><span class="line">    f.write(req)</span><br><span class="line">    f.close()</span><br><span class="line">    b=key[<span class="string">&quot;lrc&quot;</span>]</span><br><span class="line">    req=requests.get(b).content</span><br><span class="line">    f=<span class="built_in">open</span>(<span class="string">&quot;lyric/%s.lrc&quot;</span>%a,<span class="string">&quot;wb+&quot;</span>)</span><br><span class="line">    f.write(req)</span><br><span class="line">    f.close()</span><br><span class="line">    <span class="built_in">print</span>(a,<span class="string">&quot;OK&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(req)-<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>):</span><br><span class="line">    t.append(Thread(target=doget,args=(req[key],)))</span><br><span class="line">    t[<span class="built_in">len</span>(t)-<span class="number">1</span>].start()</span><br></pre></td></tr></table></figure><p>这时，你就可以初始化并发布了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm init</span><br><span class="line">npm publish</span><br></pre></td></tr></table></figure><p>如果要更新的话：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm version patch</span><br><span class="line">npm publish</span><br></pre></td></tr></table></figure><p>为了方便写js，可以用以下脚本来生成列表，此处白嫖eleme（一般来说使用jsd系的cdn会超100M的限制）:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,json,urllib</span><br><span class="line">url=<span class="string">&quot;https://api.i-meto.com/meting/api?server=netease&amp;type=playlist&amp;id=&#123;你的歌单ID&#125;&quot;</span> <span class="comment">#具体参数见Metingjs文档，server如果不是网易云可以替换</span></span><br><span class="line">cdnurl=<span class="string">&quot;https://npm.elemecdn.com/&#123;你的仓库名字&#125;/&quot;</span></span><br><span class="line">t=[]</span><br><span class="line">req=json.loads(requests.get(url).text)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ap.list.add([&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(req)-<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>):</span><br><span class="line">    key=req[key]</span><br><span class="line">    a=urllib.request.quote(key[<span class="string">&quot;title&quot;</span>].replace(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;\\&quot;</span>,<span class="string">&quot;&quot;</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;&quot;    &#123;</span></span><br><span class="line"><span class="string">    name: &quot;%s&quot;,</span></span><br><span class="line"><span class="string">    artist: &quot;%s&quot;,</span></span><br><span class="line"><span class="string">    url: &quot;%smusic/%s.mp3&quot;,</span></span><br><span class="line"><span class="string">    cover: &quot;%spic/%s.jpg,</span></span><br><span class="line"><span class="string">    lrc: %slyric/%s.lrc&quot;,</span></span><br><span class="line"><span class="string">    &#125;,&quot;&quot;&quot;</span>%(key[<span class="string">&quot;title&quot;</span>],key[<span class="string">&quot;author&quot;</span>],cdnurl,a,cdnurl,a,cdnurl,a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;])&quot;</span>)</span><br></pre></td></tr></table></figure><p>这串代码就拿来替换下面删除部分。</p><p>最后，为了让你的歌曲快点拉到回源，建议多点几下，或者是用这个脚本：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,json,urllib</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line">url=<span class="string">&quot;https://api.i-meto.com/meting/api?server=netease&amp;type=playlist&amp;id=&#123;歌单名&#125;&quot;</span></span><br><span class="line">cdnurl=<span class="string">&quot;https://npm.elemecdn.com/&#123;仓库名&#125;&quot;</span></span><br><span class="line">req=json.loads(requests.get(url).text)</span><br><span class="line">t=[]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">doget</span>(<span class="params">key</span>):</span><br><span class="line">    <span class="keyword">global</span> out,req</span><br><span class="line">    f=<span class="number">0</span></span><br><span class="line">    key=req[key]</span><br><span class="line">    b=urllib.request.quote(key[<span class="string">&quot;title&quot;</span>].replace(<span class="string">&quot;/&quot;</span>,<span class="string">&quot;&quot;</span>).replace(<span class="string">&quot;\\&quot;</span>,<span class="string">&quot;&quot;</span>))</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        req=requests.get(<span class="string">&#x27;%s/music/%s.mp3&#x27;</span>%(cdnurl,b),timeout=<span class="number">20</span>)</span><br><span class="line">        <span class="keyword">if</span> req.status_code!=<span class="number">200</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception</span><br><span class="line">        req=requests.get(<span class="string">&#x27;%s/pic/%s.jpg&#x27;</span>%(cdnurl,b),timeout=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">if</span> req.status_code!=<span class="number">200</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception</span><br><span class="line">        req=requests.get(<span class="string">&#x27;%s/lyric/%s.lrc&#x27;</span>%(cdnurl,b),timeout=<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">if</span> req.status_code!=<span class="number">200</span>:</span><br><span class="line">            <span class="keyword">raise</span> Exception</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        f=<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(key[<span class="string">&quot;title&quot;</span>]+<span class="string">&quot; OK &quot;</span>+(<span class="string">&quot;but timeout or error&quot;</span> <span class="keyword">if</span> f==<span class="number">1</span> <span class="keyword">else</span> <span class="string">&quot;&quot;</span>))</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(req)-<span class="number">1</span>,<span class="number">0</span>,-<span class="number">1</span>):</span><br><span class="line">    t.append(Thread(target=doget,args=(key,)))</span><br><span class="line">    t[<span class="built_in">len</span>(t)-<span class="number">1</span>].start()</span><br></pre></td></tr></table></figure><p>一直运行这个脚本，直到输出没有<code>but timeout or error</code>就好了</p><p>这样虽然麻烦，但是不会出现播放时error的问题。</p><h2 id="白嫖meting"><a class="markdownIt-Anchor" href="#白嫖meting"></a> 白嫖meting</h2><p>删除<code>themes\acryple\source\js\aplayersave.js</code>里的部分内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line">function doStuff() &#123;</span><br><span class="line">    ...</span><br><span class="line">    if(flag)&#123;</span><br><span class="line"><span class="deletion">-        ap.list.add([&#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Grow Slowly&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;井口裕香&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Grow%20Slowly.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Grow%20Slowly.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Grow%20Slowly.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;霜雪千年（Cover 洛天依 / 乐正绫）&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;双笙（陈元汐） / 封茗囧菌&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E9%9C%9C%E9%9B%AA%E5%8D%83%E5%B9%B4%EF%BC%88Cover%20%E6%B4%9B%E5%A4%A9%E4%BE%9D%20%20%E4%B9%90%E6%AD%A3%E7%BB%AB%EF%BC%89.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E9%9C%9C%E9%9B%AA%E5%8D%83%E5%B9%B4%EF%BC%88Cover%20%E6%B4%9B%E5%A4%A9%E4%BE%9D%20%20%E4%B9%90%E6%AD%A3%E7%BB%AB%EF%BC%89.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E9%9C%9C%E9%9B%AA%E5%8D%83%E5%B9%B4%EF%BC%88Cover%20%E6%B4%9B%E5%A4%A9%E4%BE%9D%20%20%E4%B9%90%E6%AD%A3%E7%BB%AB%EF%BC%89.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;灯火里的中国 (舒楠监制 官方正式版)&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;张也 / 周深&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E7%81%AF%E7%81%AB%E9%87%8C%E7%9A%84%E4%B8%AD%E5%9B%BD%20%28%E8%88%92%E6%A5%A0%E7%9B%91%E5%88%B6%20%E5%AE%98%E6%96%B9%E6%AD%A3%E5%BC%8F%E7%89%88%29.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E7%81%AF%E7%81%AB%E9%87%8C%E7%9A%84%E4%B8%AD%E5%9B%BD%20%28%E8%88%92%E6%A5%A0%E7%9B%91%E5%88%B6%20%E5%AE%98%E6%96%B9%E6%AD%A3%E5%BC%8F%E7%89%88%29.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E7%81%AF%E7%81%AB%E9%87%8C%E7%9A%84%E4%B8%AD%E5%9B%BD%20%28%E8%88%92%E6%A5%A0%E7%9B%91%E5%88%B6%20%E5%AE%98%E6%96%B9%E6%AD%A3%E5%BC%8F%E7%89%88%29.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Windows Welcome Music (Remix) (Remix)&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;Sugar95&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Windows%20Welcome%20Music%20%28Remix%29%20%28Remix%29.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Windows%20Welcome%20Music%20%28Remix%29%20%28Remix%29.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Windows%20Welcome%20Music%20%28Remix%29%20%28Remix%29.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Falling Again&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;Nurko / Roniit&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Falling%20Again.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Falling%20Again.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Falling%20Again.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;云女孩&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;符白牙 / lunari.io&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E4%BA%91%E5%A5%B3%E5%AD%A9.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E4%BA%91%E5%A5%B3%E5%AD%A9.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E4%BA%91%E5%A5%B3%E5%AD%A9.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;See You Again&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;See You Again&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/See%20You%20Again.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/See%20You%20Again.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/See%20You%20Again.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;sister\&#x27;s noise&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;fripSide&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/sister%27s%20noise.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/sister%27s%20noise.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/sister%27s%20noise.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;心做し&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;一之瀬ユウ / GUMI&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E5%BF%83%E5%81%9A%E3%81%97.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E5%BF%83%E5%81%9A%E3%81%97.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E5%BF%83%E5%81%9A%E3%81%97.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;君に嘘&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;湊貴大 / 初音ミク&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E5%90%9B%E3%81%AB%E5%98%98.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E5%90%9B%E3%81%AB%E5%98%98.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E5%90%9B%E3%81%AB%E5%98%98.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;溯 (Reverse)&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;CORSAK胡梦周 / 马吟吟&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E6%BA%AF%20%28Reverse%29.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E6%BA%AF%20%28Reverse%29.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E6%BA%AF%20%28Reverse%29.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;ふわふわ♪&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;牧野由依&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E3%81%B5%E3%82%8F%E3%81%B5%E3%82%8F%E2%99%AA.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E3%81%B5%E3%82%8F%E3%81%B5%E3%82%8F%E2%99%AA.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E3%81%B5%E3%82%8F%E3%81%B5%E3%82%8F%E2%99%AA.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;LEVEL5 -judgelight-&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;fripSide&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/LEVEL5%20-judgelight-.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/LEVEL5%20-judgelight-.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/LEVEL5%20-judgelight-.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;打上花火&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;Daoko / 米津玄師&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E6%89%93%E4%B8%8A%E8%8A%B1%E7%81%AB.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E6%89%93%E4%B8%8A%E8%8A%B1%E7%81%AB.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E6%89%93%E4%B8%8A%E8%8A%B1%E7%81%AB.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;勾指起誓&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;洛天依 / ilem&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E5%8B%BE%E6%8C%87%E8%B5%B7%E8%AA%93.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E5%8B%BE%E6%8C%87%E8%B5%B7%E8%AA%93.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E5%8B%BE%E6%8C%87%E8%B5%B7%E8%AA%93.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;红莲华（《鬼灭之刃》动画OP）&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;池绛不吃姜&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E7%BA%A2%E8%8E%B2%E5%8D%8E%EF%BC%88%E3%80%8A%E9%AC%BC%E7%81%AD%E4%B9%8B%E5%88%83%E3%80%8B%E5%8A%A8%E7%94%BBOP%EF%BC%89.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E7%BA%A2%E8%8E%B2%E5%8D%8E%EF%BC%88%E3%80%8A%E9%AC%BC%E7%81%AD%E4%B9%8B%E5%88%83%E3%80%8B%E5%8A%A8%E7%94%BBOP%EF%BC%89.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E7%BA%A2%E8%8E%B2%E5%8D%8E%EF%BC%88%E3%80%8A%E9%AC%BC%E7%81%AD%E4%B9%8B%E5%88%83%E3%80%8B%E5%8A%A8%E7%94%BBOP%EF%BC%89.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Lemon&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;是Wei呀&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Lemon.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Lemon.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Lemon.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Alive&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;ReoNa&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Alive.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Alive.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Alive.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;All in good time&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;川田まみ&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/All%20in%20good%20time.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/All%20in%20good%20time.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/All%20in%20good%20time.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;aLIEz (澤野弘之 LIVE[nZk]004 (2016/11/03@TOKYO DOME CITY HALL))&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;瑞葵(mizuki)&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/aLIEz%20%28%E6%BE%A4%E9%87%8E%E5%BC%98%E4%B9%8B%20LIVE%5BnZk%5D004%20%2820161103%40TOKYO%20DOME%20CITY%20HALL%29%29.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/aLIEz%20%28%E6%BE%A4%E9%87%8E%E5%BC%98%E4%B9%8B%20LIVE%5BnZk%5D004%20%2820161103%40TOKYO%20DOME%20CITY%20HALL%29%29.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/aLIEz%20%28%E6%BE%A4%E9%87%8E%E5%BC%98%E4%B9%8B%20LIVE%5BnZk%5D004%20%2820161103%40TOKYO%20DOME%20CITY%20HALL%29%29.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;only my railgun&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;fripSide&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/only%20my%20railgun.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/only%20my%20railgun.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/only%20my%20railgun.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;恋愛サーキュレーション&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;花澤香菜&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E6%81%8B%E6%84%9B%E3%82%B5%E3%83%BC%E3%82%AD%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E6%81%8B%E6%84%9B%E3%82%B5%E3%83%BC%E3%82%AD%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E6%81%8B%E6%84%9B%E3%82%B5%E3%83%BC%E3%82%AD%E3%83%A5%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;千本桜&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;黒うさP / 初音ミク&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E5%8D%83%E6%9C%AC%E6%A1%9C.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E5%8D%83%E6%9C%AC%E6%A1%9C.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E5%8D%83%E6%9C%AC%E6%A1%9C.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;起风了&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;买辣椒也用券&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/%E8%B5%B7%E9%A3%8E%E4%BA%86.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/%E8%B5%B7%E9%A3%8E%E4%BA%86.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/%E8%B5%B7%E9%A3%8E%E4%BA%86.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Heaven is a Place On Earth&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;fripSide&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Heaven%20is%20a%20Place%20On%20Earth.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Heaven%20is%20a%20Place%20On%20Earth.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Heaven%20is%20a%20Place%20On%20Earth.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;とある日の午後&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;Laqshe&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/とある 日の午後.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/とある 日の午後.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/とある 日の午後.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;群青&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;YOASOBI&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/群青.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/群青.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/群青.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;WATER&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;A-39 / 沙包P / 初音ミク&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/WATER.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/WATER.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/WATER.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Minecraft&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;C418&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Minecraft.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Minecraft.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Minecraft.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;Haggstrom&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;C418&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/Haggstrom.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/Haggstrom.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/Haggstrom.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;,</span></span><br><span class="line"><span class="deletion">-        &#123;</span></span><br><span class="line"><span class="deletion">-            name: &#x27;横竖撇点折&#x27;,</span></span><br><span class="line"><span class="deletion">-            artist: &#x27;米白&#x27;,</span></span><br><span class="line"><span class="deletion">-            url: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/music/横竖撇点折.mp3&#x27;,</span></span><br><span class="line"><span class="deletion">-            cover: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/pic/横竖撇点折.jpg&#x27;,</span></span><br><span class="line"><span class="deletion">-            lrc: &#x27;https://npm.elemecdn.com/musiccdn-ariasaka/lyric/横竖撇点折.lrc&#x27;,</span></span><br><span class="line"><span class="deletion">-        &#125;</span></span><br><span class="line"><span class="deletion">-    ]);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">document.addEventListener(&#x27;DOMContentLoaded&#x27;, (e) =&gt; &#123;</span><br><span class="line">    doStuff();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>然后修改<code>_config.acryple.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line">    <span class="attr">bottom:</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;&#123;你的歌单名&#125;&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-preload=&quot;metadata&quot;</span> <span class="string">data-theme=&quot;var(--lyx-theme)&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-autoplay=&quot;false&quot;</span> <span class="string">data-volume=0.1</span> <span class="string">style=&quot;z-index:514&quot;&gt;</span> <span class="string">&lt;/div&gt;</span></span><br><span class="line">    <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="修改页脚运行时间"><a class="markdownIt-Anchor" href="#修改页脚运行时间"></a> 修改页脚运行时间</h1><p>修改<code>[blogRoot]\themes\acryple\source\js\sitetime.js</code>：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">siteTime</span>(<span class="params"></span>)&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">var</span> todaySecond = today.<span class="title function_">getSeconds</span>();</span><br><span class="line">    <span class="keyword">var</span> t1 = <span class="title class_">Date</span>.<span class="title function_">UTC</span>(<span class="number">2022</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">12</span>,<span class="number">00</span>,<span class="number">00</span>); <span class="comment">//修改为自己的网站起始日期</span></span><br><span class="line">    <span class="keyword">var</span> t2 = <span class="title class_">Date</span>.<span class="title function_">UTC</span>(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);</span><br><span class="line">    <span class="keyword">var</span> diff = t2-t1;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">siteTime</span>();</span><br></pre></td></tr></table></figure><h1 id="修改github日历"><a class="markdownIt-Anchor" href="#修改github日历"></a> 修改Github日历</h1><p>使用店长魔改版：</p><a class="tag-Link" target="_blank" href="https://akilar.top/posts/1f9c68c9/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/akilar.top/posts/1f9c68c9/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Gitcalendar</div>            <div class="tag-link-sitename">Akilarの糖果屋</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p><s>注意：一般来说我不会跑路，所以<code>apiurl</code>不用改[doge]</s></p><h1 id="修改sw"><a class="markdownIt-Anchor" href="#修改sw"></a> 修改sw</h1><p>参考：</p><h1 id="pwa修改"><a class="markdownIt-Anchor" href="#pwa修改"></a> PWA修改</h1><p>主要是图标，修改<code>[blogRoot]\source\img</code>里面的各种pwa图标。</p><p>然后修改<code>[blogRoot]\source\manifest.json</code>，参考：</p><a class="tag-Link" target="_blank" href="http://akilar.top/posts/8f31c3d0/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/akilar.top/posts/8f31c3d0/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly主题的PWA实现方案</div>            <div class="tag-link-sitename">Akilarの糖果屋</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="修改评论弹幕"><a class="markdownIt-Anchor" href="#修改评论弹幕"></a> 修改评论弹幕</h1><p>你需要修改评论弹幕的参数，参考：</p><a class="tag-Link" target="_blank" href="/posts/670e47f/#CommentBarrage V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon//posts/670e47f/#CommentBarrage V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">博客魔改日记（3）</div>            <div class="tag-link-sitename">Ariasaka</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="/posts/69707535/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon//posts/69707535/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly主题的留言弹幕界面增强版（支持Twikoo、Waline、Valine）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="修改个人信息"><a class="markdownIt-Anchor" href="#修改个人信息"></a> 修改个人信息</h1><p>最好把<code>Ariasaka</code>全局替换成你的网名，然后站名也是。</p><h1 id="修改朋友圈"><a class="markdownIt-Anchor" href="#修改朋友圈"></a> 修改朋友圈</h1><p>友链朋友圈前端方案采用林木木的，目前使用<code>v5.0.6</code>，部署参考:</p><p>然后修改<code>[blogRoot]\source\fcircle\index.md</code>和<code>[blogRoot]\themes\acryple\source\js\randomFriend.js</code>里面的<code>apiUrl</code>项</p><h1 id="需要注意的点"><a class="markdownIt-Anchor" href="#需要注意的点"></a> 需要注意的点</h1><h2 id="twikoo"><a class="markdownIt-Anchor" href="#twikoo"></a> Twikoo</h2><p>发现Twikoo没有控制面板入口了吗？其实昵称栏输入我网名就行啦！</p><h2 id="友链"><a class="markdownIt-Anchor" href="#友链"></a> 友链</h2><p><strong><code>theme_color</code>必须加引号！！！</strong></p><p><strong><code>theme_color</code>必须加引号！！！</strong></p><h2 id="cdn"><a class="markdownIt-Anchor" href="#cdn"></a> CDN</h2><p>我使用了Tianli的JSD CDN，请先充分阅读使用条款并申请使用方可使用。</p><a class="tag-Link" target="_blank" href="https://tianli-blog.club/jsd/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/tianli-blog.club/jsd/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">免费JSD镜像使用手册</div>            <div class="tag-link-sitename">Tianli's blog</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>也可以全局替换为其它CDN，比如<code>eleme,zhimg,afdelivr</code>等，当然最香的是CW/SW劫持并发请求。</p><h2 id="头像"><a class="markdownIt-Anchor" href="#头像"></a> 头像</h2><span class='p red'>头像必须是60x60!!!</span><span class='p red'>卡片上的头像必须是60x60!!!</span><p>因为某些莫名奇妙的bug，卡片上的头像必须是60x60，否则会溢出或者变小、拉伸。头像在：<code>source/img/a.webp</code>。</p><p><s>PS：这个特性从我最开始研究魔改，7月的时候就存在了，一直没有修</s></p><h2 id="文章"><a class="markdownIt-Anchor" href="#文章"></a> 文章</h2><h3 id="abbrlink"><a class="markdownIt-Anchor" href="#abbrlink"></a> abbrlink</h3><p>我采用了<code>abbrlink</code>永久链接，请注意。</p><h3 id="外挂标签"><a class="markdownIt-Anchor" href="#外挂标签"></a> 外挂标签</h3><p>内置店长的外挂标签，不过注意<code>link</code>标签采用的是洪哥的方案，会稍有不同：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link [name],[author],[link] %&#125;</span><br><span class="line">&lt;!-- 自动提取图标，可以显示作者 --&gt;</span><br></pre></td></tr></table></figure><p>而原版为：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link [title], [link], [icon] %&#125;</span><br><span class="line">&lt;!-- 手动设置图标，不能可以显示作者 --&gt;</span><br></pre></td></tr></table></figure><a class="tag-Link" target="_blank" href="https://akilar.top/posts/615e2dec/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/akilar.top/posts/615e2dec/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Tag Plugins Plus</div>            <div class="tag-link-sitename">Akilarの糖果屋</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://blog.zhheo.com/p/ccaf9148.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.zhheo.com/p/ccaf9148.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo的Butterfly魔改：网址卡片外挂标签</div>            <div class="tag-link-sitename">张洪Heo</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="评论"><a class="markdownIt-Anchor" href="#评论"></a> 评论</h2><p>主题内置了Twikoo Magic+Heo表情包，如果用Twikoo的话，请在Twikoo评论控制面板中修改owo的路径为<code>owo.json</code></p><h2 id="nodemodules"><a class="markdownIt-Anchor" href="#nodemodules"></a> NODEMODULES</h2><span class='p red'>复制文件夹的时候千万别拷node_modules文件夹！！！</span><p><strong>不然你会感到4KIO的无力！！！</strong></p><p>因为<code>node_modules</code>里面的文件又小又散，正确打开方式是留下<code>package.json</code>，删掉<code>package-lock.json</code>，然后在新文件夹里运行<code>npm install</code></p><h1 id="可有可无的其它修改指南"><a class="markdownIt-Anchor" href="#可有可无的其它修改指南"></a> 可有可无的其它修改指南</h1><h2 id="修改banner"><a class="markdownIt-Anchor" href="#修改banner"></a> 修改banner</h2><p>全部都在<code>source\people.html</code>里面，自己修改内容即可（注意这是一个完整的html）</p><h2 id="npm的合理白嫖"><a class="markdownIt-Anchor" href="#npm的合理白嫖"></a> NPM的合理白嫖</h2><p><s>白嫖鸽子UP？！咕咕咕。。。</s></p><h2 id="个性化博客设置"><a class="markdownIt-Anchor" href="#个性化博客设置"></a> 个性化博客设置</h2><h2 id="善用githubaction"><a class="markdownIt-Anchor" href="#善用githubaction"></a> 善用GithubAction</h2><h2 id="套cdn"><a class="markdownIt-Anchor" href="#套cdn"></a> 套CDN</h2><p>相信你看完了之后，已经不认识修改两个字了。不过这样基本上就可以把博客变成自己的了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="避坑" scheme="https://blog.yaria.top/tags/%E9%81%BF%E5%9D%91/"/>
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>【全 剧 终】后疫情时代——保护了我们三年的国家，是时候放手了</title>
    <link href="https://blog.yaria.top/posts/a90c94cd/"/>
    <id>https://blog.yaria.top/posts/a90c94cd/</id>
    <published>2022-12-12T10:15:59.000Z</published>
    <updated>2022-12-12T10:15:59.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>二零二二年十二月七日，一封《关于进一步优化落实新冠肺炎疫情防控措施的通知》发出，传遍大街小巷：</p><a class="tag-Link" target="_blank" href="http://www.gov.cn/xinwen/2022-12/07/content_5730443.htm">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.gov.cn/xinwen/2022-12/07/content_5730443.htm.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">关于进一步优化落实新冠肺炎疫情防控措施的通知</div>            <div class="tag-link-sitename">中华人民共和国中央人民政府</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>扛过了恐怖的Alpha、Delta毒株，面对来势汹汹的Omicron，这个传播力极强，但是毒性较低的变种，政府，还是没有挺过去。</p><h1 id="关于新十条"><a class="markdownIt-Anchor" href="#关于新十条"></a> 关于新十条</h1><p>这个文件中明确指出了“新十条”以及其落实：</p><blockquote><p>一是科学精准划分风险区域。按楼栋、单元、楼层、住户划定高风险区，不得随意扩大到小区、社区和街道（乡镇）等区域。不得采取各种形式的临时封控。</p><p>二是进一步优化核酸检测。不按行政区域开展全员核酸检测，进一步缩小核酸检测范围、减少频次。根据防疫工作需要，可开展抗原检测。对高风险岗位从业人员和高风险区人员按照有关规定进行核酸检测，其他人员愿检尽检。除养老院、福利院、医疗机构、托幼机构、中小学等特殊场所外，不要求提供核酸检测阴性证明，不查验健康码。重要机关、大型企业及一些特定场所可由属地自行确定防控措施。不再对跨地区流动人员查验核酸检测阴性证明和健康码，不再开展落地检。</p><p>三是优化调整隔离方式。感染者要科学分类收治，具备居家隔离条件的无症状感染者和轻型病例一般采取居家隔离，也可自愿选择集中隔离收治。居家隔离期间加强健康监测，隔离第6、7天连续2次核酸检测Ct值≥35解除隔离，病情加重的及时转定点医院治疗。具备居家隔离条件的密切接触者采取5天居家隔离，也可自愿选择集中隔离，第5天核酸检测阴性后解除隔离。</p><p>四是落实高风险区“快封快解”。连续5天没有新增感染者的高风险区，要及时解封。</p><p>五是保障群众基本购药需求。各地药店要正常运营，不得随意关停。不得限制群众线上线下购买退热、止咳、抗病毒、治感冒等非处方药物。</p><p>六是加快推进老年人新冠病毒疫苗接种。各地要坚持应接尽接原则，聚焦提高60-79岁人群接种率、加快提升80岁及以上人群接种率，作出专项安排。通过设立老年人绿色通道、临时接种点、流动接种车等措施，优化接种服务。要逐级开展接种禁忌判定的培训，指导医务人员科学判定接种禁忌。细化科普宣传，发动全社会力量参与动员老年人接种，各地可采取激励措施，调动老年人接种疫苗的积极性。</p><p>七是加强重点人群健康情况摸底及分类管理。发挥基层医疗卫生机构“网底”和家庭医生健康“守门人”的作用，摸清辖区内患有心脑血管疾病、慢阻肺、糖尿病、慢性肾病、肿瘤、免疫功能缺陷等疾病的老年人及其新冠病毒疫苗接种情况，推进实施分级分类管理。</p><p>八是保障社会正常运转和基本医疗服务。非高风险区不得限制人员流动，不得停工、停产、停业。将医务人员、公安、交通物流、商超、保供、水电气暖等保障基本医疗服务和社会正常运转人员纳入“白名单”管理，相关人员做好个人防护、疫苗接种和健康监测，保障正常医疗服务和基本生活物资、水电气暖等供给，尽力维护正常生产工作秩序，及时解决群众提出的急难愁盼问题，切实满足疫情处置期间群众基本生活需求。</p><p>九是强化涉疫安全保障。严禁以各种方式封堵消防通道、单元门、小区门，确保群众看病就医、紧急避险等外出渠道通畅。推动建立社区与专门医疗机构的对接机制，为独居老人、未成年人、孕产妇、残疾人、慢性病患者等提供就医便利。强化对封控人员、患者和一线工作人员等的关心关爱和心理疏导。</p><p>十是进一步优化学校疫情防控工作。各地各校要坚决落实科学精准防控要求，没有疫情的学校要开展正常的线下教学活动，校园内超市、食堂、体育场馆、图书馆等要正常开放。有疫情的学校要精准划定风险区域，风险区域外仍要保证正常的教学、生活等秩序。</p></blockquote><p>这意味着，政府放下了三年来守护的手，剩下的，将由群众们自己扛。</p><p>生产生活在“新十条”的促进下将会恢复回曾经2019的年秩序，新冠，也将与流感同化。</p><h1 id="新十条落实后的乱象"><a class="markdownIt-Anchor" href="#新十条落实后的乱象"></a> 新十条落实后的乱象</h1><!-- 可是，落实之后，秩序恢复了吗？并没有，除了各大企业都喊着上班回去之外，其余真的到处很乱。第一，群众不敢出门，怕被感染第二，很多人仍然对新冠感到害怕，并没有放开警戒第三，地方政府(起码重庆这边是)大量抢占群众医药资源，大家都有囤药的想法，但是尤其是莲花清瘟，以及抗原自测试剂，供不应求，甚至是一药难求第四，学校开学非常乱，我们这边许多学校开学后就到处阳，然后又回来上网课了。可是即将期末考试、中高考的中学生们怎么办？第五，核酸难，自从国家取消核酸资源后，一个医院排核酸可以排几个小时第六，一刀切现象依然存在，在某些地方，仍然需要核酸和健康码（行程卡）第七，到处都是阳，非常危险第八，太突然了，11月，重庆、广州、北京、石家庄等多地爆发疫情，正当大家还封在家里摆烂时，突然就变了天，真的很突然，重庆这边之前有个小区解封了，大妈还用铁皮又封起来。![](https://bu.dusays.com/2023/01/20/63ca11e0e8435.webp) --><h1 id="接下来的我们"><a class="markdownIt-Anchor" href="#接下来的我们"></a> 接下来的我们</h1><p>接下来，一切，都只能靠群众扛了。只能说是前途未卜，疫情究竟是像钟南山说的一样稳定呢，还是爆发，变异，毒性变强呢？</p><p>以后，一感冒就做抗原，不带口罩可能会成为新的常态吧。</p><h1 id="回望疫情这三年"><a class="markdownIt-Anchor" href="#回望疫情这三年"></a> 回望疫情这三年</h1><!-- > 疫情三年，刚刚好好，不过三年。三年啊三年，小学生，变成了中学生；高中生，变成了大学生；而有些大人们，脸庞的皱纹也似变得更深了。> 人间烟火气，最抚凡人心。 --><p>疫情逐渐消散，曾经车水马龙的景象即将重见天日。</p><blockquote><p>曾经我们对雨后天晴无比向往，如今却已习惯于在雾蒙蒙的天空中阴沉沉地呆着。</p></blockquote><p>回顾这三年，大家对疫情的态度已经从众志成城抗击疫情，主动配合防疫工作，变成了“封麻了，什么时候才解封啊”；“又要做核酸，烦不烦嘛”这种态度。</p><h2 id="第一波首次光临众志成城"><a class="markdownIt-Anchor" href="#第一波首次光临众志成城"></a> 第一波：首次光临——众志成城</h2><p>2019年12月30日，一位叫李文亮的医生在武汉大学临床04级班级群里发布消息说“华南海鲜市场确诊了7例SARS”，提醒同为临床医生的同学“让家人亲人注意防范”。</p><p>大家当时不以为然，谁也没有想到，这回成为三年多的全球性的噩梦。于是警方以传播不实信息为由对其进行了训诫。</p><p>20年一月，正当大家在家中欢乐地吃着年夜饭时，这个不明病毒越传越广。</p><p>1月9日，官方公布为冠状病毒，1月10日，医院满床。</p><p>随即的几天，其余国家出现了几例疫情，世卫组织进行命名为<code>2019-nCov</code>。</p><p>钟南山牺牲自己，赶忙坐着站票动车赶到武汉，就连路程上依然在坚持工作，令全国人民感到。</p><p>一张流传甚广的图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e1de5d1.webp" alt="" /></p><p>1月23日，武汉封城，几乎所有省市都拉响了重大突发公共卫生事件一级响应的警笛。</p><p>新冠，这场三年余的噩梦，爆发了。</p><p>此时的一切都归于沉寂。</p><p>很快，政府宣布建设火神山、雷神山医院。宣布建设之后，大家无不众志成城，参与建设。</p><p>各大城市的医疗队纷纷涌入武汉，武汉接收到了源源不断的援助物资。人民无一不对武汉加油打气，自觉遵守政策，呆在家中，网络过年。</p><p>二十余天左右，两个医院陆续建成，体现了“中国速度”</p><p>即便如此，武汉仍然有众多逆行者倒在了岗位上。足以说明新冠的毒性之强。</p><p>除此之外，其他地方的防疫也非常积极，比如北京重建小汤山，河南修方舱等等。</p><p>三个月的4月8日，冬雪消散，春暖花开，车水马龙。</p><p><em>第一轮疫情结束了</em></p><p><strong>吗？</strong></p><h2 id="第二波德尔塔的到来疲软"><a class="markdownIt-Anchor" href="#第二波德尔塔的到来疲软"></a> 第二波：德尔塔的到来——疲软</h2><p>2020年1月24日，中国疾控中心成功分离中国首株新型冠状病毒毒种。</p><p>随着研发进度的推进，10月，疫苗研究成功。</p><p>中国政府采用了全民免费的政策，不断推进疫苗接种，新冠的感染人数也在慢慢降低。</p><p>经历了几个月的稳定期，到了2021年6月，德尔塔毒株进入国内。</p><p>这时，国外的疫情逐渐严重。然后，出现了一种新的感染者：无症状。</p><p>没错，这是德尔塔毒株和疫苗共创的一口锅！</p><p>2021年6月，德尔塔进入了中国，使得华南地区爆发疫情。</p><p>随后，北京等地也爆发出来了。</p><p>显然大家有点疲软，毕竟疫情已经折磨过一次了。还好在国家的疯狂阻隔下，疫情并没有特别严重。</p><h2 id="第三波奥密克戎的光临厌烦"><a class="markdownIt-Anchor" href="#第三波奥密克戎的光临厌烦"></a> 第三波：奥密克戎的光临——厌烦</h2><p>转机是在2022年初，上海。</p><p>无症状使得各部门非常的小心，然而，来势汹汹的奥密克戎并没有丝毫怜悯。</p><p>作为中国的经济中心，上海。自然不能封城，这也就加剧了疫情发展：在疫苗导致无症状的现象下，4月9日达到了惊人的一日新增22609例。</p><p>即便上海做了许多措施，也不管用。关键是全国人民都厌烦了，加上上海人对其余某些城市人们的不屑，这时的风气非常混乱。</p><p>此时的“大白”赫然成了贬义词，看到就跑。</p><p>还有之前有不少人嫌弃外地捐赠物资等事情，这种人非常令人嗤之以鼻。</p><p>即便上海解封了，后面疫情也以汹涌的趋势奔向了全国各地，<a href="/posts/a61abc">重庆坚守了三年，依然沦陷了。</a></p><p>最终，政府选择了撒手。</p><h1 id="感谢国家"><a class="markdownIt-Anchor" href="#感谢国家"></a> 感谢国家</h1><p>国家在疫情最危险的两年保护了我们，使得我们国家的的死亡率、确诊率大大降低：发病率仅为全球的1/112，死亡率是全球的1/229。比起高达0.1%的美国安全太多了！</p><p>虽然有些让人感到不太舒服，但是终究是有用的。</p><p>现在，既然其可控，就该撒手了。</p><p>坚定不移听党话，跟党走，必然是正确的道路！</p><h1 id="行程卡"><a class="markdownIt-Anchor" href="#行程卡"></a> 行程卡</h1><p>行程卡，好似见证了整场疫情的样子，她走了，但是走的太急了。</p><p>谨以此纪念疫情三年我们逝去的美好年华。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e291824.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e342773.webp" alt="" /></p><p>最后，</p><blockquote><p>人间烟火气，最抚凡人心。</p></blockquote><p>希望新冠快快退散吧！</p>]]></content>
    
    
    <summary type="html">羊（阳）了个羊（阳）？</summary>
    
    
    
    <category term="社会" scheme="https://blog.yaria.top/categories/%E7%A4%BE%E4%BC%9A/"/>
    
    
    <category term="社会" scheme="https://blog.yaria.top/tags/%E7%A4%BE%E4%BC%9A/"/>
    
  </entry>
  
  <entry>
    <title>Windows Longhorn&amp;&amp;Vista——生而伟大，却又生不逢时</title>
    <link href="https://blog.yaria.top/posts/e536ec4/"/>
    <id>https://blog.yaria.top/posts/e536ec4/</id>
    <published>2022-12-11T11:35:42.000Z</published>
    <updated>2022-12-11T11:35:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>（<em>多图警告！！！</em>）</p><p>此文必然是个大工程，资料收集会比较多，加上学业紧张，所以会鸽很久（看起来写好的部分可能并未尽人意）。</p><p>资料来源:</p><a class="tag-Link" target="_blank" href="https://wiki.betaworld.cn/Windows_Vista">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/wiki.betaworld.cn/Windows_Vista.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Windows Vista</div>            <div class="tag-link-sitename">BetaWorld wiki</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>在很久很久很久以前的2001年，一个伟大、革命性<s>垃圾</s>的系统————Windows XP发布了。</p><p>微软便开始紧锣密鼓地进行下一个系统的计划，这个系统的代号就是我们熟知的Longhorn，后来正式名字为Vista。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a85f1f3.webp" alt="" /></p><p>当初的演示视频：</p><p><video controls src="https://npm.elemecdn.com/videos-ariasaka/Longhorn.mp4"></video></p><h1 id="名字来源"><a class="markdownIt-Anchor" href="#名字来源"></a> 名字来源</h1><p>关于Longhorn这个名字，有一个流传甚广的传说：</p><p>Windows XP的代号叫做Whistler，Longhorn 之后的Windows叫做Blackcomb，这些名字都是来源于微软总部附近的British Columbia的滑雪区，当地有一座山名叫Whistler，山脚有一间为当地滑雪者经常光顾的类似酒吧的小店，名字叫做Longhorn。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a91b1b9.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12aa52e1c.webp" alt="" /></p><p>于是微软的路线就出来了：Whistler（一个划时代的系统）——Longhorn（一个过渡性的系统）——Blackcomb（一个革命性的系统）</p><p>Whistler即为XP，Longhorn即为Vista，但是Blackcomb并不是Win7，因为微软的开发路线变化之后，Blackcomb就流产了。</p><h1 id="关于longhorn"><a class="markdownIt-Anchor" href="#关于longhorn"></a> 关于Longhorn</h1><p>Longhorn这个新系统在XP发布后不久，微软就画了很多饼，说这个新系统会在2004年左右发布，然后在WinHEC2004里面还宣布了不少信息，可惜的是依然流产了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12abb7321.webp" alt="" /></p><h2 id="开发历程"><a class="markdownIt-Anchor" href="#开发历程"></a> 开发历程</h2><p>Longhorn的开发历程可以总结为两个部分：Pre-reset（Milestone 2~7）（重置前）和Reseted（(Pre)Beta1~2&amp;&amp;Release）（重置后）</p><h3 id="关于lh重置的事"><a class="markdownIt-Anchor" href="#关于lh重置的事"></a> 关于lh重置的事</h3><p>那么，为什么Longhorn会被重置呢？</p><p>在XP发布后不久，NT5就爆出各种各样的严重漏洞，微软一遍给xp打补丁，一边开发Longhorn，最后大家认为他们需要给Longhorn加上一个艰巨的任务:革命性的新系统，基于NT6内核，使用全新的、体验好的WIM安装方案，且基于.NET进行重构。</p><p>以及Longhorn的三大基<s>只因</s>石：Avalon、WinFS、Indigo。</p><p>WinFS即把Windows的文件系统改造成数据库，并加快搜索性能，最终因为过大的系统占用最终流产。</p><p>Avalon最终进行了阉割，变成了现在UWP必备的WPF，使用<code>xaml</code>可以让写应用就像网页一样方便，而Indigo就是一个基于Web服务的一些功能，其实在<code>Bulid 4074</code>里面已经非常完善了，可是最终流产。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ac73052.webp" alt="zh_MS(doge" /></p><p>于是，进行了三年的开发，Longhorn按理来说就要发布了，然而此时的Longhorn仍然离着能用有大量距离————使用尚不成熟且不适合操作系统底层的<code>.NET</code>重构导致大部分Win32应用几乎无法使用的内核；改成屎山，bug满天飞的DWM，绚丽但又卡顿无比的Aero；吃掉仅仅512MB中大半内存的WinFS，以及一堆未完成的功能、UI；以及动不动就内存溢出的侧边栏。怎么说也不叫一个能用的系统，于是，在大家还在兴致勃勃地写<code>Bulid 4094</code>的2004年8月末，上面一个信件发下来，Longhorn一夜变成了Windows Server 2003 SP1的换标版：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ad9fc93.webp" alt="Build 5000" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12aea59c2.webp" alt="Build 5001" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12af9a537.webp" alt="Build 3790" /></p><p>对于这几个Reseted的泄露版本，很多Windowser们都是存疑的，尤其是<code>Build 3790</code>和<code>Build 5001</code>，fake版本的可能性比较大，但是其实还是有改的。</p><p>5001的背景变成了长脚牛，其实这是存疑的一点。</p><p>5001的用户账户界面是银色的，漫游Windows XP是向导式的。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b07750f.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b17e765.webp" alt="" /></p><p><em>（来源：<a href="https://www.bilibili.com/read/cv11590552">https://www.bilibili.com/read/cv11590552</a>，个人没时间去装，侵删）</em></p><p>重置后的lh随着Beta1发布改名为了Vista。</p><h3 id="pre-reset"><a class="markdownIt-Anchor" href="#pre-reset"></a> Pre-Reset</h3><p>在Reset（重置前），Longhorn的开发都是基于Milestone进行划分的，Milestone 1因为未知原因并没有泄露。</p><p>开发历程：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b23db77.webp" alt="" /></p><p>这是Longhorn开发最混乱的时期，微软想到一点就往里面扔一点，造成了系统臃肿且及其不稳定 <s>（ariaの博客现状）</s> 。</p><p>一个小发现：那个瘆人的fake音效来源于：</p><a class="tag-Link" target="_blank" href="https://www.bilibili.com/video/BV1vZ4y1R7gZ">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.bilibili.com/video/BV1vZ4y1R7gZ.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">【可能是全站首发？】三星的 Windows XP 主题，竟然是 Longhorn 的假音效来源？</div>            <div class="tag-link-sitename">Bilibili</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>3663(M2):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12aa52e1c.webp" alt="" /></p><p>3718(M3):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b4831bf.webp" alt="" /></p><p>4011(M4):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b58e174.webp" alt="" /></p><p>4015(M5):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b671b75.webp" alt="" /></p><p>4033(M6):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b75d506.webp" alt="" /></p><p>4038(M6):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b8910a5.webp" alt="" /></p><p>4074（M7）：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12b98f88d.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12bab2aee.webp" alt="" /></p><p>4093 （M7 Pre-reset）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12bc26ae7.webp" alt="" /></p><h3 id="reset"><a class="markdownIt-Anchor" href="#reset"></a> Reset</h3><p>Reset后的开发路线比较清晰：</p><p>Pre-Beta1——Beta1——Pre-Beta2——Beta2——Pre-releases——Release Candidates——RTM(Release to Manufacturing)</p><p>几张图：</p><p>Build 5048(PB1):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12bd3060c.webp" alt="" /></p><p>Build 5112(B1):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12be70aad.webp" alt="" /></p><p>Build 5270(PB2):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12bf7121d.webp" alt="" /></p><p>Build 5384(B2):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c0cc927.webp" alt="" /></p><p>Build 5712(PRC1):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c1c349d.webp" alt="" /></p><p>Build 6000(RTM):</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c2e70fc.webp" alt="" /></p><h2 id="有多现代"><a class="markdownIt-Anchor" href="#有多现代"></a> 有多现代？</h2><p>虽然大家都觉得这是一个老旧的系统，但是其实从以前，甚至是现在的角度来看，Longhorn的构想确实是外星科技了<s>3.5mm接口:？！</s>。</p><p>先从三大<s>只因石</s>基石看起：</p><h3 id="avalon"><a class="markdownIt-Anchor" href="#avalon"></a> Avalon</h3><p>Avalon的代号即为XAML，最终演变成了WPF，在如今的不少WPF与UWP应用中也能见到影子：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c398327.webp" alt="" /></p><p>当初微软在demo里面就提出了这个重要的Longhorn组成部分，众多媒体都有很多报告。</p><p>在当时，Avalon是革命性的。它将MVVM的开发方式：即模型——视图———视图模型发扬光大，前端的工程师只需要自行研究XAML，而后端的专注写代码，再进行沟通，对前后端进行连接，即为视图模型。这在软件开发尚不成熟的千禧年，无疑对各大程序员发出了挑战。</p><p>除此之外，Avalon还创新性地首次把窗体分配给DirectX的显卡渲染，采用DirectWrite引擎渲染字体，而不是GDI+。并且支持了ClearType。</p><p>xaml的结构成树状，这使得维护应用程序变得非常方便、简单。</p><p>然而Avalon的缺点也很多，比如糟糕的ClearType效果使得字体在10pt一下基本不可读，以及占用性能的问题。还有使用DirectX调用显卡渲染窗口无疑给当时中低端的独显发起了挑战：因为Aero太卡了。</p><p>然而Avalon的理念延续至今，并且问题得到改善，渲染窗体以及不再是Avalon的特色，甚至连GDI窗口也采用GPU渲染，毕竟大家都知道Win7的Aero不装驱动没法开。</p><h3 id="indigo"><a class="markdownIt-Anchor" href="#indigo"></a> Indigo</h3><p>关于Indigo的资料很少，Indigo是Longhorn中基于Web服务的通信Framework的代号，并且接近完成，我们不妨设它对Longhorn的进度没有影响，</p><h3 id="winfs"><a class="markdownIt-Anchor" href="#winfs"></a> WinFS</h3><p>WinFS，可谓是彻头彻尾地失败，根据微软的说法，WinFS是要将Windows的文件系统改为数据库，最终WinFS因为内存泄露、占用资源高而被移除。</p><p>WinFS的初衷是为了提高生产力，重做Windows的文件管理系统，数据库结构无论是在什么时候看来都是先进的，然而在2004年实现，简直就是天方夜谭，而如今的微软却依然没有实现。</p><h3 id="winfxnet重构"><a class="markdownIt-Anchor" href="#winfxnet重构"></a> WinFX（.NET重构）</h3><p>微软尝试将Longhorn基于.NET进行重写，结合XAML进行应用开发，这无疑失败了。</p><p>一个系统的重构代码量是恐怖的，绝非一时半会实现的，况且.NET作为高级语言，编写底层的内核自然不合适。</p><p>比如基于.NET进行重写的资源管理器、侧边栏，就经常有内存溢出的问题：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c477fc2.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c528601.webp" alt="" /></p><h3 id="侧边栏"><a class="markdownIt-Anchor" href="#侧边栏"></a> 侧边栏</h3><p>Longhorn的侧边栏可谓全能，在宣传中就看到了它满屏的生产力，以及实用的功能，<a href="http://xn--1bs309b1hec0r.NET">然而正因.NET</a>，侧边栏这个不稳定的东西直到Win10的时候才得以完善，最终在Vista中变成了一无是处的存放小组件的工具。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c60ce27.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c6e88df.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c79b806.webp" alt="" /></p><h3 id="华丽的特效"><a class="markdownIt-Anchor" href="#华丽的特效"></a> 华丽的特效</h3><p>关于Longhorn的华丽特效，传闻是微软错误地估计了当时的科技发展道路，他们预测几年后计算机将拥有4-6GHz的CPU，2GB以上的内存，大于1TB的硬盘，显卡的性能将是2004年初显卡性能的3倍，另外有线网络速度达到 1GB/s，而无线网络速度则达到54Mbps。</p><p><strong>这**是直接60%的人类感谢MS啊！！！</strong>   你这1T硬盘和1GB/s、6HzCPU是说来玩的？？？？</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c9bffbe.webp" alt="" /></p><p>他们还说：Longhorn在一台256MB内存、1GHz CPU的电脑上就可以运行得很好。</p><p>呃呃呃呃呃呃呃呃。</p><p>于是Longhorn自然而然变得特别华丽（貌似是为了怼掉说微软没品位的乔布斯？！）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12caba5b5.webp" alt="" /></p><p>以至于在Build 4089后组件化也没有解决臃肿的问题，毛病一直延续到了Vista RTM</p><h1 id="关于vista"><a class="markdownIt-Anchor" href="#关于vista"></a> 关于Vista</h1><p>再来讲讲成品的故事。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12c2e70fc.webp" alt="" /></p><p>Vista一经发布就饱受诟病，像是体验一下就降回XP的人不在少数（比如杜老师（，当时很多新设备都随波逐流装上了Vista，然而这些设备运行Vista及其卡顿，于是当年的电脑店最火的业务便是装XP。</p><p>不论是烦人的UAC、恶心的Aero、以及莫名其妙不知所踪的后台系统占用（即内存缓存应用）、糟糕的NT6兼容性，一度使得Vista成为又安全又卡顿又烦人的系统，即便是今天使用虚拟机运行，效果依然不尽人意，比较卡顿，内存占用高。</p><p>有一个段子：</p><p>我的电脑得了病毒，升到Vista之后却非常安全。因为Vista让我的电脑很卡，而且病毒不兼容Vista，就跑不起来了。</p><p>足以说明卡顿和糟糕的兼容。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12cce436f.webp" alt="" /></p><p>Vista的UAC非常恶心，要么彻底关要么天天弹，这意味着你必须在安全但是烦人和危险但是舒服两个方面做选择qwq。</p><p>而且当时的电脑不管能不能用都装Vista导致一堆人反馈电脑卡awa。</p><h2 id="vista真的是花瓶吗"><a class="markdownIt-Anchor" href="#vista真的是花瓶吗"></a> Vista真的是花瓶<em>吗？</em></h2><p>显然不是，Vista重构了NT6内核，使得安全性大幅提高，而且Win7、Win8(.1)、Win10乃至于现在的Win11，都是基于NT6内核（Win10的NT10只是改名字），甚至于几乎没有太大的改动，有些Vista的东西直接摆到了Win11：</p><p>Win1122h2的：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12cdb96e9.webp" alt="" /></p><p>以及一个卡的时候会跑出来的Basic主题：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12cf4b8a0.webp" alt="" /></p><p>Win7对Vista进行了大幅度精简，甚至可以说成是Vista SP3了。</p><p>还有一个重要的一点，只需要安装扩展内核和补丁包以及升级SP2，Vista就可以像7一样好用。</p><h2 id="生而伟大却又生不逢时"><a class="markdownIt-Anchor" href="#生而伟大却又生不逢时"></a> 生而伟大，却又生不逢时</h2><p><s>回收开头</s></p><p>为什么说它生而伟大呢？Vista在一个诺基亚的时代就敢于运用非线性动画、动态壁纸、半透明、圆角等现在依然认可的方式来提高审美，无疑使它成为了最好看的Windows。UAC、DirectWrite、WPF、.NET这些东西无疑对于安全以及开发有着巨大的作用，一直延续到了今天，Longhorn的大胆构想更是直接成为了如今都未实现的前沿科技。</p><p>革命性的文件管理、侧边栏、RibbonUI、小组件等更是大大提高了生产力。</p><p>NT6内核更是延续到了现在，即为NT6.4套壳NT10，Win11仍然是NT6，在system32文件夹中用Resource hacker打开onexui.dll，你可以看到Vista的壁纸，用老软件的时候可以调出Vista的窗口边框，关闭GUI启动是Vista的加载条，控制面板也成为了微软写UWP设置的最大屎山与阻碍。</p><p><s>DEV：我**躺着也中枪</s></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d06d7ee.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d16ee85.webp" alt="" /></p><p>除此之外，NT6的著名的内核隔离机制使得病毒入侵变得更加困难，更加明确了内核和应用程序的界限。</p><p><strong>那么，她又如何生不逢时呢？</strong></p><p>正如上面所说，Vista在当年看来就是无用的花瓶，如动态壁纸、线性动画、Aero，以及各种当年（甚至现在）看来无用的安全机制，使得其饱受诟病。</p><p>最关键的一点是，当年的显卡性能很差，很多电脑还是显示窗口都得逐行刷新的状态，这对于还有这精致的动态壁纸、线性动画、Aero的Vista更是雪上加霜，非常难用，加上UAC的阻隔，使得大家都换回了XP。</p><p>曾经微软做过一个实验：Mojave。</p><p>这个实验做的事情就是给一些当时的顶级电脑装上Vista，改名成Mojave <s>（Apple：？！</s> ，然后给一些人用，结果是大家对这个系统的评价特别高，然后微软又问他们对Vista的评价，结果显然是很低的。最后微软告诉他们其实这个所谓的Mojave系统就是Vista，大家都惊呆了，这跟印象中的Vista完全不同啊！显然，Vista确实超前，但是被性能所限了。</p><p>微软痛定思痛，基于Vista写了Win7。</p><p>在Win7发布的那段时间，恰逢计算机硬件界挤爆牙膏和换机高潮，得益于Win7的优秀优化、精简后，Win7一跃成为火爆的系统，直至今天。</p><p>Win7也算是Vista某种精神上的延续了吧。</p><h1 id="实际安装体验"><a class="markdownIt-Anchor" href="#实际安装体验"></a> 实际安装&amp;体验</h1><p>总算写到这了！</p><p>首先，需要简单说明：在Longhorn 4074后的Build中，为了实现组件化目标，所以不少的功能被阉割了，因此在4074后的版本开启Aero会比较困难。</p><p>所以我们就以最经典的M7的4074版本开始：</p><h2 id="下载配置虚拟机"><a class="markdownIt-Anchor" href="#下载配置虚拟机"></a> 下载&amp;&amp;配置虚拟机</h2><p>首先下载镜像，进入：</p><a class="tag-Link" target="_blank" href="https://winworldpc.com/product/windows-longhorn-vis/pre-reset">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/winworldpc.com/product/windows-longhorn-vis/pre-reset.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Windows Longhorn Pre-Reset</div>            <div class="tag-link-sitename">WinWorldPC</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>下拉找到4074：（不是x64否则无法安装）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d242e51.webp" alt="" /></p><p>然后随便点一个Server下载（很慢，可以用IDM下，实测Server 2更快）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d301401.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d3b63a7.webp" alt="" /></p><p>下载好之后使用VMWare新建一个自定义虚拟机</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d477c2f.webp" alt="" /></p><p>注意版本选6.5-7.x</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d524634.webp" alt="" /></p><p>然后装载4074的镜像：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d5d74c9.webp" alt="" /></p><p>版本选择XP Professional，毕竟是早期Build~~（其实就是太鸽了qwq）~~，更接近XP一些，其余设置保持默认，命名和路径可以修改。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d691c66.webp" alt="" /></p><p>其余默认</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d74ec13.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d814ac5.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d8cc322.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12d99186a.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12da4608d.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12db87a61.webp" alt="" /></p><p>硬盘没必要这么大，可以小点</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12dd27472.webp" alt="" /></p><p>完成，启动虚拟机。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12dde6d66.webp" alt="" /></p><h2 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2><p>稍微有点了解的人会问了：为什么不改BIOS日期？时间炸弹不会炸吗？</p><p>其实Longhorn 4074的时间炸弹有个致命Bug，即如果最初安装时间都不在时间炸弹内，那么时间炸弹就不会运行，所以完全不用担心。</p><p>接下来会进入安装界面，因为是基于WIM的，所以安装比较简单。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12deb2f64.webp" alt="" /></p><p>Continue</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12dfb3062.webp" alt="" /></p><p>这里的产品密钥输入：<code>TCP8W-T8PQJ-WWRRH-QH76C-99FBW</code>，OK</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e09f5fa.webp" alt="" /></p><p>接受许可 <s>（真的有人读许可么qwq</s> ，Continue</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e199bb8.webp" alt="" /></p><p>然后这些设置无法修改，直接默认，Continue</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e275999.webp" alt="" /></p><p>像安装正常的Windows一样分区，Continue：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e3977a5.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e4f2bfc.webp" alt="" /></p><p>然后等待安装即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e6a3fa6.webp" alt="" /></p><p>重启系统：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e7df414.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e8b34a6.webp" alt="" /></p><p>接下来你会进入一个令人崩溃的界面：检查系统，这个界面会卡十几二十分钟，请耐心等待。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12e979ff7.webp" alt="" /></p><p>检测完后进入向导，这些内容可以不管，跳过。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ea3efc1.webp" alt="" /></p><h2 id="装驱动"><a class="markdownIt-Anchor" href="#装驱动"></a> 装驱动</h2><p><em>等等，这就是外星科技的Longhorn？！你逗我玩？</em></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12eb26c64.webp" alt="" /></p><p>其实并不是的，因为我们并没有解锁它的完全体：我们还需要安装驱动和插件。</p><p>首先，你需要安装各种驱动，点击这个链接下载：</p><a class="tag-Link" target="_blank" href="https://xydc.lanzouo.com/iILoF0igx8ef">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/xydc.lanzouo.com/iILoF0igx8ef.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">melcher652.iso </div>            <div class="tag-link-sitename">蓝奏云</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>接下来挂载到光盘里面：</p><p>在VMWare的虚拟机设置——光盘里面挂载（我这边截不了屏qwq）：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ec43da2.webp" alt="" /></p><p>然后<code>Win+R</code>，输入<code>devmgmt.msc</code></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ed0209f.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ee0806f.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12eed2bf1.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12efa23a4.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f05ce97.webp" alt="" /></p><p>遇到警告依然坚决：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f115c06.webp" alt="" /></p><p>Error不管：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f1e5be9.webp" alt="" /></p><p>暂时不重启，然后安装网卡驱动：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f29f526.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f357c5c.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f40c1df.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f4e1165.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f59a54a.webp" alt="" /></p><p>照样子安装声卡驱动（没来得及截图），其实不装也可以的。</p><p>然后重启系统（很慢很慢，没反应就多点几次）：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f656572.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f710f4c.webp" alt="" /></p><h2 id="开aero"><a class="markdownIt-Anchor" href="#开aero"></a> 开Aero</h2><p>Aero必然是重要且惊艳的效果，我们需要这样子打开：</p><p>安装显卡驱动并重新启动，打开 C:\Windows\Resources\Themes，复制 Jade 文件夹和 jade.theme 文件到桌面并重命名为 aero。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f7b32ba.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f8ada18.webp" alt="" /></p><p>打开 aero.theme，将 DisplayName=@themeui.dll,-2013 改为 DisplayName=Aero，并将所有提到 jade 的地方都改为 aero，然后将他们放回 C:\Windows\Resources\Themes。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12f9ba7ce.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12fa71d5a.webp" alt="" /></p><p>打开注册表编辑器，进入 HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer 项，添加 DWORD 键 MilExplorer，并将值改为 1。打开显示属性，将主题改为 Aero。使用下面的命令启用和禁用 DWM。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12fb325ad.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12fc0e192.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12fcce9e5.webp" alt="" /></p><p>启用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%systemdrive%\windows\i386\sbctl.exe start</span><br><span class="line">rundll32 %systemdrive%\windows\system32\uxdesk.dll,DwmStartComposition</span><br><span class="line">%systemdrive%\windows\i386\sbctl.exe stop</span><br><span class="line">tskill explorer</span><br><span class="line">%systemdrive%\windows\i386\sbctl.exe start</span><br></pre></td></tr></table></figure><p>禁用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rundll32 %systemdrive%\windows\system32\uxdesk.dll,DwmStopComposition</span><br><span class="line">%systemdrive%\windows\i386\sbctl.exe stop</span><br><span class="line">tskill explorer</span><br></pre></td></tr></table></figure><p>对于这些启用脚本，我们可以新建一个文本文档文件并改为bat:</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12fd7e8f9.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12fe1fbbf.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ff20d11.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12ffd3c65.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1300d08a4.webp" alt="" /></p><h2 id="装longhorn-tools"><a class="markdownIt-Anchor" href="#装longhorn-tools"></a> 装Longhorn Tools</h2><p>为了解锁其完全体，我们还需要安装Longhorn Tools，点击这个链接下载</p><a class="tag-Link" target="_blank" href="https://xydc.lanzouo.com/iCUCB0igy9qj">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/xydc.lanzouo.com/iCUCB0igy9qj.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Longhorn Tools.iso </div>            <div class="tag-link-sitename">蓝奏云</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>接下来进行安装：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1302604f6.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1303b14ae.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1304ca21d.webp" alt="" /></p><p>然后弹出窗口，主题选Jade：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1305ddd49.webp" alt="" /></p><p>重启系统：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13076317a.webp" alt="" /></p><p>重启系统后你就发现系统大变样了：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca130884cf8.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca130984664.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca130ae236e.webp" alt="" /></p><p>如果你发现Aero效果依然无效，可以尝试多次重启系统，一般就能解决。</p><p>咕咕咕。。。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;（&lt;em&gt;多图警告！！！&lt;/em&gt;）&lt;/p&gt;
&lt;p&gt;此文必然是个大工程，资料收集会比较多，加上学业紧张，所以会鸽很久（看起来写好的部分可能并未尽人意）。&lt;/p&gt;
&lt;p&gt;资料来源:&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;h</summary>
      
    
    
    
    <category term="Windows" scheme="https://blog.yaria.top/categories/Windows/"/>
    
    
    <category term="Windows" scheme="https://blog.yaria.top/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>《闭 关 锁 国》</title>
    <link href="https://blog.yaria.top/posts/4bd8701b/"/>
    <id>https://blog.yaria.top/posts/4bd8701b/</id>
    <published>2022-12-08T02:23:29.000Z</published>
    <updated>2022-12-08T02:23:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近知名的<code>gayhub</code>被墙了，全局DNS&amp;SNI阻断，<code>github.io</code>被列入工信部黑名单</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12026de64.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca120355ec4.webp" alt="" /></p><p>建议使用Steam++进行代理，完美裸连，另外建议大家不要出口狂言，以免得牢狱之灾。</p><p>你说不要用国外的用自己的安全，关键是你这国内也没有好平台啊！！！</p><p>国内…<em>（小心翼翼</em></p><p>经验+3，告辞（雾</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近知名的&lt;code&gt;gayhub&lt;/code&gt;被墙了，全局DNS&amp;amp;SNI阻断，&lt;code&gt;github.io&lt;/code&gt;被列入工信部黑名单&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://bu.dusays.com/2023/01/20/63ca12026de</summary>
      
    
    
    
    <category term="社会" scheme="https://blog.yaria.top/categories/%E7%A4%BE%E4%BC%9A/"/>
    
    
    <category term="社会" scheme="https://blog.yaria.top/tags/%E7%A4%BE%E4%BC%9A/"/>
    
  </entry>
  
  <entry>
    <title>博客魔改日记（3）</title>
    <link href="https://blog.yaria.top/posts/670e47f/"/>
    <id>https://blog.yaria.top/posts/670e47f/</id>
    <published>2022-12-07T12:36:37.000Z</published>
    <updated>2022-12-07T12:36:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>最近在疯狂肝博客，主要方面在优化用户体验上，加功能加的比较少，</p><p>PS：很多js偷懒使用了jquery，请自行引入</p><h1 id="commentbarrage-v30"><a class="markdownIt-Anchor" href="#commentbarrage-v30"></a> CommentBarrage V3.0</h1><p>2023.1.22更新:</p><p>原有对于Cloudbase的方法不可用，请移步：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/8f578896/ V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/8f578896/ V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">基于腾讯云Cloudbase云开发的Twikoo评论弹幕扩展</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p><img src="https://bu.dusays.com/2023/01/20/63ca1319709c3.webp" alt="" /></p><p>最近新写了<code>CommentBarrage</code>，原来的bug比较多，干脆直接改成swiper了，这样用户可以自由切换，灵感来源于<a href="https://blog.eurkon.com">Eurkon</a>，不过并没有去那里扒。</p><p>参考了这个文档：</p><a class="tag-Link" target="_blank" href="https://www.swiper.com.cn/api/index.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.swiper.com.cn/api/index.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">中文api</div>            <div class="tag-link-sitename">Swiper中文网</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>PS:为了兼容<code>butterfly-swiper</code>，swiper使用的是<code>v5.4.5</code>，需要注意版本：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">swiper_css:</span> <span class="string">https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/css/swiper.min.css</span></span><br><span class="line"><span class="attr">swiper_js:</span> <span class="string">https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/js/swiper.min.js</span></span><br></pre></td></tr></table></figure><p>弹幕的配置请参照旧版：</p><a class="tag-Link" target="_blank" href="/posts/69707535/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon//posts/69707535/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly主题的留言弹幕界面增强版（支持Twikoo、Waline、Valine）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p><code>commentBarrage.js</code>参照以下进行修改:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//commentBarrage v3.0 By Ariasaka</span></span><br><span class="line"><span class="comment">//for swiper and both(pjax or nopjax)</span></span><br><span class="line"><span class="comment">//ainb?!!!! qwq</span></span><br><span class="line">/<span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, startbarrage); <span class="comment">//不用pjax请注释掉这一行</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, startbarrage);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">startbarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="built_in">clearInterval</span>(timer);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">delete</span> sw;</span><br><span class="line">&#125;<span class="keyword">catch</span>(err)&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> commentBarrageConfig = &#123;</span><br><span class="line">    <span class="comment">//浅色模式和深色模式颜色，务必保持一致长度，前面是背景颜色，后面是字体，随机选择，默认这个颜色还好</span></span><br><span class="line">    <span class="attr">lightColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-white-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-black)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">darkColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-black-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-white)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//v3仅支持一个弹幕</span></span><br><span class="line">    <span class="comment">//弹幕显示间隔时间，单位ms</span></span><br><span class="line">    <span class="attr">barrageTime</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//twikoo部署地址（Vercel、私有部署），腾讯云的为环境ID</span></span><br><span class="line">    <span class="attr">twikooUrl</span>: <span class="string">&quot;https://tkapi.yaria.top&quot;</span>,</span><br><span class="line">    <span class="comment">//token获取见前文</span></span><br><span class="line">    <span class="attr">accessToken</span>: <span class="string">&quot;&#123;YOUR_TOKEN&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">pageUrl</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>,</span><br><span class="line">    <span class="attr">barrageTimer</span>: [],</span><br><span class="line">    <span class="attr">barrageList</span>: [],</span><br><span class="line">    <span class="attr">barrageIndex</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="comment">// 没有设置过头像时返回的默认头像，见cravatar文档 https://cravatar.cn/developers/api，可以不改以免出错</span></span><br><span class="line">    <span class="attr">noAvatarType</span>: <span class="string">&quot;retro&quot;</span>,</span><br><span class="line">    <span class="attr">dom</span>: <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否默认显示留言弹幕</span></span><br><span class="line">    <span class="attr">displayBarrage</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//头像cdn，默认cravatar</span></span><br><span class="line">    <span class="attr">avatarCDN</span>: <span class="string">&quot;cravatar.cn&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkURL</span>(<span class="params">URL</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> str=<span class="variable constant_">URL</span>;</span><br><span class="line">    <span class="comment">//判断URL地址的正则表达式为:http(s)?://([\w-]+\.)+[\w-]+(/[\w- ./?%&amp;=]*)?</span></span><br><span class="line">    <span class="comment">//下面的代码中应用了转义字符&quot;\&quot;输出一个字符&quot;/&quot;</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Expression</span>=<span class="regexp">/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&amp;=]*)?/</span>;</span><br><span class="line">    <span class="keyword">var</span> objExp=<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="title class_">Expression</span>);</span><br><span class="line">    <span class="keyword">if</span>(objExp.<span class="title function_">test</span>(str)==<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPortOfOne</span> (<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> viewPortHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span> </span><br><span class="line">    <span class="keyword">const</span> offsetTop = el.<span class="property">offsetTop</span></span><br><span class="line">    <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">    <span class="keyword">const</span> top = offsetTop - scrollTop</span><br><span class="line">    <span class="keyword">return</span> top &lt;= viewPortHeight</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(location.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;posts&quot;</span>)!=-<span class="number">1</span>||location.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;posts&quot;</span>)!=-<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">displayBarrage</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">            $(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCommentBarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">        <span class="string">&quot;event&quot;</span>: <span class="string">&quot;COMMENT_GET&quot;</span>,</span><br><span class="line">        <span class="string">&quot;commentBarrageConfig.accessToken&quot;</span>: commentBarrageConfig.<span class="property">accessToken</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: commentBarrageConfig.<span class="property">pageUrl</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    xhr.<span class="property">withCredentials</span> = <span class="literal">true</span>;</span><br><span class="line">    xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;readystatechange&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageList</span> = <span class="title function_">commentLinkFilter</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">responseText</span>).<span class="property">data</span>);</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="keyword">for</span>(commentBarrageConfig.<span class="property">barrageIndex</span>=<span class="number">0</span>;commentBarrageConfig.<span class="property">barrageIndex</span>&lt;commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;commentBarrageConfig.<span class="property">barrageIndex</span>++)&#123;</span><br><span class="line">                <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            kkksc03=<span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&#x27;.barrageswiper&#x27;</span>, &#123;</span><br><span class="line">                <span class="attr">direction</span>: <span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">                <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">mousewheel</span>:<span class="literal">true</span>,</span><br><span class="line">                <span class="attr">autoplay</span>: &#123;</span><br><span class="line">                    <span class="attr">delay</span>: commentBarrageConfig.<span class="property">barrageTime</span>,</span><br><span class="line">                    <span class="attr">stopOnLastSlide</span>: <span class="literal">false</span>,</span><br><span class="line">                    <span class="attr">disableOnInteraction</span>: <span class="literal">false</span>,</span><br><span class="line">                &#125;, </span><br><span class="line">            &#125;)</span><br><span class="line">            kkksc03.<span class="property">el</span>.<span class="property">onmouseover</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                kkksc03.<span class="property">autoplay</span>.<span class="title function_">stop</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            kkksc03.<span class="property">el</span>.<span class="property">onmouseout</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                kkksc03.<span class="property">autoplay</span>.<span class="title function_">start</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, commentBarrageConfig.<span class="property">twikooUrl</span>);</span><br><span class="line">    xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">    xhr.<span class="title function_">send</span>(data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commentLinkFilter</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    data.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="property">created</span> - b.<span class="property">created</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> newData = [];</span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        newData.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> newData;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCommentReplies</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">replies</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> replies = [item];</span><br><span class="line">        item.<span class="property">replies</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">            replies.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> replies;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popCommentBarrage</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> barrage = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> width = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">let</span> height = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientHeight</span>;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> ran = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*commentBarrageConfig.<span class="property">lightColors</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;barragesColor&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`[data-theme=&#x27;light&#x27;] .comment-barrage-item &#123; background-color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">1</span>]&#125;</span>&#125;[data-theme=&#x27;dark&#x27;] .comment-barrage-item&#123; background-color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">1</span>]&#125;</span>&#125;`</span>;</span><br><span class="line">    <span class="keyword">if</span>(data.<span class="property">avatar</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.<span class="property">link</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="title function_">checkURL</span>(data.<span class="property">link</span>))&#123;</span><br><span class="line">                data.<span class="property">link</span>=<span class="string">&quot;http://&quot;</span>+data.<span class="property">link</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;<span class="subst">$&#123;data.avatar&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;<span class="subst">$&#123;data.link&#125;</span>&quot; class=&quot;barrageNick&quot; target=&quot;_blank&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;<span class="subst">$&#123;data.avatar&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.<span class="property">link</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="title function_">checkURL</span>(data.<span class="property">link</span>))&#123;</span><br><span class="line">                data.<span class="property">link</span>=<span class="string">&quot;http://&quot;</span>+data.<span class="property">link</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;<span class="subst">$&#123;data.link&#125;</span>&quot; class=&quot;barrageNick&quot; target=&quot;_blank&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    barrageContent=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">    barrageContent.<span class="property">className</span>=<span class="string">&quot;barrageContent&quot;</span>;</span><br><span class="line">    barrageContent.<span class="property">href</span>=<span class="string">&quot;#&quot;</span>+data.<span class="property">id</span>;</span><br><span class="line">    barrageContent.<span class="property">innerHTML</span>=data.<span class="property">comment</span>;</span><br><span class="line">    barrage.<span class="title function_">appendChild</span>(barrageContent);</span><br><span class="line">    aswiper = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    aswiper.<span class="property">className</span>=<span class="string">&quot;swiper-slide&quot;</span>;</span><br><span class="line">    aswiper.<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;height: 150px;&quot;</span>);</span><br><span class="line">    aswiper.<span class="title function_">append</span>(barrage);</span><br><span class="line">    commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">append</span>(aswiper);</span><br><span class="line">&#125;</span><br><span class="line">switchCommentBarrage = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="title class_">Number</span>(!<span class="title class_">Number</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>))))</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">    commentBarrageConfig.<span class="property">displayBarrage</span>=!(commentBarrageConfig.<span class="property">displayBarrage</span>);</span><br><span class="line">    <span class="keyword">let</span> commentBarrage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (commentBarrage) &#123;</span><br><span class="line">        $(commentBarrage).<span class="title function_">fadeToggle</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    <span class="title function_">switchCommentBarrage</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">initCommentBarrage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>commentBarrage.css</code>:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* .comment-barrage &#123;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    display: flex;</span></span><br><span class="line"><span class="comment">    flex-direction: column;</span></span><br><span class="line"><span class="comment">    justify-content: end;</span></span><br><span class="line"><span class="comment">    align-items: flex-end;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"><span class="selector-class">.barrageswiper</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">55px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.comment-barrage</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment-barrage</span> <span class="selector-class">.swiper-slide</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">140px</span>;</span><br><span class="line">    <span class="attribute">height</span>: min-content;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.9</span>);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--heo-shadow-border);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span><span class="selector-class">.out</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* @keyframes barrageIn &#123;</span></span><br><span class="line"><span class="comment">    0% &#123;</span></span><br><span class="line"><span class="comment">        transform: translateY(20%);</span></span><br><span class="line"><span class="comment">        -webkit-transform: translateY(20%);</span></span><br><span class="line"><span class="comment">        -moz-transform: translateY(20%);</span></span><br><span class="line"><span class="comment">        -ms-transform: translateY(20%);</span></span><br><span class="line"><span class="comment">        -o-transform: translateY(20%);</span></span><br><span class="line"><span class="comment">        opacity: 0;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">    100% &#123;</span></span><br><span class="line"><span class="comment">        transform: translateY(0%);</span></span><br><span class="line"><span class="comment">        -webkit-transform: translateY(0%);</span></span><br><span class="line"><span class="comment">        -moz-transform: translateY(0%);</span></span><br><span class="line"><span class="comment">        -ms-transform: translateY(0%);</span></span><br><span class="line"><span class="comment">        -o-transform: translateY(0%);</span></span><br><span class="line"><span class="comment">        opacity: 1;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125; */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageHead</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageAvatar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">30px</span>);</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span>::-webkit-scrollbar-button &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.barrageContent</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.barrageContent</span><span class="selector-pseudo">:hover</span>),<span class="selector-class">.barrageNick</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.barrageNick</span><span class="selector-pseudo">:hover</span>)&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--global-font-color)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.barrageswiper</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-tag">p</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.2</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="bbtalklunboer"><a class="markdownIt-Anchor" href="#bbtalklunboer"></a> bbtalkLunboer</h1><p><img src="https://bu.dusays.com/2023/01/20/63ca131a84ea6.webp" alt="" /></p><p>bbTalk已经停止维护且无官方的轮播插件，但是因为方便我还是在用，轮播我自己写了一个，之前的版本因为过于屎山与毒瘤并没有放出来，这次进行了pjax&amp;swiper重构。</p><p>支持日期展示、自动链接替换(22.12.9 upd)，目前依然有部分bug：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca131b94254.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca131ca18a2.webp" alt="" /></p><p>ps：因为部分内容过于远古，甚至是刚搞博客就有的，所以可能会有诸多bug，窝不负责 awa</p><p>22.12.16 upd:修复部分bug，更改显隐逻辑</p><p>跟上面同理，基于swiper<code>5.4.5</code>。</p><p>请先自行引入<code>leancloud-av</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://gcore.jsdelivr.net/npm/leancloud-storage@4.13.4/dist/av-min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>bbtalklunbo.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//bbtalkLunboer v2.0 By Ariasaka</span></span><br><span class="line"><span class="variable constant_">AV</span>.<span class="title function_">init</span>(&#123;</span><br><span class="line">    <span class="attr">appId</span>: <span class="string">&quot;&#123;YOUR_APPID&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">appKey</span>: <span class="string">&quot;&#123;YOUR_APPKEY&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">serverURL</span>: <span class="string">&quot;&#123;YOUR_URL&#125;&quot;</span>, <span class="comment">//改成自己的，在设置-&gt;域名绑定</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">lunbo</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> speaks=[];</span><br><span class="line"><span class="keyword">const</span> query = <span class="keyword">new</span> <span class="variable constant_">AV</span>.<span class="title class_">Query</span>(<span class="string">&#x27;content&#x27;</span>);</span><br><span class="line"><span class="title class_">Date</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">Format</span> = <span class="keyword">function</span> (<span class="params">fmt</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> o = &#123;</span><br><span class="line">    <span class="string">&quot;M+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMonth</span>() + <span class="number">1</span>, <span class="comment">//月份</span></span><br><span class="line">    <span class="string">&quot;d+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getDate</span>(), <span class="comment">//日</span></span><br><span class="line">    <span class="string">&quot;H+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getHours</span>(), <span class="comment">//小时</span></span><br><span class="line">    <span class="string">&quot;m+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMinutes</span>(), <span class="comment">//分</span></span><br><span class="line">    <span class="string">&quot;s+&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getSeconds</span>(), <span class="comment">//秒</span></span><br><span class="line">    <span class="string">&quot;q+&quot;</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>((<span class="variable language_">this</span>.<span class="title function_">getMonth</span>() + <span class="number">3</span>) / <span class="number">3</span>), <span class="comment">//季度</span></span><br><span class="line">    <span class="string">&quot;S&quot;</span>: <span class="variable language_">this</span>.<span class="title function_">getMilliseconds</span>() <span class="comment">//毫秒</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.<span class="title function_">test</span>(fmt)) fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="variable language_">this</span>.<span class="title function_">getFullYear</span>() + <span class="string">&quot;&quot;</span>).<span class="title function_">substr</span>(<span class="number">4</span> - <span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o)</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(&quot;</span> + k + <span class="string">&quot;)&quot;</span>).<span class="title function_">test</span>(fmt)) fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (<span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span> == <span class="number">1</span>) ? (o[k]) : ((<span class="string">&quot;00&quot;</span> + o[k]).<span class="title function_">substr</span>((<span class="string">&quot;&quot;</span> + o[k]).<span class="property">length</span>)));</span><br><span class="line">    <span class="keyword">return</span> fmt;</span><br><span class="line">    &#125;</span><br><span class="line">query.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">talks</span>) =&gt;</span> &#123;</span><br><span class="line">    dat=<span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line">    <span class="keyword">for</span>(i=talks.<span class="property">length</span>;i&gt;=talks.<span class="property">length</span>-<span class="number">31</span>;i--)&#123;</span><br><span class="line">        <span class="keyword">var</span> usedTime = <span class="title class_">Date</span>.<span class="title function_">parse</span>(dat) - <span class="title class_">Date</span>.<span class="title function_">parse</span>(talks[i][<span class="string">&quot;createdAt&quot;</span>]);</span><br><span class="line">        <span class="keyword">var</span> days = <span class="title class_">Math</span>.<span class="title function_">floor</span>(usedTime / (<span class="number">24</span> * <span class="number">3600</span> * <span class="number">1000</span>));</span><br><span class="line">        <span class="keyword">var</span> leave1 = usedTime % (<span class="number">24</span> * <span class="number">3600</span> * <span class="number">1000</span>);  </span><br><span class="line">        <span class="keyword">var</span> hours = <span class="title class_">Math</span>.<span class="title function_">floor</span>(leave1 / (<span class="number">3600</span> * <span class="number">1000</span>));</span><br><span class="line">        <span class="keyword">var</span> leave2 = leave1 % (<span class="number">3600</span> * <span class="number">1000</span>);     </span><br><span class="line">        <span class="keyword">var</span> minutes = <span class="title class_">Math</span>.<span class="title function_">floor</span>(leave2 / (<span class="number">60</span> * <span class="number">1000</span>));</span><br><span class="line">        <span class="keyword">var</span> bbcontent=talks[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;content&quot;</span>].<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">&quot;&quot;</span>).<span class="title function_">replace</span>(<span class="regexp">/&lt;[^&gt;]+&gt;/g</span>, <span class="string">&quot;&quot;</span>).<span class="title function_">replace</span>(<span class="regexp">/(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&amp;&#x27;\*\+,;=.]+\.(png|jpg|jpeg|webp)/g</span>,<span class="string">&quot;[图片]&quot;</span>).<span class="title function_">replace</span>(<span class="regexp">/(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&amp;&#x27;\*\+,;=.]+/g</span>,<span class="string">&quot;[链接]&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(days&gt;<span class="number">31</span>)&#123;</span><br><span class="line">            speaks.<span class="title function_">push</span>(<span class="title class_">String</span>(talks[i][<span class="string">&quot;createdAt&quot;</span>].<span class="title class_">Format</span>(<span class="string">&quot;yyyy-MM-dd&quot;</span>))+<span class="string">&quot;：&quot;</span>+bbcontent)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(days&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            speaks.<span class="title function_">push</span>(<span class="title class_">String</span>(days)+<span class="string">&quot; 天前：&quot;</span>+bbcontent);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(hours&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            speaks.<span class="title function_">push</span>(<span class="title class_">String</span>(hours)+<span class="string">&quot; 小时前：&quot;</span>+bbcontent);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            speaks.<span class="title function_">push</span>(<span class="title class_">String</span>(minutes)+<span class="string">&quot; 分钟前：&quot;</span>+bbcontent);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.shuoshuo&quot;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;speaks.<span class="property">length</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> ch=<span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">        ch.<span class="property">className</span>=<span class="string">&quot;swiper-slide bbtalks&quot;</span>;</span><br><span class="line">        ch.<span class="property">innerHTML</span>=speaks[i];</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.shuoshuo&quot;</span>).<span class="title function_">appendChild</span>(ch)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> fxxkccf = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;#speaks-content&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">direction</span>: <span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">        <span class="attr">autoplay</span>: &#123;</span><br><span class="line">            <span class="attr">delay</span>: <span class="number">5000</span>,</span><br><span class="line">            <span class="attr">disableOnInteraction</span>: <span class="literal">false</span>, <span class="comment">//暴戻语言 禁赛三年行为[doge]</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">mousewheel</span>:<span class="literal">true</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">    fxxkccf.<span class="property">el</span>.<span class="property">onmouseover</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        fxxkccf.<span class="property">autoplay</span>.<span class="title function_">stop</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    fxxkccf.<span class="property">el</span>.<span class="property">onmouseout</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        fxxkccf.<span class="property">autoplay</span>.<span class="title function_">start</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line"><span class="title function_">lunbo</span>();</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="title function_">lunbo</span>();</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pug更改：</p><p>在一个合适的地方（因为我自己的比较特殊，建议在<code>[blogRoot]\themes\acryple\layout\includes\mixins\post-ui.pug</code>的第二行插入这句（注意缩进），编写：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include speaks.pug</span><br></pre></td></tr></table></figure><p>同级目录新建speaks.pug：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a(<span class="built_in">id</span>=<span class="string">&quot;speaks&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;recent-post-item swiper-container&quot;</span> style=<span class="string">&quot;width:100%;height:auto;padding:10px;display:flex;&quot;</span> href=<span class="string">&quot;/speaks/&quot;</span>)         </span><br><span class="line">    i(<span class="keyword">class</span>=<span class="string">&quot;fas fa-comment-alt&quot;</span> style=<span class="string">&quot;margin-top:10px&quot;</span>)</span><br><span class="line">    <span class="comment">#speaks-content</span></span><br><span class="line">        .shuoshuo.swiper-wrapper 博主说说</span><br><span class="line">    i(<span class="keyword">class</span>=<span class="string">&quot;fa fa-arrow-right&quot;</span> style=<span class="string">&quot;margin-top:10px&quot;</span>)</span><br></pre></td></tr></table></figure><p>然后添加css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;light&#x27;</span>]</span> <span class="selector-id">#speaks</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-black);</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--lyx-border);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    -webkit-backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-white-acrylic1)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-id">#speaks</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-white);</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--lyx-border);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    -webkit-backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-black-acrylic2)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>:<span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#speaks</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="built_in">var</span>(--lyx-theme)<span class="meta">!important</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#speaks</span> <span class="selector-tag">i</span>&#123;</span><br><span class="line">    <span class="attribute">margin-right</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#speaks</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">56px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shuoshuo</span>&#123;</span><br><span class="line">    <span class="attribute">flex</span>:<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shuoshuo</span>&#123;</span><br><span class="line">    <span class="attribute">transition-property</span>: background-color,color,padding,font-size,border;</span><br><span class="line">    <span class="attribute">transition-duration</span>: <span class="number">200ms</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shuoshuo</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-theme); <span class="comment">/*换成自己的颜色*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shuoshuo</span>&#123;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-id">#speaks-content</span>&#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="适配pjax"><a class="markdownIt-Anchor" href="#适配pjax"></a> 适配pjax</h1><p>真的真的是大工程！！！</p><p>参考：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/30bce1d1/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/30bce1d1/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">适配指北：我是怎么适配PJAX的</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://blog.zhheo.com/p/3e567fa7.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.zhheo.com/p/3e567fa7.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">pjax无法生效解决办法，butterfly主题维护你的pjax</div>            <div class="tag-link-sitename">Heo</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://butterfly.js.org/posts/ceeb73f/#Pjax">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/butterfly.js.org/posts/ceeb73f/#Pjax.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly 安裝文檔(四) 主題配置-2</div>            <div class="tag-link-sitename">Butterfly</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="ariasaka-console-v01"><a class="markdownIt-Anchor" href="#ariasaka-console-v01"></a> Ariasaka Console v0.1</h1><p><img src="https://bu.dusays.com/2023/01/20/63ca131dc145e.webp" alt="" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca131ecde9f.webp" alt="" /></p><p>重构的博客设置，性能和ui美观度均有提高（目前仍有部分bug欢迎反馈）</p><p>注意与Leonus的切换背景有冲突。</p><p>新版博客设置进行了分区改造，把rightside全部转移到此，优化样式，性能优化，以及进行了前后端分离。</p><p>请先阅读这篇<a href="https://blog.yaria.top/posts/ac792cf4/#%E5%8D%9A%E5%AE%A2%E8%AE%BE%E7%BD%AE">之前的文章</a>来参考修改</p><p>功能：</p><ol><li>自动主题切换</li><li>左右栏切换</li><li>把aside迁移了过来，请根据自己需求调整，并且隐藏默认aside</li><li>切换背景，参考<a href="https://blog.leonus.cn/2022/bg2.html">Leonus</a></li><li>切换字体，其实这个很费流量和速度</li><li>切换主题，根据自己站的需求来加，可以删了</li><li>其它的个性化设置（落樱特效参考下面）</li><li>网站统计</li></ol><p>(其中自动主题色和固定导航栏没写好)</p><p>新建<code>[blogRoot]/themes\acryple\layout\includes\setting.pug</code>：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br></pre></td><td class="code"><pre><span class="line">html</span><br><span class="line">body</span><br><span class="line">    <span class="comment">#settingWindow.js-pjax</span></span><br><span class="line">        span.setting-title </span><br><span class="line">            span<span class="comment">#stt 控制面板</span></span><br><span class="line">            a(<span class="built_in">id</span>=<span class="string">&quot;close-console&quot;</span> onclick=<span class="string">&quot;toggleWinbox();&quot;</span>) ×</span><br><span class="line">        button<span class="comment">#backer(onclick=&#x27;$(\&#x27;.asetting\&#x27;).hide();$(\&#x27;.settingx\&#x27;).show();$(\&#x27;#backer\&#x27;).hide()&#x27;)</span></span><br><span class="line">            i.fa.fa-chevron-left</span><br><span class="line">            span 返回</span><br><span class="line">        .settings</span><br><span class="line">            <span class="comment">#setting-buttons</span></span><br><span class="line">                button.settingx(onclick=<span class="string">&#x27;$(\&#x27;#theme-settings\&#x27;).show();$(\&#x27;.settingx\&#x27;).hide();$(\&#x27;#backer\&#x27;).show();&#x27;</span>)</span><br><span class="line">                    i.fas.fa-layer-group</span><br><span class="line">                    span 外观</span><br><span class="line">                button.settingx(onclick=<span class="string">&#x27;$(\&#x27;#font-settings\&#x27;).show();$(\&#x27;.settingx\&#x27;).hide();$(\&#x27;#backer\&#x27;).show();&#x27;</span>)</span><br><span class="line">                    i.fa.fa-font</span><br><span class="line">                    span 字体</span><br><span class="line">                button.settingx(onclick=<span class="string">&#x27;$(\&#x27;#background-settings\&#x27;).show();$(\&#x27;.settingx\&#x27;).hide();$(\&#x27;#backer\&#x27;).show();&#x27;</span>)</span><br><span class="line">                    i.far.fa-image</span><br><span class="line">                    span 背景</span><br><span class="line">                button.settingx(onclick=<span class="string">&#x27;$(\&#x27;#con-echarts\&#x27;).show();$(\&#x27;.settingx\&#x27;).hide();$(\&#x27;#backer\&#x27;).show();var evt = document.createEvent(&quot;HTMLEvents&quot;);evt.initEvent(&quot;resize&quot;, false, false);window.dispatchEvent(evt);&#x27;</span>)</span><br><span class="line">                    i.fas.fa-chart-pie</span><br><span class="line">                    span 统计</span><br><span class="line">                button.settingx(onclick=<span class="string">&#x27;$(\&#x27;#con-abouts\&#x27;).show();$(\&#x27;.settingx\&#x27;).hide();$(\&#x27;#backer\&#x27;).show();&#x27;</span>)</span><br><span class="line">                    i.fa.fa-cloud-download</span><br><span class="line">                    span 关于</span><br><span class="line">            <span class="comment">#setting-hides</span></span><br><span class="line">                <span class="comment">#theme-settings.asetting</span></span><br><span class="line">                    h2.content-head 性能设置</span><br><span class="line">                    p</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#blur(type=&#x27;checkbox&#x27;, onclick=&#x27;setBlur()&#x27;)</span></span><br><span class="line">                            .content-text 禁用模糊效果</span><br><span class="line">                        //- .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                        //-     <span class="built_in">input</span><span class="comment">#yjjs(type=&#x27;checkbox&#x27;, onclick=&#x27;yjjs1()&#x27;)</span></span><br><span class="line">                        //-     .content-text 硬件加速</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#fpson(type=&#x27;checkbox&#x27;, onclick=&#x27;fpssw()&#x27; style=&quot;flex-shrink: 0&quot;)</span></span><br><span class="line">                            .content-text</span><br><span class="line">                                span 开启帧率检测（</span><br><span class="line">                                a(href=<span class="string">&#x27;javascript:window.location.reload()&#x27;</span>) 刷新</span><br><span class="line">                                span 后生效）</span><br><span class="line">                    p</span><br><span class="line">                        h2.content-head 主题设置</span><br><span class="line">                        //- .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                        //-     <span class="built_in">input</span><span class="comment">#hideAside(type=&#x27;checkbox&#x27;, onclick=&#x27;toggleRightside()&#x27;)</span></span><br><span class="line">                        //-     .content-text 隐藏侧边栏</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#hideAplayer(type=&#x27;checkbox&#x27;, onclick=&#x27;toggleAplayer()&#x27;)</span></span><br><span class="line">                            .content-text 显示aplayer</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#hideSakura(type=&#x27;checkbox&#x27;, onclick=&#x27;toggleSakuras()&#x27;)</span></span><br><span class="line">                            .content-text 落樱特效</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#autoTheme(type=&#x27;checkbox&#x27;, onclick=&#x27;toggleAutoTheme()&#x27;)</span></span><br><span class="line">                            .content-text 明暗模式自动切换</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#autoColor(type=&#x27;checkbox&#x27;, onclick=&#x27;autoColor()&#x27;)</span></span><br><span class="line">                            .content-text 自动主题色（跟随文章封面）</span><br><span class="line">                        | 未完工</span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#hideAplayer(type=&#x27;checkbox&#x27;, onclick=&#x27;toggleNav()&#x27;)</span></span><br><span class="line">                            .content-text 固定导航栏</span><br><span class="line">                        | <span class="comment">###</span></span><br><span class="line">                        .content(style=<span class="string">&#x27;display:flex&#x27;</span>)</span><br><span class="line">                            button.content-button(onclick=<span class="string">&#x27;switchTheme()&#x27;</span>) 切换主题</span><br><span class="line">                          </span><br><span class="line">                    p</span><br><span class="line">                        h3.content-head 主题色</span><br><span class="line">                        <span class="comment">#themeColorSettings.content(style=&#x27;display:flex&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#red(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;red\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#orange(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;orange\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#yellow(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;yellow\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#green(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;green\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#blue(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;blue\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#heoblue(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;heoblue\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#darkblue(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;darkblue\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#purple(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;purple\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#pink(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;pink\&#x27;)&#x27;, checked)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#black(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;black\&#x27;)&#x27;)</span></span><br><span class="line">                            <span class="built_in">input</span><span class="comment">#blackgray(type=&#x27;radio&#x27;, name=&#x27;colors&#x27;, onclick=&#x27;setColor(\&#x27;blackgray\&#x27;)&#x27;)</span></span><br><span class="line">                <span class="comment">#font-settings.asetting</span></span><br><span class="line">                    h2.content-head 字体设置</span><br><span class="line">                    p<span class="comment">#swfs</span></span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;HYTMR\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;HYTMR\&#x27;)&#x27;</span>) 汉仪唐美人</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;HYPailou\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;HYPailou\&#x27;)&#x27;</span>) 汉仪新蒂牌楼</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;FZXJLJ\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;FZXJLJ\&#x27;)&#x27;</span>) 方正金陵体</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;FZXS\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;FZXS\&#x27;)&#x27;</span>) 方正像素体</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;ZhuZiAWan\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;ZhuZiAWan\&#x27;)&#x27;</span>) 筑紫A丸ゴシック</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;FZODZK\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;FZODZK\&#x27;)&#x27;</span>) 方正欧蝶正楷</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;Source Serif\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;Source Serif\&#x27;)&#x27;</span>) 思源宋体</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:\&#x27;Source Sans\&#x27;!important;color:black&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;Source Sans\&#x27;)&#x27;</span>) 思源黑体</span><br><span class="line">                        br</span><br><span class="line">                        a.swf(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;font-family:-apple-system, IBM Plex Mono ,monosapce,\&#x27;微软雅黑\&#x27;, sans-serif;&#x27;</span>, onclick=<span class="string">&#x27;setFont(\&#x27;main\&#x27;)&#x27;</span>) 系统默认</span><br><span class="line">                        br</span><br><span class="line">                <span class="comment">#background-settings.asetting</span></span><br><span class="line">                    h2(style=<span class="string">&#x27;margin-left:10px&#x27;</span>) 背景设置</span><br><span class="line">                    div</span><br><span class="line">                    span 注意:切换背景功能仅在Acrylic主题中生效，在Simple主题中无效</span><br><span class="line">                    button.content-button(onclick=<span class="string">&#x27;localStorage.removeItem(\&#x27;blogbg\&#x27;);location.reload();&#x27;</span>)</span><br><span class="line">                        i.fa-solid.fa-arrows-rotate</span><br><span class="line">                        span  点我恢复默认背景</span><br><span class="line">                    button.content-button(onclick=<span class="string">&#x27;switchTheme()&#x27;</span>) 切换主题</span><br><span class="line">                    h3 图片（手机）</span><br><span class="line">                    .bgbox</span><br><span class="line">                        a.pimgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d4d539a5.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d4d539a5.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.pimgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d4e15c9d.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d4e15c9d.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.pimgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6f22c03c6.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6f22c03c6.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.pimgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d56c83eb.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d56c83eb.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.pimgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d50b439b.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d50b439b.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                    h3 图片（电脑）</span><br><span class="line">                    .bgbox</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d5574d0e.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d5574d0e.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d529adf9.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d529adf9.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d6d5159b31.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d6d5159b31.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d718bbeef6.webp)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d718bbeef6.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d72f237d19.jpg)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d72f237d19.jpg)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d72f2032c8.jpg)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d72f2032c8.jpg)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2021/12/01/7792ff0082ec4.jpg)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2021/12/01/7792ff0082ec4.jpg)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d72ee6d4f3.png)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d72ee6d4f3.png)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background-image:url(https://bu.dusays.com/2022/08/30/630d72ed76532.jpg)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/08/30/630d72ed76532.jpg)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/09/17/6324aea549be6.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://bu.dusays.com/2022/09/17/6324aea549be6.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/09/17/6324aec701a68.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://bu.dusays.com/2022/09/17/6324aec701a68.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/09/17/6324aef4a5543.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://bu.dusays.com/2022/09/17/6324aef4a5543.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/09/17/6324af3622884.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://bu.dusays.com/2022/09/17/6324af3622884.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/5.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/5.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/6.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/6.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/7.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/7.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://bu.dusays.com/2022/12/08/6391b77ed767c.png)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://bu.dusays.com/2022/12/08/6391b77ed767c.png&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/9.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/9.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/10.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/10.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/11.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/11.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/12.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/12.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/13.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/13.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/14.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/14.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/15.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/15.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/16.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/16.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/17.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/17.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/18.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/18.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/19.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/19.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/20.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/20.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/21.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/21.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/22.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/22.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/23.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/23.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/24.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/24.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/25.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/25.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/26.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/26.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/27.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/27.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/28.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/28.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/29.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/29.webp&#x27;</span>)</span><br><span class="line">                        a.imgbox(href=<span class="string">&#x27;javascript:;&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/30.webp)\&#x27;)&#x27;</span>)</span><br><span class="line">                            img(src=<span class="string">&#x27;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/30.webp&#x27;</span>)</span><br><span class="line">                    h3 渐变色</span><br><span class="line">                    .bgbox</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #eecda3, #ef629f)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #eecda3, #ef629f)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #B7D31E, #42CE1E)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #B7D31E, #42CE1E)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #06DE86, #06A5DE)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #06DE86, #06A5DE)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #189BC4, #183DC4)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #189BC4, #183DC4)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #C018C4, #C41818)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #C018C4, #C41818)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #8B00BB, #030094)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #8B00BB, #030094)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(to right, #eecda3, #ef629f)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(to right, #eecda3, #ef629f)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(90deg, #ffd7e4 0%, #c8f1ff 100%)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(90deg, #ffd7e4 0%, #c8f1ff 100%)\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: linear-gradient(45deg, #e5737b, #c6999e, #96b9c2, #00d6e8)&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;linear-gradient(45deg, #e5737b, #c6999e, #96b9c2, #00d6e8)\&#x27;)&#x27;</span>)</span><br><span class="line">                    h3 纯色</span><br><span class="line">                    .bgbox</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #7D9D9C&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#7D9D9C\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #fff&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#fff\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #49A6E9&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#49A6E9\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #F7CEFF&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#F7CEFF\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #FFFFCE&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#FFFFCE\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #CFFFCE&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#CFFFCE\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #17EFE9&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#17EFE9\&#x27;)&#x27;</span>)</span><br><span class="line">                        a.box(href=<span class="string">&#x27;javascript:;&#x27;</span>, rel=<span class="string">&#x27;noopener external nofollow&#x27;</span>, style=<span class="string">&#x27;background: #9F17EF&#x27;</span>, onclick=<span class="string">&#x27;changeBg(\&#x27;#9F17EF\&#x27;)&#x27;</span>)</span><br><span class="line">                <span class="comment">#con-echarts.asetting</span></span><br><span class="line">                    h1 文章统计</span><br><span class="line">                    h2 监控</span><br><span class="line">                    iframe(src=<span class="string">&quot;https://status.yaria.top&quot;</span> width=<span class="string">&quot;100%&quot;</span> height=<span class="string">&quot;500px&quot;</span> frameborder=<span class="string">&quot;no&quot;</span>)</span><br><span class="line">                    <span class="keyword">if</span> !is_page()</span><br><span class="line">                        h2 文章统计</span><br><span class="line">                        script(src=<span class="string">&quot;https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js&quot;</span>)</span><br><span class="line">                        div(<span class="built_in">id</span>=<span class="string">&quot;posts-chart&quot;</span> data-start=<span class="string">&quot;2021-01&quot;</span> style=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>)</span><br><span class="line">                        div(<span class="built_in">id</span>=<span class="string">&quot;tags-chart&quot;</span> data-length=<span class="string">&quot;10&quot;</span> style=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>)</span><br><span class="line">                        div(<span class="built_in">id</span>=<span class="string">&quot;categories-chart&quot;</span> data-parent=<span class="string">&quot;true&quot;</span> style=<span class="string">&quot;border-radius: 8px; height: 300px; padding: 10px;&quot;</span>)</span><br><span class="line">                    h2 访问统计</span><br><span class="line">                        | 显示不出来请刷新页面</span><br><span class="line">                        //-下面换成自己的51la统计</span><br><span class="line">                </span><br><span class="line">                <span class="comment">#con-abouts.asetting</span></span><br><span class="line">                    h1 关于</span><br><span class="line">                    | Hexo-theme-Acryple v1<span class="number">.1</span><span class="number">.4</span></span><br><span class="line">                    br</span><br><span class="line">                    | Ariasaka Console v1<span class="number">.0</span></span><br><span class="line">                    br</span><br><span class="line">                    | 欢迎</span><br><span class="line">                    a(href=<span class="string">&quot;/messageboard&quot;</span>)</span><br><span class="line">                        | 反馈！</span><br><span class="line">        <span class="comment">#setting-sidesl</span></span><br><span class="line">            button(title=<span class="string">&quot;恢复默认设置&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;reSettings con-rightside&quot;</span>)</span><br><span class="line">                i.fa.fa-repeat</span><br><span class="line">            <span class="comment">#setting-sides</span></span><br><span class="line">                button(title=<span class="string">&quot;繁简转换&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-translate&quot;</span>  onclick=<span class="string">&quot;javascript:rmf.translate();&quot;</span>)</span><br><span class="line">                    i.iconfont.icon-fanti</span><br><span class="line">                button(title=<span class="string">&quot;昼夜切换&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-mode&quot;</span> onclick=<span class="string">&quot;switchDarkMode();&quot;</span>)</span><br><span class="line">                    i.fa.fa-adjust</span><br><span class="line">                <span class="keyword">if</span> is_post()||is_page()</span><br><span class="line">                    button(title=<span class="string">&quot;阅读模式&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-reading&quot;</span> onclick=<span class="string">&quot;rmf.switchReadMode();&quot;</span>)</span><br><span class="line">                        i.fa.fa-book-<span class="built_in">open</span></span><br><span class="line">                <span class="keyword">if</span> !is_page()</span><br><span class="line">                    button(title=<span class="string">&quot;单双栏切换&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-toggleaside&quot;</span> onclick=<span class="string">&quot;toggleAside();&quot;</span>)</span><br><span class="line">                        i.fas.fa-arrows-alt-h</span><br><span class="line">                <span class="keyword">if</span> !is_page()</span><br><span class="line">                    button(title=<span class="string">&quot;左右栏切换&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-toggleleftaside&quot;</span> onclick=<span class="string">&quot;switchAside();&quot;</span>)</span><br><span class="line">                        i.fas.fa-binoculars</span><br><span class="line">                <span class="keyword">if</span> is_post()||is_page()</span><br><span class="line">                    button(title=<span class="string">&quot;开关弹幕&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-barrage&quot;</span> onclick=<span class="string">&quot;switchCommentBarrage();&quot;</span>)</span><br><span class="line">                        i.iconfont.icon-danmu</span><br><span class="line">                button(title=<span class="string">&quot;全屏&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;con-rightside&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;con-fullscreen&quot;</span> onclick=<span class="string">&quot;fullScreen();&quot;</span>)</span><br><span class="line">                    i.fas.fa-expand</span><br><span class="line">            </span><br></pre></td></tr></table></figure><p>js部分：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, tosetting);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, tosetting);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tosetting</span>(<span class="params"></span>)&#123;</span><br><span class="line">$(<span class="string">&quot;#settingWindow&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;blur&quot;</span>)==<span class="string">&quot;false&quot;</span>)&#123;</span><br><span class="line">    blur=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        blur=<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;yjjs&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">        yjjs=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        yjjs=<span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;fpson&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">if</span>(!blur)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">`</span></span><br><span class="line"><span class="string">    *,*:not(.card-info)::before,*::after&#123;</span></span><br><span class="line"><span class="string">        -webkit-backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        -webkit-filter: none!important;</span></span><br><span class="line"><span class="string">        filter: none!important;</span></span><br><span class="line"><span class="string">    &#125;`</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">setBlur=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    blur=!blur;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;blur&quot;</span>,blur);</span><br><span class="line">    <span class="keyword">if</span>(!blur)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">`</span></span><br><span class="line"><span class="string">    *&#123;</span></span><br><span class="line"><span class="string">        -webkit-backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        -webkit-filter: none!important;</span></span><br><span class="line"><span class="string">        filter: none!important;</span></span><br><span class="line"><span class="string">    &#125;`</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// if(yjjs)&#123;</span></span><br><span class="line"><span class="comment">//     document.getElementById(&quot;yjjs&quot;).innerText=`</span></span><br><span class="line"><span class="comment">//     *:not(#web_bg)&#123;</span></span><br><span class="line"><span class="comment">//         transform:translateZ(0);</span></span><br><span class="line"><span class="comment">//         backface-visibility: hidden</span></span><br><span class="line"><span class="comment">//     &#125;`&#125;</span></span><br><span class="line"><span class="comment">//     else&#123;</span></span><br><span class="line"><span class="comment">//         document.getElementById(&quot;yjjs&quot;).innerText=``</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line">yjjs1=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    yjjs=!yjjs;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;yjjs&quot;</span>,yjjs)</span><br><span class="line">    <span class="comment">// if(yjjs)&#123;</span></span><br><span class="line">    <span class="comment">// document.getElementById(&quot;yjjs&quot;).innerText=`</span></span><br><span class="line">    <span class="comment">// *:not(#web_bg)&#123;</span></span><br><span class="line">    <span class="comment">//     transform:translateZ(0);</span></span><br><span class="line">    <span class="comment">//     backface-visibility: hidden</span></span><br><span class="line">    <span class="comment">// &#125;`&#125;</span></span><br><span class="line">    <span class="comment">// else&#123;</span></span><br><span class="line">    <span class="comment">//     document.getElementById(&quot;yjjs&quot;).innerText=``</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;blogTheme&quot;</span>)==<span class="string">&quot;acrylic&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">switchTheme=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>==<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">protocol</span>+<span class="string">&quot;//&quot;</span>+<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span>+<span class="string">&quot;/css/stylessimple.css&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;blogTheme&quot;</span>,<span class="string">&quot;acrylic&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>=<span class="string">&quot;/css/stylessimple.css&quot;</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;blogTheme&quot;</span>,<span class="string">&quot;simple&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">setColor=<span class="keyword">function</span>(<span class="params">c</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;themeColor&quot;</span>).<span class="property">innerText</span>=<span class="string">`:root&#123;--lyx-theme:var(--lyx-<span class="subst">$&#123;c&#125;</span>)!important&#125;`</span>;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;themeColor&quot;</span>,c);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">setFont=<span class="keyword">function</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;font&quot;</span>,n);</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="string">&quot;main&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> s=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;body,.aplayer&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            s[i].<span class="property">style</span>.<span class="property">fontFamily</span>=<span class="string">&quot;-apple-system, IBM Plex Mono ,monospace,&#x27;微软雅黑&#x27;, sans-serif&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(n==<span class="string">&quot;HYPailou&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> s=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;body,.aplayer&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            s[i].<span class="property">style</span>.<span class="property">fontFamily</span>=<span class="string">&quot;Fredoka,HYPailou,KyoukashoProL,-apple-system, IBM Plex Mono ,monospace,&#x27;微软雅黑&#x27;, sans-serif&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> s=<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;body,.aplayer&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;s.<span class="property">length</span>; i++) &#123;</span><br><span class="line">            s[i].<span class="property">style</span>.<span class="property">fontFamily</span>=<span class="string">&quot;var(--global-font),KyoukashoProL,-apple-system, IBM Plex Mono ,monosapce,\&quot;微软雅黑\&quot;, sans-serif&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">fontFamily</span>=<span class="string">&quot;var(--global-font),KyoukashoProL,-apple-system, IBM Plex Mono ,monosapce,&#x27;微软雅黑&#x27;, sans-serif&quot;</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--global-font&#x27;</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;themeColor&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;themeColor&quot;</span>,<span class="string">&quot;pink&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">setColor</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;themeColor&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;hideRightside&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;#rightside&quot;</span>).<span class="title function_">toggle</span>()</span><br><span class="line">&#125;</span><br><span class="line">toggleRightside=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;#rightside&quot;</span>).<span class="title function_">toggle</span>();</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;hideRightside&quot;</span>,<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Number</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>))-<span class="number">1</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;font&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;font&quot;</span>,<span class="string">&quot;HYTMR&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">setFont</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;font&quot;</span>))</span><br><span class="line"><span class="comment">// 存数据</span></span><br><span class="line"><span class="comment">// name：命名 data：数据</span></span><br><span class="line">saveData=<span class="keyword">function</span>(<span class="params">name, data</span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(name, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;time&#x27;</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="string">&#x27;data&#x27;</span>: data &#125;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取数据</span></span><br><span class="line"><span class="comment">// name：命名 time：过期时长,单位分钟,如传入30,即加载数据时如果超出30分钟返回0,否则返回数据</span></span><br><span class="line">loadData=<span class="keyword">function</span>(<span class="params">name, time</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(name));</span><br><span class="line">    <span class="comment">// 过期或有错误返回 0 否则返回数据</span></span><br><span class="line">    <span class="keyword">if</span> (d) &#123;</span><br><span class="line">        <span class="keyword">let</span> t = <span class="title class_">Date</span>.<span class="title function_">now</span>() - d.<span class="property">time</span></span><br><span class="line">        <span class="keyword">if</span> (t &lt; (time * <span class="number">60</span> * <span class="number">1000</span>) &amp;&amp; t &gt; -<span class="number">1</span>) <span class="keyword">return</span> d.<span class="property">data</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 切换背景函数</span></span><br><span class="line"><span class="comment">// 此处的flag是为了每次读取时都重新存储一次,导致过期时间不稳定</span></span><br><span class="line"><span class="comment">// 如果flag为0则存储,即设置背景. 为1则不存储,即每次加载自动读取背景.</span></span><br><span class="line">changeBg=<span class="keyword">function</span>(<span class="params">s, flag</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> bg = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;web_bg&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="title function_">charAt</span>(<span class="number">0</span>) == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundColor</span> = s</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = s</span><br><span class="line">    <span class="keyword">if</span> (!flag) &#123; <span class="title function_">saveData</span>(<span class="string">&#x27;blogbg&#x27;</span>, s) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 上面两个函数如果你有其他需要存取数据的功能，也可以直接使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取背景</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="title function_">loadData</span>(<span class="string">&#x27;blogbg&#x27;</span>, <span class="number">1440</span>)</span><br><span class="line">    <span class="keyword">if</span> (data) <span class="title function_">changeBg</span>(data, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123; <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fpssw=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;fpson&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;fpson&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;.asetting&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">$(<span class="string">&#x27;#backer&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">$(<span class="string">&quot;#&quot;</span>+<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;themeColor&quot;</span>)).<span class="title function_">attr</span>(<span class="string">&quot;checked&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;blur&quot;</span>)==<span class="string">&quot;false&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;blur&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;yjjs&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;yjjs&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;fpson&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fpson&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;sakurahide&quot;</span>)==<span class="string">&quot;false&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;hideSakura&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">    isSakura=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;sakurahide&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;sakurahide&quot;</span>,<span class="string">&quot;false&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;hideSakura&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">    isSakura=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(</span><br><span class="line">    stopp,<span class="number">1000</span>);</span><br><span class="line">    isSakura=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;aplayerhide&quot;</span>)==<span class="string">&quot;false&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;hideAplayer&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;aplayerhide&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;aplayerhide&quot;</span>,<span class="string">&quot;false&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;hideAplayer&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    doStuff=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        flag=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            ap=aplayers[<span class="number">0</span>];</span><br><span class="line">            ap.<span class="property">list</span>;</span><br><span class="line">            flag=<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">catch</span>&#123;</span><br><span class="line">            <span class="built_in">setTimeout</span>(doStuff, <span class="number">50</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">            $(<span class="string">&quot;.aplayer-fixed&quot;</span>).<span class="title function_">hide</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">doStuff</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;reSettings&quot;</span>)[<span class="number">0</span>].<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">toggleWinbox=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;#settingWindow&quot;</span>).<span class="title function_">fadeToggle</span>();</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingWindow&quot;</span>).<span class="property">style</span>.<span class="property">display</span>!=<span class="string">&quot;none&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingWindow&quot;</span>).<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;flex&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fullScreen=<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">fullscreenElement</span>) <span class="variable language_">document</span>.<span class="title function_">exitFullscreen</span>()</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">requestFullscreen</span>();</span><br><span class="line">&#125;</span><br><span class="line">toggleAside=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">const</span> $htmlDom = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">classList</span></span><br><span class="line">      $htmlDom.<span class="title function_">contains</span>(<span class="string">&#x27;hide-aside&#x27;</span>)</span><br><span class="line">        ? saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;aside-status&#x27;</span>, <span class="string">&#x27;show&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        : saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;aside-status&#x27;</span>, <span class="string">&#x27;hide&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">      $htmlDom.<span class="title function_">toggle</span>(<span class="string">&#x27;hide-aside&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">toggleAplayer=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;.aplayer-fixed&quot;</span>).<span class="title function_">toggle</span>()</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;aplayerhide&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;aplayerhide&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;aplayerhide&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// position = $(window).scrollTop();</span></span><br><span class="line"><span class="comment">// $(window).scroll(function () &#123;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     scroll = $(window).scrollTop();</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//     if (scroll &gt; position) &#123;</span></span><br><span class="line"><span class="comment">//       document.getElementsByTagName(&quot;header&quot;)[0].style.transform=&quot;translateY(58px)&quot;;</span></span><br><span class="line"><span class="comment">//     &#125; else &#123;</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">//         document.getElementsByTagName(&quot;header&quot;)[0].style.transform=&quot;&quot;;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line">  </span><br><span class="line"><span class="comment">//     position = scroll;</span></span><br><span class="line"><span class="comment">//   &#125;);</span></span><br><span class="line">toggleSakuras=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    isSakura=!isSakura;</span><br><span class="line">    <span class="title function_">stopp</span>(isSakura);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;sakurahide&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;sakurahide&quot;</span>,<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;sakurahide&quot;</span>,<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">switchAside=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(left)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;aside-content&quot;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;right&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.layout &gt; div:first-child&quot;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;left&quot;</span>);</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;leftAside&quot;</span>,<span class="string">&quot;false&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;aside-content&quot;</span>).<span class="property">className</span>=<span class="string">&quot;aside-content&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.layout &gt; div:first-child&quot;</span>).<span class="property">className</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#recent-posts&quot;</span>).<span class="property">className</span>=<span class="string">&quot;recent-posts&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span>(err)&#123;&#125;<span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;leftAside&quot;</span>,<span class="string">&quot;true&quot;</span>);&#125;</span><br><span class="line">    left=!left;</span><br><span class="line">&#125;</span><br><span class="line">left=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;leftAside&quot;</span>)==<span class="string">&quot;true&quot;</span>||<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;leftAside&quot;</span>)==<span class="literal">null</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_">switchAside</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;autoTheme&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;autoTheme&quot;</span>,<span class="string">&quot;false&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;autoTheme&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">var</span> time=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">if</span>(time.<span class="title function_">getHours</span>()&lt;=<span class="number">7</span>||time.<span class="title function_">getHours</span>()&gt;=<span class="number">19</span>)&#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(location.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;posts&#x27;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    <span class="keyword">var</span> url = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#page-header&#x27;</span>).<span class="property">style</span>.<span class="property">backgroundImage</span>.<span class="title function_">split</span>(<span class="string">&#x27;url(&quot;&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27;&quot;)&#x27;</span>)[<span class="number">0</span>];</span><br><span class="line">    xhr.<span class="title function_">open</span>(<span class="string">&quot;GET&quot;</span>,<span class="string">&quot;https://apis.yaria.top/api/imageColor?imgurl=&quot;</span>+url, <span class="literal">true</span>);</span><br><span class="line">    xhr.<span class="title function_">send</span>();</span><br><span class="line">    xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">readyState</span>===<span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(xhr.<span class="property">status</span>===<span class="number">200</span>) &#123;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;themeColor&quot;</span>).<span class="property">innerText</span>=<span class="string">`:root&#123;--lyx-theme:<span class="subst">$&#123;xhr.responseText&#125;</span>!important&#125;`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">toggleAutoTheme=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;autoTheme&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;autoTheme&quot;</span>,<span class="string">&quot;false&quot;</span>);</span><br><span class="line">        $(<span class="string">&quot;#con-mode&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;autoTheme&quot;</span>,<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        <span class="keyword">var</span> time=<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="keyword">if</span>(time.<span class="title function_">getHours</span>()&lt;=<span class="number">7</span>||time.<span class="title function_">getHours</span>()&gt;=<span class="number">19</span>)&#123;</span><br><span class="line">            <span class="title function_">activateDarkMode</span>()</span><br><span class="line">            saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">            <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="title function_">activateLightMode</span>()</span><br><span class="line">            saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">            <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">&quot;#con-mode&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">switchDarkMode = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*使用了Chrome105新特性has，兼容性不好qwq*/</span></span><br><span class="line"><span class="selector-class">.con-rightside</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">50px</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">50px</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    -ms-<span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    -o-<span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.con-rightside</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">129</span>, <span class="number">129</span>, <span class="number">129</span>, <span class="number">0.568</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.con-rightside</span> <span class="selector-tag">i</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.con-rightside</span> <span class="selector-tag">i</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.con-rightside</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">129</span>, <span class="number">129</span>, <span class="number">129</span>, <span class="number">0.568</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">600px</span>)&#123;</span><br><span class="line">    <span class="selector-class">.con-rightside</span> <span class="selector-tag">i</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.con-rightside</span>&#123;</span><br><span class="line">        <span class="attribute">height</span>:<span class="number">20px</span><span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">20px</span><span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">768px</span>)&#123;</span><br><span class="line">    <span class="selector-id">#con-barrage</span>&#123;</span><br><span class="line">        <span class="attribute">display</span>: none<span class="meta">!important</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#setting-buttons</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.setting-title</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#setting-sides</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#setting-sides</span>&#123;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#setting-sidesl</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">15px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 开关 */</span></span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000000</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#0000</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    -webkit-<span class="attribute">appearance</span>: none;</span><br><span class="line">    user-<span class="selector-tag">select</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">5px</span>);&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#000</span>;&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme);<span class="attribute">border-color</span>:<span class="built_in">var</span>(--lyx-theme)&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">19px</span>;<span class="attribute">background-color</span>: white<span class="meta">!important</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: border background-color box-shadow &#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: left <span class="number">0.2s</span>;&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="comment">/* transition: border ease 0.4s, background-color ease 1.2s; */</span></span><br><span class="line">&#125;<span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: left <span class="number">0.2s</span>;&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:active</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#666666</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>:<span class="number">#666666</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:white<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#settingWindow</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">800px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ffffffdd</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    -ms-<span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    -o-<span class="attribute">border-radius</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--lyx-border);</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">30px</span>;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">    -ms-<span class="attribute">transform-origin</span>-<span class="attribute">y</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">    -webkit-<span class="attribute">transform</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">    -moz-<span class="attribute">transform</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">    -ms-<span class="attribute">transform</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">    -o-<span class="attribute">transform</span>:<span class="built_in">translate</span>(-<span class="number">50%</span>,-<span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">514</span>;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#settingWindow</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settingx</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">46%</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">28px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-light-grey);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settingx</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-gray);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settingx</span> <span class="selector-tag">i</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">768px</span>)&#123;</span><br><span class="line">    <span class="selector-class">.settingx</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="number">100%</span><span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.setting-title</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#close-console</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#stt</span>,<span class="selector-id">#close-console</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#close-console</span><span class="selector-pseudo">:not</span>(<span class="selector-id">#close-console</span><span class="selector-pseudo">:hover</span>)&#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--global-font-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>最后在<code>[blogRoot]/themes/butterfly/layout/includes/layout.pug</code>中添加：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">include ./rightside.pug</span><br><span class="line"><span class="addition">!=partial(&#x27;includes/third-party/search/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line"><span class="addition">+ !=partial(&#x27;includes/setting&#x27;,&#123;&#125;, &#123;cache:false&#125;)</span></span><br></pre></td></tr></table></figure><p>除此之外，还要引入一些外挂css标签，有些地方为了偷懒使用了jq，也需要加上:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;settingStyle&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;css&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;themeColor&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://gcore.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="全站存储桶静态化"><a class="markdownIt-Anchor" href="#全站存储桶静态化"></a> 全站存储桶静态化</h1><p>来由是看到Mrzefr的服务推荐，看到了<a href="https://bitiful.dogecast.com/">缤纷云</a>还不错，然后把字体扔上去。</p><a class="tag-Link" target="_blank" href="https://blog.mrzefr.cn/posts/recommend1/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.mrzefr.cn/posts/recommend1/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">推荐一些服务 (1)</div>            <div class="tag-link-sitename">MrZefr</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>突然想到个点子，这个存储桶是国内浙江节点，且不用备案，收费不贵，免费够用，因为之前的NPM全站静态化因为目前能用的cdn太少（静态文件超100M，jsd系全挂）而放弃，故有此野路子手法。</p><p>这样做其实不如直接套CDN，唯一的优势是享受国内速度，但是不用备案</p><p>请先充分阅读并彻底理解本文章：</p><a class="tag-Link" target="_blank" href="https://blog.cyfan.top/p/d3c51290.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.cyfan.top/p/d3c51290.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">SpeedUp!使用黑科技为你的网站提速</div>            <div class="tag-link-sitename">ChenYFan</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="上传网站"><a class="markdownIt-Anchor" href="#上传网站"></a> 上传网站</h2><p>首先你需要想办法把网站传到存储桶上，你当然不会想着去手动更新，所以如果你使用Github actions上传的话，因为缤纷云这个存储桶兼容S3，直接使用AWS CLI即可。</p><p>不要看这么一点代码，可是翻遍全网资料才搞出来的，因为文档实在是太乱了。</p><p>在deploy的yml里面加入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">static</span> <span class="string">site</span> <span class="string">to</span> <span class="string">S3</span> <span class="string">bucket</span></span><br><span class="line">  <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    export AWS_ACCESS_KEY_ID=$&#123;&#123; secrets.AWS_ACCESS_KEY_ID &#125;&#125;</span></span><br><span class="line"><span class="string">    export AWS_SECRET_ACCESS_KEY=$&#123;&#123; secrets.AWS_SECRET_ACCESS_KEY &#125;&#125;</span></span><br><span class="line"><span class="string">    export AWS_EC2_METADATA_DISABLED=true</span></span><br><span class="line"><span class="string">    aws s3 sync --endpoint-url https://s3.ladydaily.com ./public s3://$&#123;&#123; secrets.AWS_BUCKET_NAME &#125;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="创建key"><a class="markdownIt-Anchor" href="#创建key"></a> 创建key</h3><p>你首先需要创建一个key，</p><p>在控制台的AccessKey里面创建一个用户，生成Key并保管好（只显示一次！！！）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca131fdce65.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1320f1ae7.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1322179ff.webp" alt="" /></p><p>最后设置权限其实只用给写权限就行了。</p><h3 id="设置secrets"><a class="markdownIt-Anchor" href="#设置secrets"></a> 设置secrets</h3><p>给Actions加几个Secrets：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">AWS_ACCESS_KEY_ID=你的Access Key</span><br><span class="line">AWS_SECRET_ACCESS_KEY=你的Secret Key</span><br><span class="line">AWS_BUCKET_NAME=你的Bucket名字</span><br></pre></td></tr></table></figure><p>相信弄过Actions的各位童鞋们是一定有经验的，所以我就不加教程了。</p><h2 id="sw端"><a class="markdownIt-Anchor" href="#sw端"></a> sw端</h2><p>原理也是进行网站劫持，代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">CACHE_NAME</span> = <span class="string">&#x27;ICDNCache&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> cachelist = [];</span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;install&#x27;</span>, <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params">installEvent</span>) &#123;</span><br><span class="line">    self.<span class="title function_">skipWaiting</span>();</span><br><span class="line">    installEvent.<span class="title function_">waitUntil</span>(</span><br><span class="line">        caches.<span class="title function_">open</span>(<span class="variable constant_">CACHE_NAME</span>)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">cache</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Opened cache&#x27;</span>);</span><br><span class="line">                <span class="keyword">return</span> cache.<span class="title function_">addAll</span>(cachelist);</span><br><span class="line">            &#125;)</span><br><span class="line">    );</span><br><span class="line">&#125;);</span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="keyword">async</span> event =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        event.<span class="title function_">respondWith</span>(<span class="title function_">handle</span>(event.<span class="property">request</span>))</span><br><span class="line">    &#125; <span class="keyword">catch</span> (msg) &#123;</span><br><span class="line">        event.<span class="title function_">respondWith</span>(<span class="title function_">handleerr</span>(event.<span class="property">request</span>, msg))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleerr</span> = <span class="keyword">async</span> (<span class="params">req, msg</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">`&lt;h1&gt;CDN分流器遇到了致命错误&lt;/h1&gt;</span></span><br><span class="line"><span class="string">    &lt;b&gt;<span class="subst">$&#123;msg&#125;</span>&lt;/b&gt;`</span>, &#123; <span class="attr">headers</span>: &#123; <span class="string">&quot;content-type&quot;</span>: <span class="string">&quot;text/html; charset=utf-8&quot;</span> &#125; &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">lfetch</span> = <span class="keyword">async</span> (<span class="params">urls, url</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">let</span> controller = <span class="keyword">new</span> <span class="title class_">AbortController</span>();</span><br><span class="line">    <span class="keyword">const</span> <span class="title function_">PauseProgress</span> = <span class="keyword">async</span> (<span class="params">res</span>) =&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">await</span> (res).<span class="title function_">arrayBuffer</span>(), &#123; <span class="attr">status</span>: res.<span class="property">status</span>, <span class="attr">headers</span>: res.<span class="property">headers</span> &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">Promise</span>.<span class="property">any</span>) &#123;</span><br><span class="line">        <span class="title class_">Promise</span>.<span class="property">any</span> = <span class="keyword">function</span> (<span class="params">promises</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">                promises = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(promises) ? promises : []</span><br><span class="line">                <span class="keyword">let</span> len = promises.<span class="property">length</span></span><br><span class="line">                <span class="keyword">let</span> errs = []</span><br><span class="line">                <span class="keyword">if</span> (len === <span class="number">0</span>) <span class="keyword">return</span> <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">AggregateError</span>(<span class="string">&#x27;All promises were rejected&#x27;</span>))</span><br><span class="line">                promises.<span class="title function_">forEach</span>(<span class="function">(<span class="params">promise</span>) =&gt;</span> &#123;</span><br><span class="line">                    promise.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">                        <span class="title function_">resolve</span>(value)</span><br><span class="line">                    &#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">                        len--</span><br><span class="line">                        errs.<span class="title function_">push</span>(err)</span><br><span class="line">                        <span class="keyword">if</span> (len === <span class="number">0</span>) &#123;</span><br><span class="line">                            <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">AggregateError</span>(errs))</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">any</span>(urls.<span class="title function_">map</span>(<span class="function"><span class="params">urls</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">fetch</span>(urls, &#123;</span><br><span class="line">                <span class="attr">signal</span>: controller.<span class="property">signal</span></span><br><span class="line">            &#125;)</span><br><span class="line">                .<span class="title function_">then</span>(<span class="title class_">PauseProgress</span>)</span><br><span class="line">                .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> (res.<span class="property">status</span> == <span class="number">200</span>) &#123;</span><br><span class="line">                        controller.<span class="title function_">abort</span>();</span><br><span class="line">                        <span class="title function_">resolve</span>(res)</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="title function_">reject</span>(res)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="keyword">async</span> event =&gt; &#123;</span><br><span class="line">    event.<span class="title function_">respondWith</span>(<span class="title function_">handle</span>(event.<span class="property">request</span>))</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fullpath</span> = (<span class="params">path</span>) =&gt; &#123;</span><br><span class="line">    path = path.<span class="title function_">split</span>(<span class="string">&#x27;?&#x27;</span>)[<span class="number">0</span>].<span class="title function_">split</span>(<span class="string">&#x27;#&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> (path.<span class="title function_">match</span>(<span class="regexp">/\/$/</span>)) &#123;</span><br><span class="line">        path += <span class="string">&#x27;index&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (!path.<span class="title function_">match</span>(<span class="regexp">/\.[a-zA-Z]+$/</span>)) &#123;</span><br><span class="line">        path += <span class="string">&#x27;.html&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> path</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handle</span> = <span class="keyword">async</span>(<span class="params">req</span>)=&gt;&#123;</span><br><span class="line">    <span class="keyword">const</span> urlStr = req.<span class="property">url</span></span><br><span class="line">    <span class="keyword">const</span> urlObj = <span class="keyword">new</span> <span class="title function_">URL</span>(urlStr);</span><br><span class="line">    <span class="keyword">const</span> urlPath = urlObj.<span class="property">pathname</span>;</span><br><span class="line">    <span class="keyword">const</span> domain = urlObj.<span class="property">hostname</span>;</span><br><span class="line">    <span class="comment">//从这里开始</span></span><br><span class="line">    <span class="keyword">if</span>(domain === <span class="string">&quot;&quot;</span>)&#123;<span class="comment">//这里写你需要拦截的域名</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">lfetch</span>([<span class="string">&quot;&#123;改成你的存储桶url&#125;&quot;</span>+<span class="title function_">fullpath</span>(urlPath)])<span class="comment">//屏蔽了自带的npm劫持，改为存储桶劫持</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">fetch</span>(req);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>目前暂未实现缓存功能qaq。</p><h1 id="新版rightmenu支持遮罩"><a class="markdownIt-Anchor" href="#新版rightmenu支持遮罩"></a> 新版rightMenu，支持遮罩</h1><p>参考此文章，这篇文章已经进行了修改：</p><a class="tag-Link" target="_blank" href="/posts/11eb4aac/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon//posts/11eb4aac/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">butterfly博客自定义右键菜单升级版</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="pace加载条"><a class="markdownIt-Anchor" href="#pace加载条"></a> pace加载条</h1><a class="tag-Link" target="_blank" href="https://xlenco.eu.org/posts/769f.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/xlenco.eu.org/posts/769f.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">为你的Butterfly添加顶部加载进度条</div>            <div class="tag-link-sitename">Xlenco</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="落樱特效搭配博客设置食用"><a class="markdownIt-Anchor" href="#落樱特效搭配博客设置食用"></a> 落樱特效（搭配博客设置食用）</h1><p>添加js（参考自<a href="https://ichika.cc">ichika</a>）：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//樱花</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> stop, staticx;</span><br><span class="line"><span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">img.<span class="property">src</span> = <span class="string">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XCpBoAAApBxJREFUeNrs/cmSI8u2LIipLnMHosnc59Z7jyxhjSg1oggn/EWO+SP8B34JhRyWCItk1at7786MBnBbWoNlZm4OOLrIvc8+t45bCjIQjibQuKuvTlUpCdva1ra2ta3zZdtHsK1tbWtbG0Bua1vb2tYGkNva1ra2tQHktra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW1rA8htbWtb29oAclvb2ta2NoDc1ra2ta0NILe1rW1tawPIbW1rW9vaAHJb29rWtjaA3Na2trWtDSC3ta1tbWsDyG1ta1vb2gByW9va1rY2gNzWtra1rW1tALmtbW1rWxtAbmtb29rWBpDb2ta2trUB5La2ta1tbQC5rW1ta1sbQG5rW9va1gaQ29rWtra1AeS2trWtbW0Aua1tbWtbG0Bua1vb2tY/3xr+o7+Bf/2//z/+1OfPAIgJErGbMj7M8fue+O1A7LLjcxyw+5hwZMbgQnLgKIftRsgMyYUjBYNhOn6AADiMOGDCyIQBCflwwNEdw24HHA5AzhjHJxyQwZTADLgmHJPhDRnfjo6PlPHbNOJDGZgEZsIgOAHPR/yPwxv+28MONOBghIEAiXce8LkzuAG/vRP7o+EzAcMRyNlxoJByxj4T/8su4+UgPE3A++jg5yfe/lvD73/b4eVfM17/zfE//y3h6UjsJ8f/9N8m/Of/Cnz/d0cegHES/t///Q7HHfG/+/8JT0fABGQTzIEkYMyGf/0vBh8N3/99wv/rP/1/sDs6/i//+t8DZhCATOFwzPj4/R3/MhkOmPBz/47dB+CY8LZ/w/NnQh4cu88dppSRU4abQwbQCRPhdDx/PCGbI9f7JLXbRfHpYw+n4MOkPAAUSacBmfv30f/rf+f+8m+GpyPw8Zrhl0IMAmK5KgAOWCY4Ib6r8pO+/hiV/5c/LyyVe6g8TnH5P/3f/q8bwv2zA+TfZ7HtvKbY4ScCOxCU4EaYE04hxb0hOYgEATAJTsGYkP2IQQBocAkkAGMBQcdgA47HA3aMg0cQkhmOGRhEZAMoIpdDhiREQYzXJQBDSQwygFGLdwET2/3c2luLx9fXzjhKk4hs8QTmsd2OAiHkIR4wZmFKxNMRGI7C5xPxt3+Lv+0GvL47/r/fBgBCJpAcYPwVAICbsPsE/v0VSJl49if8+/C/IEMwCIQBcCQLUBeBlOOFi4K5wanyGcgAiPEe5XSApInJsllCQkAVQNFStpTcUjoakxtNZqJIwtIx2XigpUyaG2xSdvPj9/+aPy3zoORuorKVD7OCoZfLxAUgMhegrEBYf1p8x2pYdxUKITVEXIBhewFit21bG0D+HWoQDgJwiERSAF622CFNgpsh5YypHPck4S7YEEcjQQhAsoRj/ixARHiBOVpAhsthNkCKPZwCvNvTB1Ugi7/dnpunr9mQYJjoGGWLOooVUAcDbAWV6CleN9sxJwzOeE/lczgakQ4OkzCNhBuwOwo/n+M+u4Pwsbd4dQLciJefwvR/CLDsgyWVP+SMxx0HgSCe8h7/037CwY7YY1cPeyQzwAxe3j9FeBKSwOf3p7Q7cuQ7d0oYCbPkifvDnqaULNvOhAE0c7p2ACEbTBwIjhCMYIJhAJggWICsMuQTnEdCB7m/7f6rv2XLb2781ITP6bdpSgcrgNhFhTqJChnv9eGosILijKAnCIvlxQsQbwC5AeTfM4IkACdhHtHUlBTxjYSjEYMATxHGEQyQK5GFlZ3daOWsLxgjyiphYAMVJIv9XsIC9xgHg4HIDFBzUxyM5QCUShxBYifDwYSXErlkCkmEkaAcEDFRERUKmCxA0ARMiIN5EHBIcT2JkapPgmVhShHRjZOQU5xExqPw43uNQCOqffp0iEAegDShe9Nz4DUcK6Aa9nmACLylT+ynXYlwC4CbYWLGHoTJzFxj8rTfH8ZnE14pfqP4Ctke0EBoEG0gMJLcK3J2Lx9XIrFz2kjBIhSvpx9NgI6QPgR/B/Qu6YNIo8kHTpYcU0IWcRw+NJ9HIoAjIAroTja/FhWeRIblUoGQHShSZV9J3A7bDSD/jil2xHQgiOTCNJRoToISW9rYsi2tnMZZ7ieHwSINhSJyYyBc7N8J7hmkAS7IAhgFYRRxNGFww2SOEQm5/e2IVZ3AToY3HiEMEfGWtJkIQGRJgfsIEuU1wAzKGUmEM0oHgwMYo3aWJuG4B3IidlNJlQnYFJ/JNMxvfXcUxqNw2AHjJxalgPbpuDAchePOsJsGJAz4Mb7jPx2/zyUAAPsUibbD0+v77nlwvEJ4pfEbHN9o9h20AEnoWcQe5FgvRrIU6wSjCRzNbIRAQBmug9wPcv+A9A66RR4vp7vk7hIyQTc3pckwCjo+C26atIj3r4PhalSIdSBswFeAsAEiojyjRGAgfGQ5LRBRTdjWBpB/F2ic910i9r1oHnQ1vpoml9splFSZ7XkC/AxZ7V5wCAMY4ZviEDMLgByGVEDTYSQkxyji04BnByY49khz8bBEgBkBkP9ucSBaV9+K9DRenxuQLeqC9TnqfZ3AWHJit7IBBmYgHQU8AXkE+AGYRxS5c4AufO6Ap/d4CB14+hA+98Tr74LXskWLeuNV7Y7A5154+knsfI8fw0d/WjIAw+uwG7lLT7T8QscLhb8B/AbxVcI30r6J/E7yReArpReSexhHGEeAVivEIBNrBUWYIP/UlN/o/i53wN3hzHBM5UWCJheY4cwwy0lJOEKi++dTdqUOIS80TuZwv1z3C1FhD4g1KjQ0AFyAoZWovfyhRYq/rQ0g/z4gyZq/IpXTfyYxOqJpYRGZycqODUDuYBoiNS6NmkSDKyOVWqXkAIeIIl1wd1hKyIdPjGNt1EQEeSwR5E8DkgyfzC2lriktSp1y5ylSWyqaQl2xoDaacgHI9h47gFRJ+02R0gNAAiEwABJAHuMPDpOQzcBJSBn4fDK8/MzwFK/l5V34t78ZYHMzCTWYKwXO3Qfw/h349jux0w7/y+7f4HASHEzpaWB64WivML0y41mO7yC+B0DiheR3AN9p9h3CK4QXCi8AX5H4DHJHlWoHlAMUNcl1gPs7MsiELKNzQgaZReS4rwQgR9GYmcQEV3bQkTnZu3Y05fyEI7y8rXujQs2NHdQSiUWKrH0PhoASAwgLxrfnyIiGliKjadu3tQHk32upprGtURN1O2SWRg1hU9QFkUsTptQRo/tNTCU6nKYJYzl8MoQdAJiBk8PlGC1hUmnBqEal0egZakMFbMEHu2OwrgSDIeqMQ9c3NtROdjwyW3SAWdPs2jcuzzeUjj0AmBMTiXSIDnNOhEod8rADcIiGy/ue+M/lL7oRr2+O//9/SS3qHnwZmTuF/Yfwb/9ZSJ7sv3x8p/yZlnZ7s+HVYP9C2t8A+4aBz3A8EfwO4G8k/ybhO8hvAL4B/BvEVwLfALwAeIH4VEJ2h3SE6x3SO+QfpFPQEbIRwo6uSWY7yI9AGgmMyvkIcgA50JjgHEEOFAY6Bk5INJl2BubrjRMuosI5Rdae0EmKXKcJILXHm6sBKaVF/RGurUGzAeRfC5Nexm/MgamOwCgiqADN2qgpoz4EvKS50ahJLXIKkPNlJ7uApTpYLt2Z+LvluKpZcWaN8ro8vkSVgwxHCs9eRnvK7cYAdbQ6ZAC+swSjJYIUHENJ6VVGdI5G2NEjrR5YGjXA23O82vEg/PitSzMNeH4XpgRMI8AM7HNL4xlRnWhZ9t/9D3gaNDz/H//tvzxZGp990Ctov8HSfwbtPwH2G42vAJ8B/Bbb8DfIvpN4AfgC4hniC4AR4gBglJQgOOSfdP0EPcN9kvMIMtFsiHOBEpgGAiZnYsTAiZCJTIASYANMBnmCmQmeIA12QMInjWU0oQGXz40zJEI7LFPkRMhWokKP/SoATw1UI9LUIgI9LQWBceLa1gaQf5dlAHKNwkr9Owk4lu4t5ZBx0XwgCLjXqnzbgdkQyBsaqTRqWhWfAZju5a/WbYzu+ABiStGVzgwQy2T721agdSfDkRkx+CNMc5INenRUss3znZlzJ9tLFJmc8DKuZCIwGGzKSEchjwZPMf9Yu7fjUTiOpVFTXs/uIPvb756ePmT7AwgyARgH8WV0vg6y1+T2Yjb8liz9N0rDd5l9S7TfSuT4n0H7TzT7DeQLYDsAz2B6BflMYF/qi0NpeZeOdE1bBbgTriTCYJYAGKUksv6eKCVQJiiRGkQNoCUQA+GDkBLgAwYlMg0gkkEDMAwpY0xHHc2RwZPGyVh+TwgwPI0Kc9lHSorMRdSpeZi8gqHmUiYsTlK5wLkb4WkDyA0g/6JKpJMYSif7EzO4tC5wqQVaS7GWjRqQIC1mHjG0TraBoAWo9o0aszEaNXUApetk77Ih07HDUEqkpQ1T7r9TwrtN8KlEjCxRbN+oKSMp9HJQ1eiSbI0aMUoHqZQOWDrZ2gF5IMZPlXonbJxg338XRRikJHBH4uX//P/ML0jpGbRXks8mfjOkvxntO5L9zWz4jTb8N0zpPyGlb6Q9C/YK8jst/Q3kd4A7gClCdMb+a8b5xNNNcdaB+DZuVUYFDAMcCcYBsARggDSUKsYAVyIxKvuRRESgwAhwonGQ5QGZOwAThR2TJhsxjsDgUx4+/xs7+rNpngo4AcNpJSos6fHNqLAAbE4xUuY2/+zvvKXZG0D+5SuVs/rMDomzd40ya51IcsASpEIFhJCY4HKk0qxwCKmM4sEFV4z6ZJ+Q0q7UIR1GQ9aEQYZPAs9u+BimBYbXCHIisHNDLiwTw3mjxrpO9pBxdlT27JpMRK1UMaRtk0MJOOwN40e2//SveXg62n50e/6XH3pS4p4Yni3ba5L9C2m/Uek3Mr0AfKHZNzL9C8jfMNg32PAd5DeZ/UZL30R7htmOiXvQ9rUBTVr5cNkiqPa61b3D2qwGoUhLCXII0NOoqCPumHiUcwQ0wG1E0g7EBGCMuiMGug2QBrmPzDiIHAAMoAYyJQMSpGEEh4MVNmUuJZK+cdJHhX2N8hQMLU5W2UpU2IGhuomFuRYJMKul3zWT2dYGkH/n+LFSDlm6hsJkjPGW0pCwfEo5VJthrBGb0TB5xoCumUMAaaYcjmnAYTqU7nZEmQMNDmAsqbFhnXJYj46xDMNlRM0UXce6drLFZSe7giJKpgpUiuPcyXYDhk/x+aenl5++e/7g0+j2bEzfEu03o73S+ULwBbDvNPsbLf2NKX2D2Uu5vIL2HcbfmIZvMPuGZM8wvsDsqTRFDMlIszLmwnlWc65ZtGHyGh/DS4W2lTe8zICnAe4DrKTMZgniyKwjqAGmJNcAq80YT8hIck9wGSkTUjIyRVVYKSJaJINScqTxmBNM2bwUiqUrUWFEhEolRbY5TZZhmSarn4EszRmfh9G9AGpO1kB1WxtA/l0B0k872Q5MKcI18wDI4QhMiWXULiiHaEPlbNxqz3OjRpVewplyyDQuKIf9wWU6jfQ0N2G610sQA6JRM2ruZLNUJU872T3l0MrQuiNqnUcDMsRxorl24/P/7Pv//f/ozyBeYOnV0vDNLP1Gpt9g9g3kE2ivMH6Dpd8wDL8hpW80vsLsGcZXpHJfS68kn2C2gzHBzFCH560Dxu4zmqPIOts0b2ojRLWhYdZ6IDGFj1ZzFDxF+J4S5ImUyd1gTCUFTyQTzJMcieSAXMBRiQGSyaCo/KWjp0xnPVedNk6WtcIZDE+jwqhNFhAsoFgJNW6lLpwMuYIp59Es1Kh1WxtA/r1hMvrOAZCpKNO0up/ZYgh6QTnEspONQuhgNyvMtoPPB39POWx8aUUkN1mkzo16eEI5FImxNGqoITrPIeew6GT3jZqpNmoATCUqHR1042hmuwTuTXjmgO9M9s2Mr6R9o9k3DMN3JPtOS99APsPSC82+I9lvGNJvsPQdZi+MKDHqkSk9wzjAaCyt/Dpu1MqK5Gl42803laICT0QjyvuPOcHCdnJHNGAsmjXuibJSK1WCEF1rIkE00VNoXdAgJgJJ8ZEnSoOSBiolSQNTSiYNhog+RUxrjZOzFPk0KtQ8XF6jQt+xpNlzvVGljlxPoOYqDR6169vaAPLvn2KjU7tx4DCUtFkq2++jHAIGyWFIFyiHgplFo4ZWGjVapxxS2LcBoNJDL42avQw/LEMeZYHcQX0cUGyNGpsbNZRcTjBDu72npxeMLzbaa4omyyuZvtHsN5KvoL0i2SstfUeyfynp8zONLyC/YUi/IdlvTOkVtBeQe5IDzAYYU4sEO3BbhLu12cE5bZ5BspxMvBuuNLaTT2OXKNJsmgFSIpkUnE6L35XgSKIMYoJ8IBlda5bGTulNCxpgliANMB8BO0ApUT6kbImUvX/nQgptnmOMhgxPokIZMaWICltkyXlf6zvcdMHc599PwXDLrjeA/CtX7SgndTxkYQZPLaXRYh4yaIOlxRCMGnfQUmvUNMqhA64TyqELSoKRIYsm4pPAixsOKeOpoxzWRk1QDhMmO8QsZn2Na5TDMr5EIhk5PCENL459Srvn0exvTOk7LX1jslcwvdL4Cto3pBI9WnSckdJvNLZaI81eo76YvpEstcX409FgYddUWUZXC0mcpuZhC5qINPPHu43dvFUB0FrQcxjkA+QDwSRwgJDgSjAOFEYJRzgToKF0vaPLHcdLuc4EMoE0kAOMiWZmE5MdkXiEcYTbpEXjRIz6YB4rGJ5EhZjrln1UOF/O+lEzAHtXm9wCyA0g/8pGDYqSD4r02Th1jRpFo6YBkgtMaKl4pRxmTaVRE3VHcACNsCy4hJQGTIcPjIzmjVI0ZhzCrlAOq7pPTzn0bvRo9FSkttY72RBwHIRjgo0TxidPz8PA55TshUwvNHvlkH4zS39DgF13YYhDmH2LdDkAEuQ3kC8lWnyC2UjaGKjcNVWkReS4TJuxLKrWcSl2qKD+ffeqOZ0ihs/RKI0xhOU0CKkOiUseMmcOA5noPihAb4CYKCaZDYAKmHpEvuIAs5Hyg8xGmI3GNI5HH3cfPn1KftwRXrQsaxe6jwpbp9sjyrWabnfzszqNCl2LSLQ1fFhS+cEi1t3WBpB/9+ixUuhOKYclovREpOM8OmOIiI9cUg5DG/LQmimqrBkGBFbKobyqPtY0PFg2qaMcLnDg5LhIMRY+Uw5rdAtgkNnLgUP6tOF5sv3A9C1Z+s3S8MqUXkh7jXqifceQvsMsmixM30C+wvgK8htSeiH5rTRkvpfbngAOJAmjtWix6zjXmmKNaJvAQz803wPpXFxdnrUUz9X6NewjzWXXO05UMsBGSCNcx4gUbQS0g/sEcgI5wmyEYwS1I5QV23cwTnBOJOu2PYEsINNsGvKQn96P+Zjgb//ZcprYGicBgL6MCCsl9TRF1gyGfVSo0vDRYJGKr4z/bGsDyL8kgmxipyVKi8ZGZUIE5TD4yx3l0NXogbVRQ1oLlAgid5TDFg0VdsxMOZxfR22keO2Ol0ZNTzms0dUow4GOZw9Gt4MmID35sN8d+ZxqpJjSb0zjbxxS7TTXkZzfmNJvsPQadcUWQb7C7HvUIUtaXSLGYJ90tUXyvLi4YIYQ6IByrvXqvKjGC8U2dpVilU+tpuOpfFjugJkRGuW+gyHTLUueg96ECVImmSXlKNsyI2jzU8AzXULcJmSILjED5jRNyZV3U/KXn9nfPvRBufrGyXpUWHjWJ3xqWVAR887K6A9XGz3WcbzNN7GKDSD/Qpis4rlDbdSMNX32og15QjnUFcqhO5g4n/g519tUBqPdc6TSRRuyNnJqJzsJmOgYZI1y6F1cupPhwyYgJ9t5SkTaJeNLYnrhzl4taojfYKk0VNILaS8FAF+R7BtS+h6pdNlGey2/RzptfCK5g1lapMEATnL7lQinn6w/AfhirXAeWhXw8/qZnQBph43tk6c3ewtAA4CnUqrNJF1kjujRIoRXqPqAnGBWwNK9gOZUznnRYyMdNAc9w+B0aH9E/tu/Kr+9+lEzvT5q0bk0V3yuJsRMZKTHbkXG7OQz6wGwB0V2Cj7asusNIP/SGiTqzFmk1VWlJmlGBCLP0l41XSwNnBrZWaEcsnwNHkUwGAsYJsHSCeUQYQDmcOwq5XAyTCaMLYWtaucRNO2VeKQncngelJ5pw0tKqTZXXsg5GsQwfGdKtab4DNoLkn2D2d+i3sgy5M3XEjGGlBhhTXGjfUxcDfRaCl3nWQwz0J1OVGu2mJgbTDYDXzoJx9RHp/GZN8ohu46GEZANkO9Bc8AzaBOoDMKjIMiQOKsgWPkwpIPI7ScoEi4iB5Aym5lrUt7/nqfPQZ6TJssnUWGaxSrWUmSqsLRWokSsRKGN+SRujewNIP8xVqMclpojywFAzLYF9QCt9UMWyqEVyqEtKIcxGM1JrZOd8xEp7Zp1A0lkBaPm3YBnGY6cFplnsXYwN/LZx6fvenrGwG9mwWYpIFi6z/bCxG+gvZYI8ltJoV9gfIbFSA8s7kOzVwD7Uo9LbXrbeAEI+0YLunpi1502Ow8S+yutR8MFcAo6p6csOj5YgCWWQEkQO6iLBJeXDGACmRURY+hE1u3ABDBqlrIR1A7gRNok00TDbsx+fHrD9Pbd8uGbCcLVFPmeqLAHwrO3j3Ppu21tAPn3jyJLSpQ0Uw73uQjjJoKFctgyJPcYncMsLZaYcPTphHLIpk6e5dilAdPxs1EOM4SRhiOEQdEdPaUcgjAmSwlpN5JPNvAbad9Ya4fkK0qUWBoqLzD7VmqPpRljESEanyP9DjsDGF/Aop7DhQrHEhA5lyPmkIjz9M5ippHLuqL6dPvk9xMcpDpFJMxNn/aArs6rOvJTRY2NkGigxgB8ZJBHEDuQE8Bo3AQY7kBWwAwbB3CkcZRzB+IIsylE5tNIYGfExGncPR95PE4+fRimlNF8jf6IqLCnltJLXdznz2VbG0D+3VfrZFfRB5872dGoCSOq44Jy6G2HtmLb2iiH5T5tjLu5HAo0a5TDM7DWMtjyoBymIY27RD6b2XMRh/ge9D/7RvKlpcelpkizVyS8wtIrLH2PWUeWYW97QeJrqHenl7Au6LLeKsWGrhlzFsydjuU02t9y8PviGel2e7Y1d7qm1VyILN+DV0Xuyl2y+DKlAbCR9AFmO8EngCMzR1kBQnEEeJRspDTCtFPSERk7Jkwi9nTPgE/FnWeitMPAPDqm17fJkVxTQvC0L0WF5ReufA5trLOPOisYllFPT8S027jYG0D+hRFk7UnX6mFSiOdWl8PJUjBeOINH72zXLLZoHeT2CuE8mRMMgOUJIFXKYTYVN0Ifnrh/5pBezNIrYw7xpUSKdfzmhbRvAF9h+AZLLzP9j9+Q0jekcjvtOSJIfgP4XCInsAcq8nK9se9anwAie5Ds0+/TGuXiOVdS9v6uNtcYAwwLCFbZotoeVjdyZARgpuwjyD2gieSoKB9kyjKArLBoyCHxWy5uOWZ2zEuLusSGWWB8KXSHAb4/mPBD+v27Phor9EpU2INhBULT/Bm7ET6iSfp6whmne1sbQP5lKXbTdsRMOawuh30kdY/LoVpbZ6Yc1vk+L3ax7jlYN61+WcRzRXyY8zXvxmEYnxKGV6bgPAP2EmISjHojUBkwpdGCOvQdQ93G11DcwbfClnkR8EyzZwCpAZCwmk7fcWa5L2rsgXIBnKdpNpflxh5IF4SbWUC2DlbLrEz1lNCLGmC2j06ZZkNqoa8IYhYYK3VKQTPfvmj4EIGMQax2Mnki8+5Af/7wfNj7wa14KXaZQANC74oTVgBwDBEUH9CJU8yPpUfcSg9bXubtWN0A8q9OtcNhCUlx1OXSlGlJX601VkrfCeXQgRn8aAvKIYvFgmvuZI/DALqCUUMiy/HkRgC7JxueacMrWSLASKVfCLwUEPxeosbCcLHXoqzzjU2CLH6PemM0aEjuEPqHJ5HahaLgSTFiFehqHH62eQU8yfWI8fLZa/X5iE4+7EShe+Z7awQoSF7a3oI89HRi3CdH8E8HmNs2WgYxgdrDFHOVhuICzgnME4H9IOSnT005MWvQlKYKvWWkp6j0TEPRgExdQ6ebHaMDqdIKs5rqz2nJZVsbQP7ljRp0LoFT8WcxlEaNF23Iely7Qna/iUlUvvU55TDm9RS86zRgmt6DEyNvquAC0rNsHDi8KKUXtHlG+4ZQ2SlyZEV2DGVMJwa7X1qjxkKyDAwhW6SWUu/CyuDkzZ+2y09T7AZyXZTG7raODdNG4XtBitOU+xqAXsJmXkEKzlqYsBApDqYTCShSbbMM+QSzHeWThGPpWGcQI2g70CeQR5K7YNRogjiCGgnsREwghpmVo3Fw2+0/NHFPPz7Da91QaaW7XaPJrPaTroUv9ql5Ysdu3w7UDSD/ARo1JUK00smuHO1shOXiKV2sCrIcAzsPmEI5nK5RDov9gjT7ljhE0tLTsHsysxdZegHthWTrQkcEaOHqx0inafY9utB8IdMrUv97F0HGY8e+C3yxccKVSG8BZNbV/dCJTixT7kXz5ioYnozqXIs411g4beZydu/pRTMQJcORKHVIcoK4I3UUORGYRI4gpnafUIkbFaLrE4gjYBOJUcQuuuOaSB5Ndtxljdkx/XiVW52uLN40lmd1cKtakDinIZ6CIRfSaZw52tvaAPKvadQAPeWQjqa6bRKOZhgVZl81nawmXrXmGOm01ZnFmG9slMMyDK04gIOAEY8fPA1DGp4xpG9geo5h79qd5rfSkAnQrCl2cKWDAYMuqmSpSSa+lLnIpwhh1wDn2jYsGttL5e9+5OYEKC81b26B5KXXsjA/6wbDy3fULILMolzRasZR02AEvSlAkVMBvSOAEcQYGj3sxoBahLiDFCNAsB2gwtu2oCiaRkA7unKk2j69f/rEo2T5clS4PA9xtlhozZslGHpRIs+77TjdAPIvhsnwoTEM7kgSDmVqBPKmvFNtEFpXeiYglqeZgbBu9drAqdqQlXKYM4dhGJiGZ6ThG9MQqTLw2mqIQKH/pVdCRZiWryC+weqYj9VI8VsnYPuKiJjGRbh1Jz4uDmNqCZK6kvOuNG/OQPJiyn3ltdWZSz9piplDnfBDWFUUcKwkd6cBGIE6D1l+kkeA8zbDEc49SC8d7glmR7jvC1jGdsOEzBxtlJwJ5HGCf/s3Tp9ppiGupchtTrIAYT84HgrlgO/QLBrax7YVIjeA/MtrkF0SlzyuT12jpkrg991GnVAORcDKrGOl0Dm8MWrC5RBIw2gwjmm3e0EaXsPyFKW22NLpnh/9ihpVlq513IbXIlz7isqeIZ9o3M8E8T5BXQO2C+IRutSn0QozRg8UDnUmc3b6Gshz5K6iwejEMNpAO3UuylsRMpBogHEHVaaMjgj2UDBsGj2RXpo3s8BFNHWmMvw6hdhF5XnT4XTA8tM7nvKLNCUdZyAErPiYz4IVRbNzDMk7txNBI3UfE+fHbGsDyH8YxKw87GzAmJeS/wvKoQNMbJRDVZdDz0iaxXNHFGUeF9xz2j+/7DkML7DU6IEgvoP2CvC5a768wvgbwDnt7uuLxhgIJ56RUhkI53DWjOkaKOuh2uXq7Hz1iv9oHyZWoLKV5s1a9ElejmJ5GuWrWGRrZtAUqbgFolQQrq8h1G1HsIBidKy9ux68a1dwtWdwzIXYlGH0xuUuEmmwlAFOnPLOsk37g46UT5aL9m+JCqN5M4/znEaFvTf2ormDUoPcIsgNIP8hokiiyEfkuVGTo5OtRNh0QjksNgs95dBgOGqmHNYok8k4piGNaffEIYU2YwhEvBZ/6W9zlMiQJwNLBGnfQMQ22jPIb0ypmGgFU4ZRb9xdjgZXLFV5IfVt7L5LIzxYkaY5AUlcS+d5IejklUbOaWNmQVcJ/ndhOHXacUFBdAPoBtoOVqTOqAKMjPEdZybtKPqudLOjgSMbI/G1ifQRxCgxapXhwR12ssQ4HDlOxun9VUesRYX9V2KnJwGe8LUFTw4fHJ62Ls0GkH/xuko5LC6HScCxWTkXymE5SGfKYSqUQzTKoQAmS6Ol4cnSEGM4xm8QX4uvdIkWESk2AijJ2pCxlmaTpcaYwiYhHmv7JiPUj+rwJBLkJYZMB0Z+oeh1rX64FkneYh1eUgVae23dnUktM/MEMBtkRYzYS0Rpc/rPVIRFpKRozIwkByQOoQKkncyOSBopHlWoiNHZxgjwACAFKGIs9d0MsyPkExIzpMnc9uNR+Z3KVDHOxAkrBh3rprxEN4cPOQCxgqI5VBwqt7UB5F8eQVbKocpIT4BhoRy645gGjNVfmlpoQ85DJmod61nFkUZyZ2l8YhpeYYVPXaJFNh41OhC0l07l+3uxO4gh8Jpip3AgLAerLWt8p9YHvCOFxUK/sfeROcNE/YlfxAIQT8d65hdXbW6logvpAOhBpIkRn/iubCZ8SiRlIwyjpFAYN02QTRCiW610hLiDFOmzsBMsQ17qjZhozIJN8LyL+iUUabjnQZaf35Q/XvUZNPK5BinTDIJddOjmjcpawkeYE2lKSNmQctoO0g0g//oUu8magUgufFaXQyxrQ+oyO501GaJjrXAZtKe026dhfMUwvIDptYsOq5rOa6UPkqWDDb5Eio0XgK80fgfTS5Esey2jQK+IjqytR3q4PHR9rdzYOtUn4KhL5lFdmn2JSrhIv3kHOHYAeVKTa7NYrnn+0dTKruEu2LhN85sTUeZ+UmvYBKI6pEwhS6UWaa66Pc50RY08OtlBIqSKOvnMxAndJ+T9IU3TPk+fTz7l8bgAxUVUWJg35gZza2AYF2sSaNvaAPIfDC1nl8PcXA6FUNPyNlAemKBqP9odlobJJ9sPL3sbdt8xDNFpZhn2BkrXGt/mSBKRTgNl3KfYrLINfL8Go4ZhhQDu7qJYPCJ4cDev+s7nuxXFrgnytlopz9N/aT5bEUAimHMrj7S/Ue7DaqpVO9tWJ/stIkSVOmTxD8SsQp5BTbWjXTrWRR4t5iIJTTI7AspwTlDVkfRxEHYvH3b8/PbpP//24Smz2MTaIipM2WCeELfPJYaqi6lSQyU3Js0GkP8gUWQ9GBvlMAG7Y2nUcHY5TPVYlYNIRcNHcDjHYZfM0pMNu1em4RuQvgF4IYpeIxAdaFhEiOQrYK+lKfNalL1fmSK1jm53BUd7KjJlt6PC0/usCVGcguKicX1aT7wkNtEB1K0Zx9XIdm2SWkuwXESf9W/5PPKjlaiVWvjoFM1IIIulNDGRnBRd6bEoHO1ozPI2EjQWDvskaRfzkxoBG2m+A+woaAyQ1L4qmSdhennf+TTiMOSkNFmLFNE1Ymrnmtap02MDxQ0g/wHXrMVYhFClMOwCYS54MlhxOURxOcwusKj/JIHZOI7j/gnD+NpYL80Eq7BegjIY+o1FiKIo8lR71dqMCRuEVLQcgeewL30AHO850IRVIIxSAWbb1VvqPfdEoLzyurjyuk/GgNqoUKcRWcewUJoz9Jmb3eYnuYxKCaSgH2Iq4rpTaL+HwjiJ4GQXaTQVNXJAuejdldS6EAhpcRYtRWk69fJjh/Ew6v3Fj2U4do4KEeImVUVq/QvhSclhWxtA/oURZNOGZIx5mxcwLLWtnIjxEATdefylb9SkYbd7Kt4v6SXmF/FcGDABkORzEY94otkTyKcSMbYLw02w3GbxO7CH2XBTBecRYDytPV7CO115XKvx6f5UfK0Jsxjb6cDx7KEl6gqD8Koc0qjYdQ4ovpvz+ZpOAZMQRgjPBCXWVgpV/gjn1L4PaRWhKFQKoYlMZZzLqRD0cKeihjhm+XGStOPxelTIJpnXAPehesa2NoD8O8BkjUas1CEnq6M/wpGz3L/OFBmQOKQnDOMzhCeATySfQAS4oV7nHrQnxvYKkPvycwZN4xOMzzTW+4wXI8YzrcV7osaTIfCT6FG6cL9rKfc5nK2MDHH9PRjvfOm9M4SKnWy4UM7q5mi2XI1N0/4O+lpkgrAvJkNFOBcOMxQdSQ/JTjljLAGKAcYio1Z/0ilJpEOMmiTcQU6JmJ4n5o8xu6g8fwbF5eK0KYXzkQFtEeQGkP9INci6i6aCG9mAsUnrn1AOBcidwzDuOe6foPwE8Bmw8jOiRViAJsBnEjVafAIQ95nB8gnWRZSw5wBVcE2k9zoonk6F6xzoFpHfnbJkZ2bQddDpWk59X6Tb61JcfHg/62mITlpPOaxeNdWeQZ2orrMMlQcmKhwc90ghmkshy92RKmumMGrkEySnNAEaIeygdJS0AzxHJ5zHYOxwB6RQ/Uk8DoZx0DRNzA4mXYoKtdgHefVr2dYGkH8tWrLrZBeAJBQuh4U1MzqQzEhLe9rwBOkJwhNoBfgUUWMAYWyjngtQ7su2JxBPjIhxD+Kp+FI/wdI+6HEFfR4p3J+msTrpYtwY2VlV4lmjFN5VCL0PHMmVSPNarVKlzGEsNgy589U+oRuiu94MvwofUCKdOxknJAsZNGmibFRSKP84dtGx1g7QEdIEYEdogjBJOsIVohhmpeONEQyfmx0sS8c8UVMnhHceHZ7Ul0UCmyfNBpD/eFFk7WTXRk0Rz7WgHGYL+4RkaWTa7WGpRIn2BHBPtNR5P6fZ2JWO6K7wgvfRNcUeZjuQeyQr221fHPkSfrWj2RcT9Ug4ogduuqNzdNqEIdfvwJO6JK5Ekb14BZfgR2cwbIQyN1ll0Agli3YMPRRGwpU7xHGFidKk0CuZypjPBCiLHt3qiCqPMWBuE6ESbTK3pg6UBTlhnkTfHZWnYXJPJedfqKDXRlPvrU1shoYbQP5DrUWjxkPZJxo1oTnoyTAegUMyaBjsWWnEYPui2B3gZngqPtO7th0FCAMw42K19lhA0Qpg0vaI+44Pz3vwxhjP4x/I1Vrlw6+HNyJHPlBH7SNNI5AtZrl7S9iyrbf3jT5LQBeLwK6QEsE9oMzEo2A7Vt9sY0bmBHkmkVXqklFv9OhsU2WbHJSzno0IIZkAaaDpRaY3TJ9ucNkMiMBS1acGwEmcDb62tQHkXx1BqmvUpFKHPDTKoTAl1mkSM3EH2r6lywX4iC6tZkmnWaLLmGOMNLs1ZSy61i215nOJLtOXQOgWOJ42YLQEPOlK3fIesLr4Oy6o93AdPM/ENFaA1oN2qJo+O8NeFyp9EsyptJe5SYtZRJrHXCQtABNMwLAHsoMUphDlgXtUMkXCS2fdPQDQoj2DuJQPrzPPiYF2FWEnH5h8T/rbqEOmWn/cOjBMiJ+zS/hWhNwA8h8sxe4ph+ooh3Wa91nDSKUn0BrYRW3RajpdfscTWNwEaxMm/GXKOE9cgmfNSifcL5TA7wXEe1LtVXC8kguf1h9P/bFPX9OqVezaS+f1qPEaTbKl1/PraWZZsJB2rNlA0eFkituoMEqbtccK/yk63gS0K6QpaHAieNBOZJfMm64d4YAcromQwz1LyARzKJBjAjDBUAbQ46fRxh25m3TMWT6NMMw0bJW2uWMqFh0bOG4A+Y8Jlc3EK3bQyYB9Lmf03TBEGpyekCLyK9HiC/uZxuIjQ5b7lJlHptLEKVFjzDxiX67vL36XjwDjGUPm/gNt0aC59LgL5cPrjZcr4HitVolrf6uOJ6JjzljURtrrLypFVjjZjjbqQ5TRxdo9T6RgI1xOYBI0gtgh40hpJ8dU5idHACPoY2nYjNGw0RDbWTxtNACFpWMYAe6MnF6AacoH/7Sjq8WJzfyj+alb+betDSD/gaLIGiSx2bzmcsMoJRuG6FqHx/QeQp1ZrHXIaNCgNF/M9rUpQ2tD37sKiESpTQJj0Nh+sSuzNrt4mlqfDHpLK4+/ixlza9ToCqrySgR670fApYDunKYzxnhaYDin2oTHPKOV8aRUHucRFNKYxDQAGEmNiu9lh6yJxhHwSW4jgVHCDtIx5lQ1wRXsHARoAtgXm/QJQBYwkbYbwEnK0xEfbkEuREKCgTAWWKRFOcA2gNwA8h9uFRMvX7gccnSOGNK+RHq7SKWxh7iLg0HRfY665J5QgGMZEI/HcNcAFK2bXZ+TFwGHJ3XBa3XFS2m0n9NjzqJFfaEBczNy5PUI9FdKCD0tEaUeWecdK+HFBPqsGxnzkQZZGbQxQVMZFzKBwgCkndwnShOYJtAnuU9AyjTV2ccJ0qRo0ITIBZSLj01QEUNQPsMQXW6ji/DBzJ+y54Hm7MBQRrgx9jnDNii+AeQ/VgRZlRwr5TA5cEwCmEYwBZhJT3O0aE8kS7OmMGWMzzGAXJkxFg2ZiBqfYfZEoDZnngt4jlebFOgpkV9Io3+VR32j5ngznb4FhsbHQbOfyyzAyPJcKu6SoXbGAnzsZiDLeUIxRM5kwc7xQsFh3pE2KTxpJpBOs6yoPZbh8RjnobsQoz+5FDWn+KrowfVGBjGRFkBpdHLIrwccPwb/zKlojZ7MqVrYr29rA8h/pBX5mpMYSh1yhCUbUpl3tKdCHXwGbE+zfakxPjcWTEodMNY6oz0h8Zm0+b7RvHmOOtVpGZRXE1VV0PA75hUvAKBuWbHeDZzCXfOPi0j4D4gmyeUQfN9EKr6vKCK66lPwWoP00GhsdcrUE4VSAn1PegYti8pw7MOIQxPEDCGLmMpw+B4qTRpoV8QsolZp2JE8hlsiM82OSBjT8Lwz/8xZ05QU6XUCYcUJc2NibwD5D1uDrCuJ6bc87Gcwq6wYhsJOFaGoTZiIEJ9BvsR1vlZzLsaIT+lWl851FPQXbBleAged9DUvpcXSn/8p3RMxPqrecylKvHeUqXc3NBYaYh+SYaZJ1qaNGaDcGY7NlgiiDTGwr0ziKCuRI0LlB9KR4C5Sa2RJRxA7gsX3JgbNy8B51CeNGYk7GDOGNO0nTfspTMSKTBAiDFULcv+2HZobQP4joqUIe9W4DwFbe4Y6Yy3wmSygSQT4mT0jxTaWn61RY71ARTBuYqRnNq3mIynyqUDF2u8rXtX3l2EvRJe90RTvONvwESfFC6/hEkieqpV396vU0LaN8/OEgpu6Jk83azlbnoM0KnMEfQKwD+Xx4q0tZbhCNDcEdZ3QMcCwptUMMI1tU6TXlklGqk1mI48ZyO/5cOizBj74UW1rA8i/WxSplmYPg7E0WIT9TBG0ffhP2x7GPRP3SGkP2B5WWDRmu5kxgx1phWbIXYx9cFd1rXhvSrkGDg/nYV9kwdxMq08Ebe8N0/mYoMWq4O7C0kHLKLcqkPcMG6F0h1WMvkpXuzZ15s+WHNIAZ4jhSjlSawWLxqIG2eYeiX00aJABHEuDLsNKoyaAMaLICp5mu2Q22dtxIgsNkdVJZwPIDSD/QWHSgDSkFNEfuINxT7MdaDskq6M6e7JQDYNPvWNKMzAad4TtQOwa3xqoNMT0JWB8NI3mWp2yalpWa9o7sbM1jHkZ9b4kqvGF2gdPJsd7kKzvuc5F0os1RklcC1cb5mGlES5fpbFTHW87NQ6zEcl3yB4ptWOS5xj1gaLOGJeJqKM+2CG8tUcE72AE609O7THSjsbjmIYj5Idea4PaAHIDyH/ICBI2wHahqMOSInMPS/saHbLOMtZo0orARAx+72gFOIsoBYAAV+OeKEIUD4Kh1sDxFqjpNNqcQ0498jwXwYz3RYf31BxvDoavxKsNEM/rlqTmURmvwGjFilWAF3YNZtpigNMchRYBIIMwyriDa4JppDBA5SdUZlgxgRyg8MsGkOKnxhJRhpd28HkSFD8lDQOYMBWieP06pPVG2rY2gPwLAZID0xApdNrDsGcKYIyOtdWZxT0shWdJ4pw+G4eWRofwRJ193MGwK+A43AuKvxRN9pqPq/Pj/PMaOuSvF9F4DnoXn/I0Cu4iTJKhCVlR1LumjSMUfur8pDSfRBbVAhvoGgAfBA7wAnQqP6kBYgrwU4rvWAlCApliOl2p/NUymEQrKrwGJpMmyiep6vVK2PrYG0D+dWDYFeQ1p4+WjCMtjUgWF9oA4xjgZ9XgaYQVsCMHoPwkRgL19qHwqseiCj4ATOCJOu8jlcNTJsw15syqWvgVHvYlZfJTIy3cEQF+iRXz+G1nJdhe7d0Qw9+Nb118bNgJ1KYaPWJm13hRK2/lhyInTiQYE91NNKNkCoBLpS5DiEbQQFLu1kqJhEVxWzMwtt9BDoNp+jT/OPjSqGxLsjeA/ItCxWkAfIwJm927h0iumTGlAWkYkAL0aBxBG2EcCyAmsl5HEUrFDiw83SpQgHJbjHiMxa41PRoU6FKkeEuxZxVBrmznZdsE3hzVeSCVvicNP7mdVx4X5ly87o1TGzRFeYRC4WHrZHCcMQ95irphY2nyGFLkbOBgIK2oYaQicGyAjMYKoFYiyfgJDfU+BVwHGBOGXfJ0mEArehobOG4A+ffAQi41Wi0BBziOuwQfDGkqFLUJhHGHZDukQhlkAb6oHwXgFQHccmmWoQCLKG67rT52BLhjPP7XyLVfzrhOGjN3p7+88Tt+mT5+Czx5x99r7oY1NWi+NCuCwU1jt+hEOtbl1RbMzBBPA0vKzAJ6YJrBjgXwPLaLA6VB7kOAoyLLqD+BYU7R02jD7pjH4VgkNFone1sbQP6xZS9eEK3uliGMPlnECmQkiB1SKkK3KOM5AXyo3OngU4/dyM6+AiKJuRaJrvZYQZNXmGPSdSy8Gj1ekDKTfg18O8vXuQTY6UX20mP1g+8z8YfNxPA1K9sSPXZVxw4IOxvbM+/sApSmog1ZIshqs7MAyJgcJ5hgSJJGOo6CD6XGOBY7hgG0AEFogDCQHKTSqFFr0ARARkaRICUKw8jBIHn0kTaA3ADyF6PC0+t34UBT6FeR+AM0kLQ0YEi7ovK9Y9QNd4sLuSOxn9PnqsbD9jgQI8wWAEnw60o9a3XDi8PfXALm4ml0OQLVSV5+Zs71B5y57gXpC1Yt7L+8CyB5cUeRgn0IzN40laZoRPBYeuoiAjQbP5qIaNEHuI2UDjAkRmNmiGgSg4SBYhJLFGnZICa6EsTQxJ3rltaiUiE5xAFmyDmMa7VpQm4A+WCK/Idkc4rOJeUNA0amMcAxOtBRY8S+ixR3MIvtZmNLrc0GgANrysSqB9jqlQPjerr5JrsDXGu3XRwKPwFFnYeDelS+rOLkNQXwRdj+i8C49hx1XOfK61sC64qxWKs9ls0dSBKaQdDURYroxn2slzwiYEmUQSpjOrWu6AmA0d0AJXoy0Q1uBriF900YLcDNBI/naPVLkEZzIWE6HsGNib0B5B8YFX6lIkcBYwYSaGZWO9Q90M21ImAgNLRu9HzbSNYuNUMgFYxmjWEHcQcrvtbXIqCLDZcLmo6n97klcnsRhGrNYaWux2vK4Q8yYK7dfmV+kvfc/+SxrWnTK483OmEAYz0zUjOaVnzkqUZmD7gSaR6gFl3qBJcBiapGN9HxNkZDx1TVMQxW5KJsblGrXI+fTAkKVd+tgb0BZPcG/s7voA5Q2OQYLaV5DKcAnjCC6tPkWdKs2ioUx0IBT5T2MDyXbVXt5xnEc6k73QRD3QOO9wLrCtjpUpf3KjCuRYg36H+PjOzcy0rUHRRGnYIkTmwjsBCl6BBxlkqrVUyd2EzMNxlESgrZHclAFRsuWknkQ1ySMe6D2sQJDmupenO5LVL0xGFIPljxscWfGyVsALmta2l2MgJmI20oplpVrYcBbGG+9QyEYo9gz6xKPuQLwBfAXsr9Q9ACKD419sx4vuER0NaltHuOYG7XKq+A5EMp96Wi4C997idAJ6yn7F9J17lSp23beSKHdgKcpuUMJbCsSc7fA+GWSJnkBi+D34YEZyJkmoEwle//jDnTmjRAbeiUcR8bOOwM8jAP29YGkH8JPgoY05CQdk+0IaTLtJAvewaKbmOA5p5W1Xj4VMy1omFjnJXBg01T2DYcFuhSDzZeBrbFMf4IFXAVYR8tcXwBCPkFIHs0erw3vV7ch3NTB7boSuuEU77obosnNcyz8wVb53nuQg8dGI5lznEGR2ko87ED5P32erFGPwQGmiVNPgnaypAbQP5lywDbFwHbJ0j7rimzbyl1a9hUr+syMA6OIV6BodALB7BrzLDOx50cuZcGtE/51l8uHOhO1HxQoeLB2uHN7V9t6twKaO00NT4X0uBC/af8Ts5Ne52re/cKPyUljrEdMIGNUhiRYwVQ1rlJWLGGteiEy0p3qBhzK81VH4cEunubpNrWBpB/fs2x1sRn/2VDSkEFlAojJlgysZPTQCaalaYNE2gh+wwayaCRkWUouLgvRWXKVg9jPhjp3dJxvJom8wFQvXHbvdasX603XhCiWE3L7wFldrYUXAHW03lNzEDZmuF9CHmqOVlmuCkyOtp1XKcMjKr8XHzdbShTi9NhdCPLrJkXnrhhom/1xw0g/xQoLPtVB4ZsvvJRfspAolk545ezeJjKtR29zqhJhBnLfYNeRrGMZ3B+DIJjrQKY/Bpj5o8f7tAV7NXt9NpOo7A/MJ0mb9+NvBtYr95+OrzOlQ+9NHfOt+NUBINoTyMJjIFa95i3JCGSgYrtxCyYAe5xCoV1NWUS8jKWK8BlFGgubVXIDSB/JSyctbhXgFAUvOxh6lhoMXRBErQQFKgRISsoVtCLCFFIhWdbo8WhCBeMUTdSAi0Vb5lyPz02p3Ft0Plsu9aBULeB8XrN8YKT4iPp8D3p9DVg5BfHh8g7ouprn/MMknM0WbnoPI9mibC89Fbu5Dw42g2kspyxFyk1SroNwj24CiqD6xIJYcj4k60zNoD8326KjCUYegHDyhI79XCqwNiuG81gg1TmG9l3EzH0Iz8QhmL6XpV5BoEDIzVPqCl4KbwTLFqAN470K6Hi8qYbPtdn2++tN57pg11Opx+NGB+sL/KR57p3jrSf1TxLtbl8rtNJgf57WB/SVzG/nOV2GkUHlPt8ShYgiY3DqFhF7LFPe+IOwxA6P0cD8nFLszeAvJYir0eFqiUbroBff8x3B5PIJmYwZJjYgGyUOHKuPRZJMo6k1WHwrkPJgf2wONBJoDVhitvptc4P8NU5yNUBcF4AO8xNilMwuUgb5IoSz+m2B6M6PQBsuNF3+cqUEU8+5C+m6GcBec+o0QnALd/n7DfLk+InSRpNDkIl3fYyLG5R1yYH2n4H7HdhR7utDSAjQ12PCtu5+VJUuJDbZwFPzqDYgSMgmhfmy6z8XJkzvTx+6jrTPasmGjhWbouIMYEYCKujGnb3kXcPg+ZWqtiGn3GiIM4rEavujE7u6SzrHHAeALaH8O+ujjgvn4luTBEsyjenJ63ZZpYldSak+GmVHWOxzRHy5aDRRLkZVIbHi2aajISMoUOJMmAOg5HcDxS5dbE3gIx1HJcp8mlxmheiQnRAqH57N6ZBAKmoSJvLQvCspdKJxjTLWC3GdEpUiQSL+iNtTqeL1NUQ4MiQ14/n5FVQPEv3tLR17g/GPqpbOYjPUsirh5TuRCWtp6fXRn7uif5Wosi7qYRfHiBf4VaudbYXpmOYudv9/qTF37NyojR6EG+KmTUZ0kAsjyNoRnoR5ymm1yajF+YNW/sw6pIpmaaJG9dwA8h5t+VJinwSlaxFhOJJSFBEpM0FK/oDptn8aKKQHBYAaKns5DHH2BTBm0J4iRyt/R56joWvzSJYYZzT686p8CwK5LVj90KD4ZKd66Vo8lFfmVtAdJVeyMfCwXsbMw9NJz0CIPfRLBdNlr5hc16LtK4OWZy2C32QNBiIXFzDWFNoI1yRSjsMFg1Bqj4WRiKBljrtoW1tANkD5bWocN7RKcA8GomnQMgTycIWLAikONCsT5lDXKLWGFvKXRR4qPn2XsgCqhYLJaLkWNRZ/rjT/urICW/PP+pe2s0VsLiHT303mF3zkuHjdcIvf8KXBukxa1+e1mD7z9JOuYow0AymBIGwAoSOUPThDHwwhTQakYSSkgtGIUGWGIrk/aiZxQGwoeQGkADyMNxMkXsgbNRZ4YxxIK6DTXIlkDtBA6WhjeXM4DgCGJt0mTQuQJClo92zZsCui91Jml0DKd4ZMX7l2OdKREqe1wm/0rj4EhXxzsfoDpDmpajwkVoq7wRPXa5Hxv5pkKWoM2IeFu91Ho0JXsbGWHxoiKo8Ps/gAjXKjG2EGcyU86Z5tgFkLLdo+FEFDNEBoS5HhdeODXV1S/OJgAXIteaMauQ3G2+BdXsFvXkUqHa40XFv5/pjHBiXAO6s06uLL5h9HXIBdDitgy2FFewKcNyTxv5BPOqz90RexMA/Bowvdfj5hcc/9Ak08kDQCWmwwqxRFwkGOLL9nEE0tVTd0bTtY04SxLSN+WwAWdbT8Twq7Hdd8fZxeP1go4E2AJYgjFKbf0yd5mPqQHFu0MxjPgvQnB/TUnTe9QJ1JeO7dbgu5pD14AdxAzOkP/6AvJZeX3xdj6TVp/Oc94Kj7svAL/9ZFuZURH8qHOsZFFmHvsvJrvpWnEvhVtXezuZVBhzp3AByA8go7+jBqPCBIEcAYSmBqZgkoShCl2gxmi61ez2Uxk0vPNHVK2v90cYSPVbHwvRYoKIl6i/k9blus3Dtg5BWZiVX/rBuRGePguRaNLvaqeb1RtXNCPfRbvUDe8c1kY+T5vb8aTbB21rADAa2Y/4ioxvOLpVe/7wXX3yVIaLlTTN3A8gvR4VXoKAOkTvisiMY9aLqIseRxgp01dq1gKLNzZdeJTy8sUvE2SLHoUuV+Hj6ttJ51pXHPDIzeZaW4yaQPYota4rjIq+PJf5qTfOPqH8uPi9bfkDsPzeenzSk5dxEhIg1mmQbEq9CAIboXMeJKWYd1aXntTZZapJSMYkQaLOq77b+2QHyUTCsd6+kLqEMl+O81O6CJXBUrTHS0gx0HNFqiJyFTsnOxlPWakPzdjuPDPRARrfWkOHSJfAMYO7kG6/1Gppg7B0D6GvVQi6UkC5yp+8Gx2sR62ogrMeemFfS7TUOum7UPU6mCBimg31qXT4dUqYY41EXPc71x46euGDicI5LCZqBoHKeNnTbAPL+qFAnoLh22NTj2CTICIrE1DyNizhplSsDQJiExFm6qqn7FJv5viBfo0VbKPl8hRN3j0DFPbKNq7YC10B2BZTWbBZOwfFugDulOGKdHdlTIi+Bl+6oT34Jmb9Yt7l8X56dmYoMRciZuYAOMpuquc+WOL04iMXsubtv6LYB5BIHBCBzmSpfih+s7VMsx7Ha9O5hHLH7PMIMJlZA88Q4PacuEizyZEyFDdFGNQTYkqfdUqOTbXdENLoNkjc72NeA9e763BdrjJcaLpcYPmtR4d0iu3du/MPTdD12xz7gLkXI9rpcVRCX89kr2DSEF7k5XiiJOpMl2++f8wZvG0DiwPuiwqYt1YFhm4sIBYD2oB/jC/afR+Pk0b1m6DRKlbFQ5xlhbGl3qz+WGqSlpbshRzCUxFl52v1efrXWt5L7drOLPB3z+VLEswaouCNqvAaMV8DxV0aD+IvRIHm5pnpt21dwUme/Fi72EiVrs3px0psp3IRbFH1IwJqlrOYsoLowpqZfsa0NIJG7E2kfFTatUVRAzFHJlhpAzjvtfDCYVIWaDY4EFukyVNWdWaWH4A7V55rdIDg4kph9sVGvY8fZ7XBYrQmsAcDpAX1Bv1H3pOE9uko3gOYXOtO883638OxeaiAfiHLXOvlfiW4vPXYxd7oMgVnGcjo6Q1ghigyd8bIne7FwDXL36Q67/GvdmE8VDMKWYm8ACQCJpylyiQyltl/VfUtLg86L2LH/PNBypQpyrBauNNsBCN8Zsxn8gF340mBPYA8rBlzEvt2/XcceAay8O51ezEKuN1x0K6I5HeW5ysZZYc18RYX7RmPmLNW8P2e+oXN2B1heGsDnF+rBa6UA6kQhafESy47JdTk6dc2Y5rsQE0FyoRfJbT/bexDhkvKWYW8ACWDHY4sKy+n0fjA8jagAOA1Pb5+jkPYweyqgtouLdqAVUNSumHPtYWHa1UWHBTzbTGQqqfUsiXb+p3EzT66jPLpR/bo1C4k7WTtfSalv1R1X73sniN2FXbz/5hO5u19aC7C7cPJZloytT3xQxyCFogXZCeqqbicj2jx5N2xpE2snG1sXewPISIn95NDnHQWibla3tmbUthHwofKrq64j4/cdemZMa7hYKIWH7Fk1dK/d6jR3wUHQbrdpz7rJt7UJL+LqqljFhbGgPxg077ZD+EPAsRmAX3+AVj7TSxMBX0fL5d9YNsy4SAeqsk+Z/xG7HZlGmLMIWbCNCVVVn8rL6XdgiUyJrfa0rX9ugLwnKqyKugsgXMPMODCsqPDOIraVI1tNucjEBnizswhqx7tuJQkjgyXGfrznygtYi8wYrnUV1E4aCGemh6fNnUuKPmu/X/0cb0WCvI1n/IWvc7XWqMdS6z9zXfp8z8evoj8YquBVAr9IniHEcOmEifQQk2qRI0m6OH/tZKMq1hkgS3bUBpAbQK4dOeJ5VHjxroxR7sL+EoHkIkWr6Uox5uIcAVZV6AKYpBGsoz7N9rUOlbPnZkc0ao+hRnnRlRxxqi94r+nUQxHiHSn4nZj5kMTZ3f7W/PPB8F7q5EWlcb/6RkPbWTXUbj41JZCs8va92s/SETMAc75NRUKNSjAzsw0gN4AEil8WT/jJK5hZTszhT3MlvpEPQNsxh9nUvamGJ4KpU+cJebPmca2hVwwXMYRgbk3NT10L7ykJ4Ob4SK1irT7naqNGjxUF76xD8lfS1EugxDsB/HbH506Au6d+eSGj5ok82pmKSnUshAXf2sIopPqlCwZ4YV3V7QrFHyBhJiWksu/V/bPN6BJIiXMLfFv/zBGk22pUWCNC8Xqoo05SyzwTk1LImFnQC10JVpwIyQHSKGKg2PxoNDsczp1vFWEKYWw+NPPA+OMBcg9w0nWsWHMrvGrt+ovRxq1o6+8WzDyozMNTEMPFsaKeP64awbMpRMzbVofyT9TGVeTJWKiq3tLrsAaGJdDjpAwZScqQiklXCnJse5FF+kzsMpxC5trWPz1AeloqiF88dDh7setCWsmMZMIoFFuEohAuYmR0pkvDxsIywZpi+FjmHMcmacbF3GQ19Upf1hpcUwk/w6EiknVmWK91Tve90dZpFHTP4PZXx2UeCvluhXRrz3+RmnM9Ib7y++WXd6kmiSpO0UWDpc7YG7abAgtZOoq0SN2tRJ3ejQN1zSe5/lCB+g0g/0MHkHYeFTb/64f8i5ico2wItR40t8KRVbexeV1rDMmz4o+96GxjBsTwu65GX8MsWVP3ZrsJemcH1+nBfNKNXoBk+1M8twZYmkrcD9r3sGp+ZWD8y3NB9848Pj46JF0GHOmKZ40uRKuVPCNCQYid3dfqV7XouGmefGDYxrJeiRfnZUaoDEIKWZuazwaQAGRcgOJXFiWkyQdkjS2VXgjhdhcV/nWzcsWsCr6sVyY2znb5yXs7rTeYHbr1qD461B0NnBuva9EMwtd1H/jAjOKXc3R+3ZPrSpAprZ1QrnwYZ/Jz5xlAU7qdwbDTV5EroNJBeCGUFnkBOtpj58fEdUqkMnxDyA0gC0A+CIarx9Qhl0J4a7DM4MYGfkvAi/GfVFKg0rjp71drRqj374I3XbVhvr3tRm2xDZX/icfJWnPmq6K6X8mwLz7HtRT8yoe+ep7glRrnLbDvgHQ5dtPoL6IVcJMHJs5A18bIPdKOyLBNwYf1yBZK7LiY9fKA0G1tAPkYEK6AjaQoZwtUdqNZmVMMYCRP/ENYZcpi7ILhIpfa0DiUoBjtERkD5EAq3iI3lLmvHP2L8Z4HdB1PZ/CEO8ED66rdX60xfukxl17PtaBXD551eAEd/6D5yiage8auEYxOD8LgLGWG6heLMuRaxAHiu6dFbAkxvA1rfbkSyIwCo7W9rQ0gr4Ph6X4uzYopXUOYkBmQZEWZp3aohehYg0Mx6Jq71IV6qHAzLE0dVvrhrt2XqmwcnqdmvP6ia71SVw74K6r/NzFHVw78O2uHD2XFd4/x3F95uIbv94ejK9+Fvo6JF6PJWXNzKT61vNYjnpbbOz4tIYii0ZVLHRJFCy2I2FsMuQHkBXAsALgAwwXIsDPOJDD5oBCcGKHCsxYHUDGmEw2bHRoQYoxokWnuWvdpOVhqk0Nzp2slpu6o46zAcl/080gKvlK7/MU0+tJLeIhSeEkJ/I8Aopugtian/EAn/JGywZlljU7UfSpItp99XdEhOUOYJzTGQcHhkBykg/BIyymaMkSX3CHP0M2hjm3900SQfh4VLk++TWm5sGYsrrNofrvMjrl4zqgyYJoPMecmTKUZ2syWQSKZYDSYRb3RYqCcjVVTa5RXOrvU3Zh4KVLUtcaO/mDQ6UDhvDFzi5r4R7sfXgLGW2NMt8YGTk5e7GuJuuN0sVbWaFe8NVoIDyJpAT15Ab8KkswQPBo0AY4MSy8XrQBmbexQ8vi52XZtABm73NSFhyWLlYWoaBsaZ9fpLjtq7f2Zy5jdJBqNQ6EEhgCFWYBfAGKwaKzUG60waqqALjqmDdmeo/jXnKo3rId7l2qEPHEt/DNt4R8Yy7kYOf4ZPtlr970YMfL8hgVWfkWk4/og+fl31mcK3UmbnKNHwaFIjVnEywCbz/i19lhri8FOjG3mdQBIceYPnxBCFElY2tBtA0hAA5dRYZWw73ZslsEIkxfR3Dk1H4/ZPCPNEV9REDdLsOJIWMd2mnpPsX61JmjRHAvZ0xKtWTA8UFC748B9NG3mFzLIlVnGi6rgizHDP7E9cFfPhdcdHk8/mBrxrvgG19nHanFwxqY5+6iW85Y6He5fUnYCAJtu5On303X01LFkmoFXgceS6TSHQ0shZDEMG7ptAAnk3XBWj6Q7rIBgD4YrxwddiLTainyZMQFWALPUGclEa4yH1HnP9I6GBhYvGslmjZ8yyc47wFEXNuoLNcVrA8w3QeNPSodvFjEfuvH6+76HT306m7j4CHgGlGvguZpWN5nGc0AlyXK9eln3dq48uZw6Gp46YgZQxnhQsfqSYJTn6c/MMzaA/I+yzL2BYAXEi4d+BUvNdi4MSleCGZGSlf26SpOxjfbADLQibmZF4ac4fs3PVpV/ak5vV6zfrwDjg/7WX6kl6ko6eepw2PHVV7FngREX5NOuzUBeba58QXziUvR8IRXnH6L9+Gi9YAmG0upkeedSLM0/1f+eQTgc0bmWe9bkRz9s4LgBJDBMvgqEqNFjtzuKgFI0ZzwRzMJwFGXNuJ3hXMim5QgjaVX+DAajFVwttcnZxpWzrWvXwb5w1FxNlS+RrU9mGr0eSbrjWDxt2PDOKOtGtHaNYXPL+6XXS7yKhV+YublBtebf2dRqEXESKjaGcSEcKqZJUgE9eeEhZoV2Wq6/g20UPDMaOJqfR06XzLZJyA0g16LCCoala+1V79FWSnBGkyE1KalZt7E2WWIQPDKZ2qFOMzCWbjaaDuRyW7BoLqerp34li1rUyTykLoAkihL12X1XuqlnSHEqvou7vF5KRe48FD0zqlrDuC+6BT4KiLgs/vvXCjm0dnjpSiNDyCRdXoASZZyn3E5Et1qUR+OGFUgFg+hwGRyCi5JMGLYmzQaQsbsJSCFt5la71idgWDvWJSmJpo2DjgTHrBzulWddtqnxsZv4RPzUiFD8GcLQCyOBHVS8a6CxGHqlS+DYWXqeBHo9YPIc4NZEc9GJVKxg4GVOMK9ni8Kyr3B3VFnPUmvOgCcozF8MY3mlhoq/Nmq88AF5ix5Jh6uY0eCEl12iwlJX1GJESJWTXW5D7YoLDplxS683gIw1PdnZuRmO0qRpu9GZcTZJ45SHxpqpA+DCDqoApzDoUpEuqw6Gdai8SpyRO5jV7btuqJxtwucKW0+6lnrzel2yA7MFSN6Vyt9Rs1yJKolbKuG8An4XwPFXxn0Wf/NaevsPkvOwgOL8ZblqxNgAsESKrdZYLl6hsNYiG4hW+HRgA8gNIMuyTt+kgeGlslV/3TXAa8SHoA5WjUez6kg4CtzNWpDYlVnHIYCzsmwwRByLENlVEca90qOYfy8Ubd0ztHwFxNaz4a+B4yob8E7zrlVWyVdMsW4p5VyLcpdpfnzW1040f2cAVQXBGk0uBI57hk2fKFVQVJ8WqEalNS1nliH9uSIlG0D+BwLIw4V9fKV7qTIjScDsU4OEwrFuQrdBIZRi7AelPknFthiwTC0F78cupNLcOTHl6pBxrWcxzwI/AGjSdcuFtZrlnRxo4lFJssvAdFY6uPakq32Yex0KT3FVN17jX5thY71bXSPFHiAdkAvKi/ucAmywbkJ6xSUdPzd03ADyQgbaWS+0znWvE0GAWUxZqUmYVfMttmZNdZAraj5tdIctWLE2lF7+ryOPDYV5T6S0ihu6JFfzgHzZmar4bYxo9gFNE4G3Azud1DfuPTRPRojuxq4HS5ZcZcTcW9/kymvm+kjT/ZWLXtOxASJJV4seC2smrCyjBVc711oAqkhIEEhTONeEqt7GpNkAcg4+yNnW+oa5VN3FZXUEh8V/2KqBfMhH22JbBURidjhsQEhyHuSdx35mhmFpTlzPovs0esXLpAeUX6UbCqtU5dP65UWgXO1IzyW2i5YHa6B4ExzvFLa45Fe2qgauO2qla5kIV/je95zxzj6HCoTxzITgJbKMlGJu2BTAZFE4mzUi6/6nOssbFgyWaC/fsXGxN4AEAORhvTOpAmxVtb6Zc5FIx0N/pHGOJGcv64UWZBGdYGXNWFUUX3Cwa0pe+dxnB+Tj/RLhTyNDXO35PKD/eM94zb12rldT+A7R7xkf5Z0fwrXONtd8ePQ1YDx/iVzJCrrh8YrGoRYpNJvXer/Um71LKrNsAty3GuQGkCtgeGLepc6wqqMsIOUc9UMVIy0plfQ6LFzFkVzImI0hfMulCVf1p0Hrco/F9vVB58Lbhlz3HXwnXexbPlX31h5PRR74SO6LFVWha6LAN/723X+aVyLHa4B/h7/u2gd699mvKegu+dWz2+HyzlqJn7VA1tK1DkVy5UnyjI1luAFkiSCHhZxir+NiVcG+bScsHxOFQUxhzmWMBg05NqtXY2ynjZ1d6wD2ornVpIvVqKuyZ9KXHP1upmZ/wD5/BShVHOlPr68Cxa2Gyj0WOLwRYd4Lwv0A/NX0erVDhou2C3fVQ0+sFO4CyVY+7LQgq9CtuvGdnlqIbvynXTKADMil+AnPDmaBxy3F3gByXuatldzA8HTyo2mgOA2OAMcqU2YYGghajR41G3KxRpJVvWc25wqFn6oPaamfRr7lVKC7rBF+ATR1AZUu1etuiWjw2vNfaQRdA527mjT3AKge17ZY6+4/7AqxpkPKi1+I1M0uFoADCl2QhU4YIz25aD2WrjVDIDfmHHOhFQqkk3A4Y5Yynn9bG0DGGl0LMKwsOy/FbHG+mDuHrEEqijxmiUXDMWiEmPUeOdcbuRDJpVWNSLYOeDP3Cmner568V0HyJDzWSqSyBpT3AOwvWRXgPGy/9MRnKTrP8/9HP7Rbc673ft6/XN956ENXAFvpYFfuC+BBNSwjO0AuXe4MZ24CFV7AUl0nXLEKrDozvXIUtrUBJICiNlophuyzHi2yGicBVxOZYDRkAtwC9NhGdyoQVlfCyr+e5x+LU6FCO7JSEzmrq50yZVaZMxfrdHfWLO+OLrl+261ZSF5Lp7+wbS3l5bUX9PUD/SKD5lpK/+hJozfbuvn9UXFqK5FhAFzhxhRlcK/pNWfjrn4+cp4pnS0aamqefaXTvq1/aoCcxhUwRG3YpKYs7pbw/O9vJkcqQ91prh0yNdtWIYGyMjgeArhAgntEmVbuAyWhCO2q528vpHqv49rdncYb4HnLoEuXcYf4RRvWR2urWukc64Fojn/Sa730XGs1kdNm0lod9MJ3q8aG6QAOHVGQlYKoZYtG1air/ITUWjas/pwSubVnNoA83elood5DK9dt7mq3QmVEj8xuIge4AhSNEQUCBlNv1Tor/Aizko8asNaa5BD1TMRjtHKQ3Eu/u1cX8lqAtsrHvvYUus2e+fIXc6mm6RdA8o/A5Dv9cPilJ7+vPnHxxNc1XNTnNn2jpt5NfnZ78bDpeKnqTbw8IeeKrAReN3zbAPK4f17OPCJGeSw7UnaknJGmHDHl5ElQbbQEGNbmTHSyB6KCXlwEVMAs9ymKPlG/HNs8pJgekoshz4Vp7wHD01T8zwgX/ki8PIu0LoS1d81T/kGvlV8BxItpwFKeTteUiWs6XJ5IRf9xaQMroNYdUW+fa44sgOheFYEESSSzAGXiLo3mbf0TRZBpygGIU0bKcd2yN53IMh9JuEZZkSkjB0ZKPDQPmRi+XUaJqBJo9fZmuVAFKazjZl8cX1mrP9JOJc/0ZcDTFx94V/T4q0fbaf2SvAGOXwPGu2qOvFAGeMhojJdnO9ttJyZfVTGcFOSzOk/cEh1rMFwN4wWFhSuQQTojN3e4qud1GfOBE8hyd/Pso4JUswHkBpAAgO//9XfQQ0GqORcWwdxc0m2RGPKUMJWxHfWeMq12WFJpW6TXxblw3lYEdTtzruZbczP6wGXxmzYhYl1StSaa+1X5skejPq78fknz4dG5x7UH6aSW92DOzWszVbzzS3gkqlwTO16tvS46hl2HujZelAlkkRnS1EZ9oAyyiudOAiZIE8AM+YT4/SjpCPcJ0zTR5WmDxg0gT5enqEF6cTaUnbFqOExT1BFDFDeRNszq4JzBLrrSQwd6qabfkUJzjjgDHOuw+Fm4yFu83e7IimboykjPpZy1YUh5vPqaol2sNfaRJq8XJ5cv/StjRLhQsjtr62NF8fw+pfObUeMtcPy1guf8Xio/+vR9zL8L0gQhLsAE6AjgWMEO0BHSJ6BPCAdIB7gfJB0W24RPAAep3N/9U56Pmw7kBpBn6/N5V8Z6Ouvp6iBXJiaSaMhIcnXWrR0DRphTbHbWC5I1a9e5822ts02VIfGiAHTxOOSN/PESV/tC6NYrj2vpvXzRAqcDR+JP8q2+67n460/+iGXtrzZ/bllE9Ldbdz+enJ0CAD/ni39C+IR0EPAZQKcDgOMMhDoIOEA6QjjGNi9A6cfYrsmPH0cKXns3y5Lmtv7pI0ieNv1avhoTteMEQ5ZBSOGuXmYbGyMmhCoC+MxiqpJW9Mti7CfMvGqqXeXMbP6dC/y6HwC0PPZ0MvG+Kvx4uwN+Sh3s7yNqFThXwXM1urtEmH5Ad5G8DwH5YFr95b955+23yhur340yoINchwKUBziOkI4Cjg0AI4KcCosmrkeEeQQ0xQUZqCm3H5F9gmtyuf6hdC83gPxHya+nJdB0sSSL6i2nCXKVKI8sAtPs6ooGyESLMdvCnAn716Z3ZiFs1plzwdgcEBe7Ja8Firfz1DVRh0td7K6Lekmu7OxPLWjTN1Ju3vGaz6hM/ZnrEhCtjUDdoP3xVs1xBVx5AzBugaIe9ONZ/biUpVJDjPQ6n4BhLtzqqQDjcVl3RI0gSyqOCcIBjklTPiq7B3izjKJzyRHf1j93BBm7fyphXS/qbaBPpI6mascKVS51ifysPICh6GOFXNhRChu1cGbYVMphUBOvna7/iP1UuANwq9/TnxlFXJqvXKM96vbnwQs58BprZzERsMK86V8L+cd+Cfc2xtbv5129sUSBOqIBZr1eAbBFluU6Jni77xTCFIhmDe0IV+Y06E8tjWwA+R/5DewaLC4Py6IFQBBmiUkGs6glwlIBvQRjpNxxfYDZwFJr7JoxVawilH5Y1H/QzL7srvTwLBOdN8z9in7kh3MkpjVgPBe3OB8Uv8D+uLc+95UaHq+lsHdIgvfOiLiXOscLAPzFyLHVFXnh9fFyTXK5vUSGNRrUsVi7TiLL9ZY+RxcbFp1qVb9sOMQM2kQoKyLO2gnPs5Yf54SHG0JuAAmUjq1m/v6CgABQMMgGmIZIk+sMYxhxhVgFxhn0GLeBxaWQI2A7Ll0NRwgjDDuBA8+Q5AaqrPKku0ZNa750Q8jU8qkXIz9d46YdLbqetp4Fg3/Pxs2tz+ce1L6Rkv8KdfHa/fq51btAUiWCRIztCA4pg3AKLiKAkJyNtyr4sSn/eB0sb4o9ksuzABN3dr1EvK1/4hRbhw4QV+gYk3bhXsgKbvsW+Tl2gu9oFo6FYe+6EzAGS6YAIYsd7GzutWuD5JLNDgR6DGS0fgTyNMjsGzYtEjw14ekroBfGxq+U+/5UyuEquGkh6r4uxssruHnFW/tekYq7rWk4s/vOhgp4rbutEiF2M5DwOuuodjZvdciq8uMtNZcyXBOEEjnWGiYmuB/L/TZg3ADynmii832lwImGSaEEHkA3NPdCFf40rQJgGfvRQHIsjJo2ChSUQwxFQbyojyOtkwt5O5o5HwX5wwqUuizLvdJE4e0I8tLg+MMv9RI3vYt8r7m96s/1uOYVcA2QrDXOcu/bMk25gV/Vd4wGTC51xwx5BceoOTqOqg0cV03LJ6l0wFVS8ZyPcB1Xm39bdr0B5LwzOLBmMwAQ8koJ7PjVTSh3gCGxCU8ggRqIVBV+hqb4Y8WPJlg0s1iunU5kn5hA8cGj80QBTCHPdn6nvra2oMmpzULqFBG1gjx6QBrrHpB8uD/EyyDOL6TYpzXCO6LHBeDeaMbEzY+MXilDiFGeiPxqB/ooV5lrxBHAAW1YHLEtRoLiAh2IyprBAfADPB9KpLkB4gaQ144xLVTsZ784gblZI6SZBYNZARyc5x2jITOL387zjbNj4Rny8TKN95Fh5j6i7A5A1oSbV+TOzM6HxtdA5M+wbBBuj0BeVde5p9N9y5EQWHSuLzFneB4RXkHBGyB5T8hfZhmhI6WD6vA3yhwkcADL8HcbDkdcJw4ga9c7AJM8wOwT1AHOg1zThowbQN4+Zo9+pmxTsILR3yMQBl02k51bRmkhhCJBFBT+muxTvarAZ12bmTBoFsa9O4q5lXp2L77ZxBKPmRt2jBpdYuA8gOSr7JtLwPhQLru2gV3aryvnlNPz1Bci9lvfw33FyUv1R5V5x0MBwwnEAWAZCMeR0FHAAeBnA8w6FK4aXepQR4BU0233I7IfQ/FnWxtA3lrela8SIYtJR5tITAC85pHNpIlN1eLU0zqGOsKooabS89xk6lR76vULGKjHQfJXapEXvLLnuchr4eMXClhflR27aMTFk4hSq0pIt/8Q74oeH4rsV0C0Rp/qJwn6OmTImB1r9Cfw2FEDD5COoo7I/Sxk/BS81h5z2+YFGKUM9ymix21tAHnHmp5tNtEsO6iMGKaWFs8WCbX2uFDgYQKtn28cFiZdYacwLoBxlkI7H3r80qjJuhdNSP2t1yhX5yEbuGAxF4k+ab/kRHiFw/046OHBjrG+9rn17+dGzZH8ol/3F3fLuaGiaKaoRoCaShMmQBMdtXBmzFQ+dtQdm6iFPkE/gnRcqoX+qUKhG0D+x0uxGxIYNBAaEmzK4O/HBC+qPNXHGp3mo5V65Oxa2AlVWCqPi+ZObdY0cV2kk+r+18HxztrX5XR6pTOs00YOznnZJy94bcxHXS0U96bY10SLeC+6PoDEQjfMfQFD/whwPPluVuuQsTHP7BgdJU2AH1rq3FJobw2bkl4fCnDOQhVz5/oQXG4/UDqSRR1yA8MNIG9m2P/yBCUL9xgLkLTfD8Z8nO0QwKrzWGTNMIamY4sYUxHQ7VkzKTyx63gPYjyIHGkc54mTC/WwK/XBy+BymiqfRJFroSR5/lwL1sytdvP8vIKfgKQW/7OPNM+e9nQuU3cOfK+NIC0fG091Wk/l8iRB/lpq/YVT8wUgnapkWSjx1NpidKhVa40hThE1ygqkrgPcPwF8tqaNynX3A7IfJc/96OO2NoC8DpAvI+gCJgc/DrBDRvr0iBrnwe5xjiKDNUOWuciwTRhZwK88prJoBiJuh3EE4iLQVjUW7vE86UGSF0DS9QdFl10auqAiXjrQuYDE9UHNa/7aK3OMp0ZXZySfJjF0Ho3dq6t5Lzj+Skp96TtYbnLUMZ1FswXdxQ9wfZbmzOcCBOvYT02tu2gSWdGcsQ20NoB85A38D/8OfE7g0YHsIMDENEppBH0IlkxLjWcGTFAKi/0C+tpkNzepoUu1E8LzOqlxr3/BEfCa9estwYc1ZF1THL9rtId3bzsFVi6iyRUAxBVAuUXJPgPHr0WIJP+4euMaSHIRaJdutA4xx1ilygIcBR0A1qixgWE3+jMB7H+v85OTTlkz29oA8q599t8/owZFADsLWbNPTyWtTmLpTLPYLKjVHYuTdtlmtZEDxM9WvCpajyQIqgqlrUUmq5HOSs3vhjXoldLXjed/JOK8ZC7FO4qHfv46pMv12EdOII/WKq/InvGesscXQXJm1rTPzkMBPOqMRei21h472bKm6Vhpg5U6WH7XVOwWqlnXBOUMuD801L+tDSABQE+AzOdR7p8Oz8aUShIb1AeDe5U2qxaILKDImW1HFo/rGVADNGtUWQaJuFJ7vDcauzD0rXPtxjMR3a8cCSuzj6dNFy3437r776h52dt5in32UxfqpZfqkXH/q6XMS4ybZkXxdxukVtAFC9AFIHq7XoEweNmOxqmO29Ru96roE11s6AgqhsWJfNd5jjGYts2QbwAZ+8fYMWlcUFbxufZwJwwxiWK0pdqdHgQNFBOoAeIQu5UGVK8a1e42xy7FTgLTZQ1WXQfFh87+OteluJU2L+p7p1zhy2wc/uLU90WhC30xijw7d+gKB/sXgHDNTuEyr3plu/qQulAJe6FbNb8ZoSmGH4DwlEFr4hQrhZqeS5+oPjSeP5w6inTzrnRSVZ9Wrm9R5AaQ8/rwaGqENgpxQKKQJCay2LqiORmGKZercK2VIFaLhSFAUXVGcqYbNuXxe3yveSMdPh2KPk2/1WWwhQ/Dk71+ofBz5WiQ7gYs3YVmOolBr8mN3UiDr4HdWtR5+r7Iy+aH1/72XUo/V0zTVssXytVgC+EvcwDwgeo1IxzCg8Y/IXwUIIzbomP9WWqTnw08VYCSJQW3IhRuOPc105ZebwB5aR1yJxYKs1DlMULWjLbAct2smGwt2DOFk113NyupuZFWZMlbQbI89pLU1o3h6F4cQpcOyEK36+mGF0HukqXCrwDjtZok78K3i0D9R5pprX3+Z6rjayDbvS/eqAPfx1/PDfDAg1TNuEqK3CJBHdq2efwnhCeqkddML2zNHicOcq/8rg0MN4B88PjYpWIZQ+h9osGMZgGG8bNAYbFTICqNkFCxU5hBswJlZd70kaQBNJWk8r6o6BQwa4SkyzVJab2DrTVbgxtH8AUK4sWIUWsAchkbr2pIfgkAeWWKp4++2U6Kp+BIu3Oy4FID55pa+Mn3QFKdKs8B0JHAUdAB1AFZnxA+BR3n7nR1KVRv2rWgHAa1sNYfuek9/oXrP/5U1VCGxAkYzSwlo6UARzPCaDQbWP1larOFtNJdKOztav2qjk0j621g1SQreG6itboHC1e72Fcz87mBXpvo9USwvD8Xdal7S6C3DbqW7pAzcF95Dt4Z6Z3dd4XqeGYbcAKOa899z+zjLTsCPiRZ52iug40Rc+y8rzu2jFehimmejSxdbyH418BRxdpVjOfiowXbbW0R5GJ/noeqabPBVqMNkhiaf3UFvgZ6TGHAhRkIK0ebSoD14hQ2d7BPIhDeAkDdTotuNGIemty50f2+Wm/kWjSJs7opT8PLR3yyeKUksSpSwfO/swJyXxPTvTUuheVY1vw3pBCQ6CPCT6mly58I+uAnpA84Ptp24UPuH4DeIb1DeoPwJukNQFyID6hEj18hCmxrA8ioALGzn0HiYkRH0XWOIydBMJhSeFyjDkMYYSGHZquqDXNnhAUNLx6kl6hzuA2ci6jt/HZdtH29kAKe3E/35GcPNdv78Z5H6oQrH8ZVcsyJ7uMjij28hwaq2/jZK4mH7miNHN8AvTdQA94hvEF8A/QzruMNqMCnN7h+SqiP+QnpHe5v3e8/RXwQyDorpWyR5AaQj9YISmWQgvBujECvHA0x1xguIE3PkUXh8VTNwcpQXwPC0sohTw4VnnVZT6lz4mMAtKo5oJUMfsUTu0/2TgFWt+qND65+hKgYpXE1Pb6vJPv1tOGOv8c7OfLkzVrjSUQvAJOkn5AC9GoECL0HYOoNKj/h76iA6HiD9EZ43Dc62u+IjvcH5B8wfbqUU+Xiw0+G0re11SAfeQOjKhmQ5iEkXgbCOxvMDjAZDtddPaoU+3oFBNVHVVXxohP5F64FOAqL5o5OwFEXwFG4Lr4rLS/9trPS6ok6kK6UXqWV7dc78NIDYIYV64SvAO09tcuQYQ4gdA9wE94h/4AUaTP8A23Mp4AfFD/JD8A+AH5A5feUPgB/B/wT7tOlevS2tgjy8eUejnNOIlUXhSJ+Ww2zSYJi8cCu7JhozvTjP8G/jtojS42y1SA5T6DxzrraJXaNVmh+K4igs872pchTqym67qp96jYo87bqeFNh77UddeGxp9niPaOKq5xqfp3SSN4HoEtBTi8jPB8N+CI6/ATxAcc7xAJ++oiIEnGRYpvwEdFliRxj+zukDxmOm074BpB/bGDlpY491Q61J8CMTAFqrOITTICZiBggD6HcuG5NC9KKFmTtdtuSt80rMv93AOMaUtyTOpEX0+cz6bPFoHlnvXBt8PkaWJ4qZuMEBNs7rf7cK7XFS1x1YkXYdqX2yAuAZleix2up9SXVJV07kckrmKkAGsh3ZH+H9CZXSaXL71FvfIN7pOLSm2qt0fM7XFFzdH9TAOYn2H1zveRdzWm2PHsDyC+VoyiCKr4zMbsowVjtEjiP+LAOhluNIrs5x4gqZ/fCGDInybToSNwyiLp48K0wYarp2ClbRmwaiE3af20o8XTOcUHW+QPSMq3YR3AJwOu89BsnkrvA8Zyb/VAK/QeehiH/gONN8gA+6CdcPyF/l1rNMYDP9Q55qUe2CPK9dK1r1PkO+bsT7xA+KeW6P9RznJ3tTBtAbjXIB1eMQBKQzeM6kpGaf2+K4epmHzmgDYNXhg0NZrUTXofF7aRpcxIlnhgeXioZ9ffXlRLTyuwfr3XNeULA7eqMKv/W6466UHO8o1Z5Mde/M429qWbUg7Ju1GN/5ex663cCgVWfMaaD2oSpqfFHuV4aMnqLWqMHILoq3fBdro8ATr3D/UM5vyvnGP2xEKKoPILZbk1BvpI2gNwiyK+tLECi8WhWhCZK5NdTCGuNsVi8miWYxb5IskWYNGNr5sQgOSsPe+m4ff3AWmRml0xl1hof511qnd7WR6OnNUi/0JTB/dTDPybgwhckzf6A+15K7R+pPfKstnssM43vgn8E6KmvKb61mqTrQ7W+qDL60yLKOvIzjwQ58GHHnH0/gtnL2y2ptGEx4hOd7K1Rs0WQD67jETge3NxlkKKK46TUUwRVj436e+FVlzaO5u0z5bAdTWnOJHkCPKdRzUno5Vh4dp8Blq7dXp9jJbo7BcdyEe7oFusLYHdl8FxnrXPdPzT+iHNhrz7eRfEXu9e3GDQ8id65EtGTxxIhvrX0GfgJcZ5vjJ8/44J3BjjW1PoNLPOR1BtYZiapN98PH++/PU88PfHxsn3atjaAfHj5JOggImdTdsKzQTlOtyqgCYQEmkpxL/LcLjJUE4xSO02HZqTQuSOdjbzocqqoS2i0NhZz/pyX/tQS8C50qa9R8dYuX4kQv3THP8or5gbS33p9vCsTmKK7vIz6ECM7AXQqg+JCzDRKb0LMOqJ2rt3fJY8aJfEO9w8of+YxrFv9SmQrbiC5AeSvLgrMgLwbfBQICXKVESBhYdAndpW5vpvKJh8ewCrd7d7HOw/CP6qetsJlJjqhonrAmS0jqEsK3PeMy/CLaHrJgkF64D12G8R1Tva15763AxzPmbtU+r3VGBstMK6rRYv1PmWER/goM5LvAD5IvoN8h/guw7uOPNokwQBPFlJ9Z4SDRRW6jfJudcgNIB88/gikKtJTJa5ttqhqyi+n6SB7qdEGtkvQYC/c3wHNnRHRvSC5Ej2uRn+4Ehl2f5S40e3lg+K2N0BmOSzOE2bQg3YJV+9zp9cOcbtBdPnG3KLEOs4DvSkaLrUL/dkaNXUAPABznnFUHSDHu0okiZzfAXwSzMxB2vKUYO49RyFeSWfcJt7xWW5rA8jVlRIwGpjI6MWUoXAyBnjO9qzS9tZZTlrDMHUeo7Ng7mkN8mIYdhKOXaoHXuxac0XI5o6pagIrhc3zlPwSM+ZLafalfP0atfHe/PfGbRfnOu8E49XoVCgqOx+l5hjgOA9zl3S6zkKiRZiS3gqn+h3yMgbkP+X5J6b8A+4/M/yD7i4jMAmUkAcDszdR5DrzSADe8c8JfVGMY1u/sv7jM2liONrU8WZa8wWsLJly16L1KAbdcEYiNiyZc1ScbLsgvnriQb0Y51lTAF/h+J5ZItTOJc5x/OIws84juq+C3yUguSD2wLvsBbsrtxTDcf4R34yebjVobj6FVMDxDfKYcQxw/AnXDyiEJgog/oTjB+Q/4rpmsQn3H5B+RNRZnsfw5gnHnM3TMUfGMzlMQh7SPMta369da9RsILkB5EMlSAKfYbsgiEwdvUJ9Os1uCLFFUiyD4pwLW7Bm3FVG0Ll2ILcDt5tR40oqiAuRyuUM+3Kt7rSxc0JF1L0K45dR6E5NxTVw1PVa5dnn9Wggecfj7vXCPt+US9r8E0K9/IDwBsdPAD8A/Kwd6xjlUWxz/JACTDE3c4qQhf+E4S27Dlac0VTyEjpgckxp2KqKW4r9J69cGjJQHRarTZYiXrEQngj71joCpBZ3WgNSluexahlLnnWJ761D3lX7uqPk14PnJaD8cubKXwxO+Pgb1Ree+uxl8/bzaeVktbzvVGqLP+D6HfAf8ADEAnw/5yjR30u6HR3sOv5TfWXcP8t85CfcP+D6nAY7tsriaTk7x0nFjcVlg2ejsmJfW8ZfwCLaAPI/9nIRZkXXkT0DhnX4u9QQa2ExBsIjJS/WC6hMmTmSZFP8Ifo5yLV5vYV4Lq+ne9eOet6BCuq0AQn0g3NdjaEDvI5tc0tNG7g843lhpEiLB1xRnXj0hHIt8taF8alrQeb6ZJBDOMCLaERT39FneMtoeUEMg9f7QPhQ3d5Ue0qNkniX/CDJK/CRpa5YXBobQCYD3We1+PJ2rXy6vDcD2dYGkGd7OEGYrMWJ5FxHjNpeiR/JYrOADi1mVKkPIM87D+R94HgWld0h338m6DC3vmdcK1YLaymqnUSAXMQb654r9wPIDaA/tV040zm7O0y+aE62EABeRozShWbQtRGfudMeNUfXrKgTUV+hA84NmK6TXSJHfy/36+qO+Sfcf8L9DdJPAB8yxSC4ca5AWBSWZQCn0skeEpDnTjZ7c7fynS8ph1sUuQHk/YkoNbkBTnXGmKzRYMz5GJeodaoBybBqqGk4ToHyesTXBZv95TrAnIg8cA3oeN6fuCcK/NrnONcReSMn/qXZzpPbSPyhmeNdTfLarcY74D+hqriD2ph5gwrQlYvq/GNjx+hNtYsNvEN8g6U30GIkSMikgYoZx9J7gYyooMkMJHl0st07e1+0gqVOPvStk70B5MOZl1zwRhdEh1JmcyiGTkT3RNeR61JlhZpd65ZLYOseuwqIJ4B5GVxuq49L1248j5CaSMUlAHwgQvylIuqvPt1qFPmF5z2NzoVjRIb+BqFEg0EPVFUEb8IUqOK25bp/tBlHKFTA5R/w/KHp+CHPn2JRdSSBMuMYjWrBYfE2LFJsSvCUzt/3RjncAPIPCRi8ZsblrIszQNIqKM2gSZBkY2dYBbfZWJnSzRrbH/aGdBkle842dBEcV8HzHjXxvt54bVbykijvpec7y77PueTShTRdv/h5n08fZMg/y4B3SZ/xIeld7nONcRageJd7Fad4g4f2o9zf4TlmH7MH2Hp+B3Xsx7dYRniEWa2nLyUyR7vQr4w9nVEOaRtybQB55zoqZnGiLzMPeVcz5T56YJuVLFhqs5xEISgWemEcsmHO5NCJ5tYciT6W8nDFovWe6PHUH+VujxldzzsvgeGlF3UPk0b3Fjh1JoQhXXpDDzB/TlXMe+R1TQUQ30rNMcRt5TWlDvWdSKd/yovTYMw//oDrp2YR3JmnTfz0Ib37uD9erEU06ueMjgRgFSBtTscXZpHqObLEZgO7AeRjAYLDzcyN5hbAJRBeZLSLZVf5GfZdBfSUS5XfEfSy+rNen+I6w+kGd47CXKgR8pf4zLhguX0D+BaR4wX9x1vRrHTX61k3BtPV6HMtlZb6AFPr0W0HyFf/7nJNQR8s9UYvIBhD30X8Vm8BhB6R4SyO+wHXZ6k3vjUnwsawwYfIg8xcZ8xUgvIGfIYY60FNs6cASh+sdLVPKIf9x0M8wEja1gaQAGwwYKCnZBlpyDTzADVmMMCOPQCKGWAG6304hRETc4AnM4CJLPcBpgKSCwAkVyKER42jLo2+XFLjuWigdVp35P3SZmusRN1ZAtAdkeQCqE/BeaHu2+4jrQhc6EJN9aa1LsKmNUZ15igRKhzpTunb9Q7XAdLHnG4rdB7dSwpeZh2hz6g96gOuA13zFFlPvyKbGIU6gKQEGYGswqgZViiHRXD+jHJoWxS5AeSd6297IZkwJGcyhzHDLCMxIzEAk8yxnZlEhtEL+DkIESXqLL93qbaXUXL1ALgAxzWdwQs867Mo8gwEsNB8bJjgK3OIHYjoatPmMqhejeZugvraTXdYqN4TnV56mHTfizk/OR0h/4TrE9BB0kGuzxIV1p8fkH9I+lDW7EQo/4gaZJmBLGk5XG/K/ib4Z4SI8YGq1AfFckomy4xjd64ojcXWqIHDh6KQe8vwbFt/1/W/AS42wNEUUz5ymEUdklSJ/HxpS1CPtHafAohAScnLVMbZYOEVSfH7cmStCs9qBdhW7kssGzVrUdtdwPRrn/Wa7sfNeutdKHuDSviQCrnmGnQogr/VrrMcVVSiKn6/V0ZMqIN7UA0jlf4Jb9TB+RJqPT8BfgDKoGBCqetwmRe3Rk2dcdQ8EF4ph1mYjI99NZuJ1xZB3rNSNFBcYW9Y8jNUoEMDQqOzryfOCFLqi5yTPLFr2sDBUJs8K0Je4hzfm9reAi1dF4XVNfHdS4/lvUCIx/Uj7xXhvZKmX/wsHrFomM8yUwPAqDf+CBEKdHXIMvvYQLCK4OoNjiqAW71oYvzH/d2NH27IrcVcxniunRh63Y2+M9062daBad/qWaMcbin2BpD3LC+QBlekyiUKXKTFkT4rmNmmqD+W5s0MhHMtnK2gpy5M+3NP19Klwt7y570isdcGynkB1G4BH3gvOAF/5kem0/Jkb/LVPoupsF7eivNgY8QA6IVw3+dZyMaqeYtUus44+kfrXHuRQSNOOtY+T4OdfMAsr61RDjHbuC4phwn0UptcHKEb5XADyC+urAxPLOGiz23OVtlWG+VhPZpUDFxqtBldAV+0SFndFq60Lh5KcXgBRHCZecIVpZxuO/GgB/Q9UeDVx+m6OPA9jJ+rTKDzcoO0UpPjIoxee4oc3OgARnnpOlePai/daXmdaZy3ZY/aosclHuM/4flDefp5HPWWTYca6WklRFQnX0edpNknAFkph4bQhkTOS8oh+vnJmXJIbpTDrQZ5T4oNAAPhR4c0t0mLRtnpkLg6l/v+4ic/T7ZHj/LhmvkagNbi/cV60ppm5Eq0wAtg+0cHFhcrCnw8/b33j63RyGsN1ri8w+ksqtS8ZKRSa5QqMP4EUMRt53lHSD/Ue10DP+G58Kz1A/I3UD8s4f34mvLwE7JjV0tsFey5UWPwWeezNGrcEpQjKslkixaZBZPDhwS+H+DsReRYGDinX/wGjhtA3pVtCTA45C4t0uwKbn0K3YMgVmW6aspeAbaELl9qKJ4U0tuvbe/v0Ixcj4guRUq/8DrujhoX4Mj1TH9VUJfXhTmuojAuK6iTp9W808/pGPxo/9HADwpNR+n39rtQ5Mv0E9CPEJmYwbKJUKjOTeIHdukdUh6Ojjwadp8hfHsuoza/NnURZE85NJSmzKR4jslBL/40p+c8u3VC2dLsLcW+cUwHQzBpRV6i1BKrZkWvAhG5SnBkej2wQFj0nMVL9beHDLB0FxCtR6C8opDWh1u8et+HI17Nf6UfTSSuKRf9QnDDe7af/4FSNTkUlsu/F7HbuGT8gPRDRd9RGbVR81YEcd+lYtG6cC3UR2HKvOeRnx8vYyaANDl8mP3cVKVHGefUlj6fjHv1lEOcUA5j3qJSDnlOOVzOjne75BZFbhHkrXUsvVySCmEIsXEAixN2LXLPdgitey1SpArDhg6DszZyULZJ3gpB/AP0DB8LkW9H0Lce8NVxkL7Wx5XuKW+96Fuf1ZpP9cmsaf/zNLKcf53g/lFA7iM8YYpxFqraTp1txCeAz9Kk+ZzdCKvJlj4BfhQ/mg+RH0opO0KJxyYsmyirpQ6767Ot3jONcjgCnggrg+W9cVeVOjtRWdkQbAPIG/vZVMtTcpbmi6KWXUFPEMpgeO1el6FwwIN2TZURtgqGHo+J+iNmCqL9KfulLgeOa4IUd9c7vxKOr26+y7bggc/lcqjIi+wirpQdyoSCilBtdRrU7C6oar7V7uPFbMs/VOuQdS7SS0oNvMv1k8QHyANLnqGi/B0dZ658Fyp86qU6eFXVozzAVcVviJ30WaUcpoQ0Zagq/Ih1unI29+D8vUhbPXJLsa8daglggpDkytmVsxDlSBWKWeVe1+tFhEIVJINmWOmIXABijkHgBbiup5aXMGAtnb7Kb75jRrDLd4kVAP2Kx/aFtJ9r9cCzzwCXZdxuybudamFeCrp1Qv+J1+WzbFkRlYhB8PeuW915WfsbXD/k/lOOyr3+aPcN+bM3SD+ZWCxaJRZfdU9Fe9mBnEqE11sfLb4zw8LUrVEOraMcYh7rqZTDMTjZ6j++Zskw5+ebeO4WQd4XfNlchnLPbp6DbghOgDKkCoAV+KYOEOMS95nm3wtQCoWfXbncF1q6p+oxrY50ClacIwC/rHq93lPR12vyPZf7nojuDBx5G/i/ElryQRBffl4TgEM0Vprg7ZsiAnxrArgqzZg6BB4iE8WZsEaOsU3AG4U3GN58sAOP7vQYnTWPzvNAwrLDR4CTlzN0y4O7TnZUdyqfukWQyQoYxvNJDli4HFKOnIrRQk9H3TBwiyC/DJDeJhjdhawpT8hyZA+Ac8Ul1HscLofcIWa4XFXRRyWylDug3M9PwiXJPQbScdua4BSI7klRydvD2LqVm19Jvy8yay7wyNeC0UfB8cuzerfkzZQhHcps4zty2CGERqPeI5Jsw95vcP8os40/y0zkT7iX2qT/lMKilZ5/wvATAz4Bzco8EswVKjwk0hSdbPjcqFmQVde8W9lHnJztF8pRSAfMHTI713+89iltjZotgrwOkG3P9AxkTtmJKVNDFrKYTHAINJcj0+QQwycWdIgudy+iFg7BFQpABSgX6fac2N47GHlv1Cfdi4o3tv9CzVHL6FEP4dhXm1eX3tvFJ4oh8JpGR3f6DTVyjFnHn5VFI/Bns0qIFPpH+92L1Bnwg8BPGd5IHQVTSJTNSt/MQB4JJSJlx+feFm9dYi8n2kQr1r7/3m2it5+xDGCHuUHDpbd6S7P1lR1sW/+UANkFehLl2U3MdDM6RZeQSTocGSYXlANLmcGUIU0gs6RM9wxahinLPRfJs5BNE7KgieTw8LH+0H11G5BOjpJWrP/VY4W38e/+iIX333TmS3OpfIEM4KOkxAUcy5xim3FU52GNLv1W8bfWLEQBvcHwRuGHkr1DfigsK5CKkZsughQYnexjRH26MM5F1dmCK5RDF5jmRg1JYBKwDxOvwb0Nkfe1axXjpHaS3gbHN4C8ttwzOv0v1zFnuKZkyInIQIp0OiHTzUG5DJnQrA3pNsGKQC5V65BRl3SV26KmKSgTSHcNX+vO0HIBbCVpaxYSOhe2YH+AXHD3uxqVXgetGj3yEZC7J3q84Fixqux1/lxTmU382YRuZ6Otny0iFH4KnSBFb7bVvKzxBvINxDtyflPiu5NHy9D6CUmojRqRSCWV9mEeyVHv7KEKoHOmUdXCm5qP65xymGfK4fBxBNLQTogxdB73g9Rqm3Fy3MBxA8iLmWme6dXumZMmZWTCMpyTgRNTngBkGSfCj4DtRE6ET6BNMGUIk8gj3ScwTQAmSZnABPEIqDRxlEHaXEj6hWjtCpNGrXZ4AqjX1Hr0x4EjHq09nukYLihDJ2k4V84fa42gdj1D+Kwd5qKwMxtnodgfFOMtAFXpe770s5BVscc9ZM6YjrXmSHX+2pxBLchVQLYASHNHHgg76Ezfk00kykBM867SUw5RTLzKiE9POczJQFejHDbxXGCjHG4A+diajgd0jn0OQ/YjciYzwcmNE8mJ5BFAAKLziIQBwgRognyCpwxqAnmMtBtHiEcQA6QxHssD5AOEATBC/EKbawXg1uwTqu5GL6rr54+V9Dg4XnBgXELZjZriqngElhxEXg4Hr0aMy+cN/2pVCbKmwlNVed6KKviboDamM/Os8R4ca48UO1LwN8rfNNibMg6QO8y6z25W766ZQhvvsfAotwnw0cCPE8ohZ1M19ba9RTy3Ug5dQBIw1fJIMuDoMfaThlURjF8vdG/rnw4gzRZ0PGmfJ590yBNHJhtt4tGSHUCONBwhDBCPkI0AjqCOAI+AHyAbQB4AjIAGyA8SR9KOAA4QBpAHAWODxms776P7bXMrvGBw9WhkeAscb9EX7wTXu/Jr3ik8fFpzlA6RVntnoOU/OyCMlBuqArc/CpMm6o3Bjvkp9+BdQz9p/Jl3fPdkx+E9O0rNUJ2orcqsoTMhwVua7QmAEcPk+HxKJ5TDYol0Sjk8E8/FarQcICwgoQ2UgyelmGX1eZGmb2sDyAuRDBoL0J45Zddxes8H5mnAYMndBjM7SjywGDRAGgsYDpAGkAnAIGAg9AlxgHEAeICQQAzl80rxWE8xwMbLc5CLTOi0qP4nrgcPGOICz/rasPvddUlewNabfyfog9K7QmXnR5ldLDVIvEUUqR9t3rEOgwMlWvTCtVZT9SHxU4O9fb7sj8PxqDrAjVbuY9WVj2jQorACCZaFvLPSqPEis3fpZHiDcthVG3rKISeAY7gcRn2zcLlKOYaru9CWZv9pAdh/+DewE1K9jILtTPbEo2M65Hw8ep6O7joKOkA6AjoKfoR0UMjxHyOS5IT+d7BeP8TvmK8HsB5XkY68EWndXVy96Xx6H2hxeVnW9hav9Rwc7zEi++qs41XKTy7gWFXA30ok+Napfhf2TBG/rRYKYAXDD4jvIN5IvtP4DvJDg30AOnoaJM6RGlek406rsfQiB2VETVyaQ+FJFtDEKZqHdbNgby6HKtQDL40XpEI5lEod0mef9laHnMVza+OG3FLsLYK8BJCpYEkGPAvKDj8o03T0KR91nBIGH5X9aGYHSiOFI4QjpAPIMdJnpRpFImQmR8RITzq59BGnQRgf4yD7eQTQF6pCzRJAl14tfscJ64ZzLZKo6hVepkHqK6u0SpaTIvu5RV1Jh2+D4/XokUtq4JXoEfPrlz6B2ljB+wyIeINY6o8VKFEB8Ue5/hPgG4gfIH7WrjeMPwG8H16fDvvf38TSfcZCvduiRrj2VqoCngIUU6lJaiAsX+hkd99ri0wLi0rGkDkDoxmTyzYPCQAfEniY4ENnhV6637WTvcxKtihyA8iVdfjXDGXN7T0SNML2Non8lMs854E+JAgGcCincisgsgBARofaQCWI6ew+PTiiXpddract0m2WQeJaY7JFYwAxagSSptlOrB9U7529Cs+8DLVLXuKc3LjmTWuVA8g9yD2APaChhSc4bcqcyqytRJb31ijXujGXGzK50QCln3L9LDTBt6bLCP8RIz6oVMEy0tPMtspjUPQfY0DczT7pONYBbHOHm0HV0be4DKq6EGq2Kop0NywVzDEzanJ0soejA4PNJz7TiXhu7mTOLGqcRfvRpGj8TA4kgx0AEzANtkpG2GBwA8gHMzWGN3ayIPUbIxJIzPjUp78refaU3JO7zKCBgsV7ZwI4BFjIACVAKSLHiCzZgBEJ1Bg1SSUJicYR8AGw3dVUmVgfAm9KE5ogHYv81iel4H6H104uKtkZkiTl0ryYWgtbqHYRtUyQy8FlAeTcw7gH+AzwFeALyCcQewDDdeuGK1Ei76k13tGQYetUf0D+U1Fv/H0xx+h6E/QDrh9w/xHRZXEYRBkUlxqLRmUwnEN6d/BTxEQA9OBD2+SYdgYZYHUWsSspFJ3Qs8idLuQhIs90dBzGVKLO2dyItVZYT3onI1DMGcAAR0SiTfCi/jl3KA3wByiH2jrZG0Cuptjf9pF6LJolpYa0t6zJP3VUgmsgMDD0ACvoDaIOhA0tfa7ptXAAkQQNEAZSR8A+y30MwqCsAw0DTLHttFmzLGkt/a4jXfPC3vgJ11sHDB+QH1EiGwUYTp2fDjplovnZGq9czqAWDTQ8AfYMyGFGgAYpomdjKscoF2lhjVz6aPLOmirvUe9ZRpEO4VDYMT/lTQn8Z2nKvKt0sQtjpjBlqiJ47WZjBkjgJ4kfMLzJcFBKGR5eB5wETwabMrDfwQ1IXVNr1k9WSSQc6shT5mU0x4poRerg6UR9aEE5vFCFRU0iFpRDL51smymHuEQ55Jcac9v6Z4kgB1sAUJy5rSqoCHtOBA5yHwAfIA2CDoRGQEeAB0BjRJI4SBjoOoA+QBzhPIJIcR0DoAMMQzRrcAA4wnEAtUcvaHi6w57vvI4A65n2xtaJrV3ZrAakcrhrBlZ1zyx0JmRepoIMxJPAEZBTRZ0I6iTdpBq+8bS5dNpx1u365FVw7G+z9n1lQMezUZ0yjlOYMe9AU+uZARKa02vgJ4g3gIVVo59I9gboE9PkTLtSqiPoGT6OSJ8HCPsyilNqf2ym6K3eSHZ+MKWTfUo5dLsAfxdcDufMogfXQjms2pB7BKMmd5TD2lnvKIdq8nnb4PgGkGsRi1tzf8NaFjvQkXDIP6fRjuloKR1gNpZ0NhoujkNJsweYjoKOhB0hHICIsiR8Ej6AVuYkIxKNmUgNBWCHs3BKOrtetFRj+Jkh66+Z8fEB4gPSm6KbPgNffX/qxsNVwdFP7Wn34cwIsdjeloPSu6ZNGSDpEO4kCsc1Pch7ZiIv39cBHIoXTAXEt9aAKWM9wZrBO+roDvGjCEzUBs0PkOUEwzfQfmiwt2k3fI5vH4Ln9kLUWCvBhAGii131GC9mqDZ/f32jZihA6olItenTzaxSpXBDCwZr525I96h5rlIOUTrZCePxABXKYYXTnnJYB9pZ/G62tQHkCUAuR1eYYoSbsye2IOT8Nh3S5KOmHLONZCIYg+J1OFyqTZjobMfnM0I6lo72saTfE9i0I48gpjjgpbMuBMtZ3xcQfmwK1+UnAySrVcA7xA9An6hOjcX7W65KqSmhTGgVBTi2sGSAcQToJIv/d/sZYVGUJcLkjFgR/+UFtYpbNcdbne2aVhd6YIkANfOq39rMY40U222In8TP0s0uQFnGfKSfID60Hw4AhcHiG+v/fKfAba6QFzOfy8EkziiHmC0Q5OXrLN1vy8GdTodZPJeLv1XnIXPX2C5D6ClB2ZuJV6UcIntQDocl5bBXUfPVD3aLHjeAPN0tdqUx05lWRZBVSPwl1dZOx3z0Q8p5sJSOlEZAJRpkoRKiCueWmh+DfghGk4Q2FXAs98FEFn62MJXmzrr4I5u69CR5HVWpcv9lmLnS6BCG9q4PSBnRVS3FS69SMdXb+6SqxRhqJ6NSujh+OrfHCq88rYrdYsTgJEU8bbZqmZYT551qFF510P/CnnUxyhOGWZFye40UP0paHXxqcjbZCguFNyS+6+ifcDmSNWYMWh2v/J4DGC1neLJS/zuRsOsGBqwCZG3ANMqhIU3RtOGHN8qhRNA6Xn1/7llQDlvTO1L7QjnksbB5Unqw7bI1ajaAPEt/xjib+orlaOXFZgmkO3zyacpMadKQJqoAG1QUyDFVdXEBmVGnm4qyT1XyqeCYQWQFMB5Zt0F2rrPYdtpJ0EfxPnmr3imK0ZYPyD/g+pD0AffPApClm918vxEeOt6n2HMySFlMIDW8U/vXW+vx3CTgOjhqCXr3oOip8Va8+ENT1AHepeoRow4gUeuRc+RYa47Ez8Ke+YFasyR/YkhvMBx4cEd2YEgxYkOGBnJKc+/JVTrZGXkYI62t84lpSTmsqkmt2VLFcwvlMGXH8ckWlMP60bI1as6jb0qXe1maTbxmyiHOND82yuEGkDeXuoo/JMC9zEWWSwWKRAeR8zRNtJQ5DBMteYyX20RoghjRYWhEltEbjiFcoQmOCYYMx7HIo0XKHduPEAdQyyhyBjCH/Aj3zwAJHOI6jnAcIP8soy7zBfgEkeGiFh1s1zzis5CwHnFufUsYCGOxsS0lx4U/1q+6D14Ax6VKei7g+BOuH6pzi637rJ9FiOJHAcffw6O6Ct2q8KvrAHi5zfAG4kNDOgRGZKA0OVSEJeABmDV6s5zhYwCk2DdqOhGQEjGq6Yp1e1wG8o5RyzwI+jLlcAY+Wkc5ZEifcQfkZEhZpY7pG+VwA8gHAfJjmsGwP6MaYh6y7vxGgD5pOh5Rx2ZQABA6llriLrZzQti6TwxFn7HcfpRwJNsYUKTmWGyfAI1L5BAgHBWNoUMwRQIAJX0A/gHwE/JP1RSy1iIhL2XIiALdl+5VLK0AcQfaGKM8wMyjYU2t48JWo43Kvp0i3cnrfuj44xJAa70xhtirXNnvcP8x0wabX8xPQFGLDL717xB+LzXKSiX8CeB3CD9g/ImU3ny0I4UJU1HVMQDZ54jKDJxyeTcsTRBH3o8Y8zHuZ5hZLJojyNZUOzFSYxHPdSt0pVKTpE4LFbPLYSCgt1vYpM/KEHpJgpL3LodRpxwOEzSkGX85C2pYBXP55nK4AeTKymVEpR4cNVA6H1sRyMxRUUfMPinrSOoIV+hDUtGYCWm0yr3eYeZi95exu89A4oiafsfn2u+lh9AtxGLGr4i+Ric7+MY/Cbwp0swfxcY0NxLbPPtYjr5m1r2DcZg1/1mSLgOMmgGSABm+3/H4akaW1hHwktzPnQrgdXB9LikEt1repchebA/0ozVq4vI7gN9Lal3qjfoB8HcQP0F+YLCJoGTBSHEi6tFTLko8hTSg6SS99VIWDgBzsxhwXH8PbVMbxVE03dyIVBsuAzEUyuEseTajpWNp4qUTERMDka1SDg3M8R7yYOBneW8tID2hHK4IaG5rA8gIlHbDuRDDSgBED7NM7McJH9MROY+Y8hGDHeE8MJWONVrqXDrWOrYmTnVFjJbk1KJOICwboqFTHRRTY8nUCGhWtn6H8NbAEDPfWHNkVTyclVXVc+WnHRmV1zy07nR0q3P3OryAoXfujj43bOgPCWFcGxi3xWs71uaJvNNndMwzjkABxTLb6K1J86PMQv5YcK6JMNUCPpDdgx6IODlWsLESqVWhh3RBtrw0biog1fT2EuWw8amLTmdQDuMNh4kXMR6LFlTLm7UQzwVzVxuO59eYutGdSjlEa9R42iiHG0D+ykp2BoS1P8PTZoERGpn96Ee6T0l5gg8ZVtTD59pjdKZh4UnjPsGsNHSaN01YNsiatazMQ8k8ut+pdLc/AH9XE3rFB1zvUjG5b+rX+igp+EfUH3UohvdBG3QthsPLAVMc6QvQRZLnnD28Z7/vGRgdzdq2ejTyel62EAe/aVZWxSaqNFk1yXqfU+ei0hP1xbkO2TNoajodohPxeOOHxnTgMftcuuCi9qdSYaAXsKqpfp07VKnzlREfmzKmfWqUQxWAPKMcVt58bb64kAtBNWUVyuFUSsGCnKX6cVKH7CJHypdVyp5y6EByx1Q72Xf0XjbK4QaQ50FL7vt4Xe2rCH7Hzt6lhYmuwbI+pknZM7JPNGVQM0gCAXJh3jXBLFPdOI8x6pOzp3ZElsIkKJNe/G5wAPSpaL58QvqE+6GrRZbtOAj6BPDZcbIPAA6Kn3O9Mfo0zpD82UXdlLk5MJJFqIIdOCqHg6NUPL8FFnYO6Lfw8TprZsGn9tnKAL8rao0/Oz71T0F1249gyhTmzMJjBm+AfofxB8AfSPah/XBQknOSN+pdEZeNHcFQI0oC0OTBISqdbBR+c2tnucOHGPUBh0hXq/oQTymHkR7n7sSQPGorbVzoaR2e5k725Q+1dZ87yiERjRokwJv02brLITfK4QaQF49dCwHTFimw7uhrgU6Zud7R/ZOZk6Y0eFbyicaSNndAozrmozmKpAplD1O5Tx0Uz+Wxk4BjKZfPHWvUDjU+55/4LKM+8wXNV6WaS310w+KuSPEowwhYIpBnsAt/bzFUfCgKJhUQDNAUlja31bwsuu+PpdTz6E6uYhOaVXZ+j1qjfkgFNGv6XKLIOWLELFVGVJCs4PgOw6RkChHG3Im4FWfAEjkyR9SIMmyNrlGD0ghplMPs8GFAOh6j4dJRDtFFczEwXoyra6m2mnjBADPYMV7TLcqhmnJT9yF3lMO54VKAfsJMOZxCZGONctgAeKMcbgB5tvvt0gUFLp1V2VvzZs+MT59wKPau7i63ifQsWKZhAkszh8yQjiJHBqOmzDsiSzoyxnxi7CduOzanGLX6Y+vUqgLBzDn+0Qm+/ixMkd9jkBo/QHyUlBjK2RESgns4ExjIyVpjnIfAvTRswtHRTrbV6DLKZd7Cpjlpn+UGaxf3koxZiAp/FKGJ9yYiESD4e0mr3zuLhBjVAWJ+EfwJlt/lbyCjeUP8REqf8d69dXx7Be7WZVbt/Hp8LAUgiVLXMwOmYwMmGcFjSbFr57qnHPqVWsMFyqF5NGpS73K4VLmbO+Id5dDkcFoTz50ph1ZMvKKTzUOGRps79AvKYc2hNsrhBpBn3cWVUZQKhqdSU01CUcIuTZ6niXk6YmIAHYYcpl08wD0sF5SGYtwVHWvHAEMRy2W1Ykhh5KVqYwdUybKQH/sA8KNZlM4Uux+dkX0Flx+ztmGZDXSflCfAS1ods5klnGqgV2uKGVBudUir21BMySxHw6bVJ+N1XhAP77FzRtCYHyifyRukH/LOWjXkx36H63dVemDxse7UeCqVcAZM4A3UTyR+Kg1HTkVBApESR/eim0usxmaOiK5qt9oIHLzR9Joobi803I9ZqzZqfNEpPqUckieUQy9RI1kA0pA+Qhl80divDl2wEuTPlEPUIfaMVcohFaUASk3xeKMcbgD5QIrNfuZuPhBUpmLWbVLlO8uY0oGTUsqeYNmC2yVKSkQTzo04qyFumzCMU7Xq3krCdSyUippuF1TGISJJ/WTzbW6c4zcFYLzP+ocxHK1Cs5PxSNIElY51bbjAyRK5ogAhkUurqgNA5jbqE6XZHC3WmadNzpI+yz7MWdpddSc/K+BJ/vv/2t7V9cax5cYiT/eMfDfJBkHy/39dkJcAC3sszUf3YeWBPB89GvlugnvzsixA8FiS7RlrupqHxSoGoU9rEXgZ/cZpZ4yP7rz3XTKNJBUfUL1S+BDSq96m/hrGnOvsG+///08/fx2WQizq5Bk/iIPlMAQZ3Q22SI899g7F85bDIFLRbjlUA+oSBBmWwxNdPe9LvCbLoak6TwLDclgNWF5ZDj1nSo1DqPmFhvZKrkkkQaKPBxq+3hkt4ndpUUDj11Iql+2G6wZsFsPmpqDGEmThRIQa/R7x012vKoxN4TR7+GUaPcpYfTDNDm9xzLyOAAbeYjD6NoQMu4K80uwGq1cAV57XTXZZoVKc5NQAWAx7N8NwRVs3JTEjOX+dJPr8Y1MT/HXKU8P2FytZW0TbdeyLsZhZ7MnfXlG2FastqWfYBb1iVLkA+BDgnaVcAdxRZIeFVfATC0xZHLOzZc4vKuLVZMt3rwasxas+CcIs2v8az3Ms0Lqjrs1y2KyJOinZrfrjYYhcjdjFe+DLbth+myyHc4RjE2qeHTXyYn/kcyfD3HJobfaxizKvCsW0HCZBPl83ez0SoQioJVw0BZzdNNPFRhJyWkxE7/W6sWzWqMT85h9bjdkrEvd5kQS15+cEBT4AKiXcLl5hHYePSAuXzS1UaxdlYnNfe0yzCKkIoixyExoJlilwAuI9xzbw7aM6GiM77NXiUAlcufavuSjQxoIYqvgUCnm4+jgJUN4q8JCJUKLtfQgyuLIn8OAC8scQXPARARN+/FZXp+23012u24baQziexItJkCEH2fW5HnbxhdpixIIhnx01Zu5IibOqVvtsOexHW/RVsEP2OFoO2xIvqleQVHmhVj/VeS+Ku5nUDpZDhPC0ArUULO21Vet/UbcKpOUwCfLl225Z/UijGsO4+qnv+Kqq7BfVIrWe17vKJrRKmAxnTjteGemOFJVICFKhRWQLbiB9tUGM4ThB0qZ8xpb0TQA76eM/MPuA8RKpPje2QWnwHcL3el5udtLtdDMxKEEbA96zfRBzlYgh3LSESM+FRA+s8IO2QKWZjeWT88gvvBrq+w3Ala5EX7oThu33/MlWKbog03qNP4AgSeEVIu/xcbWl3Ki6q6o3NHaO2Ju+2AqHRO3WK8Qs1Ng0ky8K2A6WEGr2I0Fir2OHdRChnRec6uNoOayfhKjPwjBjDKeF58aXrUgfu+F0j2qWQ0YfclgO4zXE0bptOSzmHm/Z/a3HpUDuD1hZnDw5LIe+uoHdcpijPkmQk4r99kSA/GX7hc9dGnomOJflbtedhUZYrVAYqfTVWVJBMRh9pKZWUmSL0KuWzK2hKVaANxg2F0u8XoWItbWzMGwC3tiO24Ir4Z5sAW5U3MWw72fd67nwdDcV9ZyJXoeQU1+UfuXFDhoRicfxIVLiPFdi1YL0ZWQq/v3H814kfbvy3N0ubXwn5htjedYlfNM/ew/Sj9Q/AX73X+VdRK4+siMPQva6ngiaB9c+Dft3IWR2kUQMJosc2ojHcFrpfTyoeGgFJ6FmJo0DmYzB8e40AL+wHHJYDqOK9C2HEtmQ7qhheTr+t2AgUShsshzGjKYWYJ8sh5t1JbtZGeX6dAOLYzf06bzyOccu8Q/bg/zFnZJPup6EAaU/ji/6amOpOJW7VewKbKA9hHaVqu9c8AbRM0ROEC7i1sNCgRn4gKAKpIrRKKgg7lTuVLGISNtgMAEqBcYTSBEDsSuxoaJSQVsLuVU73WEQwXo3qBd7AmGBShEnQlfRPWjCfy+d6BQaBDk+BCoqUAmCDEIUFVXt1xRaxWi3WHz1AzWGvSPxuy/OQh/2bip080239O8LIBcUuXBd7lyXB24P27XgZEatFbUUoO5dRBlhYd7K9dZGWAaDxA5K+izUEE60XagJD3azHKq+Prq3SqwarCnXk4BztBxOS7xCQW/ZkKu45dBWgdyj1/nKctie+7TCQo2oImN0pz0/lUmo0S/lmEQS5K858unN0lVGweFeKl+pfu34pGImYjBUtfrx+Ouy1DeV8w+LQCtTCtRUhQUGwSaGXSopoNgqShGiyGZCEwK607VlFewnH1zU4tPc2OkFSVwoPBV3FN5DXTVC72yySqvyIomik2OrFqNtJfPnYqshopJEGStrpUh77K2BD4A3GtwSSbuA/N5aAGOZFhpBjrEl4OLH6e6Z/gmRDyzLhwgeti7GtxXl+hjzgI0IdgKrfp5vfnXfo40fpE7HAE6WQ5Wj5bDGUgyVrkuN+HlfvcBSUMywLQqW2HLYwiAOlsMnJZuecWGL/7taif1cAO5dqHm2HPZcyTajo3EzkC8shxzP0eaAi5eNzPlhUmcSJHx2bEQPEvKLa4y/w7JT0opJBfZvpW7/suB8uaOqop78QrKpiJmb7BYXZ7t4ugVMSDH67pwWEdFOzO1ardPOZSVsWfvFqY9NYaZh5ShRUpW2Lwf49DF2eRMFisXX14qvtKX4LKeKq9KMpCGzdxg+YHyH2QXghd5vfA8xZqxCYFuLwAtELhBcAPmA4Iql3LmWh/37P9vyX9/pA9xy3H562CLYKj4OkjN87vtZOwoH6cgQasYbQnr1JxKWw1PshVF30HBZRkFYrYfn4rxENJm0UKRPlkNBHNnj2at5cjJVvILU1yM2Q8l+rvtGn/Ol5TDeG1jgA+M2hWZgCDTWyBXyxShC4h+SIFfhJ/L7P7enZYQSUIH1suP2b+sYreDrcpWRUi3H5MBR6XzlzJBXcfxAXRcnWLe9KSoH8am2x4uvbVUF4NWg+lEbbX2tf659X/HSSAjVHYKrLweLY7XZO5vNUXiF4gcMPwD8iNTuadCbF0gE2raUndPyjmp3nIuhokZuJbAUSBvbKXGEfCJIXy/g7pZP7ZMuOERKz3xE/sJyqHv07GbLoWpXgH3PY/Qhd4O9LVgeDxBvo1+5W6/WPlsOx/NTa1sOFcqwHJZZ5JmbkOwC07PlUF5ZDs3XDckOyJuH5667jVbCZDls/09Hy2EiRZo/thzt7zuKYLmbX5fFL7rf5dev9CF5+vqwUhxegZi5lxiGcucQwQmgLCJFWzJ4FLzhq9CwGWqp0wykQWQXwQbRe5TYG0R/Ts/Jwn5yR5EPMdypvIPyAcN3KP8mJt+hbcOgfGDRd8B+Anpl0TvWcofIXv/jX/fyn/9NOStwoxNM9Tgv2asfWZcC2W2IHOY3I4ldLNhqDzzvQk3zWE+OGivlF5ZDBWzzJZMHyyE+Ww7Fd1tX1ch5xPD1/96baxKODpZDErUIFmMfJejH85jR9JavHSyHQLh5wmreXjeLTEJNgT521LX45kMMy6HJk0STFWQS5J8KAXQjJOL1deexx8OD+vMkVeJpNUFcwMaRTwgee00x2lKqoLxXsEjkGRZj0U0hdxRViBYAqhJVZJ+BkeqhGSKxfOzDY6tbD5LFa1R7RJL61lPVgQcgV4CbgBvBW/ijf2DVd+pyheABq5vsVqnrg0UqBGQp3j7YK3BagccDKAWyAdirE+SHzxxy8WAHU0GJ3poVhVY77jfvQkbbRTCtJujOmaiedAgm3ntUHFZJWFgO8cJy+LzE0ax7sjvxfmU5bCERfLIc7m45xM1dPAfLYQ+tkGPLtVWLbW9OO8Yz5h73seXwuGsd3XKIlG+SIP8/SLG3hMSDC8rdUM+C9d2DA+bj0fNBRuaRPBkdJxeMpy13h0GMoYwKFpSq4D+th0xCCDZ5e3vH9e6rIlQegNwiJ/HUeosCFgrWMQYpTvEiuwA7jBU0Tz5XqVQxz7zEQ8gHRYzW9kxpRdG7lWXzz1TI3cTKAn77jVIfwOMeJ/wgw/MJ8uMGfIs9zlsFz6u/4r3C1oLCR8SGEQrDJotXmqclqJ5jsL/aMB+Hkv3Zcng8wf7SctjCLvhiy2FUk7YoqNUPExyTjJhWkwvaCE6zHPp4jy/xIrZVIB8Vgs+WQ4G5UDO3VVQh+94th4XA3m6ecap3JVv+l5bDRBLkH6/6RNq0Xz/lWrF/8/FGCcVSnm7iLUdwVIife0DsjXrBPPHB3oeU+HFwJHPP1slS9kjeeUDlHYIikMWrRHfVmKgRpkrxIXbFAyoGwmBEPa9ENUqt7DtppqdoywKaQR97PAeOPSo+s+clU/WAhd4BEIFsO/i2An+zsfpiq+Bfzi6YVAPfTsOhMis0babv7zkWPlsOD5+fxmPMWyMC+HF/Le6FboPZZTlYDlkKyl7dctiFmhgRmpRsQkevr/chg9BCqHmc9XjT5bGC/Luqu2fLYcuGjNxLfrUZsSf7JJIg/4SGpr/xgrgUWD4qHn9dQd1iWZN6ehifK85hESZfVKXyC7HmUAJ98bzMIKoGFdJtP9N2Kb9eawxc624vpXxfAuVN//CAHKJ6JBTduTqW6SYAVU90a1sCp2Oo7BX2l2/HP7jXQx7jc0jnEGqmER3j1JrAi7nFZ8thzOabQYovAmeJf09jT1FkQTpxayjZ6NKvVoOd/PhPOY9tiC8sh17sz8/JCbJbDreIO/tqkSEm0n1auCvTCaVbDsMB6q4dwBbFEq0A1OEzbJkYmlfxH3uoZFqSEolE4ssDZSKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQiCTKRSCSSIBOJRCIJMpFIJJIgE4lEIgkykUgkkiATiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEkmQiUQikQSZSCQSSZCJRCKRBJlIJBJJkIlEIpEEmUgkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIgkwkEokkyEQikUiCTCQSiSTIRCKRSIJMJBKJJMhEIpFIJEEmEolEEmQikUgkQSYSiUQSZCKRSPzZ+B+GrlwhibMxxQAAAABJRU5ErkJggg==&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Sakura</span>(<span class="params">x, y, s, r, fn</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = x;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = y;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">s</span> = s;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">r</span> = r;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">fn</span> = fn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Sakura</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">draw</span> = <span class="keyword">function</span>(<span class="params">cxt</span>) &#123;</span><br><span class="line">    cxt.<span class="title function_">save</span>();</span><br><span class="line">    <span class="keyword">var</span> xc = <span class="number">40</span> * <span class="variable language_">this</span>.<span class="property">s</span> / <span class="number">4</span>;</span><br><span class="line">    cxt.<span class="title function_">translate</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    cxt.<span class="title function_">rotate</span>(<span class="variable language_">this</span>.<span class="property">r</span>);</span><br><span class="line">    cxt.<span class="title function_">drawImage</span>(img, <span class="number">0</span>, <span class="number">0</span>, <span class="number">35</span> * <span class="variable language_">this</span>.<span class="property">s</span>, <span class="number">35</span> * <span class="variable language_">this</span>.<span class="property">s</span>)</span><br><span class="line">    <span class="comment">//樱花大小</span></span><br><span class="line">    cxt.<span class="title function_">restore</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Sakura</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = <span class="variable language_">this</span>.<span class="property">fn</span>.<span class="title function_">x</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = <span class="variable language_">this</span>.<span class="property">fn</span>.<span class="title function_">y</span>(<span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">r</span> = <span class="variable language_">this</span>.<span class="property">fn</span>.<span class="title function_">r</span>(<span class="variable language_">this</span>.<span class="property">r</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">x</span> &gt; <span class="variable language_">window</span>.<span class="property">innerWidth</span> || <span class="variable language_">this</span>.<span class="property">x</span> &lt; <span class="number">0</span> || <span class="variable language_">this</span>.<span class="property">y</span> &gt; <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">this</span>.<span class="property">y</span> &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;fnr&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.4</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">s</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;y&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">s</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">r</span> = <span class="title function_">getRandom</span>(<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">SakuraList</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">list</span> = [];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span>(<span class="params">sakura</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">list</span>.<span class="title function_">push</span>(sakura);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">list</span>[i].<span class="title function_">update</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">draw</span> = <span class="keyword">function</span>(<span class="params">cxt</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = <span class="variable language_">this</span>.<span class="property">list</span>.<span class="property">length</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">list</span>[i].<span class="title function_">draw</span>(cxt);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get</span> = <span class="keyword">function</span>(<span class="params">i</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">list</span>[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">SakuraList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">size</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">list</span>.<span class="property">length</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRandom</span>(<span class="params">option</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> ret, random;</span><br><span class="line">    <span class="keyword">switch</span> (option) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;x&#x27;</span>:</span><br><span class="line">        ret = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;y&#x27;</span>:</span><br><span class="line">        ret = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;s&#x27;</span>:</span><br><span class="line">        ret = <span class="title class_">Math</span>.<span class="title function_">random</span>();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;r&#x27;</span>:</span><br><span class="line">        ret = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">6</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;fnx&#x27;</span>:</span><br><span class="line">        random = -<span class="number">0.5</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1</span>;</span><br><span class="line">        ret = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> x + <span class="number">0.5</span> * random - <span class="number">0.6</span>;</span><br><span class="line">            <span class="comment">//x轴速度</span></span><br><span class="line">        &#125;</span><br><span class="line">        ;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;fny&#x27;</span>:</span><br><span class="line">        random = <span class="number">0.8</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">0.7</span></span><br><span class="line">        <span class="comment">//y轴速度</span></span><br><span class="line">        ret = <span class="keyword">function</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> y + random;</span><br><span class="line">        &#125;</span><br><span class="line">        ;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;fnr&#x27;</span>:</span><br><span class="line">        random = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">0.03</span>;</span><br><span class="line">        ret = <span class="keyword">function</span>(<span class="params">r</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> r + random;</span><br><span class="line">        &#125;</span><br><span class="line">        ;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">startSakura</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    requestAnimationFrame = <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> || <span class="variable language_">window</span>.<span class="property">oRequestAnimationFrame</span>;</span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;canvas&#x27;</span>), cxt;</span><br><span class="line">    staticx = <span class="literal">true</span>;</span><br><span class="line">    canvas.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">    canvas.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">    canvas.<span class="title function_">setAttribute</span>(<span class="string">&#x27;style&#x27;</span>, <span class="string">&#x27;position: fixed;left: 0;top: 0;pointer-events: none;&#x27;</span>);</span><br><span class="line">    canvas.<span class="title function_">setAttribute</span>(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;canvas_sakura&#x27;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;body&#x27;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(canvas);</span><br><span class="line">    cxt = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> sakuraList = <span class="keyword">new</span> <span class="title class_">SakuraList</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">        <span class="comment">//樱花数量</span></span><br><span class="line">        <span class="keyword">var</span> sakura, randomX, randomY, randomS, randomR, randomFnx, randomFny;</span><br><span class="line">        randomX = <span class="title function_">getRandom</span>(<span class="string">&#x27;x&#x27;</span>);</span><br><span class="line">        randomY = <span class="title function_">getRandom</span>(<span class="string">&#x27;y&#x27;</span>);</span><br><span class="line">        randomR = <span class="title function_">getRandom</span>(<span class="string">&#x27;r&#x27;</span>);</span><br><span class="line">        randomS = <span class="title function_">getRandom</span>(<span class="string">&#x27;s&#x27;</span>);</span><br><span class="line">        randomFnx = <span class="title function_">getRandom</span>(<span class="string">&#x27;fnx&#x27;</span>);</span><br><span class="line">        randomFny = <span class="title function_">getRandom</span>(<span class="string">&#x27;fny&#x27;</span>);</span><br><span class="line">        randomFnR = <span class="title function_">getRandom</span>(<span class="string">&#x27;fnr&#x27;</span>);</span><br><span class="line">        sakura = <span class="keyword">new</span> <span class="title class_">Sakura</span>(randomX,randomY,randomS,randomR,&#123;</span><br><span class="line">            <span class="attr">x</span>: randomFnx,</span><br><span class="line">            <span class="attr">y</span>: randomFny,</span><br><span class="line">            <span class="attr">r</span>: randomFnR</span><br><span class="line">        &#125;);</span><br><span class="line">        sakura.<span class="title function_">draw</span>(cxt);</span><br><span class="line">        sakuraList.<span class="title function_">push</span>(sakura);</span><br><span class="line">    &#125;</span><br><span class="line">    stop = <span class="title function_">requestAnimationFrame</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        cxt.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span><br><span class="line">        sakuraList.<span class="title function_">update</span>();</span><br><span class="line">        sakuraList.<span class="title function_">draw</span>(cxt);</span><br><span class="line">        stop = <span class="title function_">requestAnimationFrame</span>(<span class="variable language_">arguments</span>.<span class="property">callee</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> canvasSnow = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;canvas_snow&#x27;</span>);</span><br><span class="line">    canvasSnow.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">    canvasSnow.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stopp</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!e &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;canvas_sakura&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">var</span> child = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;canvas_sakura&quot;</span>);</span><br><span class="line">        child.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(child);</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">cancelAnimationFrame</span>(stop);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e &amp;&amp; !<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;canvas_sakura&quot;</span>)) &#123;</span><br><span class="line">        <span class="title function_">startSakura</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>,</span><br><span class="line">startSakura);</span><br></pre></td></tr></table></figure><h1 id="fps显示"><a class="markdownIt-Anchor" href="#fps显示"></a> fps显示</h1><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">forNormal</button></li><li class="tab"><button type="button" data-href="#-2">forPjax</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if(window.localStorage.getItem(&quot;fpson&quot;)==&quot;1&quot;)&#123;</span></span><br><span class="line"><span class="comment">//如果要使博客设置上面的设置项能生效，就把上面一行取消注释</span></span><br><span class="line"><span class="keyword">var</span> rAF = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">        <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;();</span><br><span class="line"><span class="keyword">var</span> frame = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> allFrameCount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> lastTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"><span class="keyword">var</span> lastFameTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"><span class="keyword">var</span> loop = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">var</span> fs = (now - lastFameTime);</span><br><span class="line">    <span class="keyword">var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">1000</span> / fs);</span><br><span class="line"> </span><br><span class="line">    lastFameTime = now;</span><br><span class="line">    <span class="comment">// 不置 0，在动画的开头及结尾记录此值的差值算出 FPS</span></span><br><span class="line">    allFrameCount++;</span><br><span class="line">    frame++;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (now &gt; <span class="number">1000</span> + lastTime) &#123;</span><br><span class="line">        <span class="keyword">var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class="number">1000</span>) / (now - lastTime));</span><br><span class="line">        <span class="keyword">if</span>(fps&lt;=<span class="number">6</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:#bd0000&quot;&gt;卡成ppt&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;=<span class="number">10</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:red&quot;&gt;电竞级帧率&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;=<span class="number">14</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:yellow&quot;&gt;难受&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;<span class="number">24</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:orange&quot;&gt;卡&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;=<span class="number">40</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:green&quot;&gt;...&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:#425aef&quot;&gt;正常&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`FPS:<span class="subst">$&#123;fps&#125;</span> <span class="subst">$&#123;kd&#125;</span>`</span>;</span><br><span class="line">        frame = <span class="number">0</span>;</span><br><span class="line">        lastTime = now;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="title function_">rAF</span>(loop);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loop</span>();</span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// else&#123;$(&quot;#fps&quot;).hide()&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果要使博客设置上面的设置项能生效，就把上面两行取消注释</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, fps);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, fps);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fps</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">// if(window.localStorage.getItem(&quot;fpson&quot;)==&quot;1&quot;)&#123; </span></span><br><span class="line"><span class="comment">//如果要使博客设置上面的设置项能生效，就把上面一行取消注释</span></span><br><span class="line"><span class="keyword">var</span> rAF = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">        <span class="keyword">function</span> (<span class="params">callback</span>) &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;();</span><br><span class="line"><span class="keyword">var</span> frame = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> allFrameCount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> lastTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"><span class="keyword">var</span> lastFameTime = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line"><span class="keyword">var</span> loop = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">    <span class="keyword">var</span> fs = (now - lastFameTime);</span><br><span class="line">    <span class="keyword">var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">1000</span> / fs);</span><br><span class="line"> </span><br><span class="line">    lastFameTime = now;</span><br><span class="line">    <span class="comment">// 不置 0，在动画的开头及结尾记录此值的差值算出 FPS</span></span><br><span class="line">    allFrameCount++;</span><br><span class="line">    frame++;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">if</span> (now &gt; <span class="number">1000</span> + lastTime) &#123;</span><br><span class="line">        <span class="keyword">var</span> fps = <span class="title class_">Math</span>.<span class="title function_">round</span>((frame * <span class="number">1000</span>) / (now - lastTime));</span><br><span class="line">        <span class="keyword">if</span>(fps&lt;=<span class="number">6</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:#bd0000&quot;&gt;卡成ppt&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;=<span class="number">10</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:red&quot;&gt;电竞级帧率&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;=<span class="number">14</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:yellow&quot;&gt;难受&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;<span class="number">24</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:orange&quot;&gt;卡&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(fps&lt;=<span class="number">40</span>)&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:green&quot;&gt;...&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> kd=<span class="string">`&lt;span style=&quot;color:#425aef&quot;&gt;正常&lt;/span&gt;`</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fps&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`FPS:<span class="subst">$&#123;fps&#125;</span> <span class="subst">$&#123;kd&#125;</span>`</span>;</span><br><span class="line">        frame = <span class="number">0</span>;</span><br><span class="line">        lastTime = now;</span><br><span class="line">    &#125;;</span><br><span class="line"> </span><br><span class="line">    <span class="title function_">rAF</span>(loop);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loop</span>();</span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">// else&#123;$(&quot;#fps&quot;).hide()&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//如果要使博客设置上面的设置项能生效，就把上面两行取消注释</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#fps</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">bottom</span>:<span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1919810</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#fps</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-white-acrylic1);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#fps</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-black-acrylic1);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在主题配置文件中插入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">    <span class="attr">head:</span></span><br><span class="line">    <span class="string">...</span></span><br><span class="line">    <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">id=&quot;fps&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">注意该功能</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="公告栏欢迎"><a class="markdownIt-Anchor" href="#公告栏欢迎"></a> 公告栏欢迎</h1><p>自行新建并修改以下js,cv自<a href="https://ichika.cc">ichika</a>[doge保命</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, todis);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, todis);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">todis</span>(<span class="params"></span>)&#123;</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&#x27;get&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;https://apis.map.qq.com/ws/location/v1/ip&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">key</span>: <span class="string">&#x27;T3EBZ-TJ7LI-YRBG2-5ZLUR-KD3OS-U6BJO&#x27;</span>,</span><br><span class="line">        <span class="attr">output</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">dataType</span>: <span class="string">&#x27;jsonp&#x27;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        ipLoacation = res;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">getDistance</span>(<span class="params">e1, n1, e2, n2</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> R = <span class="number">6371</span></span><br><span class="line">            <span class="keyword">const</span> &#123; sin, cos, asin, <span class="variable constant_">PI</span>, hypot &#125; = <span class="title class_">Math</span></span><br><span class="line">        </span><br><span class="line">            <span class="keyword">let</span> <span class="title function_">getPoint</span> = (<span class="params">e, n</span>) =&gt; &#123;</span><br><span class="line">                e *= <span class="variable constant_">PI</span> / <span class="number">180</span></span><br><span class="line">                n *= <span class="variable constant_">PI</span> / <span class="number">180</span></span><br><span class="line">                <span class="keyword">return</span> &#123; <span class="attr">x</span>: <span class="title function_">cos</span>(n) * <span class="title function_">cos</span>(e), <span class="attr">y</span>: <span class="title function_">cos</span>(n) * <span class="title function_">sin</span>(e), <span class="attr">z</span>: <span class="title function_">sin</span>(n) &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">let</span> a = <span class="title function_">getPoint</span>(e1, n1)</span><br><span class="line">            <span class="keyword">let</span> b = <span class="title function_">getPoint</span>(e2, n2)</span><br><span class="line">            <span class="keyword">let</span> c = <span class="title function_">hypot</span>(a.<span class="property">x</span> - b.<span class="property">x</span>, a.<span class="property">y</span> - b.<span class="property">y</span>, a.<span class="property">z</span> - b.<span class="property">z</span>)</span><br><span class="line">            <span class="keyword">let</span> r = <span class="title function_">asin</span>(c / <span class="number">2</span>) * <span class="number">2</span> * R</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">round</span>(r);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">showWelcome</span>(<span class="params"></span>) &#123;</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">let</span> dist = <span class="title function_">getDistance</span>(<span class="number">107.38779</span>, <span class="number">29.70239</span>, ipLoacation.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lng</span>, ipLoacation.<span class="property">result</span>.<span class="property">location</span>.<span class="property">lat</span>);</span><br><span class="line">        </span><br><span class="line">            <span class="keyword">let</span> pos = ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">nation</span>;</span><br><span class="line">            <span class="keyword">let</span> posdesc;</span><br><span class="line">            <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">nation</span>) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;日本&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;よろしく，一起去看樱花吗&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;美国&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;Make America Great Again!&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;英国&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;想同你一起夜乘伦敦眼&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;俄罗斯&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;干了这瓶伏特加！&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;法国&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;C&#x27;est La Vie&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;德国&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;Die Zeit verging im Fluge.&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;澳大利亚&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;一起去大堡礁吧！&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;加拿大&quot;</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;拾起一片枫叶赠予你&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;中国&quot;</span>:</span><br><span class="line">                    pos = ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">province</span> + <span class="string">&quot; &quot;</span> + ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">city</span>;</span><br><span class="line">                    <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">province</span>) &#123;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;北京市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;北——京——欢迎你~~~&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;天津市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;讲段相声吧。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;重庆市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;老乡！！！&quot;</span></span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;河北省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;山势巍巍成壁垒，天下雄关。铁马金戈由此向，无限江山。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;山西省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;展开坐具长三尺，已占山河五百余。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;内蒙古自治区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;天苍苍，野茫茫，风吹草低见牛羊。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;辽宁省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;我想吃烤鸡架！&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;吉林省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;状元阁就是东北烧烤之王。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;黑龙江省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;很喜欢哈尔滨大剧院。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;上海市&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;众所周知，中国只有两个城市。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;江苏省&quot;</span>:</span><br><span class="line">                            <span class="keyword">switch</span> (ipLoacation.<span class="property">result</span>.<span class="property">ad_info</span>.<span class="property">city</span>) &#123;</span><br><span class="line">                                <span class="keyword">case</span> <span class="string">&quot;南京市&quot;</span>:</span><br><span class="line">                                    posdesc = <span class="string">&quot;欢迎来自安徽省南京市的小伙伴。&quot;</span>;</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                <span class="keyword">case</span> <span class="string">&quot;苏州市&quot;</span>:</span><br><span class="line">                                    posdesc = <span class="string">&quot;上有天堂，下有苏杭。&quot;</span>;</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                                <span class="attr">default</span>:</span><br><span class="line">                                    posdesc = <span class="string">&quot;散装是必须要散装的。&quot;</span>;</span><br><span class="line">                                    <span class="keyword">break</span>;</span><br><span class="line">                            &#125;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;浙江省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;东风渐绿西湖柳，雁已还人未南归。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;安徽省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;蚌埠住了，芜湖起飞。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;福建省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;井邑白云间，岩城远带山。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;江西省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;落霞与孤鹜齐飞，秋水共长天一色。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;山东省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;遥望齐州九点烟，一泓海水杯中泻。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;湖北省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;来碗热干面！&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;湖南省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;74751，长沙斯塔克。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;广东省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;老板来两斤福建人。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;广西壮族自治区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;桂林山水甲天下。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;海南省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;朝观日出逐白浪，夕看云起收霞光。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;四川省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;康康川妹子。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;贵州省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;茅台，学生，再塞200。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;云南省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;玉龙飞舞云缠绕，万仞冰川直耸天。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;西藏自治区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;躺在茫茫草原上，仰望蓝天。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;陕西省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;来份臊子面加馍。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;甘肃省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;羌笛何须怨杨柳，春风不度玉门关。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;青海省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;牛肉干和老酸奶都好好吃。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;宁夏回族自治区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;大漠孤烟直，长河落日圆。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;新疆维吾尔自治区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;驼铃古道丝绸路，胡马犹闻唐汉风。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;台湾省&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;我在这头，大陆在那头。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;香港特别行政区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;永定贼有残留地鬼嚎，迎击光非岁玉。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="keyword">case</span> <span class="string">&quot;澳门特别行政区&quot;</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;性感荷官，在线发牌。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        <span class="attr">default</span>:</span><br><span class="line">                            posdesc = <span class="string">&quot;社会主义大法好。&quot;</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="attr">default</span>:</span><br><span class="line">                    posdesc = <span class="string">&quot;带我去你的国家逛逛吧。&quot;</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">//判断时间</span></span><br><span class="line">            <span class="keyword">let</span> timeChange;</span><br><span class="line">            <span class="keyword">let</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">            <span class="keyword">if</span> (date.<span class="title function_">getHours</span>()&gt;= <span class="number">5</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">11</span>) timeChange = <span class="string">&quot;&lt;span&gt;上午好&lt;/span&gt;，一日之计在于晨&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>()&gt;= <span class="number">1</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">13</span>) timeChange = <span class="string">&quot;&lt;span&gt;中午好&lt;/span&gt;，该摸鱼吃午饭了&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">13</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">15</span>) timeChange = <span class="string">&quot;&lt;span&gt;下午好&lt;/span&gt;，懒懒地睡个午觉吧！&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">15</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">16</span>) timeChange = <span class="string">&quot;&lt;span&gt;三点几啦&lt;/span&gt;，饮茶先啦！&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">16</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">19</span>) timeChange = <span class="string">&quot;&lt;span&gt;夕阳无限好！&lt;/span&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (date.<span class="title function_">getHours</span>() &gt;= <span class="number">19</span> &amp;&amp; date.<span class="title function_">getHours</span>() &lt; <span class="number">24</span>) timeChange = <span class="string">&quot;&lt;span&gt;晚上好&lt;/span&gt;，夜生活嗨起来！&quot;</span>;</span><br><span class="line">            <span class="keyword">else</span> timeChange = <span class="string">&quot;夜深了，早点休息，少熬夜&quot;</span>;</span><br><span class="line">        </span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;announcement_content&quot;</span>)[<span class="number">0</span>].<span class="property">innerHTML</span> =</span><br><span class="line">                <span class="string">`欢迎来自&lt;span&gt;<span class="subst">$&#123;pos&#125;</span>&lt;/span&gt;的小伙伴，<span class="subst">$&#123;timeChange&#125;</span>&lt;br&gt;</span></span><br><span class="line"><span class="string">        你距离Ariasaka约有&lt;span&gt;<span class="subst">$&#123;dist&#125;</span>&lt;/span&gt;公里，<span class="subst">$&#123;posdesc&#125;</span></span></span><br><span class="line"><span class="string">        &lt;br&gt;</span></span><br><span class="line"><span class="string">        &lt;br&gt;</span></span><br><span class="line"><span class="string">        本网站的Twikoo评论系统使用&lt;a href=&quot;https://cravatar.cn&quot;&gt;Cravatar&lt;/a&gt;头像系统，请自行绑定邮箱配置</span></span><br><span class="line"><span class="string">        `</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">showWelcome</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">switchPostChart</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> color = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;light&#x27;</span> ? <span class="string">&#x27;#4C4948&#x27;</span> : <span class="string">&#x27;rgba(255,255,255,0.7)&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;posts-chart&#x27;</span>) &amp;&amp; postsOption) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> postsOptionNew = postsOption</span><br><span class="line">        postsOptionNew.<span class="property">title</span>.<span class="property">textStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">xAxis</span>.<span class="property">nameTextStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">yAxis</span>.<span class="property">nameTextStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">xAxis</span>.<span class="property">axisLabel</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">yAxis</span>.<span class="property">axisLabel</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">xAxis</span>.<span class="property">axisLine</span>.<span class="property">lineStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">yAxis</span>.<span class="property">axisLine</span>.<span class="property">lineStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        postsOptionNew.<span class="property">series</span>[<span class="number">0</span>].<span class="property">markLine</span>.<span class="property">data</span>[<span class="number">0</span>].<span class="property">label</span>.<span class="property">color</span> = color</span><br><span class="line">        postsChart.<span class="title function_">setOption</span>(postsOptionNew)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;tags-chart&#x27;</span>) &amp;&amp; tagsOption) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> tagsOptionNew = tagsOption</span><br><span class="line">        tagsOptionNew.<span class="property">title</span>.<span class="property">textStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">xAxis</span>.<span class="property">nameTextStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">yAxis</span>.<span class="property">nameTextStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">xAxis</span>.<span class="property">axisLabel</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">yAxis</span>.<span class="property">axisLabel</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">xAxis</span>.<span class="property">axisLine</span>.<span class="property">lineStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">yAxis</span>.<span class="property">axisLine</span>.<span class="property">lineStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsOptionNew.<span class="property">series</span>[<span class="number">0</span>].<span class="property">markLine</span>.<span class="property">data</span>[<span class="number">0</span>].<span class="property">label</span>.<span class="property">color</span> = color</span><br><span class="line">        tagsChart.<span class="title function_">setOption</span>(tagsOptionNew)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;categories-chart&#x27;</span>) &amp;&amp; categoriesOption) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> categoriesOptionNew = categoriesOption</span><br><span class="line">        categoriesOptionNew.<span class="property">title</span>.<span class="property">textStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        categoriesOptionNew.<span class="property">legend</span>.<span class="property">textStyle</span>.<span class="property">color</span> = color</span><br><span class="line">        <span class="keyword">if</span> (!categoryParentFlag) &#123; categoriesOptionNew.<span class="property">series</span>[<span class="number">0</span>].<span class="property">label</span>.<span class="property">color</span> = color &#125;</span><br><span class="line">        categoriesChart.<span class="title function_">setOption</span>(categoriesOptionNew)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.rightMenu-item:has(.fa-moon)&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="built_in">setTimeout</span>(switchPostChart, <span class="number">100</span>) &#125;)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;con-mode&quot;</span>).<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="built_in">setTimeout</span>(switchPostChart, <span class="number">100</span>) &#125;)&#125;</span><br><span class="line">    <span class="comment">//</span></span><br></pre></td></tr></table></figure><h1 id="更好的首页轮播"><a class="markdownIt-Anchor" href="#更好的首页轮播"></a> 更好的首页轮播</h1><p>基于Akilar的npm版进行修改，部分代码~~（扒~~来自<a href="https://blog.leonus.cn">Leonus</a>，部分功能进行了精简：</p><a class="tag-Link" target="_blank" href="https://akilar.top/posts/8e1264d1/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/akilar.top/posts/8e1264d1/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Swiper bar</div>            <div class="tag-link-sitename">Akilar</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p><img src="https://bu.dusays.com/2023/01/20/63ca132333058.webp" alt="" /></p><p>先进行安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -s hexo-butterfly-swiper-lyx</span><br></pre></td></tr></table></figure><p>注意，如果安装过<code>hexo-butterfly-swiper</code>请先卸载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm un -s hexo-butterfly-swiper</span><br></pre></td></tr></table></figure><p>然后在主题<code>_config.yml</code>里编写：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper-lyx</span></span><br><span class="line"><span class="comment"># see https://blog.yaria.top/posts/670e47f/#%E6%9B%B4%E5%A5%BD%E7%9A%84%E9%A6%96%E9%A1%B5%E8%BD%AE%E6%92%AD</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment"># 过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">swiper-div</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> </span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/css/swiper.min.css</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://cdnjs.cloudflare.com/ajax/libs/Swiper/5.4.5/js/swiper.min.js</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper-lyx/lib/swiperstyle.css</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper-lyx/lib/swiper_init.js</span></span><br></pre></td></tr></table></figure><p>注意，因为切换键采用了自己的配色方案，建议添加css覆盖掉：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.swiper-button-next</span><span class="selector-pseudo">:after</span>, <span class="selector-class">.swiper-button-prev</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#66ccff</span><span class="meta">!important</span>; <span class="comment">/*自己改*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>除此之外，在1.0.2版本中，为了和原版描述区分开来，所以swiper的描述项改为了<code>swiper_description</code>，当然你也可以装回<code>1.0.1</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -s hexo-butterfly-swiper-lyx@1.0.1</span><br></pre></td></tr></table></figure><h1 id="twikoo-magic"><a class="markdownIt-Anchor" href="#twikoo-magic"></a> Twikoo Magic</h1><p>扩展更多表情包，参考：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca132432405.webp" alt="" /></p><a class="tag-Link" target="_blank" href="https://github.com/2X-ercha/Twikoo-Magic">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/2X-ercha/Twikoo-Magic.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">2X-ercha/Twikoo-Magic：Twikoo自定义表情列表 | HexoPlusPlus自定义表情列表（其实基于OwO的项目都可以用的啦）</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
    <category term="魔改日记" scheme="https://blog.yaria.top/tags/%E9%AD%94%E6%94%B9%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>适配指北：我是怎么适配PJAX的</title>
    <link href="https://blog.yaria.top/posts/30bce1d1/"/>
    <id>https://blog.yaria.top/posts/30bce1d1/</id>
    <published>2022-12-06T03:45:29.000Z</published>
    <updated>2022-12-06T03:45:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>昨天爆肝（主要是昨天下午没课）适配了pjax，当时把这个任务当成一个长期任务，没想到很快就搞定了，修改量也不是很大。</p><p>具体适配，其实并不多。</p><h1 id="dom层面适配"><a class="markdownIt-Anchor" href="#dom层面适配"></a> DOM层面适配</h1><p>有些DOM元素（自己魔改的）在不同页面的表现不一样，这时使用pjax切换页面后并不会进行更改，需要加上类名<code>.js-pjax</code>。</p><h2 id="加上之后全页重载"><a class="markdownIt-Anchor" href="#加上之后全页重载"></a> 加上之后全页重载?</h2><p>有的时候，加上了<code>.js-pjax</code>之后出现了全页重载的现象，这是因为前面的页面有这个元素，后面的没有，pjax出错导致全页重载的问题，这时应该把这个元素扩展到全站范围，并且在不需要的页面把元素置空。</p><p>说起来比较麻烦，其实大概就是这样。</p><p>典型例子，<code>commentBarrage</code>的pug本来是这么写的：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> is_page()||is_post()</span><br><span class="line">    .comment-barrage</span><br></pre></td></tr></table></figure><p>显然，这时如果加上<code>.js-pjax</code>会使主页无法正常跳转，所以我们不妨把她扩展到主页范围：</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.comment-barrage.js-pjax</span><br></pre></td></tr></table></figure><p>这样就不会重载了</p><p>（感谢糖果屋群友的帮助）</p><h1 id="js适配"><a class="markdownIt-Anchor" href="#js适配"></a> JS适配</h1><p>JS可是最恼火的了，首先，对于切换页面后出现bug的js，首先你应该尝试加上<code>data-pjax</code>类，因为它是在butterfly里面写好了的js重载筛选器：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12362158c.webp" alt="" /></p><p>这对于一些没有事件绑定的js是有效的，对于一些其它的则无效。</p><h2 id="处理事件绑定问题"><a class="markdownIt-Anchor" href="#处理事件绑定问题"></a> 处理事件绑定问题</h2><p>有时候，js里面会这么写:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//todo</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//todo</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//todo</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>这些写法在pjax下的表现就是首次加载执行，后面就不会执行了。</p><p>修改方法也不难，把所有要做的事情全部写在一个函数里面，绑定事件：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;pjax:complete&quot;</span>,todo);<span class="comment">//后面几次，pjax加载</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>,todo);<span class="comment">//第一次</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">todo</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有时候一些本来不是函数的写了事件绑定，一定要注意全局和局部变量的问题。</p><h1 id="解决鬼畜问题"><a class="markdownIt-Anchor" href="#解决鬼畜问题"></a> 解决鬼畜问题</h1><p>对于一些定时器来说，每一次刷新都需要清除，否则就会鬼畜，比如弹幕的js，我们需要给定时器设置一个变量绑定，每一次刷新都进行<code>clearInternal(timer)</code>：</p><p>一个简化了的弹幕代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;pjax:complete&quot;</span>,clear);<span class="comment">//后面几次，pjax加载</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>,load);<span class="comment">//第一次加载</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clear</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">clearInternal</span>(timer);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="property">innerHtml</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="title function_">load</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">load</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//init</span></span><br><span class="line">    timer=<span class="title function_">setInteral</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">popCommentBarrage</span>();</span><br><span class="line">    &#125;,<span class="number">114514</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>总的来说，就是这些了，对于一些没法适配pjax的第三方脚本（比如毒瘤的<code>bbtalk.min.js</code>，我们不妨加入<code>exclude</code>里面，然后对于APlayer依然可以用之前的<a href="/posts/614f1131">这个方案</a></p><p>{画个大饼，弹幕会改成Swiper。}</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="避坑" scheme="https://blog.yaria.top/tags/%E9%81%BF%E5%9D%91/"/>
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P7911 [CSP-J 2021] 网络连接</title>
    <link href="https://blog.yaria.top/posts/65ad2601/"/>
    <id>https://blog.yaria.top/posts/65ad2601/</id>
    <published>2022-12-05T11:52:30.000Z</published>
    <updated>2022-12-05T11:52:30.000Z</updated>
    
    <content type="html"><![CDATA[<p>本蒟蒻为数不多过了的黄题，祝贺！！！</p><a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P7911">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P7911.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P7911 [CSP-J 2021] 网络连接</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p><img src="https://bu.dusays.com/2023/01/20/63ca134dbb0be.webp" alt="" /></p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">查看题目</summary><div class="toggle-content"><h1 id="csp-j-2021-网络连接"><a class="markdownIt-Anchor" href="#csp-j-2021-网络连接"></a> [CSP-J 2021] 网络连接</h1><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>TCP/IP 协议是网络通信领域的一项重要协议。今天你的任务，就是尝试利用这个协议，还原一个简化后的网络连接场景。</p><p>在本问题中，计算机分为两大类：服务机（<code>Server</code>）和客户机（<code>Client</code>）。服务机负责建立连接，客户机负责加入连接。</p><p>需要进行网络连接的计算机共有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 台，编号为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>∼</mo><mi>n</mi></mrow><annotation encoding="application/x-tex">1 \sim n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，这些机器将按编号递增的顺序，依次发起一条建立连接或加入连接的操作。</p><p>每台机器在尝试建立或加入连接时需要提供一个地址串。服务机提供的地址串表示它尝试建立连接的地址，客户机提供的地址串表示它尝试加入连接的地址。</p><p>一个符合规范的地址串应当具有以下特征：</p><ol><li>必须形如 <code>a.b.c.d:e</code> 的格式，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 均为非负整数；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo>≤</mo><mn>255</mn></mrow><annotation encoding="application/x-tex">0 \le a, b, c, d \le 255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>e</mi><mo>≤</mo><mn>65535</mn></mrow><annotation encoding="application/x-tex">0 \le e \le 65535</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">5</span><span class="mord">5</span><span class="mord">3</span><span class="mord">5</span></span></span></span>；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 均不能含有多余的前导 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</li></ol><p>相应地，不符合规范的地址串可能具有以下特征：</p><ol><li>不是形如 <code>a.b.c.d:e</code> 格式的字符串，例如含有多于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 个字符 <code>.</code> 或多于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个字符 <code>:</code> 等情况；</li><li>整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 中某一个或多个超出上述范围；</li><li>整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 中某一个或多个含有多余的前导 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</li></ol><p>例如，地址串 <code>192.168.0.255:80</code> 是符合规范的，但 <code>192.168.0.999:80</code>、<code>192.168.00.1:10</code>、<code>192.168.0.1:088</code>、<code>192:168:0:1.233</code> 均是不符合规范的。</p><p>如果服务机或客户机在发起操作时提供的地址串不符合规范，这条操作将被直接忽略。</p><p>在本问题中，我们假定凡是符合上述规范的地址串均可参与正常的连接，你无需考虑每个地址串的实际意义。</p><p>由于网络阻塞等原因，不允许两台服务机使用相同的地址串，如果此类现象发生，后一台尝试建立连接的服务机将会无法成功建立连接；除此之外，凡是提供符合规范的地址串的服务机均可成功建立连接。</p><p>如果某台提供符合规范的地址的客户机在尝试加入连接时，与先前某台已经成功建立连接的服务机提供的地址串相同，这台客户机就可以成功加入连接，并称其连接到这台服务机；如果找不到这样的服务机，则认为这台客户机无法成功加入连接。</p><p>请注意，尽管不允许两台不同的服务机使用相同的地址串，但多台客户机使用同样的地址串，以及同一台服务机同时被多台客户机连接的情况是被允许的。</p><p>你的任务很简单：在给出每台计算机的类型以及地址串之后，判断这台计算机的连接情况。</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>第一行，一个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>。</p><p>接下来 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 行，每行两个字符串 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mrow><mi>o</mi><mi>p</mi></mrow><mo separator="true">,</mo><mrow><mi>a</mi><mi>d</mi></mrow></mrow><annotation encoding="application/x-tex">\mathit{op}, \mathit{ad}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathit">o</span><span class="mord mathit">p</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathit">a</span><span class="mord mathit">d</span></span></span></span></span>，按照编号从小到大给出每台计算机的类型及地址串。</p><p>其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">\mathit{op}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathit">o</span><span class="mord mathit">p</span></span></span></span></span> 保证为字符串 <code>Server</code> 或 <code>Client</code> 之一，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">\mathit{ad}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord mathit">a</span><span class="mord mathit">d</span></span></span></span></span> 为一个长度不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>25</mn></mrow><annotation encoding="application/x-tex">25</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span></span></span></span> 的，仅由数字、字符 <code>.</code> 和字符 <code>:</code> 组成的非空字符串。</p><p>每行的两个字符串之间用恰好一个空格分隔开，每行的末尾没有多余的空格。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>输出共 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 行，每行一个正整数或字符串表示第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 台计算机的连接状态。其中：</p><p>如果第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 台计算机为服务机，则：</p><ol><li>如果其提供符合规范的地址串且成功建立连接，输出字符串 <code>OK</code>。</li><li>如果其提供符合规范的地址串，但由于先前有相同地址串的服务机而无法成功建立连接，输出字符串 <code>FAIL</code>。</li><li>如果其提供的地址串不是符合规范的地址串，输出字符串 <code>ERR</code>。</li></ol><p>如果第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 台计算机为客户机，则：</p><ol><li>如果其提供符合规范的地址串且成功加入连接，输出一个正整数表示这台客户机连接到的服务机的编号。</li><li>如果其提供符合规范的地址串，但无法成功加入连接时，输出字符串 <code>FAIL</code>。</li><li>如果其提供的地址串不是符合规范的地址串，输出字符串 <code>ERR</code>。</li></ol><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">Server 192.168.1.1:8080</span><br><span class="line">Server 192.168.1.1:8080</span><br><span class="line">Client 192.168.1.1:8080</span><br><span class="line">Client 192.168.1.1:80</span><br><span class="line">Client 192.168.1.1:99999</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">OK</span><br><span class="line">FAIL</span><br><span class="line">1</span><br><span class="line">FAIL</span><br><span class="line">ERR</span><br></pre></td></tr></table></figure><h2 id="样例-2"><a class="markdownIt-Anchor" href="#样例-2"></a> 样例 #2</h2><h3 id="样例输入-2"><a class="markdownIt-Anchor" href="#样例输入-2"></a> 样例输入 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">Server 192.168.1.1:80</span><br><span class="line">Client 192.168.1.1:80</span><br><span class="line">Client 192.168.1.1:8080</span><br><span class="line">Server 192.168.1.1:80</span><br><span class="line">Server 192.168.1.1:8080</span><br><span class="line">Server 192.168.1.999:0</span><br><span class="line">Client 192.168.1.1.8080</span><br><span class="line">Client 192.168.1.1:8080</span><br><span class="line">Client 192.168.1.1:80</span><br><span class="line">Client 192.168.1.999:0</span><br></pre></td></tr></table></figure><h3 id="样例输出-2"><a class="markdownIt-Anchor" href="#样例输出-2"></a> 样例输出 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">OK</span><br><span class="line">1</span><br><span class="line">FAIL</span><br><span class="line">FAIL</span><br><span class="line">OK</span><br><span class="line">ERR</span><br><span class="line">ERR</span><br><span class="line">5</span><br><span class="line">1</span><br><span class="line">ERR</span><br></pre></td></tr></table></figure><h2 id="样例-3"><a class="markdownIt-Anchor" href="#样例-3"></a> 样例 #3</h2><h3 id="样例输入-3"><a class="markdownIt-Anchor" href="#样例输入-3"></a> 样例输入 #3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">见附件中的 network/network3.in。</span><br></pre></td></tr></table></figure><h3 id="样例输出-3"><a class="markdownIt-Anchor" href="#样例输出-3"></a> 样例输出 #3</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">见附件中的 network/network3.ans。</span><br></pre></td></tr></table></figure><h2 id="样例-4"><a class="markdownIt-Anchor" href="#样例-4"></a> 样例 #4</h2><h3 id="样例输入-4"><a class="markdownIt-Anchor" href="#样例输入-4"></a> 样例输入 #4</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">见附件中的 network/network4.in。</span><br></pre></td></tr></table></figure><h3 id="样例输出-4"><a class="markdownIt-Anchor" href="#样例输出-4"></a> 样例输出 #4</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">见附件中的 network/network4.ans。</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p><strong>【样例解释 #1】</strong></p><p>计算机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 为服务机，提供符合规范的地址串 <code>192.168.1.1:8080</code>，成功建立连接；</p><p>计算机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 为服务机，提供与计算机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 相同的地址串，未能成功建立连接；</p><p>计算机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn></mrow><annotation encoding="application/x-tex">3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span> 为客户机，提供符合规范的地址串 <code>192.168.1.1:8080</code>，成功加入连接，并连接到服务机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>；</p><p>计算机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 为客户机，提供符合规范的地址串 <code>192.168.1.1:80</code>，找不到服务机与其连接；</p><p>计算机 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span> 为客户机，提供的地址串 <code>192.168.1.1:99999</code> 不符合规范。</p><p><strong>【数据范围】</strong></p><table><thead><tr><th style="text-align:center">测试点编号</th><th style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo></mrow><annotation encoding="application/x-tex">n \le</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span></span></span></span></th><th style="text-align:center">特殊性质</th></tr></thead><tbody><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 1 2 3</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>∼</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">2 \sim 3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 1 2 3</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>∼</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">4 \sim 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 1 2 3</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">6 \sim 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">8</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 1 2</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>9</mn><mo>∼</mo><mn>11</mn></mrow><annotation encoding="application/x-tex">9 \sim 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 1</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>12</mn><mo>∼</mo><mn>13</mn></mrow><annotation encoding="application/x-tex">12 \sim 13</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">3</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 2</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>14</mn><mo>∼</mo><mn>15</mn></mrow><annotation encoding="application/x-tex">14 \sim 15</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 4</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>16</mn><mo>∼</mo><mn>17</mn></mrow><annotation encoding="application/x-tex">16 \sim 17</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">7</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">性质 5</td></tr><tr><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>∼</mo><mn>20</mn></mrow><annotation encoding="application/x-tex">18 \sim 20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span></td><td style="text-align:center"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1000</mn></mrow><annotation encoding="application/x-tex">1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span></td><td style="text-align:center">无特殊性质</td></tr></tbody></table><p>“性质 1”为：保证所有的地址串均符合规范；<br />“性质 2”为：保证对于任意两台不同的计算机，如果它们同为服务机或者同为客户机，则它们提供的地址串一定不同；<br />“性质 3”为：保证任意一台服务机的编号都小于所有的客户机；<br />“性质 4”为：保证所有的地址串均形如 <code>a.b.c.d:e</code> 的格式，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 均为不超过 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>10</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">{10}^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.848448em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord">1</span><span class="mord">0</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.848448em;"><span style="top:-3.09734em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span> 且不含有多余前导 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 的非负整数；<br />“性质 5”为：保证所有的地址串均形如 <code>a.b.c.d:e</code> 的格式，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 均为只含有数字的非空字符串。</p><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100 \%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据，保证 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p><p><strong>【提供 hack 数据感谢】</strong></p><ul><li><a href="/user/68273">xyf007</a>。</li></ul></div></details><h1 id="解析-c做法"><a class="markdownIt-Anchor" href="#解析-c做法"></a> 解析-C++做法</h1><p>想到这是一个比赛题，正式的时候不能用py，故有此法</p><p>思路和Python做法类似，但是因为 <code>C++</code> 的字符处理比较困难，我选择用全正则</p><p class='p red'>初始化正则表达式的时候一定要放在循环外面！！！否则会T的你怀疑C++和Py的区别！！！！</p><p><s>（就因为这个狗的正则初始化搞得我用map和二分弄了好久都没行，本来用数组就行的）</s></p><p>放里面：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134e6bd28.webp" alt="" /></p><p>外面:</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134f1f239.webp" alt="" /></p><p>因为在今年换用了NOILinux2.0，编译环境不用担心。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><details class="toggle" ><summary class="toggle-button" style="">我已经详细看完并理解了上面的内容，并且不会直接照搬</summary><div class="toggle-content"><p>PS：C++的正则转义是双斜线<code>\\</code>，且不支持<code>\d</code>简写</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function">regex <span class="title">ipadd</span><span class="params">(<span class="string">&quot;^([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9])\\.([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9])\\.([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9])\\.([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9]):([0-9]|[1-9][0-9]|[1-9][0-9]&#123;2&#125;|[1-9][0-9]&#123;3&#125;|[1-5][0-9]&#123;4&#125;|6[0-4][0-9][0-9][0-9]|65[0-4][0-9][0-9]|655[0-2][0-9]|6553[0-5])$&quot;</span>)</span></span>; <span class="comment">//一个掉了一堆头发的范围判定正则</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ios::<span class="built_in">sync_with_stdio</span>(<span class="number">0</span>); <span class="comment">//读入优化（虽然没啥用</span></span><br><span class="line">    <span class="type">int</span> n,li[<span class="number">1145</span>],k=<span class="number">1</span>;</span><br><span class="line">    string l[<span class="number">1145</span>];</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        string a,b;</span><br><span class="line">        cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">        <span class="type">bool</span> ret=<span class="built_in">regex_match</span>(b,ipadd); <span class="comment">//匹配正则</span></span><br><span class="line">        <span class="keyword">if</span>(!ret)&#123;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;ERR&quot;</span>&lt;&lt;endl;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a==<span class="string">&quot;Server&quot;</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=k;j++)&#123; <span class="comment">//找元素，开始T了以为是这里的原因调了半天还用二分卡了半天结果特么的是正则的编译位置不对</span></span><br><span class="line">                <span class="keyword">if</span>(l[j]==b)&#123;</span><br><span class="line">                    cout&lt;&lt;<span class="string">&quot;FAIL&quot;</span>&lt;&lt;endl;</span><br><span class="line">                    <span class="keyword">goto</span> end; <span class="comment">//跳出循环</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            li[++k]=i; <span class="comment">//偷懒，li数组记录本来的索引</span></span><br><span class="line">            l[k]=b;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;OK&quot;</span>&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a==<span class="string">&quot;Client&quot;</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=k;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(l[j]==b)&#123; <span class="comment">//找元素，记录索引</span></span><br><span class="line">                    cout&lt;&lt;li[j]&lt;&lt;endl;</span><br><span class="line">                    <span class="keyword">goto</span> end; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            cout&lt;&lt;<span class="string">&quot;FAIL&quot;</span>&lt;&lt;endl;</span><br><span class="line">        &#125;</span><br><span class="line">        end: &#123;&#125; <span class="comment">//不加&#123;&#125;会CE</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div></details><h1 id="解析-python做法"><a class="markdownIt-Anchor" href="#解析-python做法"></a> 解析-Python做法</h1><p>这道题也可以用 Python 来做。周知所众，Python 的字符处理能力特强，效率也不低，对于这道题：对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100 \%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据，保证 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \le n \le 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。是完全够用的。</p><p>首先要进行字符串查错，检查 IP 地址串，根据题目要求：</p><ol><li>必须形如 <code>a.b.c.d:e</code> 的格式，其中 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 均为非负整数；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo>≤</mo><mn>255</mn></mrow><annotation encoding="application/x-tex">0 \le a, b, c, d \le 255</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">5</span><span class="mord">5</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>e</mi><mo>≤</mo><mn>65535</mn></mrow><annotation encoding="application/x-tex">0 \le e \le 65535</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">5</span><span class="mord">5</span><span class="mord">3</span><span class="mord">5</span></span></span></span>；</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>e</mi></mrow><annotation encoding="application/x-tex">a, b, c, d, e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">d</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">e</span></span></span></span> 均不能含有多余的前导 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>。</li></ol><p>我们一点一点的来看。</p><p>第一点，使用一个正则表达式来匹配，只能匹配 <code>*.*.*.*:*</code> 的格式，且每一部分均为数字，不能为负号，每一位数字用正则表达式写成：<code>\d</code>，匹配多个加个 <code>*</code> ，正则表达式就写成:</p><p><code>^(\d*)\.(\d*)\.(\d*)\.(\d*):(\d*)$</code></p><p>其中，<strong>首尾加<code>^$</code>表示全匹配，每一个<code>.</code>前面要加上 <code>\</code> 来转义，否则会被识别为正则表达式语法，会导致只有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>75</mn></mrow><annotation encoding="application/x-tex">75</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span><span class="mord">5</span></span></span></span> 分</strong>。</p><p>而其实，在第三点中说到：不能有前导零，要么这个数就是零，所以正则表达式的匹配可以改为(<code>[1-9]</code>表示匹配1-9的数字):</p><p><code>^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*):(0|[1-9]\d*)$</code></p><p>我们使用<code>re.match</code>来匹配：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">re.<span class="keyword">match</span>(<span class="string">&quot;^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*):(0|[1-9]\d*)$&quot;</span>,<span class="built_in">str</span>)==<span class="literal">None</span> <span class="comment">#如果为None，说明不符合式子</span></span><br></pre></td></tr></table></figure><p>第二点，我采用<code>split</code>判定范围，拆成数字之后一个一个看。</p><p>并且为了偷懒，窝写了个简简单单的列表推导式。</p><p>整个条件表达式如下</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">re.<span class="keyword">match</span>(<span class="string">&quot;^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)\.\</span></span><br><span class="line"><span class="string">(0|[1-9]\d*):(0|[1-9]\d*)$&quot;</span>,b)==<span class="literal">None</span> <span class="keyword">or</span> (<span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)\</span><br><span class="line">[<span class="number">1</span>]) &gt; <span class="number">65535</span> <span class="keyword">or</span> <span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">1</span>])&lt;<span class="number">0</span>) <span class="keyword">or</span> (<span class="literal">True</span> <span class="keyword">in</span> [(<span class="built_in">int</span>(b.\</span><br><span class="line">split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)[i]) &gt; <span class="number">255</span> <span class="keyword">or</span> <span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>].split\</span><br><span class="line">(<span class="string">&quot;.&quot;</span>)[i]) &lt;<span class="number">0</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)))])</span><br><span class="line"><span class="comment"># 也就亿点点长吧qwq，其实有些地方可以简化但是懒得开新列表，直接cv，搞得像加了密一样</span></span><br></pre></td></tr></table></figure><p>然后服务器就很简单了，创建一个数组来存放之前的所有地址，如果发现重复，输出<code>FAIL</code>，不然就加到数组里面，输出<code>OK</code>。</p><p>客户端的话，只需要在前面的数组里面寻找匹配的上的服务器地址，并且输出对应的索引，<p class='p red'>（因为默认下标是0开头的所以要加1）}\end{sloppypar}$，然后找不到就输出FAIL，这样这道题就完成了</p></p><p>当然除此之外，也可以用全正则表达式来匹配范围，这样子会麻烦一点，而且时间稍长，相信看得懂的都看得懂（参考上面C++做法）：</p><p><code>^([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9])\\.([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9])\\.([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9])\\.([0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]|[1-9][0-9]):([0-9]|[1-9][0-9]|[1-9][0-9]&#123;2&#125;|[1-9][0-9]&#123;3&#125;|[1-5][0-9]&#123;4&#125;|6[0-4][0-9][0-9][0-9]|65[0-4][0-9][0-9]|655[0-2][0-9]|6553[0-5])$</code></p><h2 id="代码-2"><a class="markdownIt-Anchor" href="#代码-2"></a> 代码</h2><details class="toggle" ><summary class="toggle-button" style="">我已经详细看完并理解了上面的内容，并且不会直接照搬</summary><div class="toggle-content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re <span class="comment">#别忘了</span></span><br><span class="line">n, l, li = <span class="built_in">int</span>(<span class="built_in">input</span>()), [], [] <span class="comment">#偷懒并输入</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    a, b = <span class="built_in">input</span>().split(<span class="string">&quot; &quot;</span>) <span class="comment">#py的输入有亿点点坑</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> re.<span class="keyword">match</span>(<span class="string">&quot;^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*):(0|[1-9]\d*)$&quot;</span>,b)==<span class="literal">None</span> <span class="keyword">or</span> (<span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">1</span>]) &gt; <span class="number">65535</span> <span class="keyword">or</span> <span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">1</span>])&lt;<span class="number">0</span>) <span class="keyword">or</span> (<span class="literal">True</span> <span class="keyword">in</span> [(<span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)[i]) &gt; <span class="number">255</span> <span class="keyword">or</span> <span class="built_in">int</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)[i]) &lt;<span class="number">0</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(b.split(<span class="string">&quot;:&quot;</span>)[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)))]):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ERR&quot;</span>) <span class="comment">#代码跟加了密似的，判断条件，不满足则输出跑路</span></span><br><span class="line">            <span class="keyword">continue</span> </span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ERR&quot;</span>) <span class="comment">#匹配错误也是不满足</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">if</span> a == <span class="string">&quot;Server&quot;</span>:</span><br><span class="line">        <span class="keyword">if</span> b <span class="keyword">in</span> l:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;FAIL&quot;</span>) <span class="comment">#已经存在</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line">            l.append(b) <span class="comment">#不存在、加进去</span></span><br><span class="line">            li.append(i) <span class="comment">#li是记录本来的索引的</span></span><br><span class="line">    <span class="keyword">elif</span> a == <span class="string">&quot;Client&quot;</span>:</span><br><span class="line">        <span class="keyword">if</span> b <span class="keyword">in</span> l:</span><br><span class="line">            <span class="built_in">print</span>(li[l.index(b)]+<span class="number">1</span>) <span class="comment">#输出索引+1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;FAIL&quot;</span>) <span class="comment">#找不到，没法连接</span></span><br></pre></td></tr></table></figure></div></details>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本蒟蒻为数不多过了的黄题，祝贺！！！&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/P7911&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="字符处理" scheme="https://blog.yaria.top/tags/%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/"/>
    
    <category term="STL" scheme="https://blog.yaria.top/tags/STL/"/>
    
    <category term="Python" scheme="https://blog.yaria.top/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>快去硅云嫖个域名吧！</title>
    <link href="https://blog.yaria.top/posts/ff1701d7/"/>
    <id>https://blog.yaria.top/posts/ff1701d7/</id>
    <published>2022-12-05T01:51:43.000Z</published>
    <updated>2022-12-05T01:51:43.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近嫖了个域名：<a href="https://ariasaka.top">ariasaka.top</a>，计划用于主页，目前还未完工。</p><p>前段时间，硅云推出了五周年庆典的活动，目前除了<code>.cc</code>,<code>.com</code>,<code>.net</code>,<code>.cn</code>域名之外均可新用户免费。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122e72fae.webp" alt="" /></p><p><em>（貌似xyz没了）</em></p><p>因为很早活动就开始了，建议早点注册，不久可能就关闭了。</p><p>建议注册<code>.top</code>域名，这样想续费会便宜一点，域名60天后即可转出。</p><p>注册需要实名认证&amp;审核(未成年人也行)，但是要照片且要求电话号码和身份证一样(比如我电话是我妈身份证qwq)，不需要刷脸验证~~（我记得我妈和我身份证doge~~，如果不想暴露本名，可以开自带的whois隐私保护</p><p>如果想要多搞几个需要多搞几个邮箱和电话和其他人的身份证，快快薅一个吧！</p><p>活动地址：</p><a class="tag-Link" target="_blank" href="https://www.vpsor.cn/product/domain-buy">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.vpsor.cn/product/domain-buy.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">域名注册</div>            <div class="tag-link-sitename">硅云</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>经验+3，告辞（雾</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近嫖了个域名：&lt;a href=&quot;https://ariasaka.top&quot;&gt;ariasaka.top&lt;/a&gt;，计划用于主页，目前还未完工。&lt;/p&gt;
&lt;p&gt;前段时间，硅云推出了五周年庆典的活动，目前除了&lt;code&gt;.cc&lt;/code&gt;,&lt;code&gt;.com&lt;/code&gt;,&lt;</summary>
      
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
    <category term="域名" scheme="https://blog.yaria.top/tags/%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>告全党全军全国各族人民书</title>
    <link href="https://blog.yaria.top/posts/a844d9fc/"/>
    <id>https://blog.yaria.top/posts/a844d9fc/</id>
    <published>2022-11-30T13:34:12.000Z</published>
    <updated>2022-11-30T13:34:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>新华社北京11月30日电</p><p><strong>中国共产党中央委员会</strong></p><p><strong>中华人民共和国全国人民代表大会常务委员会</strong></p><p><strong>中华人民共和国国务院</strong></p><p><strong>中国人民政治协商会议全国委员会</strong></p><p><strong>中国共产党和中华人民共和国中央军事委员会</strong></p><p><strong>告全党全军全国各族人民书</strong></p><p>中国共产党中央委员会、中华人民共和国全国人民代表大会常务委员会、中华人民共和国国务院、中国人民政治协商会议全国委员会、中国共产党和中华人民共和国中央军事委员会，极其悲痛地向全党全军全国各族人民通告：我们敬爱的江泽民同志患白血病合并多脏器功能衰竭，抢救无效，于2022年11月30日12时13分在上海逝世，享年96岁。</p><p>江泽民同志是我党我军我国各族人民公认的享有崇高威望的卓越领导人，伟大的马克思主义者，伟大的无产阶级革命家、政治家、军事家、外交家，久经考验的共产主义战士，中国特色社会主义伟大事业的杰出领导者，党的第三代中央领导集体的核心，“三个代表”重要思想的主要创立者。</p><p>江泽民同志从青少年时代起就勤奋学习，追求真理，受到爱国主义思想和民主革命思想的启蒙。在大学学习期间，经过积极参加抗日爱国活动洗礼，江泽民同志形成了马克思主义世界观，完成了人生道路的选择，最终确立了为民族解放、人民幸福而奋斗的人生理想和信仰。一九四七年从上海交通大学毕业后，江泽民同志到工厂工作，在工人群众中并在青年会夜校职业青年中从事革命宣传工作，一九四九年组织工人群众开展护厂活动，迎接上海解放。</p><p>中华人民共和国成立初期，江泽民同志先后担任上海益民食品一厂第一副厂长、上海制皂厂第一副厂长、第一机械工业部上海第二设计分局电器专业科科长等职。一九五四年，国家在长春兴建第一汽车制造厂，需要大批专业技术干部和管理干部，江泽民同志应调前往，一九五五年赴苏联莫斯科斯大林汽车制造厂实习。一九五六年回国后，江泽民同志任长春第一汽车制造厂动力处副处长、副总动力师、动力分厂厂长。一九六二年，江泽民同志调任第一机械工业部上海电器科学研究所副所长，负责该所科研领导工作。一九六六年，江泽民同志调任武汉热工机械研究所所长、代理党委书记，后任党委书记，组织原子能发电设备设计工作。“文化大革命”开始后，江泽民同志受到冲击。一九七〇年，江泽民同志调到第一机械工业部工作，一九七一年任中国第一机械工业部派驻罗马尼亚专家组总组长，一九七三年回国先后任第一机械工业部外事局副局长、局长。一九八〇年，江泽民同志担任国家进出口管理委员会、国家外国投资管理委员会副主任兼秘书长、党组成员，主管实施广东、福建两省实行特殊政策、灵活措施和试办经济特区等开创性工作。一九八二年，江泽民同志任电子工业部第一副部长、党组副书记，一九八三年任部长、党组书记，为我国电子工业发展作出了重要贡献。一九八二年九月，江泽民同志在党的第十二次全国代表大会上当选为中央委员。</p><p>一九八五年，江泽民同志任上海市市长、中共上海市委副书记。一九八七年，江泽民同志在党的十三届一中全会上当选为中共中央政治局委员，并任中共上海市委书记。担任上海市长、市委书记期间，江泽民同志带领上海广大干部群众振奋精神、勇于探索，推动上海改革开放和社会主义现代化建设取得重大突破，浦东开发开放蓄势谋篇，推动党的建设、精神文明建设、社会建设取得重大进步。一九八九年春夏之交我国发生严重政治风波，江泽民同志拥护和执行党中央关于旗帜鲜明反对动乱、捍卫社会主义国家政权、维护人民根本利益的正确决策，紧紧依靠广大党员、干部、群众，有力维护上海稳定。</p><p>一九八九年，在党的十三届四中全会上，江泽民同志当选为中共中央政治局常委、中央委员会总书记。同年，党的十三届五中全会决定江泽民同志为中共中央军事委员会主席。一九九〇年，在七届全国人大三次会议上当选为中华人民共和国中央军事委员会主席。</p><p>江泽民同志是党的第三代中央领导集体的核心。二十世纪八十年代末九十年代初，国际国内发生严重政治风波，世界社会主义出现严重曲折，我国社会主义事业发展面临空前巨大的困难和压力。在这个决定党和国家前途命运的重大历史关头，江泽民同志带领党的中央领导集体，紧紧依靠全党全军全国各族人民，旗帜鲜明坚持四项基本原则，维护国家独立、尊严、安全、稳定，毫不动摇坚持经济建设这个中心，坚持改革开放，捍卫了中国特色社会主义伟大事业，打开了我国改革开放和社会主义现代化建设新局面。</p><p>从党的十三届四中全会到党的十六大的十三年中，国际形势风云变幻，我国改革开放和社会主义现代化建设进程波澜壮阔。在国际国内十分复杂的形势下，江泽民同志带领党的中央领导集体，高举马克思列宁主义、毛泽东思想、邓小平理论伟大旗帜，坚持党的基本路线不动摇，团结全党全国各族人民，抓住机遇、深化改革、扩大开放、促进发展、保持稳定，确立了社会主义市场经济体制的改革目标和基本框架，确立了社会主义初级阶段公有制为主体、多种所有制经济共同发展的基本经济制度和按劳分配为主体、多种分配方式并存的分配制度，制定和实施了促进改革发展稳定的一系列方针政策和重大战略，锐意推进经济体制改革、政治体制改革、文化体制改革和其他各方面改革，开创全面改革开放新局面，实施依法治国基本方略，坚持“和平统一、一国两制”的方针，实现香港、澳门顺利回归，坚持独立自主的和平外交政策，打开外交工作崭新局面，推进党的建设新的伟大工程，推动社会主义物质文明、政治文明、精神文明建设取得举世瞩目的新进展，成功把中国特色社会主义推向二十一世纪。在以江泽民同志为核心的党的第三代中央领导集体领导下，我们从容应对一系列关系我国主权和安全的国际突发事件，战胜在政治、经济领域和自然界出现的困难和风险，保证了改革开放和社会主义现代化建设的航船始终沿着正确方向破浪前进。党的十三届四中全会以来十三年我们党和国家取得的巨大成就，同江泽民同志作为马克思主义政治家的雄才大略、关键作用、高超政治领导艺术是分不开的。</p><p>江泽民同志担任中央军事委员会主席期间，深刻洞察和把握国内外形势的重大变化和世界新军事变革的发展趋势，对加强国防和军队现代化建设提出了一系列新论断新举措，丰富和发展了毛泽东军事思想和邓小平新时期军队建设思想，创立了江泽民国防和军队建设思想，领导国防和军队现代化建设取得了巨大成就。江泽民同志强调，要坚持国防建设与经济建设协调发展的方针，加强人民军队革命化、现代化、正规化建设；按照政治合格、军事过硬、作风优良、纪律严明、保障有力的总要求，紧紧围绕打得赢、不变质两个历史性课题，全面推进人民军队建设；毫不动摇坚持党对人民军队的绝对领导，始终把思想政治建设摆在我军各项建设的首位，永葆人民军队性质、本色、作风；贯彻积极防御的军事战略方针，推进中国特色军事变革，按照建设信息化军队、打赢信息化战争的目标，坚定不移走中国特色的精兵之路，实现我军现代化跨越式发展；实施科技强军战略，坚持从严治军、依法治军、勤俭建军，探索新的历史条件下治军的特点和规律，与时俱进推进我军各项建设；深化国防科技工业体制改革，增强自主创新能力，加快国防科技和武器装备发展，走出一条投入较少、效益较高的军队现代化建设路子；按照平战结合、军民结合、寓军于民的方针，提高国防动员能力，发展高技术条件下人民战争的战略战术，巩固军政军民团结。这一切，对于加强国防和军队现代化建设具有长远指导意义。</p><p>江泽民同志坚持马克思主义的思想路线，尊重实践，尊重群众，准确把握时代特征，科学判断我们党所处的历史方位，围绕建设中国特色社会主义这个主题，在改革发展稳定、内政外交国防、治党治国治军等各方面都提出了一系列新思想新观点新论断，为坚持和发展党的基本理论、基本路线、基本纲领、基本经验作出了杰出贡献。特别是他集中全党智慧创立了“三个代表”重要思想，实现了党在指导思想上的又一次与时俱进，体现了一位真正马克思主义者的巨大政治勇气和理论勇气。“三个代表”重要思想突出强调我们党始终代表中国先进生产力的发展要求、代表中国先进文化的前进方向、代表中国最广大人民的根本利益，遵循了人类历史发展进步的普遍规律，顺应了时代发展潮流和我国社会发展进步要求，反映了全国各族人民利益和愿望，抓住了新形势下提高党的执政能力、巩固党的执政地位、完成党的执政使命的根本。“三个代表”重要思想最鲜明的特点和最突出的贡献，在于用一系列紧密联系、相互贯通的新思想新观点新论断，进一步回答了什么是社会主义、怎样建设社会主义的问题，创造性回答了建设什么样的党、怎样建设党的问题，是对马克思列宁主义、毛泽东思想、邓小平理论的继承和发展，深化了我们对新的时代条件下推进中国特色社会主义事业、加强党的建设的规律的认识。</p><p>江泽民同志高度重视事关党和人民事业的重大战略问题。在筹备党的十六大期间，江泽民同志主动提出，为了党和国家事业长远发展，为了党和国家长治久安，他不再担任中央领导职务，并从中央委员会退下来，以利于促进党和国家高层领导新老交替。党中央同意了江泽民同志的请求。从当时国际形势复杂多变、国防和军队建设任务繁重考虑，党的十六届一中全会决定江泽民同志留任中共中央军事委员会主席。党的十六届一中全会后，江泽民同志全力支持以胡锦涛同志为总书记的新一届中央领导集体的工作，尽心尽力履行党中央交付他的职责。二〇〇四年，江泽民同志从党和国家事业长远发展的大局出发，又主动提出辞去他担任的党和国家中央军事委员会主席的职务，充分体现了他对党和国家事业发展的深谋远虑。</p><p>从领导岗位上退下来以后，江泽民同志坚决拥护和支持党中央工作，关心中国特色社会主义伟大事业，坚定支持党风廉政建设和反腐败斗争。二〇〇六年，江泽民同志亲自主持编辑和逐篇审定《江泽民文选》第一卷、第二卷、第三卷。《江泽民文选》主要收入了江泽民同志从二十世纪八十年代末至二十一世纪初具有代表性和独创性的重要著作，为我们更深入地学习领会“三个代表”重要思想，继续推进中国特色社会主义伟大事业和党的建设新的伟大工程提供了重要教材。</p><p>江泽民同志目光远大、审时度势，总是从中国和世界发展大势、从党和国家工作全局出发观察和思考问题，不断推进理论创新和其他各方面创新。江泽民同志信念坚定、处事果断，总是把党和人民放在心中最高的位置，始终不渝坚持共产党人的理想信念，在关键时刻具有作出果敢决策的非凡胆略和进行理论创新的巨大勇气。江泽民同志尊重实践、与时俱进，总是紧紧把握时代发展脉搏和契机，坚持从党和人民活生生的实践出发总结经验、寻找路子，脚踏实地而又开拓进取推进党和国家各项工作。江泽民同志尊重群众、关心群众，总是高度关注人民群众安危冷暖，依据最广大人民根本利益来检验和推动工作。江泽民同志的优秀品格和高尚风范将永远教育和激励我们前进。</p><p>江泽民同志的逝世，对我党我军我国各族人民是不可估量的损失。党中央号召，全党全军全国各族人民化悲痛为力量，继承江泽民同志的遗志，以实际行动表达我们的悼念。</p><p>我们一定要更加自觉地团结在以习近平同志为核心的党中央周围，坚持党的基本理论、基本路线、基本方略，深刻领悟“两个确立”的决定性意义，增强“四个意识”、坚定“四个自信”、做到“两个维护”，持之以恒推进全面从严治党，深入推进新时代党的建设新的伟大工程，以党的自我革命引领社会革命，使我们党坚守初心使命，始终成为中国特色社会主义事业的坚强领导核心。</p><p>我们一定要坚持马克思列宁主义、毛泽东思想、邓小平理论、“三个代表”重要思想、科学发展观，全面贯彻习近平新时代中国特色社会主义思想，坚持把马克思主义基本原理同中国具体实际相结合、同中华优秀传统文化相结合，坚持解放思想、实事求是、与时俱进、求真务实，勇于进行理论探索和创新，在新时代的伟大实践中不断开辟马克思主义中国化时代化新境界，让当代中国马克思主义放射出更加灿烂的真理光芒。</p><p>我们一定要坚定不移坚持中国共产党领导、坚持中国特色社会主义，坚持把国家和民族发展放在自己力量的基点上、把中国发展进步的命运牢牢掌握在自己手中，团结一心为全面建成社会主义现代化强国、实现第二个百年奋斗目标而努力，以中国式现代化全面推进中华民族伟大复兴，推动构建人类命运共同体，创造人类文明新形态。</p><p>我们一定要坚持全心全意为人民服务的根本宗旨，树牢群众观点，贯彻群众路线，尊重人民首创精神，坚持一切为了人民、一切依靠人民，从群众中来、到群众中去，始终保持同人民群众的血肉联系，始终同人民同呼吸、共命运、心连心。</p><p>我们一定要努力学习“三个代表”重要思想，学习江泽民同志的革命精神和革命风范，学习他运用马克思主义立场、观点、方法研究新情况、解决新问题的科学态度和创造精神，为把我国建设成为富强民主文明和谐美丽的社会主义现代化强国而团结奋斗。</p><p>中华民族的伟大复兴事业，凝结了包括江泽民同志在内的一代又一代共产党人的心血和奋斗。前进道路上，全党全军全国各族人民要在以习近平同志为核心的党中央坚强领导下，高举中国特色社会主义伟大旗帜，全面贯彻习近平新时代中国特色社会主义思想，弘扬伟大建党精神，坚定信心、同心同德，埋头苦干、奋勇前进，为全面建设社会主义现代化国家、全面推进中华民族伟大复兴而团结奋斗。</p><p>江泽民同志永垂不朽！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;新华社北京11月30日电&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;中国共产党中央委员会&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;中华人民共和国全国人民代表大会常务委员会&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;中华人民共和国国务院&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;s</summary>
      
    
    
    
    <category term="社会" scheme="https://blog.yaria.top/categories/%E7%A4%BE%E4%BC%9A/"/>
    
    
    <category term="社会" scheme="https://blog.yaria.top/tags/%E7%A4%BE%E4%BC%9A/"/>
    
  </entry>
  
  <entry>
    <title>博客魔改日记（2）</title>
    <link href="https://blog.yaria.top/posts/becc831a/"/>
    <id>https://blog.yaria.top/posts/becc831a/</id>
    <published>2022-11-29T00:57:01.000Z</published>
    <updated>2022-11-29T04:01:24.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>好久没发魔改日记了，最近依然进行了很多博客更新，一样的发出来吧。</p><h1 id="评论弹幕v20"><a class="markdownIt-Anchor" href="#评论弹幕v20"></a> 评论弹幕V2.0</h1><p>突然感觉之前的评论弹幕不好看，于是就仿照洪哥的风格进行了一些样式功能，并且修复了QQ头像的bug，弹幕自带跳转评论功能，优化了动画，计划3.0加上swiper功能。</p><p>PS:V3.0:</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/670e47f/#CommentBarrage%20V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/670e47f/#CommentBarrage%20V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">博客魔改日记（3）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>2023.1.22更新:</p><p>原有对于Cloudbase的方法不可用，请移步：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/8f578896/ V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/8f578896/ V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">基于腾讯云Cloudbase云开发的Twikoo评论弹幕扩展</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>2.0弹幕不再支持Waline/Valine评论（一样的，但是没人用，干脆摆烂了[doge]），支持了pjax</p><p>2.0弹幕的配置请参照旧版：</p><a class="tag-Link" target="_blank" href="/posts/69707535/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon//posts/69707535/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly主题的留言弹幕界面增强版（支持Twikoo、Waline、Valine）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>不一样的是，<code>commentBarrage.css</code>请写成：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.comment-barrage</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">55px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">justify-content</span>: end;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.comment-barrage</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> &#123;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">250px</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">144px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.9</span>);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">animation</span>: barrageIn <span class="number">1.5s</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--heo-shadow-border);</span><br><span class="line">    -webkit-<span class="attribute">animation</span>: barrageIn <span class="number">1.5s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span><span class="selector-class">.out</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> barrageIn &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">20%</span>);</span><br><span class="line">        -webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">20%</span>);</span><br><span class="line">        -moz-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">20%</span>);</span><br><span class="line">        -ms-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">20%</span>);</span><br><span class="line">        -o-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">20%</span>);</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0%</span>);</span><br><span class="line">        -webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0%</span>);</span><br><span class="line">        -moz-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0%</span>);</span><br><span class="line">        -ms-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0%</span>);</span><br><span class="line">        -o-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0%</span>);</span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageHead</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageAvatar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">30px</span>);</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span>::-webkit-scrollbar-button &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.barrageContent</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.barrageContent</span><span class="selector-pseudo">:hover</span>),<span class="selector-class">.barrageNick</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.barrageNick</span><span class="selector-pseudo">:hover</span>)&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--global-font-color)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而<code>commentBarrage.js</code>则参照以下进行修改:</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">forNormal</button></li><li class="tab"><button type="button" data-href="#-2">forPjax</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CommentBarrage 2.0 By Ariasaka</span></span><br><span class="line"><span class="comment">//因为C++的原因码风越来越奇怪了</span></span><br><span class="line"><span class="keyword">const</span> commentBarrageConfig = &#123;</span><br><span class="line">    <span class="comment">//浅色模式和深色模式颜色，务必保持一致长度，前面是背景颜色，后面是字体，随机选择，默认这个颜色还好</span></span><br><span class="line">    <span class="attr">lightColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-white-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-black)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">darkColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-black-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-white)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//同时最多显示弹幕数</span></span><br><span class="line">    <span class="attr">maxBarrage</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="comment">//弹幕显示间隔时间，单位ms</span></span><br><span class="line">    <span class="attr">barrageTime</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//twikoo部署地址（Vercel、私有部署），腾讯云的为环境ID</span></span><br><span class="line">    <span class="attr">twikooUrl</span>: <span class="string">&quot;https://tkapi.yaria.top&quot;</span>,</span><br><span class="line">    <span class="comment">//token获取见前文</span></span><br><span class="line">    <span class="attr">accessToken</span>: <span class="string">&quot;&#123;YOUR_TOKEN&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">pageUrl</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>,</span><br><span class="line">    <span class="attr">barrageTimer</span>: [],</span><br><span class="line">    <span class="attr">barrageList</span>: [],</span><br><span class="line">    <span class="attr">barrageIndex</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="comment">// 没有设置过头像时返回的默认头像，见cravatar文档 https://cravatar.cn/developers/api，可以不改以免出错</span></span><br><span class="line">    <span class="attr">noAvatarType</span>: <span class="string">&quot;retro&quot;</span>,</span><br><span class="line">    <span class="attr">dom</span>: <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否默认显示留言弹幕</span></span><br><span class="line">    <span class="attr">displayBarrage</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//头像cdn，默认cravatar</span></span><br><span class="line">    <span class="attr">avatarCDN</span>: <span class="string">&quot;cravatar.cn&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkURL</span>(<span class="params">URL</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> str=<span class="variable constant_">URL</span>;</span><br><span class="line">    <span class="comment">//判断URL地址的正则表达式为:http(s)?://([\w-]+\.)+[\w-]+(/[\w- ./?%&amp;=]*)?</span></span><br><span class="line">    <span class="comment">//下面的代码中应用了转义字符&quot;\&quot;输出一个字符&quot;/&quot;</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Expression</span>=<span class="regexp">/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&amp;=]*)?/</span>;</span><br><span class="line">    <span class="keyword">var</span> objExp=<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="title class_">Expression</span>);</span><br><span class="line">    <span class="keyword">if</span>(objExp.<span class="title function_">test</span>(str)==<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125; <span class="comment">//判断url合法性</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPortOfOne</span> (<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> viewPortHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span> </span><br><span class="line">    <span class="keyword">const</span> offsetTop = el.<span class="property">offsetTop</span></span><br><span class="line">    <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">    <span class="keyword">const</span> top = offsetTop - scrollTop</span><br><span class="line">    <span class="keyword">return</span> top &lt;= viewPortHeight</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(location.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;posts&quot;</span>)!=-<span class="number">1</span>) <span class="comment">//节流，优化非文章页面的弹幕显隐</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">displayBarrage</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">`display:none;`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCommentBarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">          <span class="string">&quot;event&quot;</span>: <span class="string">&quot;COMMENT_GET&quot;</span>,</span><br><span class="line">          <span class="string">&quot;commentBarrageConfig.accessToken&quot;</span>: commentBarrageConfig.<span class="property">accessToken</span>,</span><br><span class="line">          <span class="string">&quot;url&quot;</span>: commentBarrageConfig.<span class="property">pageUrl</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="property">withCredentials</span> = <span class="literal">true</span>;</span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;readystatechange&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageList</span> = <span class="title function_">commentLinkFilter</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">responseText</span>).<span class="property">data</span>);</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, commentBarrageConfig.<span class="property">twikooUrl</span>);</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>(data);</span><br><span class="line">        timer=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(commentBarrageConfig.<span class="property">barrageList</span>);</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">                <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">                <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line"><span class="comment">//扒评论</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commentLinkFilter</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    data.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="property">created</span> - b.<span class="property">created</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> newData = [];</span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        newData.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> newData;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCommentReplies</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">replies</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> replies = [item];</span><br><span class="line">        item.<span class="property">replies</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">            replies.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> replies;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popCommentBarrage</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> barrage = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> width = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">let</span> height = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientHeight</span>;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> ran = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*commentBarrageConfig.<span class="property">lightColors</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;barragesColor&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`[data-theme=&#x27;light&#x27;] .comment-barrage-item &#123; background-color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">1</span>]&#125;</span>&#125;[data-theme=&#x27;dark&#x27;] .comment-barrage-item&#123; background-color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">1</span>]&#125;</span>&#125;`</span>;</span><br><span class="line">    <span class="keyword">if</span>(data.<span class="property">avatar</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.<span class="property">link</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="title function_">checkURL</span>(data.<span class="property">link</span>))&#123;</span><br><span class="line">                data.<span class="property">link</span>=<span class="string">&quot;http://&quot;</span>+data.<span class="property">link</span>;</span><br><span class="line">            &#125;<span class="comment">//网址加协议头</span></span><br><span class="line">            <span class="comment">//增加评论和网址跳转</span></span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;<span class="subst">$&#123;data.avatar&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;<span class="subst">$&#123;data.link&#125;</span>&quot; class=&quot;barrageNick&quot; target=&quot;_blank&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;<span class="subst">$&#123;data.avatar&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.<span class="property">link</span>!=<span class="literal">undefined</span>)&#123; <span class="comment">//QQ头像</span></span><br><span class="line">            <span class="keyword">if</span>(!<span class="title function_">checkURL</span>(data.<span class="property">link</span>))&#123;</span><br><span class="line">                data.<span class="property">link</span>=<span class="string">&quot;http://&quot;</span>+data.<span class="property">link</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;<span class="subst">$&#123;data.link&#125;</span>&quot; class=&quot;barrageNick&quot; target=&quot;_blank&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">push</span>(barrage);</span><br><span class="line">    commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">append</span>(barrage);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">removeCommentBarrage</span>(<span class="params">barrage</span>)&#123;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item out&#x27;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">maxBarrage</span>!=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">switchCommentBarrage = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="title class_">Number</span>(!<span class="title class_">Number</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>))))</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">    commentBarrageConfig.<span class="property">displayBarrage</span>=!(commentBarrageConfig.<span class="property">displayBarrage</span>);</span><br><span class="line">    <span class="keyword">let</span> commentBarrage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (commentBarrage) &#123;</span><br><span class="line">        $(commentBarrage).<span class="title function_">fadeToggle</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">&#125;,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    timer=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">            <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">            <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    <span class="title function_">switchCommentBarrage</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">initCommentBarrage</span>()</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>PJAX仍在不断debuging，特性包括但不限于：加载好几个元素，鬼畜动画，速度异常，不响应，不显示等</p><p>PS：要给<code>.comment-barrage</code>的pug加上<code>.js-pjax</code>，且去掉文章页特判，否则会全页重载以及出现更多特性</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//CommentBarrage 2.0 PJAXed By Ariasaka</span></span><br><span class="line"><span class="comment">//因为C++的原因码风越来越奇怪了</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, startbarrage);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, startbarrage);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">startbarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line"><span class="built_in">clearInterval</span>(timer);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>).<span class="property">innerHTML</span>=<span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;<span class="keyword">catch</span>(err)&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> commentBarrageConfig = &#123;</span><br><span class="line">    <span class="comment">//浅色模式和深色模式颜色，务必保持一致长度，前面是背景颜色，后面是字体，随机选择，默认这个颜色还好</span></span><br><span class="line">    <span class="attr">lightColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-white-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-black)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">darkColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-black-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-white)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//同时最多显示弹幕数</span></span><br><span class="line">    <span class="attr">maxBarrage</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="comment">//弹幕显示间隔时间，单位ms</span></span><br><span class="line">    <span class="attr">barrageTime</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//twikoo部署地址（Vercel、私有部署），腾讯云的为环境ID</span></span><br><span class="line">    <span class="attr">twikooUrl</span>: <span class="string">&quot;https://tkapi.yaria.top&quot;</span>,</span><br><span class="line">    <span class="comment">//token获取见前文</span></span><br><span class="line">    <span class="attr">accessToken</span>: <span class="string">&quot;&#123;YOUR_TOKEN&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">pageUrl</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>,</span><br><span class="line">    <span class="attr">barrageTimer</span>: [],</span><br><span class="line">    <span class="attr">barrageList</span>: [],</span><br><span class="line">    <span class="attr">barrageIndex</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="comment">// 没有设置过头像时返回的默认头像，见cravatar文档 https://cravatar.cn/developers/api，可以不改以免出错</span></span><br><span class="line">    <span class="attr">noAvatarType</span>: <span class="string">&quot;retro&quot;</span>,</span><br><span class="line">    <span class="attr">dom</span>: <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否默认显示留言弹幕</span></span><br><span class="line">    <span class="attr">displayBarrage</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//头像cdn，默认cravatar</span></span><br><span class="line">    <span class="attr">avatarCDN</span>: <span class="string">&quot;cravatar.cn&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">checkURL</span>(<span class="params">URL</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> str=<span class="variable constant_">URL</span>;</span><br><span class="line">    <span class="comment">//判断URL地址的正则表达式为:http(s)?://([\w-]+\.)+[\w-]+(/[\w- ./?%&amp;=]*)?</span></span><br><span class="line">    <span class="comment">//下面的代码中应用了转义字符&quot;\&quot;输出一个字符&quot;/&quot;</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Expression</span>=<span class="regexp">/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&amp;=]*)?/</span>;</span><br><span class="line">    <span class="keyword">var</span> objExp=<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="title class_">Expression</span>);</span><br><span class="line">    <span class="keyword">if</span>(objExp.<span class="title function_">test</span>(str)==<span class="literal">true</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125; </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPortOfOne</span> (<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> viewPortHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span> </span><br><span class="line">    <span class="keyword">const</span> offsetTop = el.<span class="property">offsetTop</span></span><br><span class="line">    <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">    <span class="keyword">const</span> top = offsetTop - scrollTop</span><br><span class="line">    <span class="keyword">return</span> top &lt;= viewPortHeight</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(location.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;posts&quot;</span>)!=-<span class="number">1</span>||location.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;posts&quot;</span>)!=-<span class="number">1</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">displayBarrage</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">`display:none;`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCommentBarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">          <span class="string">&quot;event&quot;</span>: <span class="string">&quot;COMMENT_GET&quot;</span>,</span><br><span class="line">          <span class="string">&quot;commentBarrageConfig.accessToken&quot;</span>: commentBarrageConfig.<span class="property">accessToken</span>,</span><br><span class="line">          <span class="string">&quot;url&quot;</span>: commentBarrageConfig.<span class="property">pageUrl</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="property">withCredentials</span> = <span class="literal">true</span>;</span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;readystatechange&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageList</span> = <span class="title function_">commentLinkFilter</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">responseText</span>).<span class="property">data</span>);</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, commentBarrageConfig.<span class="property">twikooUrl</span>);</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>(data);</span><br><span class="line">        timer=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">                <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">                <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commentLinkFilter</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    data.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="property">created</span> - b.<span class="property">created</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> newData = [];</span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        newData.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> newData;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCommentReplies</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">replies</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> replies = [item];</span><br><span class="line">        item.<span class="property">replies</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">            replies.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> replies;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popCommentBarrage</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> barrage = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> width = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">let</span> height = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientHeight</span>;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> ran = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*commentBarrageConfig.<span class="property">lightColors</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;barragesColor&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`[data-theme=&#x27;light&#x27;] .comment-barrage-item &#123; background-color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">1</span>]&#125;</span>&#125;[data-theme=&#x27;dark&#x27;] .comment-barrage-item&#123; background-color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">1</span>]&#125;</span>&#125;`</span>;</span><br><span class="line">    <span class="keyword">if</span>(data.<span class="property">avatar</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.<span class="property">link</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="title function_">checkURL</span>(data.<span class="property">link</span>))&#123;</span><br><span class="line">                data.<span class="property">link</span>=<span class="string">&quot;http://&quot;</span>+data.<span class="property">link</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;<span class="subst">$&#123;data.avatar&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;<span class="subst">$&#123;data.link&#125;</span>&quot; class=&quot;barrageNick&quot; target=&quot;_blank&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;<span class="subst">$&#123;data.avatar&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(data.<span class="property">link</span>!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!<span class="title function_">checkURL</span>(data.<span class="property">link</span>))&#123;</span><br><span class="line">                data.<span class="property">link</span>=<span class="string">&quot;http://&quot;</span>+data.<span class="property">link</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;<span class="subst">$&#123;data.link&#125;</span>&quot; class=&quot;barrageNick&quot; target=&quot;_blank&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a class=&quot;barrageContent&quot; href=&quot;#<span class="subst">$&#123;data.id&#125;</span>&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">            `</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">push</span>(barrage);</span><br><span class="line">    commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">append</span>(barrage);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">removeCommentBarrage</span>(<span class="params">barrage</span>)&#123;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item out&#x27;</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">maxBarrage</span>!=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">switchCommentBarrage = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="title class_">Number</span>(!<span class="title class_">Number</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>))))</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">    commentBarrageConfig.<span class="property">displayBarrage</span>=!(commentBarrageConfig.<span class="property">displayBarrage</span>);</span><br><span class="line">    <span class="keyword">let</span> commentBarrage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (commentBarrage) &#123;</span><br><span class="line">        $(commentBarrage).<span class="title function_">fadeToggle</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">&#125;,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    timer=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">            <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">            <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    <span class="title function_">switchCommentBarrage</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">initCommentBarrage</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="关于页面魔改"><a class="markdownIt-Anchor" href="#关于页面魔改"></a> 关于页面魔改</h1><a class="tag-Link" target="_blank" href="https://anzhiy.cn/posts/e62b.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/anzhiy.cn/posts/e62b.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">butterfly魔改关于页面</div>            <div class="tag-link-sitename">安知鱼</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="添加文章统计"><a class="markdownIt-Anchor" href="#添加文章统计"></a> 添加文章统计</h1><a class="tag-Link" target="_blank" href="https://blog.eurkon.com/post/1213ef82.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.eurkon.com/post/1213ef82.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo 博客文章统计图</div>            <div class="tag-link-sitename">Eurkon</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="page页面模糊背景"><a class="markdownIt-Anchor" href="#page页面模糊背景"></a> Page页面模糊背景</h1><p>添加css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page</span> <span class="selector-id">#page</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.home</span> <span class="selector-id">#page</span>)&#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border</span>: none<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0</span>;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: none<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">z-index</span>:-<span class="number">114</span>;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">var</span>(--lyx-white-acrylic2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#page</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-black-acrylic2)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="添加katex"><a class="markdownIt-Anchor" href="#添加katex"></a> 添加Katex</h1><p><img src="https://bu.dusays.com/2023/01/20/63ca1310b7ded.webp" alt="" /></p><a class="tag-Link" target="_blank" href="https://www.nickxu.top/2022/04/17/Hexo-Butterfly-%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97%EF%BC%88%E5%85%AB%EF%BC%89%E4%BD%BF%E7%94%A8-KaTeX-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.nickxu.top/2022/04/17/Hexo-Butterfly-%E5%BB%BA%E7%AB%99%E6%8C%87%E5%8D%97%EF%BC%88%E5%85%AB%EF%BC%89%E4%BD%BF%E7%94%A8-KaTeX-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo + Butterfly 建站指南（八）使用 KaTeX 数学公式</div>            <div class="tag-link-sitename">Nick Xu</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="杂七杂八的页面"><a class="markdownIt-Anchor" href="#杂七杂八的页面"></a> 杂七杂八的页面</h1><p>参考自<a href="https://chuckle.top">Chuckle</a></p><h2 id="小空调"><a class="markdownIt-Anchor" href="#小空调"></a> 小空调</h2><p>先新建一个page：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n page kongtiao</span><br></pre></td></tr></table></figure><p>然后插入一个iframe在里面，并且在主题配置文件的导航栏中添加这个页面（略）</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;&#125;&#123;一个页面链接&#125;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">height</span>=<span class="string">&quot;800px&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>至于页面链接，你有几种选择：</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">用Vercel自己部署一个</button></li><li class="tab"><button type="button" data-href="#-2">用云游君的</button></li><li class="tab"><button type="button" data-href="#-3">用我的</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>这个方法我更推荐一点，万一哪天作者弃坑了呢？</p><p>Vercel的部署大家也很清楚，打开<a href="https://vercel.com">vercel.com</a>，登录你的Vercel账号，然后<a href="https://vercel.com/new">新建</a>一个项目，选择<code>Import Third-Party Git Repository</code></p><p><img src="https://bu.dusays.com/2023/01/20/63ca13118c0cc.webp" alt="" /></p><p>复制代码仓库链接，即：<a href="https://github.com/YunYouJun/air-conditioner">https://github.com/YunYouJun/air-conditioner</a>，点Continue，这时新建一个自己的仓库，等待部署即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13126e6b4.webp" alt="" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca13138609e.webp" alt="" /></p><p>部署好之后别忘了绑定域名，因为目前Vercel的自带域名是被魔法了的。</p><p><s>（盗用<a href="/posts/e433f3d">第二篇文章原文</a>？）</s></p><p>返回项目主页，选择顶部的Setting-Domains<br /><img src="https://bu.dusays.com/2023/01/20/63ca1314e69fd.webp" alt="1658104564627" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca131607c81.webp" alt="1658104824236" /></p><p>在顶部的文本框输入你的域名，比如ac.yaria.top，点击Add，这个选择框是让你选择www和根域名的关系（第一个就是输入根域名跳转到www，第二个就是输入www会跳转到根域名，根据你的喜好选择（如果不是www或者根域名就没有提示）），我选择第二个，然后点击Add就行了。</p><p>添加之后它会让你加入A记录或者CNAME记录，这时不管他说的是哪个记录，都在DNS那里加CNAME:<code>cname-china.vercel-dns.com</code>，这样可以防止被墙，Vercel会给你颁发证书，稍等一会即可正常访问了。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><a href="https://ac.yunyoujun.cn">https://ac.yunyoujun.cn</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p><a href="https://ac.yaria.top">https://ac.yaria.top</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="早报"><a class="markdownIt-Anchor" href="#早报"></a> 早报</h2><p><em>PS:自适应和样式没有完善，主要是跨域了不好搞</em></p><p>跟上面一样，添加一个页面并嵌入iframe：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;&#123;早报链接&#125;&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">frameborder</span>=<span class="string">&quot;0&quot;</span> <span class="attr">scrolling</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">height</span>=<span class="string">&quot;2500px&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>链接同样有多种选择：</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">自己部署</button></li><li class="tab"><button type="button" data-href="#-2">作者的</button></li><li class="tab"><button type="button" data-href="#-3">我的</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>部署参考：</p><a class="tag-Link" target="_blank" href="https://github.com/zkeq/news">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/zkeq/news.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">zkeq/news前后端均基于 vercel 的轻量级每日早报项目，支持一键部署，支持部署至服务器。后端由 FastAPI + BeautifulSoup 实现。</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>PS:绑定域名！！！（见上）</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p><a href="https://news.icodeq.com">https://news.icodeq.com</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><p><a href="https://zb.yaria.top">https://zb.yaria.top</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="木鱼"><a class="markdownIt-Anchor" href="#木鱼"></a> 木鱼</h2><a class="tag-Link" target="_blank" href="https://chuckle.top/article/904a2780.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/chuckle.top/article/904a2780.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">写个网页版电子木鱼</div>            <div class="tag-link-sitename">轻笑Chuckle</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="浏览器过时提醒"><a class="markdownIt-Anchor" href="#浏览器过时提醒"></a> 浏览器过时提醒</h1><p>参考：</p><a class="tag-Link" target="_blank" href="https://chuckle.top/article/e61f6567.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/chuckle.top/article/e61f6567.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">老旧浏览器弹窗提醒</div>            <div class="tag-link-sitename">轻笑Chuckle</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="banie"><a class="markdownIt-Anchor" href="#banie"></a> banIE</h1><p><img src="https://bu.dusays.com/2023/01/20/63ca1316d6af8.webp" alt="" /></p><p><em>Tip：因为IE不兼容上面的脚本，所以新开一个js文件</em></p><p>新建<code>[blogRoot]/source/noie.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 叔叔老家那里扒的qwq --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span> <span class="attr">style</span>=<span class="string">&quot;padding-top:20px&quot;</span>&gt;</span>很抱歉IE已经停止支持，因此本博客不再支持IE浏览器，如果想要正常浏览，请换用新版Edge或Chrome、Firefox、Opera等现代浏览器<span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;ie=edge&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;spm_prefix&quot;</span> <span class="attr">content</span>=<span class="string">&quot;888.7521&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>浏览器升级提示 | Ariasakaの小窝<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;https://at.alicdn.com/t/font_1454899_pqhvobved2o.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      * &#123; <span class="attribute">padding</span>: <span class="number">0</span>; <span class="attribute">margin</span>: <span class="number">0</span>; <span class="attribute">box-sizing</span>: border-box;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">ul</span>, <span class="selector-tag">li</span> &#123; <span class="attribute">list-style</span>: none; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;<span class="attribute">text-decoration</span>:none;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">ins</span>,<span class="selector-tag">a</span> &#123;<span class="attribute">text-decoration</span>:none;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">a</span><span class="selector-pseudo">:focus</span>,*<span class="selector-pseudo">:focus</span> &#123;<span class="attribute">outline</span>:none;&#125;</span></span><br><span class="line"><span class="language-css">  </span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.b-content</span> &#123; <span class="attribute">width</span>: <span class="number">400px</span>; <span class="attribute">margin</span>: <span class="number">60px</span> auto; <span class="attribute">font-size</span>: <span class="number">14px</span>; <span class="attribute">color</span>: <span class="number">#999</span>; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.pic-box</span> &#123; <span class="attribute">padding-bottom</span>: <span class="number">20px</span>; <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#eee</span>; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.pic-box</span> <span class="selector-tag">img</span> &#123; <span class="attribute">max-width</span>:  <span class="number">100%</span>; <span class="attribute">margin-bottom</span>: <span class="number">10px</span>; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.pic-box</span> <span class="selector-tag">p</span> &#123; <span class="attribute">line-height</span>: <span class="number">20px</span>; <span class="attribute">font-size</span>: <span class="number">12px</span>;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.text-box</span> <span class="selector-class">.title</span> &#123;<span class="attribute">text-align</span>: center; <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">0</span>;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.text-box</span> <span class="selector-class">.list</span> &#123;<span class="attribute">height</span>: <span class="number">90px</span>;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.text-box</span> <span class="selector-class">.list</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> &#123; <span class="attribute">float</span>: left; <span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">text-align</span>: center; <span class="attribute">line-height</span>: <span class="number">24px</span>; <span class="attribute">color</span>: <span class="number">#666</span>;&#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.text-box</span> <span class="selector-class">.list</span> <span class="selector-tag">li</span> <span class="selector-class">.iconfont</span>&#123; <span class="attribute">font-size</span>: <span class="number">30px</span>; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.text-box</span> <span class="selector-class">.list</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span> <span class="selector-tag">span</span>&#123; <span class="attribute">font-size</span>: <span class="number">12px</span>; <span class="attribute">color</span>: <span class="number">#999</span>; &#125;</span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.copyright</span> &#123;<span class="attribute">margin-top</span>: <span class="number">20px</span>; <span class="attribute">text-align</span>: center;&#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;b-content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;text-box&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;title&quot;</span>&gt;</span>以下四款官方正版浏览器任君挑选<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.google.cn/intl/zh-CN/chrome&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-chrome&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                Chrome<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>谷歌<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.mozilla.org/zh-CN/firefox/new&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-firefox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                Firefox<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>火狐<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.microsoft.com/edge&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-edge&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                Edge（新版）<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>微软<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://www.opera.com/zh-cn&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;iconfont icon-opera&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                Opera<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>欧朋<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>添加到hexo配置文件<code>_config.yml</code>中：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">noie.html</span></span><br></pre></td></tr></table></figure><p>新建<code>noie.js</code>并引用：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!!<span class="variable language_">window</span>.<span class="property">ActiveXObject</span> || <span class="string">&quot;ActiveXObject&quot;</span> <span class="keyword">in</span> <span class="variable language_">window</span>)&#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>=<span class="string">&quot;./noie.html&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="弹出欢迎cookief12提示的snackbar"><a class="markdownIt-Anchor" href="#弹出欢迎cookief12提示的snackbar"></a> 弹出欢迎&amp;Cookie&amp;F12提示的Snackbar</h1><p><img src="https://bu.dusays.com/2023/01/20/63ca13179f492.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca131872c03.webp" alt="" /></p><p>自带Referer提醒，新建<code>welcome.js</code></p><p>注意要打开主题配置文件的Snackbar</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首次访问弹窗</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;popWelcomeWindow&quot;</span>) != <span class="string">&quot;0&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="property">referrer</span>==<span class="literal">undefined</span>||<span class="variable language_">document</span>.<span class="property">referrer</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;yaria.top&quot;</span>)!=-<span class="number">1</span>||<span class="variable language_">document</span>.<span class="property">referrer</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;ariasaka.top&quot;</span>)!=-<span class="number">1</span>)&#123; <span class="comment">//改成自己域名，注意是referrer!!! qwq</span></span><br><span class="line">        <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">            <span class="attr">pos</span>: <span class="string">&quot;top-right&quot;</span>,</span><br><span class="line">            <span class="attr">showAction</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">text</span>: <span class="string">&#x27;欢迎访问本站！&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">                <span class="attr">pos</span>: <span class="string">&quot;top-right&quot;</span>,</span><br><span class="line">                <span class="attr">showAction</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">text</span>: <span class="string">`欢迎来自<span class="subst">$&#123;<span class="variable language_">document</span>.referrer.split(<span class="string">&quot;://&quot;</span>)[<span class="number">1</span>].split(<span class="string">&quot;/&quot;</span>)[<span class="number">0</span>]&#125;</span>的童鞋访问本站！`</span></span><br><span class="line">            &#125;)</span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;popWelcomeWindow&quot;</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;popCookieWindow&quot;</span>) != <span class="string">&quot;0&quot;</span>) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">            <span class="attr">text</span>: <span class="string">&#x27;本站使用Cookie和本地/会话存储保证浏览体验和网站统计&#x27;</span>,</span><br><span class="line">            <span class="attr">pos</span>: <span class="string">&#x27;bottom-right&#x27;</span>,</span><br><span class="line">            <span class="attr">actionText</span>: <span class="string">&quot;查看博客声明&quot;</span>,</span><br><span class="line">            <span class="attr">onActionClick</span>: <span class="keyword">function</span> (<span class="params">element</span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;/license&quot;</span>)</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;, <span class="number">3000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//不在弹出Cookie提醒</span></span><br><span class="line"><span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;popCookieWindow&quot;</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//自带上文浏览器提示</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">browserTC</span>(<span class="params"></span>) &#123;</span><br><span class="line">    btf.<span class="title function_">snackbarShow</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;浏览器版本较低，网站样式可能错乱&#x27;</span>,</span><br><span class="line">        <span class="attr">actionText</span>: <span class="string">&#x27;关闭&#x27;</span>,</span><br><span class="line">        <span class="attr">duration</span>: <span class="string">&#x27;6000&#x27;</span>,</span><br><span class="line">        <span class="attr">pos</span>: <span class="string">&#x27;bottom-right&#x27;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">browserVersion</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> userAgent = navigator.<span class="property">userAgent</span>; <span class="comment">//取得浏览器的userAgent字符串</span></span><br><span class="line">    <span class="keyword">var</span> isIE = userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;compatible&quot;</span>) &gt; -<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;MSIE&quot;</span>) &gt; -<span class="number">1</span>; <span class="comment">//判断是否IE&lt;11浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isIE11 = userAgent.<span class="title function_">indexOf</span>(<span class="string">&#x27;Trident&#x27;</span>) &gt; -<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;rv:11.0&quot;</span>) &gt; -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> isEdge = userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Edge&quot;</span>) &gt; -<span class="number">1</span> &amp;&amp; !isIE; <span class="comment">//Edge浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isFirefox = userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Firefox&quot;</span>) &gt; -<span class="number">1</span>; <span class="comment">//Firefox浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isOpera = userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Opera&quot;</span>)&gt;-<span class="number">1</span> || userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;OPR&quot;</span>)&gt;-<span class="number">1</span> ; <span class="comment">//Opera浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isChrome = userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Chrome&quot;</span>)&gt;-<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Safari&quot;</span>)&gt;-<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Edge&quot;</span>)==-<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;OPR&quot;</span>)==-<span class="number">1</span>; <span class="comment">//Chrome浏览器</span></span><br><span class="line">    <span class="keyword">var</span> isSafari = userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Safari&quot;</span>)&gt;-<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Chrome&quot;</span>)==-<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;Edge&quot;</span>)==-<span class="number">1</span> &amp;&amp; userAgent.<span class="title function_">indexOf</span>(<span class="string">&quot;OPR&quot;</span>)==-<span class="number">1</span>; <span class="comment">//Safari浏览器</span></span><br><span class="line">    <span class="keyword">if</span>(isEdge) &#123;</span><br><span class="line">        <span class="keyword">if</span>(userAgent.<span class="title function_">split</span>(<span class="string">&#x27;Edge/&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]&lt;<span class="number">90</span>)&#123;</span><br><span class="line">            <span class="title function_">browserTC</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isFirefox) &#123;</span><br><span class="line">        <span class="keyword">if</span>(userAgent.<span class="title function_">split</span>(<span class="string">&#x27;Firefox/&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]&lt;<span class="number">90</span>)&#123;</span><br><span class="line">            <span class="title function_">browserTC</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isOpera) &#123;</span><br><span class="line">        <span class="keyword">if</span>(userAgent.<span class="title function_">split</span>(<span class="string">&#x27;OPR/&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]&lt;<span class="number">80</span>)&#123;</span><br><span class="line">            <span class="title function_">browserTC</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isChrome) &#123;</span><br><span class="line">        <span class="keyword">if</span>(userAgent.<span class="title function_">split</span>(<span class="string">&#x27;Chrome/&#x27;</span>)[<span class="number">1</span>].<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]&lt;<span class="number">90</span>)&#123;</span><br><span class="line">            <span class="title function_">browserTC</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isSafari) &#123;</span><br><span class="line">        <span class="comment">//不知道Safari哪个版本是该淘汰的老旧版本</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2022-10-29修正了一个错误：过期时间应使用toGMTString()，而不是toUTCString()，否则实际过期时间在中国差了8小时</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setCookies</span>(<span class="params">obj, limitTime</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>() + limitTime * <span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>).<span class="title function_">toGMTString</span>()</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">cookie</span> = i + <span class="string">&#x27;=&#x27;</span> + obj[i] + <span class="string">&#x27;;expires=&#x27;</span> + data</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCookie</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> arr, reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^| )&quot;</span> + name + <span class="string">&quot;=([^;]*)(;|$)&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (arr = <span class="variable language_">document</span>.<span class="property">cookie</span>.<span class="title function_">match</span>(reg))</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">unescape</span>(arr[<span class="number">2</span>]);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_">getCookie</span>(<span class="string">&#x27;browsertc&#x27;</span>)!=<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="title function_">setCookies</span>(&#123;</span><br><span class="line">        <span class="attr">browsertc</span>: <span class="number">1</span>,</span><br><span class="line">    &#125;, <span class="number">1</span>);</span><br><span class="line">    <span class="title function_">browserVersion</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
    <category term="魔改日记" scheme="https://blog.yaria.top/tags/%E9%AD%94%E6%94%B9%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P5661 [CSP-J2019] 公交换乘</title>
    <link href="https://blog.yaria.top/posts/ff156c72/"/>
    <id>https://blog.yaria.top/posts/ff156c72/</id>
    <published>2022-11-28T06:56:32.000Z</published>
    <updated>2022-11-28T08:53:49.000Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P5661">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P5661.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P5661 [CSP-J2019] 公交换乘</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>一道<code>橙题</code>，但是会T。</p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">查看题目</summary><div class="toggle-content"><h1 id="csp-j2019-公交换乘"><a class="markdownIt-Anchor" href="#csp-j2019-公交换乘"></a> [CSP-J2019] 公交换乘</h1><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>著名旅游城市 B 市为了鼓励大家采用公共交通方式出行，推出了一种地铁换乘公交车的优惠方案：</p><ol><li>在搭乘一次地铁后可以获得一张优惠票，有效期为 45 分钟，在有效期内可以消耗这张优惠票，免费搭乘一次票价不超过地铁票价的公交车。在有效期内指开始乘公交车的时间与开始乘地铁的时间之差小于等于 45 分钟，即：<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mrow><mi>b</mi><mi>u</mi><mi>s</mi></mrow></msub><mo>−</mo><msub><mi>t</mi><mrow><mi>s</mi><mi>u</mi><mi>b</mi><mi>w</mi><mi>a</mi><mi>y</mi></mrow></msub><mo>≤</mo><mn>45</mn></mrow><annotation encoding="application/x-tex">t_{bus} - t_{subway} \leq 45</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.922078em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">5</span></span></span></span></li><li>搭乘地铁获得的优惠票可以累积，即可以连续搭乘若干次地铁后再连续使用优惠票搭乘公交车。</li><li>搭乘公交车时，如果可以使用优惠票一定会使用优惠票；如果有多张优惠票满足条件，则优先消耗获得最早的优惠票。</li></ol><p>现在你得到了小轩最近的公共交通出行记录，你能帮他算算他的花费吗?</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>输入文件的第一行包含一个正整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>，代表乘车记录的数量。</p><p>接下来的 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span> 行，每行包含 3 个整数，相邻两数之间以一个空格分隔。第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 行的第 1 个整数代表第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 条记录乘坐的交通工具，0 代表地铁，1 代表公交车；第 2 个整数代表第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 条记录乘车的票价 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">price_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ；第三个整数代表第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 条记录开始乘车的时间 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">t_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76508em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>（距 0 时刻的分钟数）。</p><p>我们保证出行记录是按照开始乘车的时间顺序给出的，且不会有两次乘车记录出现在同一分钟。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>输出文件有一行，包含一个正整数，代表小轩出行的总花费。</p><h2 id="样例-1"><a class="markdownIt-Anchor" href="#样例-1"></a> 样例 #1</h2><h3 id="样例输入-1"><a class="markdownIt-Anchor" href="#样例输入-1"></a> 样例输入 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">0 10 3</span><br><span class="line">1 5 46</span><br><span class="line">0 12 50</span><br><span class="line">1 3 96</span><br><span class="line">0 5 110</span><br><span class="line">1 6 135</span><br></pre></td></tr></table></figure><h3 id="样例输出-1"><a class="markdownIt-Anchor" href="#样例输出-1"></a> 样例输出 #1</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">36</span><br></pre></td></tr></table></figure><h2 id="样例-2"><a class="markdownIt-Anchor" href="#样例-2"></a> 样例 #2</h2><h3 id="样例输入-2"><a class="markdownIt-Anchor" href="#样例输入-2"></a> 样例输入 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">0 5 1</span><br><span class="line">0 20 16</span><br><span class="line">0 7 23</span><br><span class="line">1 18 31</span><br><span class="line">1 4 38</span><br><span class="line">1 7 68</span><br></pre></td></tr></table></figure><h3 id="样例输出-2"><a class="markdownIt-Anchor" href="#样例输出-2"></a> 样例输出 #2</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">32</span><br></pre></td></tr></table></figure><h2 id="提示"><a class="markdownIt-Anchor" href="#提示"></a> 提示</h2><p>【输入输出样例 1 说明】</p><p>第一条记录，在第 3 分钟花费 10 元乘坐地铁。</p><p>第二条记录，在第 46 分钟乘坐公交车，可以使用第一条记录中乘坐地铁获得的优惠票，因此没有花费。</p><p>第三条记录，在第 50 分种花费 12 元乘坐地铁。</p><p>第四条记录，在第 96 分钟乘坐公交车，由于距离第三条记录中乘坐地铁已超过 45 分钟，所以优惠票已失效，花费 3 元乘坐公交车。</p><p>第五条记录，在第 110 分钟花费 5 元乘坐地铁。</p><p>第六条记录，在第 135 分钟乘坐公交车，由于此时手中只有第五条记录中乘坐地铁获得的优惠票有效，而本次公交车的票价为 6 元，高于第五条记录中地铁的票价 5 元，所以不能使用优惠票，花费 6 元乘坐公交车。</p><p>总共花费 36 元。</p><p>【输入输出样例 2 说明】</p><p>第一条记录，在第 1 分钟花费 5 元乘坐地铁。</p><p>第二条记录，在第 16 分钟花费 20 元乘坐地铁。</p><p>第三条记录，在第 23 分钟花费 7 元乘坐地铁。</p><p>第四条记录，在第 31 分钟乘坐公交车，此时只有第二条记录中乘坐的地铁票价高于本次公交车票价，所以使用第二条记录中乘坐地铁获得的优惠票。</p><p>第五条记录，在第 38 分钟乘坐公交车，此时第一条和第三条记录中乘坐地铁获得的优惠票都可以使用，使用获得最早的优惠票，即第一条记录中乘坐地铁获得的优惠票。</p><p>第六条记录，在第 68 分钟乘坐公交车，使用第三条记录中乘坐地铁获得的优惠票。</p><p>总共花费 32 元。</p><p>【数据规模与约定】</p><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">30\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">n \leq 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">t_i \leq 10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span>。</p><p>另有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>15</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">15\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">t_i \leq 10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">price_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 都相等。</p><p>另有 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>15</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">15\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">t_i \leq 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">price_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 都相等。</p><p>对于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span> 的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">n \leq 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>t</mi><mi>i</mi></msub><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>9</mn></msup></mrow><annotation encoding="application/x-tex">t_i \leq 10^9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7859700000000001em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">9</span></span></span></span></span></span></span></span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi><mi>i</mi></msub><mo>≤</mo><mn>1000</mn></mrow><annotation encoding="application/x-tex">1 \leq price_i \leq 1000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>。</p></div></details><p>PS：其实你可以点这个复制而不用慢慢改格式qaq</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134c289a1.webp" alt="" /></p><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><p>很明显，这道题只需要使用一个结构体数组来模拟门票，如果时间在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>45</mn></mrow><annotation encoding="application/x-tex">45</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">5</span></span></span></span> 分钟内，即<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>i</mi><mi>c</mi><mi>k</mi><mi>e</mi><msub><mi>t</mi><mrow><mi>t</mi><mi>i</mi><mi>m</mi><mi>e</mi></mrow></msub><mo>≤</mo><mi>t</mi><mi>i</mi><mi>m</mi><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">ticket_{time} \leq time_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80952em;vertical-align:-0.15em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">m</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，且 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>i</mi><mi>c</mi><mi>k</mi><mi>e</mi><msub><mi>t</mi><mrow><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><mi>e</mi></mrow></msub><mo>≤</mo><mi>p</mi><mi>r</mi><mi>i</mi><mi>c</mi><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">ticket_{price} \leq price_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>，且满足 <code>ticket.can</code> （票可以用）这三个条件即可，因为要求优先消耗获得最早的优惠票，所以从最前面开始查找就行了。</p><p>于是，你很轻易地写出了这个代码：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ticket</span>&#123;</span><br><span class="line">    <span class="type">int</span> time;</span><br><span class="line">    <span class="type">int</span> price;</span><br><span class="line">    <span class="type">bool</span> can=<span class="number">1</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(<span class="type">int</span> &amp;n)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>) f=<span class="number">-1</span>;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        x=(x&lt;&lt;<span class="number">1</span>)+(x&lt;&lt;<span class="number">3</span>)+(ch^<span class="number">48</span>);</span><br><span class="line">        ch=<span class="built_in">getchar</span>(); <span class="comment">//PS:不用快读可能炸</span></span><br><span class="line">    &#125;</span><br><span class="line">    n=x*f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    freopen(&quot;P5661_9.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//    freopen(&quot;P5661_9.ans&quot;,&quot;w&quot;,stdout); </span></span><br><span class="line">    <span class="type">int</span> n,s=<span class="number">0</span>,l=<span class="number">1</span>;</span><br><span class="line">    ticket t[<span class="number">114514</span>];</span><br><span class="line">    <span class="built_in">read</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="type">int</span> b,tim,p;</span><br><span class="line">        <span class="built_in">read</span>(b);<span class="built_in">read</span>(p);<span class="built_in">read</span>(tim);</span><br><span class="line">        <span class="keyword">if</span>(b==<span class="number">0</span>)&#123;</span><br><span class="line">            t[l].time=tim;</span><br><span class="line">            t[l].price=p;</span><br><span class="line">            l++;</span><br><span class="line">            s+=p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(b==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="type">int</span> flag=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;l;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(t[j].can&amp;&amp;t[j].price&gt;=p&amp;&amp;tim-t[j].time&lt;=<span class="number">45</span>)&#123;</span><br><span class="line">                    t[j].can=<span class="number">0</span>;</span><br><span class="line">                    flag=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                s+=p;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>恭喜你喜提 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>35</mn></mrow><annotation encoding="application/x-tex">35</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">5</span></span></span></span> 分。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134d09894.webp" alt="" /></p><p>我们想想，所有的数据，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">n \leq 10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span>，显然每次去搜索一遍表来找门票，时间复杂度必然是<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>的，计算次数<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>≤</mo><mn>1</mn><msup><mn>0</mn><mn>25</mn></msup></mrow><annotation encoding="application/x-tex">n \leq 10^{25}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span></span>，绝对会超时。</p><p>怎么优化呢？我们想想，是不是每一次坐公交车的时候找票都只找没过期的票，是吧。因为时间是升序排列的，所以我们每一次找票的时候根本不需要在前面的一堆烂票里面浪费自己的美好年华。我们不如用一个变量 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 来标记目前第一个没超时（注意不是没有用过）的票，每次找的时候从第 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> 张票开始找满足的就行了。</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><details class="toggle" ><summary class="toggle-button" style="">我已经详细看完并理解了上面的内容，并且不会直接照搬</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">ticket</span>&#123;</span><br><span class="line">    <span class="type">int</span> time; <span class="comment">//时间</span></span><br><span class="line">    <span class="type">int</span> price; <span class="comment">//价值</span></span><br><span class="line">    <span class="type">bool</span> can=<span class="number">1</span>; <span class="comment">//能不能用</span></span><br><span class="line">&#125;t[<span class="number">114514</span>]; <span class="comment">//结构体数组</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(<span class="type">int</span> &amp;n)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>) f=<span class="number">-1</span>;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125; <span class="comment">//PS:不用快读，甚至cin也能过，但40+ms的读入浪费，显然不太好</span></span><br><span class="line">    <span class="keyword">while</span>(ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        x=(x&lt;&lt;<span class="number">1</span>)+(x&lt;&lt;<span class="number">3</span>)+(ch^<span class="number">48</span>);</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    n=x*f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//    freopen(&quot;P5661_9.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//    freopen(&quot;P5661_9.ans&quot;,&quot;w&quot;,stdout); </span></span><br><span class="line">    <span class="type">int</span> n,s=<span class="number">0</span>,l=<span class="number">1</span>,x=<span class="number">1</span>;</span><br><span class="line">    <span class="built_in">read</span>(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="type">int</span> b,tim,p;</span><br><span class="line">        <span class="built_in">read</span>(b);<span class="built_in">read</span>(p);<span class="built_in">read</span>(tim);</span><br><span class="line">        <span class="keyword">if</span>(b==<span class="number">0</span>)&#123; <span class="comment">//地铁，并且往数组里面扔一个票</span></span><br><span class="line">            t[l].time=tim;</span><br><span class="line">            t[l].price=p;</span><br><span class="line">            l++;</span><br><span class="line">            s+=p;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(b==<span class="number">1</span>)&#123; <span class="comment">//公交</span></span><br><span class="line">            <span class="type">int</span> flag=<span class="number">1</span>; <span class="comment">//用票与否</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=x;j&lt;l;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(t[j].can&amp;&amp;t[j].price&gt;=p&amp;&amp;tim-t[j].time&lt;=<span class="number">45</span>)&#123; <span class="comment">//满足三个条件就能用</span></span><br><span class="line">                    t[j].can=<span class="number">0</span>;</span><br><span class="line">                    flag=<span class="number">0</span>; <span class="comment">//用票</span></span><br><span class="line">                    <span class="keyword">break</span>; <span class="comment">//找到能用的票就退出</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(tim-t[j].time&gt;<span class="number">45</span>)&#123;</span><br><span class="line">                    x=j; <span class="comment">//超时了前面的就不要了</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">                s+=p; <span class="comment">//不用票</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;s;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>]]></content>
    
    
      
      
    <summary type="html">&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/P5661&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
    &lt;div clas</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="模拟" scheme="https://blog.yaria.top/tags/%E6%A8%A1%E6%8B%9F/"/>
    
  </entry>
  
  <entry>
    <title>洛谷P1055 [NOIP2008 普及组] ISBN 号码</title>
    <link href="https://blog.yaria.top/posts/8b73c6b7/"/>
    <id>https://blog.yaria.top/posts/8b73c6b7/</id>
    <published>2022-11-28T06:09:34.000Z</published>
    <updated>2022-11-28T08:30:14.000Z</updated>
    
    <content type="html"><![CDATA[<a class="tag-Link" target="_blank" href="https://www.luogu.com.cn/problem/P1055">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.luogu.com.cn/problem/P1055.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">P1055 [NOIP2008 普及组] ISBN 号码</div>            <div class="tag-link-sitename">洛谷</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>这是本蒟蒻の第一篇题解qwq,发在博客上,还请多多关照.</p><p>这道题是一道橙题,难度没有太大的问题,对于大犇们来说自然是一遍过的,本蒟就只能调调再交了.</p><h1 id="题面"><a class="markdownIt-Anchor" href="#题面"></a> 题面</h1><details class="toggle" ><summary class="toggle-button" style="">查看题目</summary><div class="toggle-content"><h2 id="题目描述"><a class="markdownIt-Anchor" href="#题目描述"></a> 题目描述</h2><p>每一本正式出版的图书都有一个 ISBN 号码与之对应，ISBN 码包括 99 位数字、11 位识别码和 33 位分隔符，其规定格式如 x-xxx-xxxxx-x，其中符号 - 就是分隔符（键盘上的减号），最后一位是识别码，例如 0-670-82162-4就是一个标准的 ISBN 码。ISBN 码的首位数字表示书籍的出版语言，例如 00 代表英语；第一个分隔符 - 之后的三位数字代表出版社，例如 670670 代表维京出版社；第二个分隔符后的五位数字代表该书在该出版社的编号；最后一位为识别码。</p><p>识别码的计算方法如下：</p><p>首位数字乘以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 加上次位数字乘以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> ……以此类推，用所得的结果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>11</mn></mrow><annotation encoding="application/x-tex">\bmod 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span>，所得的余数即为识别码，如果余数为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span>，则识别码为大写字母 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span>。例如 ISBN 号码 <code>0-670-82162-4</code> 中的识别码 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 是这样得到的：对 <code>067082162</code> 这 99 个数字，从左至右，分别乘以 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>91</mn><mo separator="true">,</mo><mn>2</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">1,2,\dots,91,2,…,9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">9</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">9</span></span></span></span> 再求和，即 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>×</mo><mn>1</mn><mo>+</mo><mn>6</mn><mo>×</mo><mn>2</mn><mo>+</mo><mo>…</mo><mo>…</mo><mo>+</mo><mn>2</mn><mo>×</mo><mn>9</mn><mo>=</mo><mn>158</mn></mrow><annotation encoding="application/x-tex">0\times 1+6\times 2+……+2\times 9=158</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mord">8</span></span></span></span>，然后取 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>158</mn><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>11</mn></mrow><annotation encoding="application/x-tex">158 \bmod 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mord">8</span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> 的结果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 作为识别码。</p><p>你的任务是编写程序判断输入的 ISBN 号码中识别码是否正确，如果正确，则仅输出 <code>Right</code>；如果错误，则输出你认为是正确的 ISBN 号码。</p><h2 id="输入格式"><a class="markdownIt-Anchor" href="#输入格式"></a> 输入格式</h2><p>一个字符序列，表示一本书的 ISBN 号码（保证输入符合 ISBN 号码的格式要求）。</p><h2 id="输出格式"><a class="markdownIt-Anchor" href="#输出格式"></a> 输出格式</h2><p>一行，假如输入的 ISBN 号码的识别码正确，那么输出 <code>Right</code>，否则，按照规定的格式，输出正确的 ISBN 号码（包括分隔符 <code>-</code>）。</p><h2 id="输入输出样例"><a class="markdownIt-Anchor" href="#输入输出样例"></a> 输入输出样例</h2><p>输入 #1<br />0-670-82162-4<br />输出 #1<br />Right<br />输入 #2<br />0-670-82162-0<br />输出 #2<br />0-670-82162-4</p><h2 id="说明提示"><a class="markdownIt-Anchor" href="#说明提示"></a> 说明/提示</h2><p>2008 普及组第一题</p><p>(PS:08 年的第一题甚至比 22 年要难…)</p></div></details><h1 id="解析"><a class="markdownIt-Anchor" href="#解析"></a> 解析</h1><p>题目中说到<code>保证输入符合 ISBN 号码的格式要求</code>,这时很明显了，我们可以使用 <code>scanf</code> 直接输入数字，处理也会更加简单。需要注意的是最后一位识别码可能会出现 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span></span></span></span> ，建议最后一位使用 <code>&quot;%c&quot;</code> 而不是 <code>&quot;%d&quot;</code> ， <code>最后结果+ '0' </code> 比较就行了。</p><p>对于位数的拆分，在这种位数不多的时候，我是采用手拆的，这样子就可以减少某些调试量<s>偷懒</s>。</p><p>最后，每一位加起来 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mo lspace="0.22em" rspace="0.22em"><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow></mo><mtext> </mtext><mn>11</mn></mrow><annotation encoding="application/x-tex">\bmod 11</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.05555555555555555em;"></span><span class="mord">1</span><span class="mord">1</span></span></span></span> ，<code>+'0'</code>进行比较即可（PS结果为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span> 时需要特判）。</p><h1 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h1><details class="toggle" ><summary class="toggle-button" style="">我已经详细看完并理解了上面的内容，并且不会直接照搬</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a,b,c,s;</span><br><span class="line">    <span class="type">char</span> d;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d-%d-%d-%c&quot;</span>,&amp;a,&amp;b,&amp;c,&amp;d); <span class="comment">//scanf读入</span></span><br><span class="line">    s=(a+b/<span class="number">100</span>*<span class="number">2</span>+b%<span class="number">100</span>/<span class="number">10</span>*<span class="number">3</span>+b%<span class="number">10</span>*<span class="number">4</span>+c/<span class="number">10000</span>*<span class="number">5</span>+c%<span class="number">10000</span>/<span class="number">1000</span>*<span class="number">6</span>+c%<span class="number">1000</span>/<span class="number">100</span>*<span class="number">7</span>+c%<span class="number">100</span>/<span class="number">10</span>*<span class="number">8</span>+c%<span class="number">10</span>*<span class="number">9</span>)%<span class="number">11</span>; <span class="comment">//拆位相加</span></span><br><span class="line">    <span class="keyword">if</span>(s==<span class="number">10</span>&amp;&amp;d==<span class="string">&#x27;X&#x27;</span>)&#123; <span class="comment">//特判</span></span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Right&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(s+<span class="string">&#x27;0&#x27;</span>==d)&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;Right&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span>(s==<span class="number">10</span>)&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d-%d-%d-X&quot;</span>,a,b,c); <span class="comment">//特判</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d-%d-%d-%d&quot;</span>,a,b,c,s);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details>]]></content>
    
    
      
      
    <summary type="html">&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.luogu.com.cn/problem/P1055&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
    &lt;div clas</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
    <category term="字符处理" scheme="https://blog.yaria.top/tags/%E5%AD%97%E7%AC%A6%E5%A4%84%E7%90%86/"/>
    
  </entry>
  
  <entry>
    <title>解决Win11的棘手更新问题————0x8007001f</title>
    <link href="https://blog.yaria.top/posts/6deceee9/"/>
    <id>https://blog.yaria.top/posts/6deceee9/</id>
    <published>2022-11-26T11:49:22.000Z</published>
    <updated>2022-11-27T02:15:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>参考文章：</p><a class="tag-Link" target="_blank" href="https://www.bilibili.com/read/cv12378662/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.bilibili.com/read/cv12378662/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">关于解决win10功能更新0x80242016安装失败的方法</div>            <div class="tag-link-sitename">Bilibili-voutin</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://www.cnblogs.com/hongdada/p/14737261.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.cnblogs.com/hongdada/p/14737261.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">修复WinRE恢复环境</div>            <div class="tag-link-sitename">hongdada</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><a class="tag-Link" target="_blank" href="https://www.jianshu.com/p/fadc3257c858">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/www.jianshu.com/p/fadc3257c858.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Windows 更新错误码 0x80242016 的各种可能解决方式</div>            <div class="tag-link-sitename">初春绫子</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>作为一个喜新厌旧的孩子，自然系统更新少不了，最近微软发布了Win1122h2（其实早就有了，旧电脑早就更新了新电脑不行）。</p><p>旧电脑体验了一番，发现22H2的颜值（主要是）以及Bug都得到了不少改进（不过有点卡），还有云母标题栏，标签资源管理器，心动了。</p><p>于是回来之后就给新电脑尝试升级，结果：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1363d7219.webp" alt="" /></p><p>我就在网上撒网似的搜索错误代码，无非就是（尤其是水透了的MSCommunity）：</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sfc /scannow</span><br><span class="line">DISM /Online /Cleanup-Image /CheckHealth</span><br><span class="line">DISM /Online /Cleanup-image /ScanHealth</span><br><span class="line">DISM /Online /Cleanup-Image /RestoreHealth</span><br></pre></td></tr></table></figure><p>还有用工具（易升、安装助手），干净启动等等的。</p><p>看到MSCommunity上最先进的解决方案：</p><p>依然没用qwq。</p><h1 id="解决方式"><a class="markdownIt-Anchor" href="#解决方式"></a> 解决方式</h1><p>然并卵，都没用。于是我便自寻出路。</p><h2 id="错误示范"><a class="markdownIt-Anchor" href="#错误示范"></a> 错误示范</h2><p>受到了他人的启发，我先生成了windows更新日志文件，在Powershell管理员模式里面输入：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Get-WindowsUpdateLog</span></span><br></pre></td></tr></table></figure><p>然后我看了看日志，搜索了一些关键词，比如warn，fail等等的，并没有什么发现。</p><h2 id="正确示范"><a class="markdownIt-Anchor" href="#正确示范"></a> 正确示范</h2><p>又受到MSCommunity上的人启发，看了看事件查看器。</p><p>事件查看器的打开也很简单，只需要Win+R输入<code>eventvwr</code>即可。</p><p>如果你要暴力查找，显然时间复杂度是很高的，最坏情况下是<sup>O(n)</sup>，对于计算机来说，搜索非常简单，而对于人来说，就有点吃力了。</p><p>要真的想快点找到事件的话，我们可以使用筛选功能：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1364a44e7.webp" alt="" /></p><p>而<code>wuserv</code>对应的事件来源便是<code>WindowsUpdateClient</code>，筛选出来它，我们就能看到我们想要的日志了</p><p>然后我们只需要找到错误就可以进行剖析了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13657e5bf.webp" alt="" /></p><p>俗话说的好，一个巴掌拍不响，祸不单行。一般来说很多情况下错误都是有好几个的，不如找一个易于查找的错误代码。</p><p>然后我突然发现：除了开始的0x8007001f以外，还有一个：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca136661b52.webp" alt="" /></p><p><a href="https://www.jianshu.com/p/fadc3257c858">网上一搜</a>，便有了结果：</p><ol><li>Windows更新缓存问题</li><li>Windows Search服务问题</li><li>部分服务问题</li><li>WinRE损坏</li></ol><p>然后我发现我的WinRE是损坏的：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13676971a.webp" alt="" /></p><p>损坏使用<code>reagentc /info</code>来检测</p><p>实际上损坏是因为我换电脑时因为嫌麻烦进行过迁移，于是WinRE没了（PS为什么之前都行）</p><p>于是，我就参考<a href="https://www.cnblogs.com/hongdada/p/14737261.html">这篇文章</a>进行了修复。</p><h3 id="如何修复"><a class="markdownIt-Anchor" href="#如何修复"></a> 如何修复？</h3><p>修复并不麻烦，首先，你需要一个WinRE镜像，一般来说大部分Windows11版本的WinRE都是一样的，刚好手里因为更新有一个22H2镜像，所以直接拷贝镜像里面的<code>install.wim/Windows/System32/Recovery</code>即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13682b7aa.webp" alt="" /></p><p>拷贝到<code>C:\Recovery\Windows</code>下，如果没有则新建（默认是系统保护文件夹，所以需要开启显示）。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1368e1ff4.webp" alt="" /></p><p>我遇到了一个棘手的问题：拒绝访问。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13699790b.webp" alt="" /></p><p>这时我们需要对文件夹进行提权。</p><p>提权稍微复杂一点，需要自己仔细看看。（everyone图方便不建议用）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca136a6a139.webp" alt="" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca136b4c31b.webp" alt="" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca136c186b2.webp" alt="" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca136cc3220.webp" alt="" /></p><p>这时就能正常访问了，把install.wim扔进去。</p><p>然后Powershell管理员输入：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reagentc /setreimage /path C:\Recovery\WindowsRE</span><br><span class="line">reagentc /enable</span><br></pre></td></tr></table></figure><h2 id="msc的大佬帮助"><a class="markdownIt-Anchor" href="#msc的大佬帮助"></a> MSC的大佬帮助</h2><p>这样就好了<em>吗？</em></p><p>并没有好，好不容易进入重启更新阶段了，结果直接蓝屏回退。</p><p>这时，我在MSCommunity的帖子收到了回复：</p><p>刚好遇到了一个神犇，非常厉害，我把错误日志发给他，他就给了我一段修复代码，我复制到PowerShell里面，重启，更新成功！</p><p>原帖地址：</p><a class="tag-Link" target="_blank" href="https://answers.microsoft.com/zh-hans/windows/forum/all/windows-11/2cd3c732-5b2e-46af-9749-0f120e9cd3a4">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/answers.microsoft.com/zh-hans/windows/forum/all/windows-11/2cd3c732-5b2e-46af-9749-0f120e9cd3a4.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Windows 11 22H1升级22H2失败，错误代码0x8007001f</div>            <div class="tag-link-sitename">Microsoft Community</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$arch</span> = <span class="built_in">Get-WMIObject</span> <span class="literal">-Class</span> Win32_Processor <span class="literal">-ComputerName</span> LocalHost | <span class="built_in">Select-Object</span> AddressWidth</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;1. Stopping Windows Update Services...&quot;</span></span><br><span class="line"><span class="built_in">Stop-Service</span> <span class="literal">-Name</span> BITS</span><br><span class="line"><span class="built_in">Stop-Service</span> <span class="literal">-Name</span> wuauserv</span><br><span class="line"><span class="built_in">Stop-Service</span> <span class="literal">-Name</span> appidsvc</span><br><span class="line"><span class="built_in">Stop-Service</span> <span class="literal">-Name</span> cryptsvc</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;2. Remove QMGR Data file...&quot;</span></span><br><span class="line"><span class="built_in">Remove-Item</span> <span class="string">&quot;<span class="variable">$env:allusersprofile</span>\Application Data\Microsoft\Network\Downloader\qmgr*.dat&quot;</span> <span class="literal">-ErrorAction</span> SilentlyContinue</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;3. Renaming the Software Distribution and CatRoot Folder...&quot;</span></span><br><span class="line"><span class="built_in">Rename-Item</span> <span class="variable">$env:systemroot</span>\SoftwareDistribution SoftwareDistribution.bak <span class="literal">-ErrorAction</span> SilentlyContinue</span><br><span class="line"><span class="built_in">Rename-Item</span> <span class="variable">$env:systemroot</span>\System32\Catroot2 catroot2.bak <span class="literal">-ErrorAction</span> SilentlyContinue</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;4. Removing old Windows Update log...&quot;</span></span><br><span class="line"><span class="built_in">Remove-Item</span> <span class="variable">$env:systemroot</span>\WindowsUpdate.log <span class="literal">-ErrorAction</span> SilentlyContinue</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;5. Resetting the Windows Update Services to defualt settings...&quot;</span></span><br><span class="line"><span class="string">&quot;sc.exe sdset bits D:(A;;CCLCSWRPWPDTLOCRRC;;;SY)(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;BA)(A;;CCLCSWLOCRRC;;;AU)(A;;CCLCSWRPWPDTLOCRRC;;;PU)&quot;</span></span><br><span class="line"><span class="string">&quot;sc.exe sdset wuauserv D:(A;;CCLCSWRPWPDTLOCRRC;;;SY)(A;;CCDCLCSWRPWPDTLOCRSDRCWDWO;;;BA)(A;;CCLCSWLOCRRC;;;AU)(A;;CCLCSWRPWPDTLOCRRC;;;PU)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Set-Location</span> <span class="variable">$env:systemroot</span>\system32</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;6. Registering some DLLs...&quot;</span></span><br><span class="line">regsvr32.exe /s atl.dll</span><br><span class="line">regsvr32.exe /s urlmon.dll</span><br><span class="line">regsvr32.exe /s mshtml.dll</span><br><span class="line">regsvr32.exe /s shdocvw.dll</span><br><span class="line">regsvr32.exe /s browseui.dll</span><br><span class="line">regsvr32.exe /s jscript.dll</span><br><span class="line">regsvr32.exe /s vbscript.dll</span><br><span class="line">regsvr32.exe /s scrrun.dll</span><br><span class="line">regsvr32.exe /s msxml.dll</span><br><span class="line">regsvr32.exe /s msxml3.dll</span><br><span class="line">regsvr32.exe /s msxml6.dll</span><br><span class="line">regsvr32.exe /s actxprxy.dll</span><br><span class="line">regsvr32.exe /s softpub.dll</span><br><span class="line">regsvr32.exe /s wintrust.dll</span><br><span class="line">regsvr32.exe /s dssenh.dll</span><br><span class="line">regsvr32.exe /s rsaenh.dll</span><br><span class="line">regsvr32.exe /s gpkcsp.dll</span><br><span class="line">regsvr32.exe /s sccbase.dll</span><br><span class="line">regsvr32.exe /s slbcsp.dll</span><br><span class="line">regsvr32.exe /s cryptdlg.dll</span><br><span class="line">regsvr32.exe /s oleaut32.dll</span><br><span class="line">regsvr32.exe /s ole32.dll</span><br><span class="line">regsvr32.exe /s shell32.dll</span><br><span class="line">regsvr32.exe /s initpki.dll</span><br><span class="line">regsvr32.exe /s wuapi.dll</span><br><span class="line">regsvr32.exe /s wuaueng.dll</span><br><span class="line">regsvr32.exe /s wuaueng1.dll</span><br><span class="line">regsvr32.exe /s wucltui.dll</span><br><span class="line">regsvr32.exe /s wups.dll</span><br><span class="line">regsvr32.exe /s wups2.dll</span><br><span class="line">regsvr32.exe /s wuweb.dll</span><br><span class="line">regsvr32.exe /s qmgr.dll</span><br><span class="line">regsvr32.exe /s qmgrprxy.dll</span><br><span class="line">regsvr32.exe /s wucltux.dll</span><br><span class="line">regsvr32.exe /s muweb.dll</span><br><span class="line">regsvr32.exe /s wuwebv.dll</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;7) Resetting the WinSock...&quot;</span></span><br><span class="line">netsh winsock reset</span><br><span class="line">netsh winhttp reset proxy</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;8) Delete all BITS jobs...&quot;</span></span><br><span class="line"><span class="built_in">Get-BitsTransfer</span> | <span class="built_in">Remove-BitsTransfer</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;9) Starting Windows Update Services...&quot;</span></span><br><span class="line"><span class="built_in">Start-Service</span> <span class="literal">-Name</span> BITS</span><br><span class="line"><span class="built_in">Start-Service</span> <span class="literal">-Name</span> wuauserv</span><br><span class="line"><span class="built_in">Start-Service</span> <span class="literal">-Name</span> appidsvc</span><br><span class="line"><span class="built_in">Start-Service</span> <span class="literal">-Name</span> cryptsvc</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;10) Forcing discovery...&quot;</span></span><br><span class="line">wuauclt /resetauthorization /detectnow</span><br><span class="line"></span><br><span class="line"><span class="built_in">Write-Host</span> <span class="string">&quot;Process complete. Please reboot your computer.&quot;</span></span><br></pre></td></tr></table></figure><p>再次感谢这位神犇。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca136d7f3df.webp" alt="" /></p><p><s><em>（MSCommunity中文区也不是一无是处啊）</em></s></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;参考文章：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://www.bilibili.com/read/cv12378662/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/di</summary>
      
    
    
    
    <category term="避坑教程" scheme="https://blog.yaria.top/categories/%E9%81%BF%E5%9D%91%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Windows" scheme="https://blog.yaria.top/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>不开pjax的APlayer不中断解决方案</title>
    <link href="https://blog.yaria.top/posts/614f1131/"/>
    <id>https://blog.yaria.top/posts/614f1131/</id>
    <published>2022-11-23T02:53:11.000Z</published>
    <updated>2022-12-02T06:45:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>最近心血来潮加了个aplayer，但是这个aplayer的体验特炸裂------每次刷新页面都得停止播放。对于我这种文章较短的站来说非常难受，于是我试了试pjax——————更炸裂了，说说、日历、轮播、弹幕等等一堆bug。</p><p>然后我采取了一种折中方案，使用js记录播放进度并且在每次刷新后都重新定位。（不过加载页面的过程是没歌的qwq）</p><p><video src="https://gorilla.cdnja.co/v/o7/o7ZGX.mp4?token=3Qxa3K9gFncklbqj6z93vA&amp;expires=1669174164" muted autoplay loop controls></video></p><p>js参考自：</p><a class="tag-Link" target="_blank" href="https://l3yx.github.io/2020/04/29/APlayer-%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2%E4%BF%9D%E6%8C%81%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E8%BF%9B%E5%BA%A6/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/l3yx.github.io/2020/04/29/APlayer-%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2%E4%BF%9D%E6%8C%81%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E8%BF%9B%E5%BA%A6/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">APlayer跳转页面保持音乐播放进度</div>            <div class="tag-link-sitename">l3yx's blog</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>因为原文章js的bug较多，且根据bf官方文档配置的Aplayer+Meetingjs的实现方式不太一样(因为1.2和2.0差别大)，所以进行了修改。</p><p>此js需要配合官方文档的Meetingjs食用</p><a class="tag-Link" target="_blank" href="https://butterfly.js.org/posts/507c070f/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/butterfly.js.org/posts/507c070f/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Butterfly添加全局吸底Aplayer教程</div>            <div class="tag-link-sitename">Butterfly</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>下面是代码，创建并在配置文件中引用即可完美食用</p><p>2022.12.2更新新版。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doStuff</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        ap=aplayers[<span class="number">0</span>]; <span class="comment">//aplayer对象的存放位置挺离谱的</span></span><br><span class="line">        ap.<span class="property">list</span>;</span><br><span class="line">        flag=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">catch</span>&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(doStuff, <span class="number">50</span>);<span class="comment">//等待aplayer对象被创建（没找到初始化实例的地方只能这样了，这个判断代码是StackOverflow上面扒的（因为自己是个蒟蒻</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        ap.<span class="property">lrc</span>.<span class="title function_">hide</span>();<span class="comment">//自带播放暂停时显隐歌词，可以删</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;aplayer-icon-menu&quot;</span>)[<span class="number">0</span>].<span class="title function_">click</span>()</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicIndex&quot;</span>)!=<span class="literal">null</span>)&#123;</span><br><span class="line">            musicIndex = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicIndex&quot;</span>);</span><br><span class="line">            ap.<span class="property">list</span>.<span class="title function_">switch</span>(musicIndex);</span><br><span class="line">            <span class="comment">//歌曲可以本地储存下次访问体验更好</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicTime&quot;</span>) != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">musict</span> = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicTime&quot;</span>);</span><br><span class="line">            ap.<span class="title function_">setMode</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicMode&quot;</span>));</span><br><span class="line">            <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicPaused&quot;</span>)!=<span class="string">&#x27;1&#x27;</span>)&#123;</span><br><span class="line">                ap.<span class="title function_">play</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// setTimeout(function()&#123;</span></span><br><span class="line">            <span class="comment">//     ap.seek(window.musict); //seek炸了我很久，最后决定加个延时（本来要用canplay但是莫名鬼畜了）</span></span><br><span class="line">            <span class="comment">// &#125;,500);</span></span><br><span class="line">            <span class="keyword">var</span> g=<span class="literal">true</span>; <span class="comment">//加个变量以防鬼畜但是不知道怎么节流qwq</span></span><br><span class="line">            ap.<span class="title function_">on</span>(<span class="string">&quot;canplay&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(g)&#123;</span><br><span class="line">                    ap.<span class="title function_">seek</span>(<span class="variable language_">window</span>.<span class="property">musict</span>);</span><br><span class="line">                    g=<span class="literal">false</span>;<span class="comment">//如果不加oncanplay的话会seek失败就这原因炸很久</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicPaused&quot;</span>,<span class="number">1</span>);</span><br><span class="line">            ap.<span class="title function_">setMode</span>(<span class="string">&quot;mini&quot;</span>); <span class="comment">//新版添加了保存展开状态功能</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicVolume&quot;</span>) != <span class="literal">null</span>)&#123;</span><br><span class="line">            ap.<span class="property">audio</span>.<span class="property">volume</span>=<span class="title class_">Number</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;musicVolume&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        ap.<span class="title function_">on</span>(<span class="string">&quot;pause&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicPaused&quot;</span>,<span class="number">1</span>);ap.<span class="property">lrc</span>.<span class="title function_">hide</span>()&#125;);<span class="comment">//原基础上加了个检测暂停免得切换页面后爆零(bushi)（指社死）</span></span><br><span class="line">        ap.<span class="title function_">on</span>(<span class="string">&quot;play&quot;</span>,<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicPaused&quot;</span>,<span class="number">0</span>);ap.<span class="property">lrc</span>.<span class="title function_">show</span>()&#125;);<span class="comment">//自带播放暂停时显隐歌词，后面那句可以删，上同</span></span><br><span class="line">        ap.<span class="property">audio</span>.<span class="property">onvolumechange</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicVolume&quot;</span>,ap.<span class="property">audio</span>.<span class="property">volume</span>);&#125;;<span class="comment">//新版增加保存音量免得切换页面爆零（doge</span></span><br><span class="line">        <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            musicIndex = ap.<span class="property">list</span>.<span class="property">index</span>;</span><br><span class="line">            musicTime = ap.<span class="property">audio</span>.<span class="property">currentTime</span>;</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicIndex&quot;</span>,musicIndex);</span><br><span class="line">            <span class="comment">//保存播放进度</span></span><br><span class="line">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicTime&quot;</span>,musicTime);</span><br><span class="line">            <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;musicMode&quot;</span>,ap.<span class="property">mode</span>);</span><br><span class="line">            <span class="comment">//保存展开状态</span></span><br><span class="line">        &#125;,<span class="number">200</span>);<span class="comment">//节流，200ms精度感知不大qwq</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">doStuff</span>();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">这个方案好是好，最终还是选择了pjax，不过bb的bug使得她依然散发余辉。</summary>
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>高精度算法学习笔记</title>
    <link href="https://blog.yaria.top/posts/74e5e1ec/"/>
    <id>https://blog.yaria.top/posts/74e5e1ec/</id>
    <published>2022-11-20T13:12:03.000Z</published>
    <updated>2022-11-24T03:40:31.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>作为一个曾经在BCM摆烂的蒟蒻，趁着网课期间，就恶补一顿吧。</p><h1 id="为什么会有高精度"><a class="markdownIt-Anchor" href="#为什么会有高精度"></a> 为什么会有高精度</h1><div class="note info simple"><p>22.11.29 发现部分特性，有空修修</p></div><p>众所周知，在刷题/比赛的路途中，我们总会遇到一些毒瘤题目，这种题呢它非常离谱，数据规模可以达到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>N</mi><mo>&lt;</mo><mo>=</mo><mn>1</mn><msup><mn>0</mn><mn>100</mn></msup></mrow><annotation encoding="application/x-tex">0&lt;=N&lt;=10^{100}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span><span class="mord mtight">0</span></span></span></span></span></span></span></span></span></span></span></span>之类的，就算是开挂的<code>unsigned __int128</code>也没救，所以就需要高精度qwq</p><p>一些常见类型的范围：</p><table><thead><tr><th>类型</th><th>长度</th><th>范围</th></tr></thead><tbody><tr><td><code>bool</code></td><td>1B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim 1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mi>r</mi><mi>u</mi><mi>e</mi><mo>∥</mo><mi>f</mi><mi>a</mi><mi>l</mi><mi>s</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">true\parallel false</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">s</span><span class="mord mathnormal">e</span></span></span></span>)</td></tr><tr><td><code>short</code></td><td>2B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>32768</mn><mo>∼</mo><mn>32767</mn></mrow><annotation encoding="application/x-tex">-32768\sim 32767</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">3</span><span class="mord">2</span><span class="mord">7</span><span class="mord">6</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">2</span><span class="mord">7</span><span class="mord">6</span><span class="mord">7</span></span></span></span></td></tr><tr><td><code>unsigned short</code></td><td>2B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>65535</mn></mrow><annotation encoding="application/x-tex">0\sim 65535</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mord">5</span><span class="mord">5</span><span class="mord">3</span><span class="mord">5</span></span></span></span></td></tr><tr><td><code>int</code></td><td>4B(俗称的32位)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>2147483648</mn><mo>∼</mo><mn>2147483647</mn></mrow><annotation encoding="application/x-tex">-2147483648\sim 2147483647</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">2</span><span class="mord">1</span><span class="mord">4</span><span class="mord">7</span><span class="mord">4</span><span class="mord">8</span><span class="mord">3</span><span class="mord">6</span><span class="mord">4</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">1</span><span class="mord">4</span><span class="mord">7</span><span class="mord">4</span><span class="mord">8</span><span class="mord">3</span><span class="mord">6</span><span class="mord">4</span><span class="mord">7</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mi>x</mi><mn>7</mn><mi>f</mi><mi>f</mi><mi>f</mi><mi>f</mi><mi>f</mi><mi>f</mi><mi>f</mi></mrow><annotation encoding="application/x-tex">0x7fffffff</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord">0</span><span class="mord mathnormal">x</span><span class="mord">7</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>)(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>31</mn></msup><mo>∼</mo><msup><mn>2</mn><mn>31</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-2^{31}\sim 2^{31}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>)</td></tr><tr><td><code>unsigned int</code></td><td>4B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>4294967295</mn></mrow><annotation encoding="application/x-tex">0\sim 4294967295</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">2</span><span class="mord">9</span><span class="mord">4</span><span class="mord">9</span><span class="mord">6</span><span class="mord">7</span><span class="mord">2</span><span class="mord">9</span><span class="mord">5</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mn>32</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim 2^{32}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>)</td></tr><tr><td><code>long long</code></td><td>8B(俗称的64位)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>63</mn></msup><mo>∼</mo><msup><mn>2</mn><mn>63</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-2^{63}\sim 2^{63}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>–</mtext><mn>9223372036854775808</mn><mo>∼</mo><mn>9223372036854775807</mn></mrow><annotation encoding="application/x-tex">–9223372036854775808\sim 9223372036854775807</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">–</span><span class="mord">9</span><span class="mord">2</span><span class="mord">2</span><span class="mord">3</span><span class="mord">3</span><span class="mord">7</span><span class="mord">2</span><span class="mord">0</span><span class="mord">3</span><span class="mord">6</span><span class="mord">8</span><span class="mord">5</span><span class="mord">4</span><span class="mord">7</span><span class="mord">7</span><span class="mord">5</span><span class="mord">8</span><span class="mord">0</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mord">2</span><span class="mord">2</span><span class="mord">3</span><span class="mord">3</span><span class="mord">7</span><span class="mord">2</span><span class="mord">0</span><span class="mord">3</span><span class="mord">6</span><span class="mord">8</span><span class="mord">5</span><span class="mord">4</span><span class="mord">7</span><span class="mord">7</span><span class="mord">5</span><span class="mord">8</span><span class="mord">0</span><span class="mord">7</span></span></span></span>)</td></tr><tr><td><code>unsigned long long</code>(PS:CSP-J2022T2克星)</td><td>8B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mn>64</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim 2^{64}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">6</span><span class="mord mtight">4</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>18446744073709551615</mn></mrow><annotation encoding="application/x-tex">0\sim 18446744073709551615</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">8</span><span class="mord">4</span><span class="mord">4</span><span class="mord">6</span><span class="mord">7</span><span class="mord">4</span><span class="mord">4</span><span class="mord">0</span><span class="mord">7</span><span class="mord">3</span><span class="mord">7</span><span class="mord">0</span><span class="mord">9</span><span class="mord">5</span><span class="mord">5</span><span class="mord">1</span><span class="mord">6</span><span class="mord">1</span><span class="mord">5</span></span></span></span>)</td></tr><tr><td><code>char</code></td><td>1B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>128</mn><mo>∼</mo><mn>127</mn></mrow><annotation encoding="application/x-tex">-128\sim 127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">2</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">2</span><span class="mord">7</span></span></span></span>(PS:char为什么要有负数)</td></tr><tr><td><code>float</code></td><td>4B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>3.4</mn><mi>e</mi><mo>−</mo><mn>38</mn><mo>∼</mo><mn>3.4</mn><mi>e</mi><mo>+</mo><mn>38</mn></mrow><annotation encoding="application/x-tex">-3.4e-38\sim 3.4e+38</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">3</span><span class="mord">.</span><span class="mord">4</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">4</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">8</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>6</mn><mo>∼</mo><mn>7</mn></mrow><annotation encoding="application/x-tex">6\sim 7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">7</span></span></span></span>位有效数据)</td></tr><tr><td><code>double</code></td><td>8B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1.7</mn><mi>e</mi><mo>−</mo><mn>308</mn><mo>∼</mo><mn>1.7</mn><mi>e</mi><mo>+</mo><mn>308</mn></mrow><annotation encoding="application/x-tex">-1.7e-308\sim 1.7e+308</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">.</span><span class="mord">7</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">7</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">8</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>15</mn><mo>∼</mo><mn>16</mn></mrow><annotation encoding="application/x-tex">15\sim 16</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">5</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">6</span></span></span></span>位有效数据)</td></tr><tr><td><code>__int128</code>（正式比赛以及本地gcc不支持）</td><td>16B(即128位)</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mn>127</mn></msup><mo>∼</mo><msup><mn>2</mn><mn>127</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-2^{127}\sim 2^{127}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>–</mtext><mn>1.70141183</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup><mo>∼</mo><mn>1.70141183</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">–1.70141183×10^{38}\sim 1.70141183×10^{38}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">–</span><span class="mord">1</span><span class="mord">.</span><span class="mord">7</span><span class="mord">0</span><span class="mord">1</span><span class="mord">4</span><span class="mord">1</span><span class="mord">1</span><span class="mord">8</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord">.</span><span class="mord">7</span><span class="mord">0</span><span class="mord">1</span><span class="mord">4</span><span class="mord">1</span><span class="mord">1</span><span class="mord">8</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>))</td></tr><tr><td><code>unsigned __int128</code></td><td>16B</td><td><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><msup><mn>2</mn><mn>127</mn></msup></mrow><annotation encoding="application/x-tex">0\sim 2^{127}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">2</span><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span></span>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>∼</mo><mn>3.40282367</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\sim 3.40282367×10^{38}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">4</span><span class="mord">0</span><span class="mord">2</span><span class="mord">8</span><span class="mord">2</span><span class="mord">3</span><span class="mord">6</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>)</td></tr></tbody></table><p>(实际上不建议使用unsigned类型，容易出现与signed冲突的问题。)</p><p>这么算下来，即便是<code>unsigned __int128</code>的数据范围也只在<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mo>≤</mo><mi>N</mi><mo>≤</mo><mn>3.40282367</mn><mo>×</mo><mn>1</mn><msup><mn>0</mn><mn>38</mn></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">0\le N\le 3.40282367×10^{38}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.13597em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord">.</span><span class="mord">4</span><span class="mord">0</span><span class="mord">2</span><span class="mord">8</span><span class="mord">2</span><span class="mord">3</span><span class="mord">6</span><span class="mord">7</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.897438em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mord mtight">8</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>以内，这在某些题中依旧远远不够。</p><p>既然直接用内存存二进制数不行，那为什么不一位一位存呢？</p><p>所以就可以用一个字符数组<code>char num[1919]</code>来存高精度。</p><p>为什么要用字符数组呢？因为如果想做一些事的话字符数组会更加方便。</p><h1 id="怎么算"><a class="markdownIt-Anchor" href="#怎么算"></a> 怎么算？</h1><h2 id="加法"><a class="markdownIt-Anchor" href="#加法"></a> 加法</h2><p>既然是一位一位存的，自然能想到我们的竖式<del>（OI惊现小学二年级内容）</del>，竖式便是一位一位<del>いくいく（悲）</del>地加的：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>1145</mn></mrow><annotation encoding="application/x-tex">\quad 1145</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mord">5</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>+</mo><mn>1919</mn></mrow><annotation encoding="application/x-tex">\;+1919</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mord">9</span><span class="mord">1</span><span class="mord">9</span></span></span></span><br />------------------<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>3064</mn></mrow><annotation encoding="application/x-tex">\quad 3064</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord">6</span><span class="mord">4</span></span></span></span></p><p>我们采用从末位到首位依次计算的方式：</p><p><code>a=1 1 4 5</code></p><p><code>b=1 9 1 9</code></p><p>首先计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>+</mo><mn>9</mn><mo>=</mo><mn>14</mn></mrow><annotation encoding="application/x-tex">5+9=14</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span></span></span></span>，这时我们发现有进位情况，用一个变量<code>jw</code>标记：</p><p><code>jw=1</code></p><p><code>c=0 0 0 4</code></p><p>然后计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>6</mn></mrow><annotation encoding="application/x-tex">4+1+1=6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>，(加上前面的进位)，此时这里是不进位的</p><p><code>jw=0</code></p><p><code>c=0 0 6 4</code></p><p>接着计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>9</mn></mrow><annotation encoding="application/x-tex">1+9</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">9</span></span></span></span>,很显然这里有进位.</p><p><code>jw=1</code></p><p><code>c=0 0 6 4</code></p><p>再接着计算<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>=</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">1+1+1=3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span></span></span></span>(加上前面的进位),这时不进位</p><p><code>jw=0</code></p><p><code>c=3 0 6 4</code></p><p>这时高精加法就实现了.</p><p>事实上,我们好像忽略了什么,对,数位对齐!</p><p>有一个不同位数的式子:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>1145</mn></mrow><annotation encoding="application/x-tex">\quad 1145</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mord">5</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mtext>  </mtext><mtext> </mtext><mtext>  </mtext><mn>514</mn></mrow><annotation encoding="application/x-tex">+ \;\ \; 514</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mspace"> </span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span></span></span></span><br />------------------<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>1659</mn></mrow><annotation encoding="application/x-tex">\quad 1659</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">1</span><span class="mord">6</span><span class="mord">5</span><span class="mord">9</span></span></span></span></p><p>很显然,如果不对齐进行计算的话,因为数组下标是从1开始(虽然本身是0开始的)的,程序会处理成:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>1145</mn></mrow><annotation encoding="application/x-tex">\quad 1145</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">4</span><span class="mord">5</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>+</mo><mn>5140</mn></mrow><annotation encoding="application/x-tex">\;+5140</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">+</span><span class="mord">5</span><span class="mord">1</span><span class="mord">4</span><span class="mord">0</span></span></span></span><br />------------------<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>6285</mn></mrow><annotation encoding="application/x-tex">\quad 6285</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">6</span><span class="mord">2</span><span class="mord">8</span><span class="mord">5</span></span></span></span></p><p>这自然违背了数位要对齐的原则.</p><p>怎么解决呢?在上面说到了,数组的下标是从1开始的，那为什么不把她们倒着算呢？然后输出的时候只需要调回来就行了。</p><p>这时，式子就变成了：</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>5411</mn></mrow><annotation encoding="application/x-tex">\quad 5411</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">5</span><span class="mord">4</span><span class="mord">1</span><span class="mord">1</span></span></span></span><br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>  </mtext><mo>+</mo><mn>451</mn></mrow><annotation encoding="application/x-tex">\;+451</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">+</span><span class="mord">4</span><span class="mord">5</span><span class="mord">1</span></span></span></span><br />------------------<br /><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mspace width="1em"/><mn>9651</mn></mrow><annotation encoding="application/x-tex">\quad 9651</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mspace" style="margin-right:1em;"></span><span class="mord">9</span><span class="mord">6</span><span class="mord">5</span><span class="mord">1</span></span></span></span></p><p>很显然，这时数位就对齐了，然后这时就能用程序从前往后算了，并且输出的时候给它倒序回来就行了。</p><p>所以这样就行了**吗？**并不是的。</p><p>按照上面的算法，程序重复执行计算每位的次数只是取ab两数中大的数的位数。<br />所以遇到例如<code>9999+1</code>这种进位之后的式子，如果程序只算4次的话，结果就是<code>0000</code>，很显然这是错误的。</p><p>遇到这种情况，不如多算一次。不过要注意不进位的情况，会出现前导零的问题，又得把记录位数的变量少-1才行。</p><p>好的，相信你已经学会了。</p><p>参考代码：</p><details class="toggle" ><summary class="toggle-button" style="">请确保你已经读懂算法，此代码仅作参考，请勿直接提交（尤其是洛谷）</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">longint</span>&#123;</span><br><span class="line">    <span class="type">char</span> num[<span class="number">114514</span>]=&#123;<span class="string">&#x27;0&#x27;</span>&#125;;</span><br><span class="line">    <span class="type">int</span> sign=<span class="number">0</span>; <span class="comment">//标记符号</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="type">char</span> c=<span class="string">&#x27;0&#x27;</span>; <span class="comment">//快读</span></span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((c&lt;=<span class="string">&#x27;9&#x27;</span>&amp;&amp;c&gt;=<span class="string">&#x27;0&#x27;</span>)||c==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">            c=<span class="built_in">getchar</span>();</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;-&#x27;</span>) sign=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                num[i]=c;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        num[i]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> n=<span class="built_in">strlen</span>(num)<span class="number">-1</span>; <span class="comment">//快写</span></span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">1</span>) <span class="built_in">putchar</span>(<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(sign) <span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">putchar</span>(num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    longint <span class="keyword">operator</span>+(longint b2)&#123;</span><br><span class="line">        <span class="type">int</span> a[<span class="number">114514</span>],b[<span class="number">114514</span>],c[<span class="number">114514</span>];</span><br><span class="line">        longint c2;</span><br><span class="line">        <span class="type">int</span> la=<span class="built_in">strlen</span>(num)<span class="number">-2</span>;</span><br><span class="line">        <span class="type">int</span> lb=<span class="built_in">strlen</span>(b<span class="number">2.</span>num)<span class="number">-2</span>; <span class="comment">//算位数</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=la;i++)&#123;</span><br><span class="line">            a[la-i<span class="number">+1</span>]=num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=lb;i++)&#123;</span><br><span class="line">            b[lb-i<span class="number">+1</span>]=b<span class="number">2.</span>num[i]-<span class="string">&#x27;0&#x27;</span>; <span class="comment">//逆序存储</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> lc=<span class="number">0</span>,jw=<span class="number">0</span>; </span><br><span class="line">        <span class="keyword">while</span>(la&gt;=lc||lb&gt;=lc)&#123; <span class="comment">//取位数多的</span></span><br><span class="line">            c[lc]=(a[lc]+b[lc])%<span class="number">10</span>+jw; <span class="comment">//算a+b，加上进位</span></span><br><span class="line">            jw=(a[lc]+b[lc]+jw)/<span class="number">10</span>; <span class="comment">//jw变量（pinyin？）用于标记下一位</span></span><br><span class="line">            lc++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(jw) c[lc++]=jw; <span class="comment">//解决残余进位</span></span><br><span class="line">        <span class="keyword">if</span>(c[lc]==<span class="number">0</span>) lc--;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=lc;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">            c<span class="number">2.</span>num[lc-i<span class="number">+1</span>]=c[i]%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>; <span class="comment">//给她逆序加回去</span></span><br><span class="line">        &#125;</span><br><span class="line">        c<span class="number">2.</span>num[lc<span class="number">+1</span>]=<span class="string">&#x27;\0&#x27;</span>; <span class="comment">//免得出bug</span></span><br><span class="line">        <span class="keyword">return</span> c2;</span><br><span class="line">        <span class="comment">//封装好结构体是个人所好，勿cue</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    longint a,b;</span><br><span class="line">    a.<span class="built_in">read</span>();</span><br><span class="line">    b.<span class="built_in">read</span>();</span><br><span class="line">    (a+b).<span class="built_in">print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h2 id="减法"><a class="markdownIt-Anchor" href="#减法"></a> 减法</h2><p>减法与加法差不多，但是可能会出现很多个0，而且如果a小于b（我们学校oj测试数据离谱qwq）的话得交换加负号</p><details class="toggle" ><summary class="toggle-button" style="">请确保你已经读懂算法，此代码仅作参考，请勿直接提交（尤其是洛谷）</summary><div class="toggle-content"><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">longint</span>&#123;</span><br><span class="line">    <span class="type">char</span> num[<span class="number">114514</span>]=&#123;<span class="string">&#x27;0&#x27;</span>&#125;;</span><br><span class="line">    <span class="type">int</span> sign=<span class="number">0</span>; <span class="comment">//标记符号</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="type">char</span> c=<span class="string">&#x27;0&#x27;</span>; <span class="comment">//快读</span></span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((c&lt;=<span class="string">&#x27;9&#x27;</span>&amp;&amp;c&gt;=<span class="string">&#x27;0&#x27;</span>)||c==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">            c=<span class="built_in">getchar</span>();</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;-&#x27;</span>) sign=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                num[i]=c;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        num[i]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> n=<span class="built_in">strlen</span>(num)<span class="number">-1</span>; <span class="comment">//快写</span></span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">1</span>) <span class="built_in">putchar</span>(<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(sign) <span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">putchar</span>(num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    longint <span class="keyword">operator</span>-(longint b2)&#123;</span><br><span class="line">        <span class="type">int</span> a[<span class="number">114514</span>],b[<span class="number">114514</span>],c[<span class="number">114514</span>],la,lb;</span><br><span class="line">        longint c2;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(num,b<span class="number">2.</span>num)&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">            la=<span class="built_in">strlen</span>(num)<span class="number">-2</span>;</span><br><span class="line">            lb=<span class="built_in">strlen</span>(b<span class="number">2.</span>num)<span class="number">-2</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=la;i++)&#123;</span><br><span class="line">                a[la-i<span class="number">+1</span>]=num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=lb;i++)&#123;</span><br><span class="line">                b[lb-i<span class="number">+1</span>]=b<span class="number">2.</span>num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//a比b小得交换改符号</span></span><br><span class="line">            c<span class="number">2.</span>sign=<span class="number">1</span>;</span><br><span class="line">            la=<span class="built_in">strlen</span>(b<span class="number">2.</span>num)<span class="number">-2</span>;</span><br><span class="line">            lb=<span class="built_in">strlen</span>(num)<span class="number">-2</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=la;i++)&#123;</span><br><span class="line">                a[la-i<span class="number">+1</span>]=b<span class="number">2.</span>num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=lb;i++)&#123;</span><br><span class="line">                b[lb-i<span class="number">+1</span>]=num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> lc=<span class="number">0</span>,jw=<span class="number">0</span>; </span><br><span class="line">        <span class="keyword">while</span>(la&gt;=lc||lb&gt;=lc)&#123; <span class="comment">//取位数多的</span></span><br><span class="line">            <span class="type">int</span> n=a[lc]-b[lc]-jw; <span class="comment">//算减法，得出负的就借位</span></span><br><span class="line">            <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                n+=<span class="number">10</span>;</span><br><span class="line">                jw=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                jw=<span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            c[lc]=n; </span><br><span class="line">            lc++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span>(c[lc]==<span class="number">0</span>) lc--; <span class="comment">//去0</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=lc;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">            c<span class="number">2.</span>num[lc-i<span class="number">+1</span>]=c[i]%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>; <span class="comment">//给她逆序加回去</span></span><br><span class="line">        &#125;</span><br><span class="line">        c<span class="number">2.</span>num[lc<span class="number">+1</span>]=<span class="string">&#x27;\0&#x27;</span>; <span class="comment">//免得出bug</span></span><br><span class="line">        <span class="keyword">return</span> c2;</span><br><span class="line">        <span class="comment">//封装好结构体是个人所好，勿cue</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    longint a,b;</span><br><span class="line">    a.<span class="built_in">read</span>();</span><br><span class="line">    b.<span class="built_in">read</span>();</span><br><span class="line">    (a-b).<span class="built_in">print</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></details><h1 id="一个高精结构体"><a class="markdownIt-Anchor" href="#一个高精结构体"></a> 一个高精结构体</h1><p>我还写了个高精结构体，这个结构体做了一些符号、运算符重载的功能，起码更加方便了qwq（PS怎么重写scan/printf，cin/out呢？）</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">longint</span>&#123;</span><br><span class="line">    <span class="type">char</span> num[<span class="number">114514</span>]=&#123;<span class="string">&#x27;0&#x27;</span>&#125;;</span><br><span class="line">    <span class="type">int</span> sign=<span class="number">0</span>; <span class="comment">//标记符号</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="type">char</span> c=<span class="string">&#x27;0&#x27;</span>; <span class="comment">//快读</span></span><br><span class="line">        <span class="type">int</span> i=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((c&lt;=<span class="string">&#x27;9&#x27;</span>&amp;&amp;c&gt;=<span class="string">&#x27;0&#x27;</span>)||c==<span class="string">&#x27;-&#x27;</span>)&#123;</span><br><span class="line">            c=<span class="built_in">getchar</span>();</span><br><span class="line">            <span class="keyword">if</span>(c==<span class="string">&#x27;-&#x27;</span>) sign=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                num[i]=c;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        num[i]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="type">int</span> n=<span class="built_in">strlen</span>(num)<span class="number">-1</span>; <span class="comment">//快写</span></span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">1</span>) <span class="built_in">putchar</span>(<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span>(sign) <span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;<span class="built_in">i</span>&lt;=n;i++)&#123;</span><br><span class="line">            <span class="built_in">putchar</span>(num[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&gt;(longint b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&gt;<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!(sign)&amp;&amp;b.sign) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&lt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(longint b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&lt;<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!(sign)&amp;&amp;b.sign) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&gt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;=(longint b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(num,b.num)==<span class="number">0</span>&amp;&amp;sign==b.sign) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&lt;<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!(sign)&amp;&amp;b.sign) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&gt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&gt;=(longint b)&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">strcmp</span>(num,b.num)==<span class="number">0</span>&amp;&amp;sign==b.sign) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&lt;<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!(sign)&amp;&amp;b.sign) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(sign&amp;&amp;!b.sign) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)&lt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>==(longint b)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">strcmp</span>(num,b.num)==<span class="number">0</span>&amp;&amp;sign==b.sign;</span><br><span class="line">    &#125;</span><br><span class="line">    longint <span class="keyword">operator</span>+(longint b2)&#123;</span><br><span class="line">        <span class="type">int</span> a[<span class="number">114514</span>],b[<span class="number">114514</span>],c[<span class="number">114514</span>];</span><br><span class="line">        longint c2;</span><br><span class="line">        <span class="keyword">if</span>(sign==b<span class="number">2.</span>sign)&#123;</span><br><span class="line">            <span class="keyword">if</span>(sign&amp;&amp;b<span class="number">2.</span>sign) c<span class="number">2.</span>sign=<span class="number">1</span>; <span class="comment">//同号相加</span></span><br><span class="line">            <span class="type">int</span> la=<span class="built_in">strlen</span>(num)<span class="number">-2</span>;</span><br><span class="line">            <span class="type">int</span> lb=<span class="built_in">strlen</span>(b<span class="number">2.</span>num)<span class="number">-2</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=la;i++)&#123;</span><br><span class="line">                a[la-i<span class="number">+1</span>]=num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=lb;i++)&#123;</span><br><span class="line">                b[lb-i<span class="number">+1</span>]=b<span class="number">2.</span>num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> lc=<span class="number">1</span>,jw=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(la&gt;=lc||lb&gt;=lc)&#123;</span><br><span class="line">                c[lc]=(a[lc]+b[lc])%<span class="number">10</span>+jw;</span><br><span class="line">                jw=(a[lc]+b[lc]+jw)/<span class="number">10</span>;</span><br><span class="line">                lc++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(jw) c[lc++]=jw;</span><br><span class="line">            <span class="keyword">if</span>(c[lc]==<span class="number">0</span>) lc--;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=lc;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">                c<span class="number">2.</span>num[lc-i<span class="number">+1</span>]=c[i]%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            c<span class="number">2.</span>num[lc<span class="number">+1</span>]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//异号相加，尚未实现</span></span><br><span class="line">            longint b3;</span><br><span class="line">            <span class="built_in">memcpy</span>(b<span class="number">3.</span>num,num,<span class="built_in">sizeof</span>(num));</span><br><span class="line">            longint b4;</span><br><span class="line">            <span class="built_in">memcpy</span>(b<span class="number">4.</span>num,b<span class="number">2.</span>num,<span class="built_in">sizeof</span>(b<span class="number">2.</span>num));</span><br><span class="line">            <span class="keyword">if</span>(b3&gt;b4)&#123;</span><br><span class="line">                longint t=b3-b4;</span><br><span class="line">                c2=t;</span><br><span class="line">                c<span class="number">2.</span>sign=b<span class="number">3.</span>sign;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                longint t=b4-b3;</span><br><span class="line">                c2=t;</span><br><span class="line">                c<span class="number">2.</span>sign=b<span class="number">4.</span>sign;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// void operator++()&#123;</span></span><br><span class="line">    <span class="comment">// int jw=1,k=strlen(num)-1;</span></span><br><span class="line">    <span class="comment">// while(jw!=0)&#123;</span></span><br><span class="line">    <span class="comment">// jw=((int)num[k]-&#x27;0&#x27;+jw)/10;</span></span><br><span class="line">    <span class="comment">// num[k]=((int)num[k]-&#x27;0&#x27;+jw)%10+&#x27;0&#x27;;</span></span><br><span class="line">    <span class="comment">// k--;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// return;</span></span><br><span class="line">    <span class="comment">// &#125; //++运算（莫名其妙不能用）</span></span><br><span class="line">    longint <span class="keyword">operator</span>-(longint b2)&#123;</span><br><span class="line">        <span class="type">int</span> a[<span class="number">114514</span>],b[<span class="number">114514</span>],c[<span class="number">114514</span>],la,lb;</span><br><span class="line">        longint c2;</span><br><span class="line">        <span class="keyword">if</span>(!b<span class="number">2.</span>sign&amp;&amp;!sign)&#123;</span><br><span class="line">            <span class="comment">//正数相减</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">strcmp</span>(num,b<span class="number">2.</span>num)&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">                la=<span class="built_in">strlen</span>(num)<span class="number">-2</span>;</span><br><span class="line">                lb=<span class="built_in">strlen</span>(b<span class="number">2.</span>num)<span class="number">-2</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=la;i++)&#123;</span><br><span class="line">                    a[la-i<span class="number">+1</span>]=num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=lb;i++)&#123;</span><br><span class="line">                    b[lb-i<span class="number">+1</span>]=b<span class="number">2.</span>num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                c<span class="number">2.</span>sign=<span class="number">1</span>;</span><br><span class="line">                la=<span class="built_in">strlen</span>(b<span class="number">2.</span>num)<span class="number">-2</span>;</span><br><span class="line">                lb=<span class="built_in">strlen</span>(num)<span class="number">-2</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=la;i++)&#123;</span><br><span class="line">                    a[la-i<span class="number">+1</span>]=b<span class="number">2.</span>num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=lb;i++)&#123;</span><br><span class="line">                    b[lb-i<span class="number">+1</span>]=num[i]-<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> lc=<span class="number">1</span>,jw=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>(la&gt;=lc||lb&gt;=lc)&#123;</span><br><span class="line">                <span class="type">int</span> n=a[lc]-b[lc]-jw;</span><br><span class="line">                <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">                    n+=<span class="number">10</span>;</span><br><span class="line">                    jw=<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    jw=<span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                c[lc]=n;</span><br><span class="line">                lc++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(jw) c[lc++]=jw;</span><br><span class="line">            <span class="keyword">while</span>(c[lc]==<span class="number">0</span>) lc--;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> i=lc;i&gt;=<span class="number">1</span>;i--)&#123;</span><br><span class="line">                c<span class="number">2.</span>num[lc-i<span class="number">+1</span>]=c[i]%<span class="number">10</span>+<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            c<span class="number">2.</span>num[lc<span class="number">+1</span>]=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//转加法（初一有理数的加减？！）</span></span><br><span class="line">            longint b3;</span><br><span class="line">            <span class="built_in">memcpy</span>(b<span class="number">3.</span>num,num,<span class="built_in">sizeof</span>(num));</span><br><span class="line">            b<span class="number">3.</span>sign=sign;</span><br><span class="line">            longint b4;</span><br><span class="line">            <span class="built_in">memcpy</span>(b<span class="number">4.</span>num,b<span class="number">2.</span>num,<span class="built_in">sizeof</span>(b<span class="number">2.</span>num));</span><br><span class="line">            b<span class="number">4.</span>sign=!sign;</span><br><span class="line">            c2=b3+b4;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c2;</span><br><span class="line">    &#125;</span><br><span class="line">    longint <span class="keyword">operator</span>*(longint b2)&#123;</span><br><span class="line">        <span class="comment">//高精乘法，咕咕咕</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>不过还没有写完咕咕咕。。。</p><h2 id="todo"><a class="markdownIt-Anchor" href="#todo"></a> TODO</h2><p>没错，我要让她变得跟<code>int</code>/<code>long long</code>/<code>double</code>这些类型一样方便！</p><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>快读快写</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>重载常见运算符</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>高精加法</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>高精减法</p>            </div><div class='checkbox'><input type="checkbox" />            <p>高精乘法</p>            </div><div class='checkbox'><input type="checkbox" />            <p>高精除法（高精/低精）</p>            </div><div class='checkbox'><input type="checkbox" />            <p>高精除法（高精/高精）</p>            </div><div class='checkbox'><input type="checkbox" />            <p>符号运算</p>            </div><div class='checkbox'><input type="checkbox" />            <p>兼容cin/cout、scanf/printf</p>            </div><div class='checkbox'><input type="checkbox" />            <p>布尔运算</p>            </div><div class='checkbox'><input type="checkbox" />            <p>高速（快于）<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\ log(n) )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace"> </span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></p>            </div><div class='checkbox'><input type="checkbox" />            <p>类型转换/兼容</p>            </div><div class='checkbox'><input type="checkbox" />            <p>简易赋值</p>            </div><div class='checkbox'><input type="checkbox" />            <p>支持小数</p>            </div>]]></content>
    
    
    <summary type="html">坑爹玩意，我用PY写不香吗？（咕咕咕）</summary>
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="学习笔记" scheme="https://blog.yaria.top/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
    
    <category term="高精度" scheme="https://blog.yaria.top/tags/%E9%AB%98%E7%B2%BE%E5%BA%A6/"/>
    
  </entry>
  
  <entry>
    <title>工欲善其事,必先利其器————论如何善用VSCode提高写OIの效率</title>
    <link href="https://blog.yaria.top/posts/5d71c71f/"/>
    <id>https://blog.yaria.top/posts/5d71c71f/</id>
    <published>2022-11-19T11:39:27.000Z</published>
    <updated>2022-11-29T01:22:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>（内心OS：好久没写过这种教程了(。・ω・。)）</p><p>众所周知，作为一个权威的认证/比赛<s>Save Money</s>机构，€€￡的官方编辑器是我们熟知的DevC++。</p><p>这个编辑器非常的方便，她不用开项目，不用调配置，不用装编译器，以及她用50+M的安装包就能解决C++开发的优势使得€€￡选择了她。</p><p>实际上呢，<code>DevC++</code>这玩意却是又落后又难用又难看，没有代码补全，用的还是远古的<code>C++98</code>标准。这与CSP/NOIP/NOI中使用的C++14极其不符，并且调试功能没法用会闪退，极大地降低了OIer们的<s>水题冲校榜</s>刷题速度，成为了饱受各位OIer们诟病的一个编辑器。</p><p><s>（实际上你也可以用小熊猫，但是没VSCode好看）</s></p><p>于是想到了大名鼎鼎的万能编辑器-VSCode，她支持几乎所有的编程语言：Arduino、Python、Java、C#、.NET、VB、JS等等，以及各种标记语言：HTML、CSS、YAML、Markdown，这东西真的很nb欸qwq。</p><p>不过VSCode毕竟是编辑器，配置比较困难，当然只要你弄好了，会非常好用。</p><h1 id="配置环境"><a class="markdownIt-Anchor" href="#配置环境"></a> 配置环境</h1><h2 id="装code"><a class="markdownIt-Anchor" href="#装code"></a> 装Code</h2><p>首先安装VSCode，VSCode的安装比较简单，只需要点击<a href="http://vscode.cdn.azure.cn/stable/6261075646f055b99068d3688932416f2346dd3b/VSCodeUserSetup-x64-1.73.1.exe">这个链接</a>（官网的很慢这个是官方CDN），然后一路安装即可（建议选为所有用户安装）</p><p>新版VSCode安装好之后会自动提示装中文语言包，点击即可（我早就装了就没法给图了）</p><p>你也可以在左下角的功能栏改些主题啊什么的，也可以把同步开着。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1237f0016.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1238e20ef.webp" alt="" /></p><h2 id="配置代码环境"><a class="markdownIt-Anchor" href="#配置代码环境"></a> 配置代码环境</h2><p>实际上devcpp里面是可以扒到一个gcc的，但是毕竟是很老的版本，所以建议换成新版。</p><p>点击<a href="https://nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%20targetting%20Win64/Personal%20Builds/mingw-builds/8.1.0/threads-posix/seh/x86_64-8.1.0-release-pos">该链接</a>下载Mingw8.1（新版10.0的安装方案很恶心且没必要用新版）</p><p>因为用的是NCHC台湾节点，所以速度稍慢，建议用IDM。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1239de332.webp" alt="" /></p><p>然后把压缩包解压，随便找个地方扔出去，然后复制这个链接+bin</p><p>e.g.<code>D:\mingw64\bin</code></p><p>PS：用dev内置Mingw的路径是<code>&#123;dev安装路径&#125;\MinGW32(也可能是MinGW64看安装位数)\bin</code></p><p>把她扔到环境变量（如下图里面）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca123bcbf62.webp" alt="（地狱绘图qwq）" /></p><p>然后进入VSCode的插件区安装C/C++扩展</p><p><img src="https://bu.dusays.com/2023/01/20/63ca123ceffb2.webp" alt="" /></p><p>新建一个文件夹</p><p><img src="https://bu.dusays.com/2023/01/20/63ca123e1211d.webp" alt="" /></p><p>这时你就可以自由写代码了！</p><p><img src="https://bu.dusays.com/2023/01/20/63ca123f409e7.webp" alt="" /></p><p>然后为了运行代码，需要安装一个Code runner</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1240643d7.webp" alt="" /></p><p>安装完之后用<code>Ctrl+Shift+P</code>进入面板，打开设置（json），添加：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;code-runner.executorMap&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;c&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; gcc $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;cpp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cd $dir &amp;&amp; g++ -std=c++14 -o2 $fileName -o $fileNameWithoutExt &amp;&amp; $dir$fileNameWithoutExt&quot;</span><span class="punctuation">,</span> <span class="comment">//契合C€€￡官方环境并开启O2优化</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;code-runner.runInTerminal&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;code-runner.ignoreSelection&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span></span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2023/01/20/63ca12418190a.webp" alt="" /></p><p>（注意语法qwq）</p><p>然后单击右上角运行按钮快乐运行吧！</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1242b66c0.webp" alt="" /></p><h1 id="一些美化骚操作"><a class="markdownIt-Anchor" href="#一些美化骚操作"></a> 一些美化&amp;骚操作</h1><p><s>终于更新啦！</s></p><h2 id="两下敲出一个板子"><a class="markdownIt-Anchor" href="#两下敲出一个板子"></a> 两下敲出一个板子</h2><p><img src="https://bu.dusays.com/2023/01/20/63ca1244057e1.webp" alt="" /></p><p>在图中，只要输入一个关键字，就能快速打出快读快写、二分的代码，这无疑可以加快做题的速度，缺点也很明显，就是打久了会产生思维惰性，导致忘记模板。</p><p>这个东西其实是VSCode自带的自定义用户代码块。</p><h3 id="配置"><a class="markdownIt-Anchor" href="#配置"></a> 配置</h3><p>配置也不难，使用 <code>Ctrl+Shift+P</code> 打开快捷面板，输入 <code>User Snippets</code> ，就能看到一个配置项：“代码片段：配置用户代码片段”，回车，然后选择 <code>cpp.json</code> <s>(我不相信2202年了还有P党和C党)</s></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1244d6303.webp" alt="" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1245c5284.webp" alt="" /></p><p>然后打开json来配置，每一个键值对的格式如下：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;base&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> <span class="comment">/*这里填的东西与实际显示的无关，随便写*/</span></span><br><span class="line">        <span class="attr">&quot;prefix&quot;</span><span class="punctuation">:</span> <span class="string">&quot;base&quot;</span><span class="punctuation">,</span> <span class="comment">//触发的关键字base</span></span><br><span class="line">        <span class="attr">&quot;body&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="comment">//代码主片段</span></span><br><span class="line">            <span class="string">&quot;#include &lt;bits/stdc++.h&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;using namespace std;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&quot;</span><span class="punctuation">,</span> <span class="comment">//每一行都要用引号括起来，加上逗号</span></span><br><span class="line">            <span class="string">&quot;int main()&#123;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;    //代码&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;    return 0;&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="string">&quot;&#125;&quot;</span><span class="punctuation">,</span> <span class="comment">//实际上你也可以把代码写成一行，然后把换行ctrl+d改成&quot;\n&quot;</span></span><br><span class="line">            <span class="comment">//e.g: &quot;inline void read(int &amp;n)&#123;\n    int x=0,f=1;\n    char ch=getchar();\n    while(ch&lt;&#x27;0&#x27;||ch&gt;&#x27;9&#x27;)&#123;\n        if(ch==&#x27;-&#x27;) f=-1;\n        ch=getchar();\n    &#125;\n    while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;)&#123;\n        x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48);\n        ch=getchar();\n    &#125;\n    n=x*f;\n&#125;&quot;</span></span><br><span class="line">        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;基本结构&quot;</span><span class="comment">//简单的描述</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="comment">//这里需要加逗号</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>这样就配置好了。</p><h2 id="换背景"><a class="markdownIt-Anchor" href="#换背景"></a> 换背景</h2><p>相信大家都看到了，我的编辑器是有背景的。安装一个插件就可以了。</p><p>插件的原理很简单，因为 VSC 是基于 Electron 的，所以就可以通过修改 <code>css</code> 来更换。</p><p>咕咕咕…</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;（内心OS：好久没写过这种教程了(。・ω・。)）&lt;/p&gt;
&lt;p&gt;众所周知，作为一个权威的认证/比赛&lt;s&gt;Save Money&lt;/s&gt;机构，€€￡的官方编辑器是我们熟知的DevC++。&lt;/p&gt;
&lt;p&gt;这个编辑器非常的方便，她不用开项目，不用调配置，不用装编译器，以及她用50+</summary>
      
    
    
    
    <category term="经验教程" scheme="https://blog.yaria.top/categories/%E7%BB%8F%E9%AA%8C%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
  </entry>
  
  <entry>
    <title>恐怖如斯——论重庆此轮疫情</title>
    <link href="https://blog.yaria.top/posts/a61abc/"/>
    <id>https://blog.yaria.top/posts/a61abc/</id>
    <published>2022-11-14T00:46:26.000Z</published>
    <updated>2022-11-22T08:15:06.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="坑爹疫情"><a class="markdownIt-Anchor" href="#坑爹疫情"></a> 坑爹疫情</h1><p>相信大家都知道，我坐标CQ，对吧。</p><p>自从国庆之后，重庆的疫情反反复复，恍恍惚惚。</p><p>10.16号（国庆节后的第一个周末，没记错的话）出现了零星病例。</p><p>于是我们封了一个周末的校，然而呢后面两周依然正常放假了，结果呢从十月末开始，疫情突然反扑了，突然新增了几十例。</p><p>先是封了一个周末的校，然后当我像往常一样想着坚持一周就回家了，结果上周二，我们网课了。</p><p>于是我爸我妈叫了顺风车赶紧把我从主城拉回来（还好没事）。</p><p>这几天再次打开疫情地图：</p><p>恐怖如斯！！！</p><p><img src="https://bu.dusays.com/2023/01/20/63c9e110e069f.webp" alt="1668387306015.png" /></p><p>（回收封面）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11dc78dbc.webp" alt="1668387279761.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11dd5d257.webp" alt="1668387276722.png" /></p><p>没错，这么离谱，风险区个数1k多！！！</p><p>2022.11.22 3k+风险区，家门口（超市）就是高风险，日感染200±20，无症状5k+</p><p>前天，全市静默管理。</p><p>我爸被关在公司了，就剩我妈我弟和我，当天下午发通知说六点封小区，我们忙乱地直接跑到了小区超市抢菜。</p><p>（结果超市排满了人，没抢到,后面才知道超市每天都开门，因为超市是小区内的所以随便去，出小区每天一人一次）</p><p>2022.11.17 超市已经高风险区封了，后面我们去另一个超市买东西还被垃圾计价器坑了二十块的金针菇，两天一次出小区</p><p>涪陵是重庆偏僻的小山村罢，没想到疫情这么严重！！！</p><p>而且呢，最巧的是，我外公他们住在那边的公租房，然后呢他们那栋有人确诊！！！于是前两天才去给舅妈送大闸蟹的我爸黄了（次密接）还好我爸在公司，居然不去公司给的临时公租房（doge）</p><h1 id="政府防疫"><a class="markdownIt-Anchor" href="#政府防疫"></a> 政府防疫？</h1><p>啥，这政府管都不咋管！！！</p><p>笑死，钢板城，莎坪坝<br />(PS:以下均为重庆话)</p><p>重庆的防疫，莫说啦，撇得很。</p><p>你看嘛，内个政府，天天搞起个场所码，kuo在那个店门口，有人扫嘛？没得！啥子些公共场所都不喊起戴口罩滴，轻轨站公交说是带起还不是想起来说下。渝康码内玩意，废死，做滴也烂，动不动莫名其妙给你**黄啦红啦，结果啊没p事得，那些遭了得管也没管，结果啊一做核酸啊，哦豁，阳啦塞，然后全部筛查啊，哦豁，新增几十例咯。</p><p>你可以去重庆的高速路口看下，平常管都不啷个管，有的时候从老远跑过来的都不管管，有些那种不要脸的，核酸也不做一下，加上重庆市民传统没得不带口罩，到处跑，别个也跑，搞起个风险地区一千多个，别个上海武汉遭的那阵也没那个离谱啊，而且做个核酸内个长的队你看他保持一米线个锤子，张开嘴巴那一下全传起了。</p><p>我只能说重庆内回多半要成为第三轮疫情。你看嘛，一个人外地跑起来永川又上主城，然后啊跑起去波司登还跳莎莎舞，遭咯。</p><p>阔以说恶劣至极。</p><p>再来几个关键病例也是爆炸级的。</p><p>PS：最早沦陷的是沙坪坝，然后巴南、九龙坡、北碚、南岸、渝北都遭了，一些区县:秀山、大足、垫江、铜梁、奉节也有点恼火。</p><p>好了，顺便吐槽一下CRT（指重庆轨道交通集团），这么严重就别运行了，大家都不敢坐而且坐了容易传播，你看那十号线三号线二号线一号线都要封完了，就别跑了，运量二十年最低（国博线真拉椅子？），费电费钱、碳排放高死。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11dedfc1f.webp" alt="1668389504344.png" /></p><p>（全是红的）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11dfe711e.webp" alt="1668389522423.png" /></p><p>(四号线历史突破超过二号线追平五号线，JT停运，6号光电园依旧yyds)</p><p>2022.11.22只有2w了，甚至国博线得百分位保命</p><p>这疫情，无语。</p>]]></content>
    
    
    <summary type="html">人都要封麻了</summary>
    
    
    
    <category term="社会" scheme="https://blog.yaria.top/categories/%E7%A4%BE%E4%BC%9A/"/>
    
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
    <category term="社会" scheme="https://blog.yaria.top/tags/%E7%A4%BE%E4%BC%9A/"/>
    
  </entry>
  
  <entry>
    <title>OI-C++中常用的一些STL函数和板子（持续更新）</title>
    <link href="https://blog.yaria.top/posts/4ebac27c/"/>
    <id>https://blog.yaria.top/posts/4ebac27c/</id>
    <published>2022-11-11T00:26:10.000Z</published>
    <updated>2022-11-21T00:46:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>（仅作个人备忘）</p><p>其实很早就想着更了，但是因为前段时间封校导致没法更新，现在趁着上网课就更新吧。</p><div class="note info simple"><p>PS:<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext> </mtext><mtext mathvariant="bold">KaTeX</mtext></mrow><annotation encoding="application/x-tex">\textbf{ \KaTeX}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.90161em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textbf"> </span><span class="mord text"><span class="mord textrm textbf">K</span><span class="mspace" style="margin-right:-0.17em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.685276em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord"><span class="mord textrm textbf mtight sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm textbf">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.47061em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord textrm textbf">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm textbf">X</span></span></span></span></span></span></span>终于弄好了！！！</p></div><h1 id="基本结构"><a class="markdownIt-Anchor" href="#基本结构"></a> 基本结构</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//代码</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="排序"><a class="markdownIt-Anchor" href="#排序"></a> 排序</h1><h2 id="stlsort"><a class="markdownIt-Anchor" href="#stlsort"></a> STLsort</h2><p>最香的当然是STL sort，采用快排堆排插排混合，时间复杂度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n log_{n} )</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(arr,arr+n,cmp);</span><br><span class="line"><span class="comment">//其中cmp可以不加，默认从小到大</span></span><br></pre></td></tr></table></figure><p>至于cmp的写法,只需要写两项的比较规则，比如从小到大写成:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&lt;b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从大到小：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a&gt;b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>利用cmp就能实现sort的结构体排序和题目的特殊要求，举个例子：</p><details class="toggle" ><summary class="toggle-button" style="">例子</summary><div class="toggle-content"><h3 id="fzqoj84-近似排序"><a class="markdownIt-Anchor" href="#fzqoj84-近似排序"></a> FZQOJ#84. 近似排序</h3><p>读入正整数x和y，将这两个数之间（包括这两个数本身）的所有数按下述特别规则排序后输出。</p><p>该特别规则是：按两数倒过来的值进行比较决定其大小，如30倒过来为3,29倒过来为92，则29大于30</p><p><strong>【输入】</strong><br />一行两个整数x和y，用一个空格隔开，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mo>≤</mo><mi>x</mi><mo>≤</mo><mi>y</mi><mo>≤</mo><mn>1000000000</mn></mrow><annotation encoding="application/x-tex">1\le x\le y\le 1000000000</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78041em;vertical-align:-0.13597em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>−</mo><mi>x</mi><mo>≤</mo><mn>100</mn></mrow><annotation encoding="application/x-tex">y-x\le 100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span></p><p><strong>【输出】</strong><br />包括<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>−</mo><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y-x+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7777700000000001em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>行，每行一个正整数，按两数倒过来的值进行比较决定其大小，然后由小到大输出</p><p><strong>【样例】</strong><br />样例输入1</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">22 39</span><br></pre></td></tr></table></figure><p>样例输出1</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">30</span><br><span class="line">31</span><br><span class="line">22</span><br><span class="line">32</span><br><span class="line">23</span><br><span class="line">33</span><br><span class="line">24</span><br><span class="line">34</span><br><span class="line">25</span><br><span class="line">35</span><br><span class="line">26</span><br><span class="line">36</span><br><span class="line">27</span><br><span class="line">37</span><br><span class="line">28</span><br><span class="line">38</span><br><span class="line">29</span><br><span class="line">39</span><br></pre></td></tr></table></figure><p>使用sort：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(a!=<span class="number">0</span>)</span><br><span class="line">    &#123; </span><br><span class="line">        a2*=<span class="number">10</span>;</span><br><span class="line">        a2+=a%<span class="number">10</span>;</span><br><span class="line">        a/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> b2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b!=<span class="number">0</span>)</span><br><span class="line">    &#123; </span><br><span class="line">        b2*=<span class="number">10</span>;</span><br><span class="line">        b2+=b%<span class="number">10</span>;</span><br><span class="line">        b/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a2&lt;b2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y,l[<span class="number">114</span>];</span><br><span class="line">    cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="type">int</span> n=y-x<span class="number">+1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        l[i]=i+x<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">sort</span>(l<span class="number">+1</span>,l+n<span class="number">+1</span>,cmp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cout&lt;&lt;l[i]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>冒泡：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">cmp</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(a!=<span class="number">0</span>)</span><br><span class="line">    &#123; </span><br><span class="line">        a2*=<span class="number">10</span>;</span><br><span class="line">        a2+=a%<span class="number">10</span>;</span><br><span class="line">        a/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> b2=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(b!=<span class="number">0</span>)</span><br><span class="line">    &#123; </span><br><span class="line">        b2*=<span class="number">10</span>;</span><br><span class="line">        b2+=b%<span class="number">10</span>;</span><br><span class="line">        b/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a2&lt;b2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y,l[<span class="number">114</span>];</span><br><span class="line">    cin&gt;&gt;x&gt;&gt;y;</span><br><span class="line">    <span class="type">int</span> n=y-x<span class="number">+1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        l[i]=i+x<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;=n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">cmp</span>(l[j],l[j<span class="number">-1</span>]))&#123;</span><br><span class="line">                <span class="type">int</span> tmp=l[j];</span><br><span class="line">                l[j]=l[j<span class="number">-1</span>];</span><br><span class="line">                l[j<span class="number">-1</span>]=tmp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cout&lt;&lt;l[i]&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>都是AC代码，但是显然前者速度更快且更简单，可以节省你在比赛时的时间以及突然忘记模板的风险。</p></div></details><h2 id="选择排序"><a class="markdownIt-Anchor" href="#选择排序"></a> 选择排序</h2><p>时间复杂度：固定时间复杂度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，不稳定</p><p>我使用的是打擂台一个一个找放到第二个数组中，这样子可以简单一点，当然空间复杂度双倍快乐</p><p>实测选排比冒泡快，因为冒泡要交换</p><p>从大到小：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">114514</span>],arr2[<span class="number">191981</span>],n,max,maxi,k=<span class="number">1</span>;</span><br><span class="line"><span class="comment">//freopen(&quot;random.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//freopen(&quot;random.out&quot;,&quot;w&quot;,stdout); </span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//n为数组长度</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    max=<span class="number">0x7FFFFFFF</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j]&gt;max)&#123;</span><br><span class="line">            max=arr[j];</span><br><span class="line">            maxi=j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    arr[maxi]=<span class="number">0x7FFFFFFF</span>;</span><br><span class="line">    arr2[k]=max;</span><br><span class="line">    k++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,arr2[i]);</span><br><span class="line">&#125; <span class="comment">//输出</span></span><br></pre></td></tr></table></figure><p>从小到大：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">114514</span>],arr2[<span class="number">191981</span>],n,min,mini,k=<span class="number">1</span>;</span><br><span class="line"><span class="comment">//freopen(&quot;random.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//freopen(&quot;random.out&quot;,&quot;w&quot;,stdout); </span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//n为数组长度</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    min=<span class="number">0x7FFFFFFF</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j]&lt;min)&#123;</span><br><span class="line">            min=arr[j];</span><br><span class="line">            mini=j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    arr[mini]=<span class="number">0x7FFFFFFF</span>;</span><br><span class="line">    arr2[k]=min;</span><br><span class="line">    k++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,arr2[i]);</span><br><span class="line">&#125; <span class="comment">//输出</span></span><br></pre></td></tr></table></figure><h2 id="冒泡排序"><a class="markdownIt-Anchor" href="#冒泡排序"></a> 冒泡排序</h2><p>时间复杂度：固定<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，具有稳定性。</p><p>一个板子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">114514</span>],n;</span><br><span class="line"><span class="comment">//freopen(&quot;random.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//freopen(&quot;random.out&quot;,&quot;w&quot;,stdout); </span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">2</span>;j&lt;=n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[j]&gt;arr[j<span class="number">-1</span>])&#123; <span class="comment">//从小到大则把符号改为&lt;</span></span><br><span class="line">            <span class="type">int</span> tmp=arr[j];</span><br><span class="line">            arr[j]=arr[j<span class="number">-1</span>];</span><br><span class="line">            arr[j<span class="number">-1</span>]=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,arr[i]);</span><br><span class="line">&#125; <span class="comment">//输出</span></span><br></pre></td></tr></table></figure><h2 id="桶排序"><a class="markdownIt-Anchor" href="#桶排序"></a> 桶排序</h2><p>较为简单，不稳定，时间复杂度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>，空间复杂度较高，不适用于结构体和小数。</p><div class="note info flat"><p>PS：这个桶排序指标记桶，并不是说分治的那个桶排序</p><p>2022.11.16更新</p><p>发现标记范围bug，已修正，然而本地能过（试过n=10000的数据规模也没有tle）但是过不了板子题qwq</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1347cebf3.webp" alt="1668570918842.png" /></p></div><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">114514</span>],bucket[<span class="number">114514</span>],arr2[<span class="number">114514</span>],n,k=<span class="number">1</span>;</span><br><span class="line"><span class="comment">//freopen(&quot;random.in&quot;,&quot;r&quot;,stdin);</span></span><br><span class="line"><span class="comment">//freopen(&quot;random.out&quot;,&quot;w&quot;,stdout); </span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//arr指待排序数组，n为长度</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">114514</span>;i++)&#123;</span><br><span class="line">    bucket[i]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    bucket[arr[i]]++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">114514</span>;i++)&#123; <span class="comment">//从大到小改为for(int i=114513;i&gt;=0;i--)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">1</span>;j&lt;=bucket[i];j++)&#123;</span><br><span class="line">        arr2[k]=i; <span class="comment">//也可以直接输出，写成：cout&lt;&lt;i&lt;&lt;&quot; &quot;;</span></span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    cout&lt;&lt;arr2[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">&#125; <span class="comment">//输出</span></span><br></pre></td></tr></table></figure><p>就是在有序数组中做标记，和稳定完全搭不上边耶欸欸欸。</p><h1 id="简单数论"><a class="markdownIt-Anchor" href="#简单数论"></a> 简单数论</h1><h2 id="斐波那契数列"><a class="markdownIt-Anchor" href="#斐波那契数列"></a> 斐波那契数列</h2><p>求第<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>项</p><h3 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n,l[<span class="number">114</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>&#125;;</span><br><span class="line">cin&gt;&gt;n;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">    l[i]=l[i<span class="number">-1</span>]+l[i<span class="number">-2</span>];</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;l[n];</span><br></pre></td></tr></table></figure><h3 id="递归"><a class="markdownIt-Anchor" href="#递归"></a> 递归</h3><p>PS：时间复杂度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>，不建议使用</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">fibnacci</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(n == <span class="number">1</span> || n == <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">f1</span>(n<span class="number">-1</span>) + <span class="built_in">f1</span>(n<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="递推空间复杂度o1"><a class="markdownIt-Anchor" href="#递推空间复杂度o1"></a> 递推（空间复杂度<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span>）</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> k,n=<span class="number">1</span>,a=<span class="number">1</span>,b=<span class="number">1</span>;</span><br><span class="line">cin&gt;&gt;k;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">3</span>;i&lt;=k;i++)&#123;</span><br><span class="line">    n=a+b;</span><br><span class="line">    a=b;</span><br><span class="line">    b=n;</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;n;</span><br></pre></td></tr></table></figure><h2 id="质数"><a class="markdownIt-Anchor" href="#质数"></a> 质数</h2><p>咕咕咕。。。</p><h2 id="拆数"><a class="markdownIt-Anchor" href="#拆数"></a> 拆数</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a=n,l=<span class="number">1</span>,arr[<span class="number">114</span>];</span><br><span class="line"><span class="keyword">while</span>(a!=<span class="number">0</span>)&#123;</span><br><span class="line">    arr[l]=a%<span class="number">10</span>;</span><br><span class="line">    a/=<span class="number">10</span>;</span><br><span class="line">    l++;</span><br><span class="line">&#125;</span><br><span class="line">l--;</span><br></pre></td></tr></table></figure><h1 id="快读快写"><a class="markdownIt-Anchor" href="#快读快写"></a> 快读快写</h1><p>这些在一堆数据动不动就TLE的题中很好用，比scanf,printf，cin,cout快</p><p>快读板子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">read</span><span class="params">(<span class="type">int</span> &amp;n)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> x=<span class="number">0</span>,f=<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span> ch=<span class="built_in">getchar</span>();</span><br><span class="line">    <span class="keyword">while</span>(ch&lt;<span class="string">&#x27;0&#x27;</span>||ch&gt;<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ch==<span class="string">&#x27;-&#x27;</span>) f=<span class="number">-1</span>;</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(ch&gt;=<span class="string">&#x27;0&#x27;</span>&amp;&amp;ch&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">        x=(x&lt;&lt;<span class="number">1</span>)+(x&lt;&lt;<span class="number">3</span>)+(ch^<span class="number">48</span>);</span><br><span class="line">        ch=<span class="built_in">getchar</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    n=x*f;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>快写板子：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">print</span><span class="params">(<span class="type">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        n*=<span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&gt;<span class="number">9</span>) <span class="built_in">print</span>(n/<span class="number">10</span>);</span><br><span class="line">    <span class="built_in">putchar</span>(n % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>原理就是getchar，然后int和char互转</p><p>当然如果要用lld或者int128的话改一下也行的啦</p><h1 id="求最大公约数"><a class="markdownIt-Anchor" href="#求最大公约数"></a> 求最大公约数</h1><h2 id="穷举"><a class="markdownIt-Anchor" href="#穷举"></a> 穷举</h2><p>穷举么？雀食可以，不过</p><h1 id="搜索"><a class="markdownIt-Anchor" href="#搜索"></a> 搜索</h1><p>搜索虽然我背得模板但是用的不太熟悉qwq，依然是穷举贪心tle，然后助我退役</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1348b4f14.webp" alt="1668133472932.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1349903e3.webp" alt="1668133599340.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca134a82693.webp" alt="1668133671028.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca134b7560a.webp" alt="1668133741932.png" /></p><p>笑死。</p><h2 id="二分"><a class="markdownIt-Anchor" href="#二分"></a> 二分</h2><p>姑且也算搜索放进来吧。</p><p>原理就是根据大小不断分段。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">binarySearch</span><span class="params">(<span class="type">int</span> arr[],<span class="type">int</span> p,<span class="type">int</span> q,<span class="type">int</span> t)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> mid=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(p&gt;q) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    mid=p+(q-p)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span>(t==arr[mid]) &#123;</span><br><span class="line">        <span class="keyword">return</span> mid;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(t&lt;arr[mid]) &#123; <span class="comment">//降序改为&gt;</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">binarySearch</span>(arr,p,mid<span class="number">-1</span>,t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">binarySearch</span>(arr,mid<span class="number">+1</span>,q,t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dfs"><a class="markdownIt-Anchor" href="#dfs"></a> DFS</h2><p>DFS比BFS貌似好理解点，因为是递归，一个费stack一个费queue</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(满足返回条件)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> 解;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;=尝试方法数;i++)</span><br><span class="line">            <span class="keyword">if</span>(满足进一步搜索条件)</span><br><span class="line">            &#123;</span><br><span class="line">                为进一步搜索所需要的状态打上标记;</span><br><span class="line">                <span class="built_in">dfs</span>(t<span class="number">+1</span>);</span><br><span class="line">                回溯一步;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="bfs"><a class="markdownIt-Anchor" href="#bfs"></a> BFS</h2><p>这个真不会算了…</p><h1 id="dp"><a class="markdownIt-Anchor" href="#dp"></a> DP</h1><p>no，我不会ヾ(´･ ･｀｡)ノ&quot;</p><h1 id="数据结构"><a class="markdownIt-Anchor" href="#数据结构"></a> 数据结构</h1><h2 id="链表"><a class="markdownIt-Anchor" href="#链表"></a> 链表</h2><p>明天再写未完待续…</p><p><em>(PS：这篇文章充分体现了我OI的垃圾)</em><br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、<br />、</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;（仅作个人备忘）&lt;/p&gt;
&lt;p&gt;其实很早就想着更了，但是因为前段时间封校导致没法更新，现在趁着上网课就更新吧。&lt;/p&gt;
&lt;div class=&quot;note info simple&quot;&gt;&lt;p&gt;PS:&lt;span class=&quot;katex&quot;&gt;&lt;span class=&quot;katex-ma</summary>
      
    
    
    
    <category term="OI" scheme="https://blog.yaria.top/categories/OI/"/>
    
    
    <category term="OI" scheme="https://blog.yaria.top/tags/OI/"/>
    
    <category term="算法" scheme="https://blog.yaria.top/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="C++" scheme="https://blog.yaria.top/tags/C/"/>
    
  </entry>
  
  <entry>
    <title>博客正式独立主题啦！</title>
    <link href="https://blog.yaria.top/posts/a1078b2d/"/>
    <id>https://blog.yaria.top/posts/a1078b2d/</id>
    <published>2022-10-22T05:10:25.000Z</published>
    <updated>2022-10-29T01:02:52.000Z</updated>
    
    <content type="html"><![CDATA[<p>经过了深思熟虑，觉得博客应该独立一个主题出来了（毕竟大家都这么干），那么这个主题就不是butterfly了，她有了新的名字————</p><h1 id="acryple"><a class="markdownIt-Anchor" href="#acryple"></a> Acryple！</h1><p>欸？这个名字是不是挺奇怪啊，啥也不是对吧（）。</p><p>其实这个名字是个糅合的，因为我博客为了考虑性能原因加了个Simple主题，原来那个亚克力拉满风扇起飞的主题就叫Acrylic啦！（然而Simple还是卡）然后拼一拼就是这个名字了。</p><p>是时候改改更新日志，效果图待会传</p><p>GitHub已开源，链接：</p><a class="tag-Link" target="_blank" href="https://github.com/LYXOfficial/Hexo-theme-Acryple">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/LYXOfficial/Hexo-theme-Acryple.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo-theme-Acryple</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>恭喜你水文成功，经验+3，告辞（雾）</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;经过了深思熟虑，觉得博客应该独立一个主题出来了（毕竟大家都这么干），那么这个主题就不是butterfly了，她有了新的名字————&lt;/p&gt;
&lt;h1 id=&quot;acryple&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#acryple&quot;&gt;&lt;/a&gt; </summary>
      
    
    
    
    <category term="随笔" scheme="https://blog.yaria.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>博客魔改日记（1）</title>
    <link href="https://blog.yaria.top/posts/ac792cf4/"/>
    <id>https://blog.yaria.top/posts/ac792cf4/</id>
    <published>2022-10-05T09:35:57.000Z</published>
    <updated>2022-10-14T12:56:55.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>因为开学了嘛，学习任务比较重，所以以后的魔改都写成日记，大家自己根据实际情况修改，不做可用性保证。</p><p>( ´･･)ﾉ(._.`)</p><p>最近大家都看到我博客变了好多，我就把东西分享出来</p><h1 id="彩色友链"><a class="markdownIt-Anchor" href="#彩色友链"></a> 彩色友链</h1><p>相信大家都看到了，我的友链界面是彩色的，实现也不难</p><p><img src="https://bu.dusays.com/2023/01/20/63ca130c31d48.webp" alt="1664962851812.png" /></p><h2 id="把友链改成外挂标签形式"><a class="markdownIt-Anchor" href="#把友链改成外挂标签形式"></a> 把友链改成外挂标签形式</h2><p>只需要复制原来的友链yml，然后删除，新建一个与之前同名的page，然后编辑：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">flink</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="comment"># 这里粘贴友链yml</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endflink</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><p>重新渲染即可生效。</p><h2 id="修改外挂标签js"><a class="markdownIt-Anchor" href="#修改外挂标签js"></a> 修改外挂标签js</h2><p>修改<code>[blogRoot]\themes\butterfly\scripts\tag\flink.js</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * flink</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> urlFor = <span class="built_in">require</span>(<span class="string">&#x27;hexo-util&#x27;</span>).<span class="property">url_for</span>.<span class="title function_">bind</span>(hexo)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">flinkFn</span> = (<span class="params">args, content</span>) =&gt; &#123;</span><br><span class="line">  content = hexo.<span class="property">render</span>.<span class="title function_">renderSync</span>(&#123; <span class="attr">text</span>: content, <span class="attr">engine</span>: <span class="string">&#x27;yaml&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">  content.<span class="title function_">forEach</span>(<span class="function"><span class="params">i</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> className = i.<span class="property">class_name</span> ? <span class="string">`&lt;div class=&quot;flink-name&quot;&gt;<span class="subst">$&#123;i.class_name&#125;</span>&lt;/div&gt;`</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> classDesc = i.<span class="property">class_desc</span> ? <span class="string">`&lt;div class=&quot;flink-desc&quot;&gt;<span class="subst">$&#123;i.class_desc&#125;</span>&lt;/div&gt;`</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> listResult = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">    i.<span class="property">link_list</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">j</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(j.<span class="property">theme_color</span>==<span class="literal">undefined</span>)&#123;</span><br><span class="line">        j.<span class="property">theme_color</span>=<span class="string">&quot;#383838&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">      listResult += <span class="string">`</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;flink-list-item&quot; style=&quot;background-color:<span class="subst">$&#123;j.theme_color&#125;</span>&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;a href=&quot;<span class="subst">$&#123;j.link&#125;</span>&quot; title=&quot;<span class="subst">$&#123;j.name&#125;</span>&quot; target=&quot;_blank&quot;&gt;</span></span><br><span class="line"><span class="string">              &lt;div class=&quot;flink-item-icon&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;img class=&quot;no-lightbox&quot; src=&quot;<span class="subst">$&#123;j.avatar&#125;</span>&quot; onerror=&#x27;this.onerror=null;this.src=&quot;<span class="subst">$&#123;urlFor(hexo.theme.config.error_img.flink)&#125;</span>&quot;&#x27; alt=&quot;<span class="subst">$&#123;j.name&#125;</span>&quot; /&gt;</span></span><br><span class="line"><span class="string">              &lt;/div&gt;</span></span><br><span class="line"><span class="string">              &lt;div class=&quot;flink-item-name&quot;&gt;<span class="subst">$&#123;j.name&#125;</span>&lt;/div&gt; </span></span><br><span class="line"><span class="string">              &lt;div class=&quot;flink-item-desc&quot; title=&quot;<span class="subst">$&#123;j.descr&#125;</span>&quot;&gt;<span class="subst">$&#123;j.descr&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;/a&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;`</span></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    result += <span class="string">`<span class="subst">$&#123;className&#125;</span><span class="subst">$&#123;classDesc&#125;</span> &lt;div class=&quot;flink-list&quot;&gt;<span class="subst">$&#123;listResult&#125;</span>&lt;/div&gt;`</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;div class=&quot;flink&quot;&gt;<span class="subst">$&#123;result&#125;</span>&lt;/div&gt;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">tag</span>.<span class="title function_">register</span>(<span class="string">&#x27;flink&#x27;</span>, flinkFn, &#123; <span class="attr">ends</span>: <span class="literal">true</span> &#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="修改css"><a class="markdownIt-Anchor" href="#修改css"></a> 修改css</h2><p>添加一些css，让友链变得更好看：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#article-container</span> <span class="selector-class">.flink</span> <span class="selector-class">.flink-list</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.flink-item-name</span>, <span class="selector-class">.flink-item-desc</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: white<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后你还需要在友链yml后面添加theme_color（一定要用引号包起来不然报错），重新渲染就完成了。</p><h1 id="鼠标指针"><a class="markdownIt-Anchor" href="#鼠标指针"></a> 鼠标指针</h1><p>有人问我鼠标指针怎么做的，其实是参考网上的教程做的，原文见：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca130d4d31d.webp" alt="v2-4006ee14f6461efd1819082187b0113c_b.gif" /></p><a class="tag-Link" target="_blank" href="https://zhuanlan.zhihu.com/p/351951477">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/zhuanlan.zhihu.com/p/351951477.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">用原生JS写一款乖巧的鼠标指针特效</div>            <div class="tag-link-sitename">知乎</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这篇文章对于鼠标指针进行了详细的讲解（看不懂qwq），所以我就精简一下发出来吧：</p><h2 id="正式教程"><a class="markdownIt-Anchor" href="#正式教程"></a> 正式教程</h2><p>新建js文件，编写：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">CURSOR</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Math</span>.<span class="property">lerp</span> = <span class="function">(<span class="params">a, b, n</span>) =&gt;</span> (<span class="number">1</span> - n) * a + n * b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getStyle</span> = (<span class="params">el, attr</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="property">getComputedStyle</span></span><br><span class="line">            ? <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(el)[attr]</span><br><span class="line">            : el.<span class="property">currentStyle</span>[attr];</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cursor</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pos</span> = &#123;<span class="attr">curr</span>: <span class="literal">null</span>, <span class="attr">prev</span>: <span class="literal">null</span>&#125;;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pt</span> = [];</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">create</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">move</span>(<span class="params">left, top</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">style</span>[<span class="string">&quot;left&quot;</span>] = <span class="string">`<span class="subst">$&#123;left&#125;</span>px`</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">style</span>[<span class="string">&quot;top&quot;</span>] = <span class="string">`<span class="subst">$&#123;top&#125;</span>px`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">create</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">cursor</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cursor</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">id</span> = <span class="string">&quot;cursor&quot;</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(<span class="variable language_">this</span>.<span class="property">cursor</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> el = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; el.<span class="property">length</span>; i++)</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">getStyle</span>(el[i], <span class="string">&quot;cursor&quot;</span>) == <span class="string">&quot;pointer&quot;</span>)</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">pt</span>.<span class="title function_">push</span>(el[i].<span class="property">outerHTML</span>);</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>((<span class="variable language_">this</span>.<span class="property">scr</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>)));</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scr</span>.<span class="property">innerHTML</span> = <span class="string">`* &#123;cursor: url(&quot;data:image/svg+xml,&lt;svg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 8 8&#x27; width=&#x27;8px&#x27; height=&#x27;8px&#x27;&gt;&lt;circle cx=&#x27;4&#x27; cy=&#x27;4&#x27; r=&#x27;4&#x27; opacity=&#x27;.5&#x27;/&gt;&lt;/svg&gt;&quot;) 4 4, auto&#125;`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">refresh</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">scr</span>.<span class="title function_">remove</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hover&quot;</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pos</span> = &#123;<span class="attr">curr</span>: <span class="literal">null</span>, <span class="attr">prev</span>: <span class="literal">null</span>&#125;;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">pt</span> = [];</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">create</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmouseover</span>  = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">pt</span>.<span class="title function_">includes</span>(e.<span class="property">target</span>.<span class="property">outerHTML</span>) &amp;&amp; <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hover&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmouseout</span>   = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">pt</span>.<span class="title function_">includes</span>(e.<span class="property">target</span>.<span class="property">outerHTML</span>) &amp;&amp; <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hover&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmousemove</span>  = <span class="function"><span class="params">e</span> =&gt;</span> &#123;(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span> == <span class="literal">null</span>) &amp;&amp; <span class="variable language_">this</span>.<span class="title function_">move</span>(e.<span class="property">clientX</span> - <span class="number">8</span>, e.<span class="property">clientY</span> - <span class="number">8</span>); <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span> = &#123;<span class="attr">x</span>: e.<span class="property">clientX</span> - <span class="number">8</span>, <span class="attr">y</span>: e.<span class="property">clientY</span> - <span class="number">8</span>&#125;; <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hidden&quot;</span>);&#125;;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmouseenter</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmouseleave</span> = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;hidden&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmousedown</span>  = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">onmouseup</span>    = <span class="function"><span class="params">e</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cursor</span>.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">x</span> = <span class="title class_">Math</span>.<span class="title function_">lerp</span>(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span>.<span class="property">x</span>, <span class="number">0.15</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">y</span> = <span class="title class_">Math</span>.<span class="title function_">lerp</span>(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span>.<span class="property">y</span>, <span class="number">0.15</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">move</span>(<span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span>.<span class="property">y</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">prev</span> = <span class="variable language_">this</span>.<span class="property">pos</span>.<span class="property">curr</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">render</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable constant_">CURSOR</span> = <span class="keyword">new</span> <span class="title class_">Cursor</span>();</span><br><span class="line">    <span class="comment">// 需要重新获取列表时，使用 CURSOR.refresh()</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>然后新建css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#cursor</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.25</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">10086</span>;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.2s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition-property</span>: background, opacity, transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#cursor</span><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#cursor</span><span class="selector-class">.hover</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.1</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#cursor</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>建议去支持一下原作者哦~</p><h1 id="博客设置"><a class="markdownIt-Anchor" href="#博客设置"></a> 博客设置</h1><p><img src="https://bu.dusays.com/2023/01/20/63ca130e8cce6.webp" alt="1665754393707.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca130fe3b0d.webp" alt="1665754392693.png" /></p><p>这是个大东西，基于Leonus的版本制作。很多朋友们都在问，是时候把终极屎山发出来了。</p><a class="tag-Link" target="_blank" href="https://blog.leonus.cn/2022/bg2.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.leonus.cn/2022/bg2.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">切换博客背景2.0版本——弹窗切换</div>            <div class="tag-link-sitename">Leonus</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这个设置支持保存字体、主题、主题色、侧边栏隐藏、模糊效果修改等等功能，不过图片设置真的卡qwq。</p><p>自定义纯色还没写好，有空写好了把这个改改。</p><h2 id="修改指导"><a class="markdownIt-Anchor" href="#修改指导"></a> 修改指导</h2><p>主题色功能实现非常奇葩：大概就是定义几个标准色比如<code>lyx-blue</code>,<code>lyx-pink</code>，然后本地存储里面存的是blue,pink啥的，然后用字符串链接拼成<code>:root&#123;--lyx-theme:var(--lyx-pink)&#125;</code>，至于主题色就一个一个替换呗。</p><span>然后字体设置需要你定义好font-face，然后修改js的列表内容(不多说自己动手丰衣足食[doge])<span><p>至于主题切换嘛，我有一个acrylic和simple主题，acrylic主题是<code>styles.css</code>，simple主题是<code>stylesimple.css</code>，应用simple主题是在acrylic的基础上面加的css，自己根据情况修改吧。</p><h2 id="代码"><a class="markdownIt-Anchor" href="#代码"></a> 代码</h2><p>然后就可以放出代码了：</p><p>js部分：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;blur&quot;</span>)==<span class="string">&quot;false&quot;</span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> blur=<span class="number">0</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> blur=<span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;yjjs&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> yjjs=<span class="number">1</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> yjjs=<span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!blur)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">`</span></span><br><span class="line"><span class="string">    *&#123;</span></span><br><span class="line"><span class="string">        -webkit-backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        -webkit-filter: none!important;</span></span><br><span class="line"><span class="string">        filter: none!important;</span></span><br><span class="line"><span class="string">    &#125;`</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setBlur</span>(<span class="params"></span>)&#123;</span><br><span class="line">    blur=!blur;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;blur&quot;</span>,blur);</span><br><span class="line">    <span class="keyword">if</span>(!blur)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">`</span></span><br><span class="line"><span class="string">    *&#123;</span></span><br><span class="line"><span class="string">        -webkit-backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        backdrop-filter: none!important;</span></span><br><span class="line"><span class="string">        -webkit-filter: none!important;</span></span><br><span class="line"><span class="string">        filter: none!important;</span></span><br><span class="line"><span class="string">    &#125;`</span>&#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;settingStyle&quot;</span>).<span class="property">innerText</span>=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// if(yjjs)&#123;</span></span><br><span class="line"><span class="comment">//     document.getElementById(&quot;yjjs&quot;).innerText=`</span></span><br><span class="line"><span class="comment">//     *:not(#web_bg)&#123;</span></span><br><span class="line"><span class="comment">//         transform:translateZ(0);</span></span><br><span class="line"><span class="comment">//         backface-visibility: hidden</span></span><br><span class="line"><span class="comment">//     &#125;`&#125;</span></span><br><span class="line"><span class="comment">//     else&#123;</span></span><br><span class="line"><span class="comment">//         document.getElementById(&quot;yjjs&quot;).innerText=``</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">yjjs1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    yjjs=!yjjs;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;yjjs&quot;</span>,yjjs)</span><br><span class="line">    <span class="comment">// if(yjjs)&#123;</span></span><br><span class="line">    <span class="comment">// document.getElementById(&quot;yjjs&quot;).innerText=`</span></span><br><span class="line">    <span class="comment">// *:not(#web_bg)&#123;</span></span><br><span class="line">    <span class="comment">//     transform:translateZ(0);</span></span><br><span class="line">    <span class="comment">//     backface-visibility: hidden</span></span><br><span class="line">    <span class="comment">// &#125;`&#125;</span></span><br><span class="line">    <span class="comment">// else&#123;</span></span><br><span class="line">    <span class="comment">//     document.getElementById(&quot;yjjs&quot;).innerText=``</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;theme&quot;</span>)==<span class="string">&quot;acrylic&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">switchTheme=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>==<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">protocol</span>+<span class="string">&quot;//&quot;</span>+<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">host</span>+<span class="string">&quot;/css/stylessimple.css&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>=<span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;theme&quot;</span>,<span class="string">&quot;acrylic&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;css&quot;</span>).<span class="property">href</span>=<span class="string">&quot;/css/stylessimple.css&quot;</span></span><br><span class="line">        <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;theme&quot;</span>,<span class="string">&quot;simple&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">setColor=<span class="keyword">function</span>(<span class="params">c</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;themeColor&quot;</span>).<span class="property">innerText</span>=<span class="string">`:root&#123;--lyx-theme:var(--lyx-<span class="subst">$&#123;c&#125;</span>)!important&#125;`</span>;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;themeColor&quot;</span>,c);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;themeColor&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;themeColor&quot;</span>,<span class="string">&quot;pink&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">setColor</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;themeColor&quot;</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;hideRightside&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;#rightside&quot;</span>).<span class="title function_">toggle</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toggleRightside</span>(<span class="params"></span>)&#123;</span><br><span class="line">    $(<span class="string">&quot;#rightside&quot;</span>).<span class="title function_">toggle</span>();</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;hideRightside&quot;</span>,<span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Number</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>))-<span class="number">1</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;font&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;font&quot;</span>,<span class="string">&quot;HYTMR&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">setFont</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;font&quot;</span>))</span><br><span class="line"><span class="comment">// 存数据</span></span><br><span class="line"><span class="comment">// name：命名 data：数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params">name, data</span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(name, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="string">&#x27;time&#x27;</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(), <span class="string">&#x27;data&#x27;</span>: data &#125;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 取数据</span></span><br><span class="line"><span class="comment">// name：命名 time：过期时长,单位分钟,如传入30,即加载数据时如果超出30分钟返回0,否则返回数据</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadData</span>(<span class="params">name, time</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> d = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(name));</span><br><span class="line">    <span class="comment">// 过期或有错误返回 0 否则返回数据</span></span><br><span class="line">    <span class="keyword">if</span> (d) &#123;</span><br><span class="line">        <span class="keyword">let</span> t = <span class="title class_">Date</span>.<span class="title function_">now</span>() - d.<span class="property">time</span></span><br><span class="line">        <span class="keyword">if</span> (t &lt; (time * <span class="number">60</span> * <span class="number">1000</span>) &amp;&amp; t &gt; -<span class="number">1</span>) <span class="keyword">return</span> d.<span class="property">data</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面两个函数如果你有其他需要存取数据的功能，也可以直接使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 读取背景</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> data = <span class="title function_">loadData</span>(<span class="string">&#x27;blogbg&#x27;</span>, <span class="number">1440</span>)</span><br><span class="line">    <span class="keyword">if</span> (data) <span class="title function_">changeBg</span>(data, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">else</span> <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (error) &#123; <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;blogbg&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换背景函数</span></span><br><span class="line"><span class="comment">// 此处的flag是为了每次读取时都重新存储一次,导致过期时间不稳定</span></span><br><span class="line"><span class="comment">// 如果flag为0则存储,即设置背景. 为1则不存储,即每次加载自动读取背景.</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeBg</span>(<span class="params">s, flag</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> bg = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;web_bg&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> (s.<span class="title function_">charAt</span>(<span class="number">0</span>) == <span class="string">&#x27;#&#x27;</span>) &#123;</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundColor</span> = s</span><br><span class="line">        bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = <span class="string">&#x27;none&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">else</span> bg.<span class="property">style</span>.<span class="property">backgroundImage</span> = s</span><br><span class="line">    <span class="keyword">if</span> (!flag) &#123; <span class="title function_">saveData</span>(<span class="string">&#x27;blogbg&#x27;</span>, s) &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setFont</span>(<span class="params">n</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;font&quot;</span>,n)</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="string">&quot;main&quot;</span>)&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">fontFamily</span>=<span class="string">&quot;-apple-system, IBM Plex Mono ,monosapce,&#x27;微软雅黑&#x27;, sans-serif&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">fontFamily</span>=<span class="string">&quot;var(--global-font),-apple-system, IBM Plex Mono ,monosapce,&#x27;微软雅黑&#x27;, sans-serif&quot;</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--global-font&#x27;</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 以下为2.0新增内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建窗口</span></span><br><span class="line"><span class="keyword">var</span> winbox = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> isMax=<span class="literal">false</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createWinbox</span>(<span class="params"></span>) &#123;</span><br><span class="line">    </span><br><span class="line">    div = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(div)</span><br><span class="line">    winbox = <span class="title class_">WinBox</span>(&#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="string">&#x27;changeBgBox&#x27;</span>,</span><br><span class="line">        <span class="attr">index</span>: <span class="number">999</span>,</span><br><span class="line">        <span class="attr">title</span>: <span class="string">&quot;博客设置&quot;</span>,</span><br><span class="line">        <span class="attr">x</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">        <span class="attr">y</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">        <span class="attr">minwidth</span>: <span class="string">&#x27;300px&#x27;</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="string">&quot;60%&quot;</span>,</span><br><span class="line">        <span class="attr">background</span>: <span class="string">&#x27;#49b1f5&#x27;</span>,</span><br><span class="line">        <span class="attr">onmaximize</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            isMax=<span class="literal">true</span>;</span><br><span class="line">            div.<span class="property">innerHTML</span> = <span class="string">`&lt;style&gt;body::-webkit-scrollbar &#123;display: none;&#125;div#changeBgBox &#123;width: 100% !important;&#125;&lt;/style&gt;`</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">onrestore</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">            isMax=<span class="literal">false</span>;</span><br><span class="line">            div.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;wb-close&quot;</span>)[<span class="number">0</span>].<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;settingWindow&quot;</span>,<span class="string">&quot;close&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">winResize</span>();</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>, winResize)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 每一类我放了一个演示，直接往下复制粘贴 a标签 就可以，需要注意的是 函数里面的链接 冒号前面需要添加反斜杠\进行转义</span></span><br><span class="line">    winbox.<span class="property">body</span>.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;settings&quot; style=&quot;display: block;&quot;&gt;&lt;a class=&quot;reSettings content-button&quot;&gt;恢复默认设置&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;h2 class=&quot;content-head&quot;&gt;性能设置&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;content&quot; style=&quot;display:flex&quot;&gt;&lt;input type=&quot;checkbox&quot; id=&quot;blur&quot; onclick=&quot;setBlur()&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;content-text&quot;&gt;禁用模糊效果&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;content&quot; style=&quot;display:flex&quot;&gt;&lt;input type=&quot;checkbox&quot; id=&quot;yjjs&quot; onclick=&quot;yjjs1()&quot;</span></span><br><span class="line"><span class="string">            value=&quot;onrightMenurightMenu&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;content-text&quot;&gt;硬件加速&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;h2 class=&quot;content-head&quot;&gt;主题设置&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;content&quot; style=&quot;display:flex&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;button class=&quot;content-button&quot; onclick=&quot;switchTheme()&quot;&gt;切换主题&lt;/button&gt;&lt;br&gt;&lt;input type=&quot;checkbox&quot; id=&quot;hideAside&quot; onclick=&quot;toggleRightside()&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;content-text&quot;&gt;隐藏侧边栏&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;h3 class=&quot;content-head&quot;&gt;&amp;nbsp;&amp;nbsp;主题色&lt;/h3&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;content&quot; style=&quot;display:flex&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;red&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;red&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;orange&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;orange&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;yellow&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;yellow&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;green&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;green&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;blue&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;blue&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;heoblue&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;heoblue&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;darkblue&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;darkblue&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;purple&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;purple&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;pink&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;pink&#x27;)&quot; checked=&quot;checked&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;black&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;black&#x27;)&quot;&gt;&lt;input type=&quot;radio&quot; id=&quot;blackgray&quot; name=&quot;colors&quot; value=&quot; &quot;</span></span><br><span class="line"><span class="string">            onclick=&quot;setColor(&#x27;blackgray&#x27;)&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;p&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;h2 class=&quot;content-head&quot;&gt;字体设置&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;p id=&quot;swfs&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a class=&quot;swf&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:&#x27;HYTMR&#x27;!important;color:black&quot; onclick=&quot;setFont(&#x27;HYTMR&#x27;)&quot;&gt;汉仪唐美人&lt;/a&gt;&lt;br&gt;</span></span><br><span class="line"><span class="string">    &lt;a class=&quot;swf&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:&#x27;FZXJLJ&#x27;!important;color:black&quot; onclick=&quot;setFont(&#x27;FZXJLJ&#x27;)&quot;&gt;方正金陵体&lt;/a&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string">    &lt;a class=&quot;swf&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:&#x27;FZXS&#x27;!important;color:black&quot; onclick=&quot;setFont(&#x27;FZXS&#x27;)&quot;&gt;方正像素体&lt;/a&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string">    &lt;a class=&quot;swf&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:&#x27;FZODZK&#x27;!important;color:black&quot; onclick=&quot;setFont(&#x27;FZODZK&#x27;)&quot;&gt;方正欧蝶正楷&lt;/a&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string">    &lt;a class=&quot;swf&quot; href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;font-family:-apple-system, IBM Plex Mono ,monosapce,&#x27;微软雅黑&#x27;, sans-serif;!important;color:black&quot; onclick=&quot;setFont(&#x27;main&#x27;)&quot;&gt;系统默认&lt;/a&gt; &lt;br&gt;</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;h2 style=&quot;margin-left:10px&quot;&gt;背景设置&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;/br&gt;&amp;nbsp&amp;nbsp注意:切换背景功能仅在Acrylic主题中生效，在Simple主题中无效</span></span><br><span class="line"><span class="string">    &lt;button onclick=&quot;localStorage.removeItem(&#x27;blogbg&#x27;);location.reload();&quot; class=&quot;content-button&quot;&gt;&lt;i class=&quot;fa-solid fa-arrows-rotate&quot;&gt;&lt;/i&gt; 点我恢复默认背景&lt;/button&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div id=&quot;article-container&quot; style=&quot;padding:20px;&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;h3 id=&quot;图片（手机）&quot;&gt;&lt;a href=&quot;#图片（手机）&quot; class=&quot;headerlink&quot; title=&quot;图片（手机）&quot;&gt;&lt;/a&gt;图片（手机）&lt;/h3&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d4d539a5.webp)&quot; class=&quot;pimgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d4d539a5.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d4e15c9d.webp)&quot; class=&quot;pimgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d4e15c9d.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6f22c03c6.webp)&quot; class=&quot;pimgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6f22c03c6.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d56c83eb.webp)&quot; class=&quot;pimgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d56c83eb.webp)&#x27;)&quot;&gt;&lt;/a&gt;   </span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d50b439b.webp)&quot; class=&quot;pimgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d50b439b.webp)&#x27;)&quot;&gt;&lt;/a&gt;   </span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;h3 id=&quot;图片（电脑）&quot;&gt;&lt;a href=&quot;#图片（电脑）&quot; class=&quot;headerlink&quot; title=&quot;图片（电脑）&quot;&gt;&lt;/a&gt;图片（电脑）&lt;/h3&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d5574d0e.webp)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d5574d0e.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d529adf9.webp)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d529adf9.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d6d5159b31.webp)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d6d5159b31.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d718bbeef6.webp)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d718bbeef6.webp)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d72f237d19.jpg)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d72f237d19.jpg)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d72f2032c8.jpg)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d72f2032c8.jpg)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2021/12/01/7792ff0082ec4.jpg)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2021/12/01/7792ff0082ec4.jpg)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d72ee6d4f3.png)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d72ee6d4f3.png)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; style=&quot;background-image:url(https://bu.dusays.com/2022/08/30/630d72ed76532.jpg)&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/08/30/630d72ed76532.jpg)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/09/17/6324aea549be6.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://bu.dusays.com/2022/09/17/6324aea549be6.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/09/17/6324aec701a68.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://bu.dusays.com/2022/09/17/6324aec701a68.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/09/17/6324aef4a5543.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://bu.dusays.com/2022/09/17/6324aef4a5543.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/09/17/6324af3622884.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://bu.dusays.com/2022/09/17/6324af3622884.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/5.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/5.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/6.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/6.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/7.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/7.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://bu.dusays.com/2022/12/08/6391b77ed767c.png)&#x27;)&quot;&gt;&lt;img src=&quot;https://bu.dusays.com/2022/12/08/6391b77ed767c.png&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/9.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/9.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/10.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/10.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/11.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/11.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/12.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/12.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/13.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/13.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/14.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/14.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/15.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/15.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/16.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/16.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/17.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/17.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/18.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/18.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/19.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/19.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/20.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/20.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/21.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/21.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/22.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/22.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/23.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/23.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/24.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/24.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/25.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/25.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/26.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/26.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/27.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/27.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/28.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/28.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/29.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/29.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; class=&quot;imgbox&quot; onclick=&quot;changeBg(&#x27;url(https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/30.webp)&#x27;)&quot;&gt;&lt;img src=&quot;https://cdn.afdelivr.top/npm/saiodgm-api@1.0.1/randomimg-my/30.webp&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;h3 id=&quot;渐变色&quot;&gt;&lt;a href=&quot;#渐变色&quot; class=&quot;headerlink&quot; title=&quot;渐变色&quot;&gt;&lt;/a&gt;渐变色&lt;/h3&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; class=&quot;box&quot; style=&quot;background: linear-gradient(to right, #eecda3, #ef629f)&quot; onclick=&quot;changeBg(&#x27;linear-gradient(to right, #eecda3, #ef629f)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; class=&quot;box&quot; style=&quot;background: linear-gradient(90deg, #ffd7e4 0%, #c8f1ff 100%)&quot; onclick=&quot;changeBg(&#x27;linear-gradient(90deg, #ffd7e4 0%, #c8f1ff 100%)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;javascript:;&quot; rel=&quot;noopener external nofollow&quot; class=&quot;box&quot; style=&quot;background: linear-gradient(45deg, #e5737b, #c6999e, #96b9c2, #00d6e8)&quot; onclick=&quot;changeBg(&#x27;linear-gradient(45deg, #e5737b, #c6999e, #96b9c2, #00d6e8)&#x27;)&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    &lt;h3 id=&quot;纯色&quot;&gt;&lt;a href=&quot;#纯色&quot; class=&quot;headerlink&quot; title=&quot;纯色&quot;&gt;&lt;/a&gt;纯色&lt;/h3&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;bgbox&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;input type=&quot;color&quot; id=&quot;colors&quot; autocomplete=&quot;on&quot; value=&quot;#FF0000&quot;&gt;&lt;/input&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line">$(<span class="string">&quot;#&quot;</span>+<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;themeColor&quot;</span>)).<span class="title function_">attr</span>(<span class="string">&quot;checked&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;blur&quot;</span>)==<span class="string">&quot;false&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;blur&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;yjjs&quot;</span>)==<span class="string">&quot;true&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;yjjs&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;hideRightside&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;hideAside&quot;</span>).<span class="property">checked</span>=<span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;reSettings&quot;</span>)[<span class="number">0</span>].<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">winResize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!isMax)&#123;</span><br><span class="line">    <span class="keyword">var</span> offsetWid = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">if</span> (offsetWid &lt;= <span class="number">768</span>) &#123;</span><br><span class="line">        winbox.<span class="title function_">resize</span>(offsetWid * <span class="number">0.95</span> + <span class="string">&quot;px&quot;</span>, <span class="string">&quot;90%&quot;</span>).<span class="title function_">move</span>(<span class="string">&quot;center&quot;</span>, <span class="string">&quot;center&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        winbox.<span class="title function_">resize</span>(offsetWid * <span class="number">0.6</span> + <span class="string">&quot;px&quot;</span>, <span class="string">&quot;70%&quot;</span>).<span class="title function_">move</span>(<span class="string">&quot;center&quot;</span>, <span class="string">&quot;center&quot;</span>);</span><br><span class="line">    &#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 切换状态，窗口已创建则控制窗口显示和隐藏，没窗口则创建窗口</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">toggleWinbox</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#changeBgBox&#x27;</span>)) &#123;winbox.<span class="title function_">toggleClass</span>(<span class="string">&#x27;hide&#x27;</span>);<span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;settingWindow&quot;</span>,<span class="string">&quot;close&quot;</span>);&#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;<span class="title function_">createWinbox</span>();<span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;settingWindow&quot;</span>,<span class="string">&quot;open&quot;</span>);&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;settingWindow&quot;</span>)==<span class="string">&quot;open&quot;</span>)&#123;</span><br><span class="line">    <span class="title function_">createWinbox</span>();</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>辅助js/css容器：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;settingStyle&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;yjjs&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;themeColor&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://gcore.jsdelivr.net/gh/nextapps-de/winbox/dist/winbox.bundle.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="string">...</span></span><br></pre></td></tr></table></figure><p>css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.winbox</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wb-full</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wb-min</span> &#123;</span><br><span class="line">    <span class="attribute">background-position</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bgbox</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span>,</span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-size</span>: cover</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span>,</span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">240px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.imgbox</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">95px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="comment">/* 背景 */</span></span><br><span class="line">    <span class="selector-class">.pimgbox</span>,</span><br><span class="line">    <span class="selector-class">.imgbox</span>,</span><br><span class="line">    <span class="selector-class">.box</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">73px</span>;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">135px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.pimgbox</span> &#123;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">205px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.wb-min</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#changeBgBox</span> <span class="selector-class">.wb-body</span>::-webkit-scrollbar &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.bgbox</span> *&#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    -ms-<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    -o-<span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reSettings</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-white)<span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reSettings</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&quot;\f021&quot;</span>;</span><br><span class="line">    <span class="attribute">font-family</span>:<span class="built_in">var</span>(--fa-style-family,<span class="string">&quot;Font Awesome 6 Free&quot;</span>);<span class="attribute">font-weight</span>:<span class="built_in">var</span>(--fa-style,<span class="number">900</span>);</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-white)<span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.reSettings</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wb-title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:black;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="built_in">var</span>(--global-font),<span class="string">&#x27;PingFang SC&#x27;</span>,<span class="string">&#x27;Ubuntu Mono&#x27;</span>,<span class="string">&#x27;Noto Sans&#x27;</span>,<span class="string">&#x27;Microsoft Yahei&#x27;</span>,<span class="string">&#x27;SimSun&#x27;</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.wb-title</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#changeBgBox</span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">        backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>);</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-id">#changeBgBox</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fffa</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#changeBgBox</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#0008</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.wb-close</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml;base64,PHN2ZyB0PSIxNjYxODMyNDg4NDQ2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI2MzAiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNTU2LjggNTEyTDgzMiAyMzYuOGMxMi44LTEyLjggMTIuOC0zMiAwLTQ0LjgtMTIuOC0xMi44LTMyLTEyLjgtNDQuOCAwTDUxMiA0NjcuMmwtMjc1LjItMjc3LjMzMzMzM2MtMTIuOC0xMi44LTMyLTEyLjgtNDQuOCAwLTEyLjggMTIuOC0xMi44IDMyIDAgNDQuOGwyNzUuMiAyNzcuMzMzMzMzLTI3Ny4zMzMzMzMgMjc1LjJjLTEyLjggMTIuOC0xMi44IDMyIDAgNDQuOCA2LjQgNi40IDE0LjkzMzMzMyA4LjUzMzMzMyAyMy40NjY2NjYgOC41MzMzMzNzMTcuMDY2NjY3LTIuMTMzMzMzIDIzLjQ2NjY2Ny04LjUzMzMzM0w1MTIgNTU2LjggNzg3LjIgODMyYzYuNCA2LjQgMTQuOTMzMzMzIDguNTMzMzMzIDIzLjQ2NjY2NyA4LjUzMzMzM3MxNy4wNjY2NjctMi4xMzMzMzMgMjMuNDY2NjY2LTguNTMzMzMzYzEyLjgtMTIuOCAxMi44LTMyIDAtNDQuOEw1NTYuOCA1MTJ6IiBwLWlkPSIyNjMxIj48L3BhdGg+PC9zdmc+&quot;</span>);&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.wb-max</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml;base64,PHN2ZyB0PSIxNjYxODMyNjU2MTQ0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI5MjMiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNNzk0LjQzMiA5ODMuNTUySDUxLjJhMjUuNiAyNS42IDAgMCAxLTI1LjYtMjUuNlYyMTQuNzg0YTI1LjYgMjUuNiAwIDAgMSAyNS42LTI1LjZoMTUyLjc2OFY2Ni4xMTJhMjUuNiAyNS42IDAgMCAxIDI1LjYtMjUuNkg5NzIuOGEyNS42IDI1LjYgMCAwIDEgMjUuNiAyNS42djc0My4yMzJhMjUuNiAyNS42IDAgMCAxLTI1LjYgMjUuNmgtMTUyLjc2OHYxMjMuMDA4YTI1LjYgMjUuNiAwIDAgMS0yNS42IDI1LjZ6IG0tNzE3LjYzMi01MS4yaDY5Mi4wMzJWMjQwLjM4NEg3Ni44djY5MS45Njh6IG03NDMuMjMyLTE0OC42NzJIOTQ3LjJWOTEuNjQ4SDI1NS4xNjh2OTcuNDcyaDUzOS4yNjRhMjUuNiAyNS42IDAgMCAxIDI1LjYgMjUuNnY1NjguOTZ6IiBwLWlkPSIyOTI0Ij48L3BhdGg+PC9zdmc+&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.wb-min</span>&#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml;base64,PHN2ZyB0PSIxNjYxODMyNzE4OTgzIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjM4MzQiIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48cGF0aCBkPSJNMTkyLjEyOCA3NjhsNjM5LjY4IDBDODY3LjI2NCA3NjggODk2IDc5Ni40MTYgODk2IDgzMmMwIDM1LjM5Mi0yOS4xODQgNjQtNjQuMTkyIDY0TDE5Mi4xMjggODk2QzE1Ni43MzYgODk2IDEyOCA4NjcuNTg0IDEyOCA4MzIgMTI4IDc5Ni42MDggMTU3LjE4NCA3NjggMTkyLjEyOCA3Njh6IiBwLWlkPSIzODM1Ij48L3BhdGg+PC9zdmc+&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;light&quot;</span>]</span> <span class="selector-class">.wb-body</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#fffa</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.wb-body</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>:<span class="number">#0008</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.winbox</span><span class="selector-class">.focus</span><span class="selector-class">.max</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">    -ms-<span class="attribute">border-radius</span>: <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">    -o-<span class="attribute">border-radius</span>: <span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">15px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content-text</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">5px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content-button</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content-button</span>&#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 开关 */</span></span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000000</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fdfdfd</span>;;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    -webkit-<span class="attribute">appearance</span>: none;</span><br><span class="line">    user-<span class="selector-tag">select</span>: none;</span><br><span class="line">    <span class="attribute">outline</span>: none;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">5px</span>);&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#000</span>;&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme);<span class="attribute">border-color</span>:<span class="built_in">var</span>(--lyx-theme)&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">19px</span>;<span class="attribute">background-color</span>: white<span class="meta">!important</span>;&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: border background-color box-shadow &#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: left <span class="number">0.2s</span>;&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="comment">/* transition: border ease 0.4s, background-color ease 1.2s; */</span></span><br><span class="line">&#125;<span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">transition</span>: left <span class="number">0.2s</span>;&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:checked</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:active</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#666666</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-color</span>:<span class="number">#666666</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.settings</span> <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span><span class="selector-pseudo">:active</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>:white<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wb-e</span>&#123;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">5px</span><span class="meta">!important</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#colors</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">38px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">44px</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;自定义颜色&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#colors</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">166px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">110px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">12px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[name=<span class="string">&quot;colors&quot;</span>]</span>&#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1rem</span>;</span><br><span class="line">    <span class="attribute">appearance</span>: none;</span><br><span class="line">    -webkit-<span class="attribute">appearance</span>: none;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#red</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-red);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#orange</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-orange);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#yellow</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-yellow);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#green</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-green);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#blue</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-blue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#purple</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-purple);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#pink</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-pink);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#heoblue</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-heoblue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#darkblue</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-darkblue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#black</span>  &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-black);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#blackgray</span>  &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-blackgray);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#purple</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-purple);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-purple);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#red</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-red);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-red);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#orange</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-orange);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-orange);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#yellow</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-yellow);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-yellow);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#green</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-green);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-green);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#blue</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-blue);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-blue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#pink</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-pink);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-pink);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#heoblue</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-heoblue);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-heoblue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#darkblue</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-darkblue);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-darkblue);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#black</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-black);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-black);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#blackgray</span><span class="selector-pseudo">:checked</span>&#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">#fff</span> inset;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid <span class="built_in">var</span>(--lyx-blackgray);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-blackgray);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="彩虹猫加载页"><a class="markdownIt-Anchor" href="#彩虹猫加载页"></a> 彩虹猫加载页</h1><p>大家会发现我的博客加载界面是Nyancat的动画，其实是基于bf的原版加载动画改的。</p><p>首先你得在主题配置文件启动加载动画，默认是一个方盒子。</p><p>我的加载动画基于gif构建，并且把结束动画改成渐变而不是拉开，gif实际上是可以自定义的。</p><h2 id="修改文件"><a class="markdownIt-Anchor" href="#修改文件"></a> 修改文件</h2><p>修改<code>[blogRoot]\themes\butterfly\source\css\_layout\loading.styl</code>:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">if hexo-config(&#x27;preloader&#x27;)</span><br><span class="line">  ...</span><br><span class="line">  #loading-box</span><br><span class="line">    .loading-left-bg</span><br><span class="line">      @extend .loading-bg</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">      .configure-core</span><br><span class="line">        width: 100%</span><br><span class="line">        height: 100%</span><br><span class="line">        background-color: var(--preloader-bg)</span><br><span class="line"></span><br><span class="line">    &amp;.loaded</span><br><span class="line">      .loading-left-bg</span><br><span class="line">        transition: all .7s</span><br><span class="line"><span class="addition">+        opacity 0</span></span><br><span class="line"><span class="deletion">-        transform: translate(-100%, 0)</span></span><br><span class="line"></span><br><span class="line">      .loading-right-bg</span><br><span class="line">        transition: all .7s</span><br><span class="line"><span class="addition">+        opacity 0</span></span><br><span class="line"><span class="deletion">-        transform: translate(100%, 0)</span></span><br><span class="line"></span><br><span class="line">      .spinner-box</span><br><span class="line">        display: none</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure><p>重写<code>[blogRoot]\themes\butterfly\layout\includes\loading\loading-js.pug</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">script.</span><br><span class="line">  <span class="keyword">var</span> preloader = &#123;</span><br><span class="line">    <span class="attr">endLoading</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;auto&#x27;</span>;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;loading-box&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;loaded&quot;</span>)</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;loading-box&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;loadend&quot;</span>)&#125;,<span class="number">700</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">initLoading</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;loading-box&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;loaded&quot;</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>,preloader.<span class="title function_">endLoading</span>())</span><br></pre></td></tr></table></figure><p>然后重写<code>[blogRoot]\themes\butterfly\layout\includes\loading\loading.pug</code>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#loading-box</span></span><br><span class="line">  .loading-left-bg</span><br><span class="line">  .loading-right-bg</span><br><span class="line">  img(src=<span class="string">&quot;/img/nyancat.gif&quot;</span> <span class="built_in">id</span>=<span class="string">&quot;loadcat&quot;</span>) //- 可以修改gif达到想要的效果，最好用外链加快速度</span><br></pre></td></tr></table></figure><h1 id="后记"><a class="markdownIt-Anchor" href="#后记"></a> 后记</h1><p>这次大抵即是这些罢了，其实看起来这么多日子了也就改了这些而已，顶多就还小改小修bug和css了，以后或许会很少更新了。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
    <category term="魔改日记" scheme="https://blog.yaria.top/tags/%E9%AD%94%E6%94%B9%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Butterfly博客魔改的一点点基础</title>
    <link href="https://blog.yaria.top/posts/583ff077/"/>
    <id>https://blog.yaria.top/posts/583ff077/</id>
    <published>2022-09-17T12:19:38.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>在一次次的偷懒中，魔改文章慢慢取消了引入css和js的教程，然后就出现了小白看不懂了：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12353710e.webp" alt="1663420036531.png" /></p><p><s>（虽然解决了</s></p><p>于是我打算写一篇介绍一下这些博客魔改的基础内容</p><div class="note info flat"><p>注：<code>[blogRoot]</code>指博客根目录</p></div><h1 id="引用js"><a class="markdownIt-Anchor" href="#引用js"></a> 引用JS</h1><p>首先你需要在<code>[blogRoot]/themes/butterfly/source/js</code>里面添加一个js，名字随你的便。<em><strong>（需要注意的是不能放在<code>[blogRoot]/source/js</code>里面，否则可能出现bug）</strong></em></p><p>然后把我说的js扔进去，当然你也可以直接放到以前的文件里面，免得改配置 <em>（但是可能有异步同步执行导致的各种bug）</em></p><p>然后再修改主题配置文件，按照下面引入 <strong>（一定是bottom，否则可能出现dom不完全导致js报错）</strong> （如果直接用已有的就别加了）</p><p>如果使用pjax建议加上<code>data-pjax</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span> </span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">data-pjax</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/&#123;把大括号里面的这个换成你的js名字&#125;.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="引用css"><a class="markdownIt-Anchor" href="#引用css"></a> 引用CSS</h1><p>首先你需要在<code>[blogRoot]/themes/butterfly/source/css</code>里面添加一个css，名字随你的便。<em><strong>（需要注意的是不能放在<code>[blogRoot]/source/css</code>里面，否则可能出现bug）</strong></em></p><p>然后把我说的css扔进去，当然你也可以直接放到以前的文件里面，免得改配置（可能分开更好管理，也可以像我全部扔进<code>styles.css</code>，洪哥全部<code>zhheoblog.css</code>）。</p><p>然后再修改主题配置文件，按照下面引入 <strong>（一定是head，否则可能出现短暂无CSS）</strong>（如果直接用已有的就别加了）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/&#123;把大括号里面的这个换成你的css名字&#125;.css&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="jq或者jquery是什么鬼咋引入"><a class="markdownIt-Anchor" href="#jq或者jquery是什么鬼咋引入"></a> jq或者jquery是什么鬼？咋引入？</h1><p>jQuery是一个方便选择元素的JavaScript库，jq是其缩写，为了偷懒我经常使用（不知道为什么<a href="https://zfe.space">冰老师</a>倡导去jq），引入她很简单，跟引入js一样（已经加过了就别再加了）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span> </span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://unpkg.zhimg.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span> <span class="comment">#一定要放在所有引入的js前面！！！</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="啥是diff"><a class="markdownIt-Anchor" href="#啥是diff"></a> 啥是DIFF？</h1><p>我在魔改时经常会出现diff代码块，她的意思是什么呢？</p><p>举个栗子：</p><p>修改<code>[blogRoot]\themes\Butterfly\layout\includes\header\nav.pug</code>:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog_name</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">  #menus</span><br><span class="line"><span class="deletion">-    if (theme.algolia_search.enable || theme.local_search.enable)</span></span><br><span class="line"><span class="deletion">-      #search-button</span></span><br><span class="line"><span class="deletion">-        a.site-page.social-icon.search</span></span><br><span class="line"><span class="deletion">-          i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="deletion">-          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span></span><br><span class="line">  !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  #nav-right</span><br><span class="line"><span class="addition">+    if (theme.algolia_search.enable || theme.local_search.enable)</span></span><br><span class="line"><span class="addition">+      #search-button</span></span><br><span class="line"><span class="addition">+        a.site-page.social-icon.search</span></span><br><span class="line"><span class="addition">+          i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="deletion">-    #toggle-menu</span></span><br><span class="line"><span class="deletion">-      a.site-page</span></span><br><span class="line"><span class="deletion">-        i.fas.fa-bars.fa-fw</span></span><br><span class="line"><span class="addition">+      #toggle-menu</span></span><br><span class="line"><span class="addition">+        a.site-page</span></span><br><span class="line"><span class="addition">+          i.fas.fa-bars.fa-fw</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>出自————</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/895003b5/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/895003b5/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">关于Butterfly的导航栏的一些教程</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>这里的“-”号表示删除源文件的内容，&quot;+&quot;号表示在这里增加，“…”表示省略内容，在根据其修改完文件后，要去掉前面的加号和减号，不要加或者减少一个空格，所以如果原来的文件是：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">nav<span class="meta">#nav</span></span><br><span class="line">  span#blog_name</span><br><span class="line">    a<span class="meta">#site-name(href=url_for(<span class="string">&#x27;/&#x27;</span>)) #[=config.title]</span></span><br><span class="line">    </span><br><span class="line">  <span class="meta">#menus</span></span><br><span class="line">    <span class="keyword">if</span> (theme.algolia_search.enable || theme.local_search.enable)</span><br><span class="line">      <span class="meta">#search-button</span></span><br><span class="line">        a.site-page.social-icon.search</span><br><span class="line">          i.fas.fa-search.fa-fw</span><br><span class="line">          span=<span class="string">&#x27; &#x27;</span>+_p(<span class="string">&#x27;search.title&#x27;</span>)</span><br><span class="line">  !=<span class="built_in">partial</span>(<span class="string">&#x27;includes/header/menu_item&#x27;</span>, &#123;&#125;, &#123;cache: <span class="literal">true</span>&#125;)</span><br><span class="line">  <span class="meta">#nav-right</span></span><br><span class="line">    <span class="meta">#toggle-menu</span></span><br><span class="line">      a.site-page</span><br><span class="line">        i.fas.fa-bars.fa-fw</span><br></pre></td></tr></table></figure><p>那么修改后就是:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">nav<span class="meta">#nav</span></span><br><span class="line">  span#blog_name</span><br><span class="line">    a<span class="meta">#site-name(href=url_for(<span class="string">&#x27;/&#x27;</span>)) #[=config.title]</span></span><br><span class="line">    </span><br><span class="line">  <span class="meta">#menus</span></span><br><span class="line">  !=<span class="built_in">partial</span>(<span class="string">&#x27;includes/header/menu_item&#x27;</span>, &#123;&#125;, &#123;cache: <span class="literal">true</span>&#125;)</span><br><span class="line">  <span class="meta">#nav-right</span></span><br><span class="line">    <span class="keyword">if</span> (theme.algolia_search.enable || theme.local_search.enable)</span><br><span class="line">      <span class="meta">#search-button</span></span><br><span class="line">        a.site-page.social-icon.search</span><br><span class="line">          i.fas.fa-search.fa-fw</span><br><span class="line">      <span class="meta">#toggle-menu</span></span><br><span class="line">        a.site-page</span><br><span class="line">          i.fas.fa-bars.fa-fw</span><br></pre></td></tr></table></figure><p>你学会了吗？</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在一次次的偷懒中，魔改文章慢慢取消了引入css和js的教程，然后就出现了小白看不懂了：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://bu.dusays.com/2023/01/20/63ca12353710e.webp&quot; alt=&quot;1663420036531.png&quot;</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>PyQt5-论如何让窗口置顶</title>
    <link href="https://blog.yaria.top/posts/5e2c4b67/"/>
    <id>https://blog.yaria.top/posts/5e2c4b67/</id>
    <published>2022-09-01T09:11:14.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>这其实是一个远古的问题了，突然想起来就顺便分享一下吧</p><p>写uClock的时候为了让窗口右键直接控制窗口是否置顶，可没费过我不少心思：因为这玩意实在是太太太坑了，根本没搜索到什么解决方案，在1.0和1.1旧版中根本没有，1.2又因为折腾博客一直卡在dev版本鸽了~~(…)~~</p><p>置顶功能效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1350db406.webp" alt="20220901171505.gif" /></p><p>这个置顶功能在我不断地试错之后做出来了，期间翻过大量的qt文档和csdn（就是懒得挂梯子</p><p>众所周知，可以通过设置WindowFlag的方式来控制显示后的窗口是否置顶，不过并不能在运行时实时控制：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.setWindowFlags(Qt.WindowStaysOnTopHint)</span><br></pre></td></tr></table></figure><p>不过我想打破规则看看在运行时能不能使用这个方法</p><p>结果我发现在程序运行的时候直接调用这个方法运行的话，窗口会消失。</p><p>怎么办呢?</p><p>然后我尝试加了一句：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.show()</span><br></pre></td></tr></table></figure><p>结果窗口果然就重新显示了：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1351ab725.webp" alt="1662024864424.png" /></p><p>然而现在的窗口状态很奇怪，有托盘，还有最小化关闭窗口图标，实际上是因为并没有继承之前的SplashScreen属性，所以直接继承上以前的窗口状态就好了：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.setWindowFlags(Qt.WindowStaysOnTopHint|<span class="variable language_">self</span>.windowFlags())</span><br><span class="line"><span class="variable language_">self</span>.show()</span><br></pre></td></tr></table></figure><p>此时窗口置顶的同时也能够继承以前的状态了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13526d2a8.webp" alt="1662025524240.png" /></p><p>取消置顶同理，从以前的<code>windowFlags</code>里面排除掉置顶部分，重新show就可以了</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">self</span>.setWindowFlags(<span class="variable language_">self</span>.windowFlags() &amp; ~Qt.WindowStaysOnTopHint)</span><br><span class="line"><span class="variable language_">self</span>.show()</span><br></pre></td></tr></table></figure><p>如果要实现智能切换，只需要简单地加一点料，智能判断<code>windowFlags</code>即可：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#置顶bug终于TM修复了！！！！！！！！！！！！！！！</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">pin</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> (<span class="variable language_">self</span>.windowFlags() | Qt.WindowStaysOnTopHint) == <span class="variable language_">self</span>.windowFlags():</span><br><span class="line">        <span class="variable language_">self</span>.setWindowFlags(Qt.WindowStaysOnTopHint|<span class="variable language_">self</span>.windowFlags())</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="variable language_">self</span>.setWindowFlags(<span class="variable language_">self</span>.windowFlags() &amp; ~Qt.WindowStaysOnTopHint)</span><br><span class="line">        <span class="variable language_">self</span>.show()</span><br></pre></td></tr></table></figure><p>然后你就可以将这个函数引用在你的程序里面实现智能临时置顶功能了！</p><p><em>恭喜你解决了一个世纪难题！！！！！！！！！！</em></p><p>最后打个广告，uClock开源，采用MIT协议，任意代码随便抄！</p><a class="tag-Link" target="_blank" href="https://github.com/lyxofficial/uclock">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/github.com/lyxofficial/uclock.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">LYXOfficial/uClock</div>            <div class="tag-link-sitename">Github</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这其实是一个远古的问题了，突然想起来就顺便分享一下吧&lt;/p&gt;
&lt;p&gt;写uClock的时候为了让窗口右键直接控制窗口是否置顶，可没费过我不少心思：因为这玩意实在是太太太坑了，根本没搜索到什么解决方案，在1.0和1.1旧版中根本没有，1.2又因为折腾博客一直卡在dev版本鸽了~</summary>
      
    
    
    
    <category term="编程" scheme="https://blog.yaria.top/categories/%E7%BC%96%E7%A8%8B/"/>
    
    
    <category term="编程" scheme="https://blog.yaria.top/tags/%E7%BC%96%E7%A8%8B/"/>
    
    <category term="PyQt5" scheme="https://blog.yaria.top/tags/PyQt5/"/>
    
    <category term="Python" scheme="https://blog.yaria.top/tags/Python/"/>
    
    <category term="uClock" scheme="https://blog.yaria.top/tags/uClock/"/>
    
  </entry>
  
  <entry>
    <title>关于Butterfly的导航栏的一些教程</title>
    <link href="https://blog.yaria.top/posts/895003b5/"/>
    <id>https://blog.yaria.top/posts/895003b5/</id>
    <published>2022-09-01T06:33:38.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>在开始前，先说一些事情吧。最近要开学了，所以博客的更新会放缓，大概能够周更，不过几周鸽几下也是有可能的。</p><p>OK，那我们开始吧。</p><div class="note info flat"><p>本博仅作一些基础教程，一些自定义css请自行添加</p></div><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>butterfly的默认导航栏长这样：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13251d7a3.webp" alt="1662014580748.png" /></p><p>这个导航栏非常单调、比较丑，而且没有居中，不支持常驻~~（Jerry偷懒了~~，所以这次就来给它来一次改头换面吧！</p><h1 id="分离搜索栏与菜单栏"><a class="markdownIt-Anchor" href="#分离搜索栏与菜单栏"></a> 分离搜索栏与菜单栏</h1><p>为了方便管理，我们要让搜索栏在最右侧，而其它元素居中，这时我们需要修改一下pug</p><p>修改<code>[blogRoot]\themes\Butterfly\layout\includes\header\nav.pug</code>:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog_name</span><br><span class="line">    a#site-name(href=url_for(&#x27;/&#x27;)) #[=config.title]</span><br><span class="line">    </span><br><span class="line">  #menus</span><br><span class="line"><span class="deletion">-    if (theme.algolia_search.enable || theme.local_search.enable)</span></span><br><span class="line"><span class="deletion">-      #search-button</span></span><br><span class="line"><span class="deletion">-        a.site-page.social-icon.search</span></span><br><span class="line"><span class="deletion">-          i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="deletion">-          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span></span><br><span class="line">  !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  #nav-right</span><br><span class="line"><span class="addition">+    if (theme.algolia_search.enable || theme.local_search.enable)</span></span><br><span class="line"><span class="addition">+      #search-button</span></span><br><span class="line"><span class="addition">+        a.site-page.social-icon.search</span></span><br><span class="line"><span class="addition">+          i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="deletion">-    #toggle-menu</span></span><br><span class="line"><span class="deletion">-      a.site-page</span></span><br><span class="line"><span class="deletion">-        i.fas.fa-bars.fa-fw</span></span><br><span class="line"><span class="addition">+      #toggle-menu</span></span><br><span class="line"><span class="addition">+        a.site-page</span></span><br><span class="line"><span class="addition">+          i.fas.fa-bars.fa-fw</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>这时，就变成了这样</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1325f3ccb.webp" alt="1662015427348.png" /></p><p>为了美观我隐藏了搜索栏的文字，若想要显示出来可以在最后加上：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog_name</span><br><span class="line">    a#site-name(href=url_for(&#x27;/&#x27;)) #[=config.title]</span><br><span class="line">    </span><br><span class="line">  #menus</span><br><span class="line"><span class="deletion">-    if (theme.algolia_search.enable || theme.local_search.enable)</span></span><br><span class="line"><span class="deletion">-      #search-button</span></span><br><span class="line"><span class="deletion">-        a.site-page.social-icon.search</span></span><br><span class="line"><span class="deletion">-          i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="deletion">-          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span></span><br><span class="line">  !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">  #nav-right</span><br><span class="line"><span class="addition">+    if (theme.algolia_search.enable || theme.local_search.enable)</span></span><br><span class="line"><span class="addition">+      #search-button</span></span><br><span class="line"><span class="addition">+        a.site-page.social-icon.search</span></span><br><span class="line"><span class="addition">+          i.fas.fa-search.fa-fw</span></span><br><span class="line"><span class="addition">+          span=&#x27; &#x27;+_p(&#x27;search.title&#x27;)</span></span><br><span class="line"><span class="deletion">-    #toggle-menu</span></span><br><span class="line"><span class="deletion">-      a.site-page</span></span><br><span class="line"><span class="deletion">-        i.fas.fa-bars.fa-fw</span></span><br><span class="line"><span class="addition">+      #toggle-menu</span></span><br><span class="line"><span class="addition">+        a.site-page</span></span><br><span class="line"><span class="addition">+          i.fas.fa-bars.fa-fw</span></span><br></pre></td></tr></table></figure><h1 id="导航栏居中"><a class="markdownIt-Anchor" href="#导航栏居中"></a> 导航栏居中</h1><p>其实导航栏居中可以用纯CSS的方式来解决：</p><p>在你的自定义css里面添加下面几句CSS：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav-right</span>&#123;</span><br><span class="line">    <span class="attribute">flex</span>:<span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line">    <span class="attribute">justify-content</span>: flex-end;</span><br><span class="line">    <span class="attribute">margin-left</span>: auto;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>:nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>导航栏居中就实现了</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1326c94f2.webp" alt="1662016388179.png" /></p><h1 id="去掉导航栏项目底下的蓝色长条"><a class="markdownIt-Anchor" href="#去掉导航栏项目底下的蓝色长条"></a> 去掉导航栏项目底下的蓝色长条</h1><p>默认的蓝色长条动画很坑，如果你想自定义hover效果，可以添加如下css来解决:</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1327997c4.webp" alt="1662016551531.png" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#nav</span> *<span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="子菜单横向布局"><a class="markdownIt-Anchor" href="#子菜单横向布局"></a> 子菜单横向布局</h1><p>butterfly的二级菜单默认是纵向排列的，可以添加如下css使其横向排列</p><p><img src="https://bu.dusays.com/2023/01/20/63ca132866baa.webp" alt="1662017890178.png" /></p><p>—2022.10.14更新：</p><p>在<a href="https://ichika.cc/">@いちか</a>的建议下，进行修改：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca132956f4d.webp" alt="1665748033183.png" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.menus_item_child</span> <span class="selector-tag">li</span><span class="selector-pseudo">:not</span>(<span class="selector-id">#sidebar-menus</span> <span class="selector-tag">li</span>)&#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span><span class="meta">!important</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">6px</span><span class="meta">!important</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="number">6px</span><span class="meta">!important</span>;</span><br><span class="line">    -ms-<span class="attribute">border-radius</span>: <span class="number">6px</span><span class="meta">!important</span>;</span><br><span class="line">    -o-<span class="attribute">border-radius</span>: <span class="number">6px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.menus_item_child</span><span class="selector-pseudo">:not</span>(<span class="selector-id">#sidebar-menus</span> <span class="selector-tag">ul</span>)&#123;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    left:calc(-150%)!important;这是估算值，为了保持元素居中的，如果不合适可以自己调</span></span><br><span class="line"><span class="comment">  改为：*/</span></span><br><span class="line">  <span class="attribute">left</span>:<span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">translate</span>:-<span class="number">50%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca132a203a6.webp" alt="1662018025137.png" /></p><h1 id="网站标题部分的增强版"><a class="markdownIt-Anchor" href="#网站标题部分的增强版"></a> 网站标题部分的增强版</h1><p>默认的标题非常简单，就是一个a标签，按下来就返回主页，看到洪哥他们的有一个非常高大上的动画，所以我也写了一个</p><p>效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca132ad8156.webp" alt="1662018856050.png" /></p><p>原理不难，就是一个利用after标签特性的css</p><p>不过你需要自己根据css注释微调。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#site-name</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    -webkit-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    -moz-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    -ms-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    -o-<span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\f015&quot;</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&quot;Font Awesome 6 Free&quot;</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">34px</span>;<span class="comment">/*如果有溢出或者垂直不居中的现象微调一下这个参数*/</span></span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;<span class="comment">/*根据个人喜好*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#site-name</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">scale</span>:<span class="number">1.03</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#site-name</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">24px</span>; <span class="comment">/*一定要把字体调大点，否则效果惨不忍睹！*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">    <span class="attr">--lyx-theme</span>:<span class="number">#ed709b</span> <span class="comment">/*我的主题色*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="顶栏常驻"><a class="markdownIt-Anchor" href="#顶栏常驻"></a> 顶栏常驻</h1><p>butterfly的顶栏滚动时会自动收起，我并不喜欢，所以通过修改css的方式实现。</p><p>（以前其实改的是js但是忘记怎么改了）</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.nav-fixed</span> <span class="selector-id">#nav</span>&#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">    -moz-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">    -ms-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">    -o-<span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">58px</span>)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: none<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>改css的方式会出现一个bug：在滚动到顶部的时候再滚下来会闪一下，后面找到js的修改方式之后告诉你们吧。</p><h1 id="显示标题"><a class="markdownIt-Anchor" href="#显示标题"></a> 显示标题</h1><p>有时候文章看着看着忘记标题了，其实可以通过导航栏显示。鼠标向上移动时就自动显示导航，向下移动就显示标题，效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca132bb4715.webp" alt="1662019601915.png" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca132c99ac9.webp" alt="1662019598832.png" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca132d74f11.webp" alt="1662019583585.png" /></p><p>因为技术原因，并没有实现上下滑动的动画效果，可以找洪哥扒一扒。</p><div class="note warning flat"><p>由于魔改项目不同，可能会出现排版错乱的问题，请自行调整css或者在评论区中询问</p></div><p>修改<code>[blogRoot]\themes\Butterfly\layout\includes\header\nav.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">nav#nav</span><br><span class="line">  span#blog_name</span><br><span class="line">    a#site-name(href=url_for(&#x27;/&#x27;)) #[=config.title]</span><br><span class="line">    </span><br><span class="line">  #menus</span><br><span class="line">    !=partial(&#x27;includes/header/menu_item&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+    center(id=&quot;name-container&quot;)</span></span><br><span class="line"><span class="addition">+      a(id=&quot;page-name&quot; href=&quot;javascript:scrollToTop()&quot;) PAGE_NAME</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>然后添加<code>nav.js</code>，并且按照注释修改配置</p><p>PS:22.12.6支持 pjax</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">forNormal</button></li><li class="tab"><button type="button" data-href="#-2">forPjax</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js有一个小问题：就是只要鼠标滚动不论哪里都会响应，即便你滚动的是子元素</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2022.9.11 已修复，需要jq，请自行引入</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> position = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> scroll = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (scroll &gt; position) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none!important&quot;</span>);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  position = scroll;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scrollToTop</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;display:none&quot;</span>);</span><br><span class="line">    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//修复没有弄右键菜单的童鞋无法回顶部的问题</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;page-name&quot;</span>).<span class="property">innerText</span> = <span class="variable language_">document</span>.<span class="property">title</span>.<span class="title function_">split</span>(<span class="string">&quot; | Ariasakaの小窝&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">/*这里是去掉你的网站全局名称的设置，如果你不需要去掉，你可以写成：</span></span><br><span class="line"><span class="comment">document.getElementById(&quot;page-name&quot;).innerText=document.title</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">或者把你的网站的分隔符和全局网站名称加上去*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;pjax:complete&#x27;</span>, tonav);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, tonav);</span><br><span class="line"><span class="comment">//响应pjax</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">tonav</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> position = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">scroll</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> scroll = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (scroll &gt; position) &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none!important&quot;</span>);</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>, <span class="string">&quot;display:none&quot;</span>);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  position = scroll;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scrollToTop</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;display:none&quot;</span>);</span><br><span class="line">    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//修复没有弄右键菜单的童鞋无法回顶部的问题</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;page-name&quot;</span>).<span class="property">innerText</span> = <span class="variable language_">document</span>.<span class="property">title</span>.<span class="title function_">split</span>(<span class="string">&quot; | Ariasakaの小窝&quot;</span>)[<span class="number">0</span>];&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>最后添加如下css，按照注释修改参数：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">2022.10.4更新：</span></span><br><span class="line"><span class="comment">根据我发现的没有自适应，间距不合理问题进行调整，如果用了这个的朋友们建议改一改</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-id">#page-name</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">color</span>:white<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">top</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">&#x27;回到顶部&#x27;</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="built_in">var</span>(--lyx-theme);</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">45px</span>; <span class="comment">/*如果垂直位置不居中可以微调此值，也可以删了*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:before</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>:<span class="number">900px</span>)&#123;</span><br><span class="line">    <span class="selector-id">#page-name</span>,<span class="selector-id">#menus</span>&#123;</span><br><span class="line">      <span class="attribute">display</span>:none<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#name-container</span>&#123;</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -moz-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -ms-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">    -o-<span class="attribute">transition</span>: all .<span class="number">3s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#name-container</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">scale</span>:<span class="number">1.03</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#page-name</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">10px</span> <span class="number">30px</span><span class="comment">/*如果文字间隔不合理可以微调修改，第二个是水平方向的padding，第一个是垂直的*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#nav</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>恭喜你获得了一个更好的导航栏！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>各种HTTP状态码大全（带表情包）</title>
    <link href="https://blog.yaria.top/posts/53e6b356/"/>
    <id>https://blog.yaria.top/posts/53e6b356/</id>
    <published>2022-08-28T03:23:00.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>HTTP状态码很多，有时候搞得人不明所以，我就介绍一下吧。</p><div class="note info flat"><p>本文的每一个状态码前面的介绍摘自网上的解释，后面的就是我自己的一些理解，会更通俗易懂。</p></div><h1 id="1xx"><a class="markdownIt-Anchor" href="#1xx"></a> 1xx</h1><p>这类状态码一般很少见，不会过多赘述，一般指请求中的状态</p><h2 id="100-continue"><a class="markdownIt-Anchor" href="#100-continue"></a> 100 Continue</h2><p>客户端应当继续发送请求。这个临时响应是用来通知客户端它的部分请求已经被服务器接收，且仍未被拒绝。客户端应当继续发送请求的剩余部分，或者如果请求已经完成，忽略这个响应。服务器必须在请求完成后向客户端发送一个最终响应。</p><p>大概就是说你数据还没有传完或者正在请求状态，服务器还没有处理完。</p><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca1246db0b3.webp" alt="1661911056413" /></p><h2 id="101-switching-protocols"><a class="markdownIt-Anchor" href="#101-switching-protocols"></a> 101 Switching Protocols</h2><p>服务器已经理解了客户端的请求，并将通过Upgrade 消息头通知客户端采用不同的协议来完成这个请求。在发送完这个响应最后的空行后，服务器将会切换到在Upgrade 消息头中定义的那些协议。只有在切换新的协议更有好处的时候才应该采取类似措施。例如，切换到新的HTTP 版本比旧版本更有优势，或者切换到一个实时且同步的协议以传送利用此类特性的资源。</p><p>大概就是说服务器听懂你的请求了，不过她不想用这个协议来请求，让你使用其它协议<s>欸，你这个协议也太™过时了吧，都什么年代了，用这个！！！</s></p><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca12495cbe1.webp" alt="1661911248151" /></p><h2 id="102-processing"><a class="markdownIt-Anchor" href="#102-processing"></a> 102 Processing</h2><p>由WebDAV（RFC 2518）扩展的状态码，代表处理将被继续执行。</p><p>就是说没处理完让你继续执行</p><h1 id="2xx"><a class="markdownIt-Anchor" href="#2xx"></a> 2xx</h1><p>这种状态码一般就说明请求正常了。</p><h2 id="200-ok"><a class="markdownIt-Anchor" href="#200-ok"></a> 200 OK</h2><p>请求已成功，请求所希望的响应头或数据体将随此响应返回。</p><p>就是服务器正常处理了数据，并且返回了内容。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca124abbd2c.webp" alt="1661662892948" /></p><h2 id="201-created"><a class="markdownIt-Anchor" href="#201-created"></a> 201 Created</h2><p>请求已经被实现，而且有一个新的资源已经依据请求的需要而建立，且其 URI 已经随Location 头信息返回。假如需要的资源无法及时建立的话，应当返回 ‘202 Accepted’。</p><p>大概就是说服务器已经按照请求的事情按照来做了。</p><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca124ccc711.webp" alt="1661911515327" /></p><h2 id="202-accepted"><a class="markdownIt-Anchor" href="#202-accepted"></a> 202 Accepted</h2><p>服务器已接受请求，但尚未处理。正如它可能被拒绝一样，最终该请求可能会也可能不会被执行。在异步操作的场合下，没有比发送这个状态码更方便的做法了。返回202状态码的响应的目的是允许服务器接受其他过程的请求（例如某个每天只执行一次的基于批处理的操作），而不必让客户端一直保持与服务器的连接直到批处理操作全部完成。在接受请求处理并返回202状态码的响应应当在返回的实体中包含一些指示处理当前状态的信息，以及指向处理状态监视器或状态预测的指针，以便用户能够估计操作是否已经完成。</p><p>服务端已经接受了请求，不过还没处理你要干的事。可能后面干脆不干了，可能等一会才行。如果是异步操作的话，这个状态码很适合拿来用。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca124dad25b.webp" alt="1661662919775" /></p><h2 id="203-non-authoritative-information"><a class="markdownIt-Anchor" href="#203-non-authoritative-information"></a> 203 Non-Authoritative Information</h2><p>服务器已成功处理了请求，但返回的实体头部元信息不是在原始服务器上有效的确定集合，而是来自本地或者第三方的拷贝。当前的信息可能是原始版本的子集或者超集。例如，包含资源的元数据可能导致原始服务器知道元信息的超级。使用此状态码不是必须的，而且只有在响应不使用此状态码便会返回200 OK的情况下才是合适的。</p><p>大概就是说跟HTTP 200差不多，不过它返回的是一个“转载文章”，也可能是改过的。</p><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca124f5f43d.webp" alt="1661911834022" /></p><h2 id="204-no-content"><a class="markdownIt-Anchor" href="#204-no-content"></a> 204 No Content</h2><p>服务器成功处理了请求，但不需要返回任何实体内容，并且希望返回更新了的元信息。响应可能通过实体头部的形式，返回新的或更新后的元信息。如果存在这些头部信息，则应当与所请求的变量相呼应。如果客户端是浏览器的话，那么用户浏览器应保留发送了该请求的页面，而不产生任何文档视图上的变化，即使按照规范新的或更新后的元信息应当被应用到用户浏览器活动视图中的文档。由于204响应被禁止包含任何消息体，因此它始终以消息头后的第一个空行结尾。</p><p>大概就是说服务器响应了，但是啥都没返回。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1250ebe26.webp" alt="1661663036705" /></p><h2 id="205-reset-content"><a class="markdownIt-Anchor" href="#205-reset-content"></a> 205 Reset Content</h2><p>服务器成功处理了请求，且没有返回任何内容。但是与204响应不同，返回此状态码的响应要求请求者重置文档视图。该响应主要是被用于接受用户输入后，立即重置表单，以便用户能够轻松地开始另一次输入。与204响应一样，该响应也被禁止包含任何消息体，且以消息头后的第一个空行结束。</p><p>大概就是说跟204差不多，不过服务器要让你刷新一下，到时候方便用户。</p><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca1252867bd.webp" alt="1661911932339" /></p><h2 id="206-partial-content"><a class="markdownIt-Anchor" href="#206-partial-content"></a> 206 Partial Content</h2><p>服务器已经成功处理了部分 GET 请求。类似于 FlashGet 或者迅雷这类的 HTTP 下载工具都是使用此类响应实现断点续传或者将一个大文档分解为多个下载段同时下载。该请求必须包含 Range 头信息来指示客户端希望得到的内容范围，并且可能包含 If-Range 来作为请求条件。响应必须包含如下的头部域：Content-Range 用以指示本次响应中返回的内容的范围；如果是 Content-Type 为 multipart/byteranges 的多段下载，则每一 multipart 段中都应包含 Content-Range 域用以指示本段的内容范围。假如响应中包含 Content-Length，那么它的数值必须匹配它返回的内容范围的真实字节数。DateETag 和/或 Content-Location，假如同样的请求本应该返回200响应。Expires, Cache-Control，和/或 Vary，假如其值可能与之前相同变量的其他响应对应的值不同的话。假如本响应请求使用了 If-Range 强缓存验证，那么本次响应不应该包含其他实体头；假如本响应的请求使用了 If-Range 弱缓存验证，那么本次响应禁止包含其他实体头；这避免了缓存的实体内容和更新了的实体头信息之间的不一致。否则，本响应就应当包含所有本应该返回200响应中应当返回的所有实体头部域。假如 ETag 或 Last-Modified 头部不能精确匹配的话，则客户端缓存应禁止将206响应返回的内容与之前任何缓存过的内容组合在一起。任何不支持 Range 以及 Content-Range 头的缓存都禁止缓存206响应返回的内容。</p><p>大概就是说服务器返回了这个文件的一部分，但是不完整，一般用于多线程下载。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1253f23d7.webp" alt="1661663171336" /></p><h2 id="207-multi-status"><a class="markdownIt-Anchor" href="#207-multi-status"></a> 207 Multi-Status</h2><p>由WebDAV(RFC 2518)扩展的状态码，代表之后的消息体将是一个XML消息，并且可能依照之前子请求数量的不同，包含一系列独立的响应代码。</p><p>大概就是说待会会给你返回一堆XML。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1255a3620.webp" alt="1661912039377" /></p><h2 id="208-already-reported"><a class="markdownIt-Anchor" href="#208-already-reported"></a> 208 Already Reported</h2><p>响应已发送</p><h2 id="226-im-used"><a class="markdownIt-Anchor" href="#226-im-used"></a> 226 IM Used</h2><p>已完成响应</p><h1 id="3xx"><a class="markdownIt-Anchor" href="#3xx"></a> 3xx</h1><h2 id="300-multiple-choices"><a class="markdownIt-Anchor" href="#300-multiple-choices"></a> 300 Multiple Choices</h2><p>被请求的资源有一系列可供选择的回馈信息，每个都有自己特定的地址和浏览器驱动的商议信息。用户或浏览器能够自行选择一个首选的地址进行重定向。 　　除非这是一个 HEAD 请求，否则该响应应当包括一个资源特性及地址的列表的实体，以便用户或浏览器从中选择最合适的重定向地址。这个实体的格式由 Content-Type 定义的格式所决定。浏览器可能根据响应的格式以及浏览器自身能力，自动作出最合适的选择。当然，RFC 2616规范并没有规定这样的自动选择该如何进行。 　　如果服务器本身已经有了首选的回馈选择，那么在 Location 中应当指明这个回馈的 URI；浏览器可能会将这个 Location 值作为自动重定向的地址。此外，除非额外指定，否则这个响应也是可缓存的。</p><p>大概就是说给你好几个URL，看你自己要跳转到哪个。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12569a9ab.webp" alt="1661912241417" /></p><h2 id="301-moved-permanently"><a class="markdownIt-Anchor" href="#301-moved-permanently"></a> 301 Moved Permanently</h2><p>被请求的资源已永久移动到新位置，并且将来任何对此资源的引用都应该使用本响应返回的若干个 URI 之一。如果可能，拥有链接编辑功能的客户端应当自动把请求的地址修改为从服务器反馈回来的地址。除非额外指定，否则这个响应也是可缓存的。 　　新的永久性的 URI 应当在响应的 Location 域中返回。除非这是一个 HEAD 请求，否则响应的实体中应当包含指向新的 URI 的超链接及简短说明。 　　如果这不是一个 GET 或者 HEAD 请求，因此浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。 　　注意：对于某些使用 HTTP/1.0 协议的浏览器，当它们发送的 POST 请求得到了一个301响应的话，接下来的重定向请求将会变成 GET 方式。</p><p>大概就是说东西已经不在了，放到其它地方了，并且还会带你去那个新的地方，且如果你开始是post请求，是可以转到get的，不过没有强求。</p><div class="note info flat"><p>注:301会让搜索引擎把权重移到新页面并且在废弃原来的权重，如果你是永久换域名建议使用301代码，302的话会影响SEO</p></div><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12583e655.webp" alt="1661663335722" /></p><h2 id="302-found"><a class="markdownIt-Anchor" href="#302-found"></a> 302 Found</h2><p>请求的资源现在临时从不同的 URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。 　　新的临时性的 URI 应当在响应的 Location 域中返回。除非这是一个 HEAD 请求，否则响应的实体中应当包含指向新的 URI 的超链接及简短说明。 　　如果这不是一个 GET 或者 HEAD 请求，那么浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。 　　注意：虽然RFC 1945和RFC 2068规范不允许客户端在重定向时改变请求的方法，但是很多现存的浏览器将302响应视作为303响应，并且使用 GET 方式访问在 Location 中规定的 URI，而无视原先请求的方法。状态码303和307被添加了进来，用以明确服务器期待客户端进行何种反应。</p><p>就是说资源临时转移了，如果你开始是post请求，是可以转到get的，不过没有强求。</p><h2 id="303-see-other"><a class="markdownIt-Anchor" href="#303-see-other"></a> 303 See Other</h2><p>当前请求的资源在其它地址</p><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca1259c4a8c.webp" alt="1661912526788" /></p><h2 id="304-not-modified"><a class="markdownIt-Anchor" href="#304-not-modified"></a> 304 Not Modified</h2><p>如果客户端发送了一个带条件的 GET 请求且该请求已被允许，而文档的内容（自上次访问以来或者根据请求的条件）并没有改变，则服务器应当返回这个状态码。304响应禁止包含消息体，因此始终以消息头后的第一个空行结尾。 　　该响应必须包含以下的头信息： 　　Date，除非这个服务器没有时钟。假如没有时钟的服务器也遵守这些规则，那么代理服务器以及客户端可以自行将 Date 字段添加到接收到的响应头中去（正如RFC 2068中规定的一样），缓存机制将会正常工作。 　　ETag 和/或 Content-Location，假如同样的请求本应返回200响应。 　　Expires, Cache-Control，和/或Vary，假如其值可能与之前相同变量的其他响应对应的值不同的话。 　　假如本响应请求使用了强缓存验证，那么本次响应不应该包含其他实体头；否则（例如，某个带条件的 GET 请求使用了弱缓存验证），本次响应禁止包含其他实体头；这避免了缓存了的实体内容和更新了的实体头信息之间的不一致。 　　假如某个304响应指明了当前某个实体没有缓存，那么缓存系统必须忽视这个响应，并且重复发送不包含限制条件的请求。 　　假如接收到一个要求更新某个缓存条目的304响应，那么缓存系统必须更新整个条目以反映所有在响应中被更新的字段的值。</p><p>就是说本地之前缓存过文件，且如果服务端的文件并没有发生过变化，就会响应304，用Service Worker的朋友们应该很熟悉，且响应文本无任何内容。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca125b67487.webp" alt="1661912777292" /></p><h2 id="305-use-proxy"><a class="markdownIt-Anchor" href="#305-use-proxy"></a> 305 Use Proxy</h2><p>被请求的资源必须通过指定的代理才能被访问。Location 域中将给出指定的代理所在的 URI 信息，接收者需要重复发送一个单独的请求，通过这个代理才能访问相应资源。只有原始服务器才能建立305响应。 　　注意：RFC 2068中没有明确305响应是为了重定向一个单独的请求，而且只能被原始服务器建立。忽视这些限制可能导致严重的安全后果。</p><p>就是说服务端要求你必须挂某些特定的梯子才能访问。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca125d120f1.webp" alt="1661912999121" /></p><h2 id="306-switch-proxy"><a class="markdownIt-Anchor" href="#306-switch-proxy"></a> 306 Switch Proxy</h2><div class="note warning flat"><p>注意：本代码已经被HTTP官方干没了。</p></div><p>请切换代理。</p><p>大概类似于305，请求你切换代理<del class="noheimu">（梯子）</del></p><h2 id="307-temporary-redirect"><a class="markdownIt-Anchor" href="#307-temporary-redirect"></a> 307 Temporary Redirect</h2><p>请求的资源现在临时从不同的URI 响应请求。由于这样的重定向是临时的，客户端应当继续向原有地址发送以后的请求。只有在Cache-Control或Expires中进行了指定的情况下，这个响应才是可缓存的。 　　新的临时性的URI 应当在响应的 Location 域中返回。除非这是一个HEAD 请求，否则响应的实体中应当包含指向新的URI 的超链接及简短说明。因为部分浏览器不能识别307响应，因此需要添加上述必要信息以便用户能够理解并向新的 URI 发出访问请求。 　　如果这不是一个GET 或者 HEAD 请求，那么浏览器禁止自动进行重定向，除非得到用户的确认，因为请求的条件可能因此发生变化。</p><p>就是说类似于302，不过不允许更换post到get请求，防止发生不必要的问题。</p><h2 id="308-permanent-redirect"><a class="markdownIt-Anchor" href="#308-permanent-redirect"></a> 308 Permanent Redirect</h2><p>我并没有找到官方解释，因为这个状态码较新。大概就是说类似于301，不过跟307一样不允许更换post到get请求，防止发生不必要的问题。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca125e8b08c.webp" alt="1661913176102" /></p><h1 id="4xx"><a class="markdownIt-Anchor" href="#4xx"></a> 4xx</h1><p>遇到这种问题，就要检查一下客户端了。</p><h2 id="400-bad-request"><a class="markdownIt-Anchor" href="#400-bad-request"></a> 400 Bad Request</h2><p>1、语义有误，当前请求无法被服务器理解。除非进行修改，否则客户端不应该重复提交这个请求。 　　2、请求参数有误。</p><p>大概就是说服务器听不懂你请求的是啥。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12600ca92.webp" alt="1661664305827" /></p><h2 id="401-unauthorized"><a class="markdownIt-Anchor" href="#401-unauthorized"></a> 401 Unauthorized</h2><p>当前请求需要用户验证。该响应必须包含一个适用于被请求资源的 WWW-Authenticate 信息头用以询问用户信息。客户端可以重复提交一个包含恰当的 Authorization 头信息的请求。如果当前请求已经包含了 Authorization 证书，那么401响应代表着服务器验证已经拒绝了那些证书。如果401响应包含了与前一个响应相同的身份验证询问，且浏览器已经至少尝试了一次验证，那么浏览器应当向用户展示响应中包含的实体信息，因为这个实体信息中可能包含了相关诊断信息。参见RFC 2617。</p><p>大概就是说没有认证，一般会出现在一些滥用api、cdn还有api需要token、key的情况下，用于防止信息泄露或者防止滥用。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1261c1fdd.webp" alt="1661913481770" /></p><h2 id="402-payment-required"><a class="markdownIt-Anchor" href="#402-payment-required"></a> 402 Payment Required</h2><p>该状态码正在试验中，并未正式投入使用，摘自Mozila MDN Web Docs。</p><p>有时， 这个状态码表明直到客户端付费之后请求才会被处理。402 状态码被创建最初目的是用于数字现金或微型支付系统， 表明客户端请求的内容只有付费之后才能获取。目前还不存在标准的使用约定， 不同的实体可以在不同的环境下使用。</p><p>大概就是说要给钱才能看~~(指不可描述的内容)~~</p><p>如图:</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12636f173.webp" alt="1661913632452" /></p><h2 id="403-forbidden"><a class="markdownIt-Anchor" href="#403-forbidden"></a> 403 Forbidden</h2><p>服务器已经理解请求，但是拒绝执行它。与401响应不同的是，身份验证并不能提供任何帮助，而且这个请求也不应该被重复提交。如果这不是一个 HEAD 请求，而且服务器希望能够讲清楚为何请求不能被执行，那么就应该在实体内描述拒绝的原因。当然服务器也可以返回一个404响应，假如它不希望让客户端获得任何信息。</p><p>大概就是说服务器不听话，不干了，类似于401，也可以防止用于防止信息泄露或者防止滥用，一般会在爬虫没带UA时或者IP被ban时出现。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1264e023a.webp" alt="1661664685220" /></p><h2 id="404-not-found"><a class="markdownIt-Anchor" href="#404-not-found"></a> 404 Not Found</h2><p>请求失败，请求所希望得到的资源未被在服务器上发现。没有信息能够告诉用户这个状况到底是暂时的还是永久的。假如服务器知道情况的话，应当使用410状态码来告知旧资源因为某些内部的配置机制问题，已经永久的不可用，而且没有任何可以跳转的地址。404这个状态码被广泛应用于当服务器不想揭示到底为何请求被拒绝或者没有其他适合的响应可用的情况下。</p><p>这个状态码人尽皆知，大概就是说服务器找不到资源了。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12668235c.webp" alt="1661664935494" /></p><h2 id="405-method-not-allowed"><a class="markdownIt-Anchor" href="#405-method-not-allowed"></a> 405 Method Not Allowed</h2><p>请求行中指定的请求方法不能被用于请求相应的资源。该响应必须返回一个Allow 头信息用以表示出当前资源能够接受的请求方法的列表。 　　鉴于 PUT，DELETE 方法会对服务器上的资源进行写操作，因而绝大部分的网页服务器都不支持或者在默认配置下不允许上述请求方法，对于此类请求均会返回405错误。</p><p>大概就是说这个资源没法用这个请求方法（比如一个有了的资源你还要新建一个不是zz吗），要不就是为了保护服务器的资源</p><h2 id="406-not-acceptable"><a class="markdownIt-Anchor" href="#406-not-acceptable"></a> 406 Not Acceptable</h2><p>请求的资源的内容特性无法满足请求头中的条件，因而无法生成响应实体。 　　除非这是一个 HEAD 请求，否则该响应就应当返回一个包含可以让用户或者浏览器从中选择最合适的实体特性以及地址列表的实体。实体的格式由 Content-Type 头中定义的媒体类型决定。浏览器可以根据格式及自身能力自行作出最佳选择。但是，规范中并没有定义任何作出此类自动选择的标准。</p><p>大概就是说你给的参数不够没法处理。</p><h2 id="407-proxy-authentication-required"><a class="markdownIt-Anchor" href="#407-proxy-authentication-required"></a> 407 Proxy Authentication Required</h2><p>代理服务器必须返回一个 Proxy-Authenticate 用以进行身份询问。客户端可以返回一个 Proxy-Authorization 信息头用以验证。参见RFC 2617。</p><p>与401响应类似，只不过客户端必须在代理服务器上进行身份验证。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1273a3da9.webp" alt="1661913849636" /></p><h2 id="408-request-timeouts"><a class="markdownIt-Anchor" href="#408-request-timeouts"></a> 408 Request Timeouts</h2><p>请求超时。客户端没有在服务器预备等待的时间内完成一个请求的发送。客户端可以随时再次提交这一请求而无需进行任何更改。</p><h2 id="409-conflict"><a class="markdownIt-Anchor" href="#409-conflict"></a> 409 Conflict</h2><p>由于和被请求的资源的当前状态之间存在冲突，请求无法完成。这个代码只允许用在这样的情况下才能被使用：用户被认为能够解决冲突，并且会重新提交新的请求。该响应应当包含足够的信息以便用户发现冲突的源头。 　　冲突通常发生于对 PUT 请求的处理中。例如，在采用版本检查的环境下，某次 PUT 提交的对特定资源的修改请求所附带的版本信息与之前的某个（第三方）请求向冲突，那么此时服务器就应该返回一个409错误，告知用户请求无法完成。此时，响应实体中很可能会包含两个冲突版本之间的差异比较，以便用户重新提交归并以后的新版本。</p><p>大概就是说资源存在冲突没法进行。</p><h2 id="410-gone"><a class="markdownIt-Anchor" href="#410-gone"></a> 410 Gone</h2><p>被请求的资源在服务器上已经不再可用，而且没有任何已知的转发地址。这样的状况应当被认为是永久性的。如果可能，拥有链接编辑功能的客户端应当在获得用户许可后删除所有指向这个地址的引用。如果服务器不知道或者无法确定这个状况是否是永久的，那么就应该使用404状态码。除非额外说明，否则这个响应是可缓存的。 　　410响应的目的主要是帮助网站管理员维护网站，通知用户该资源已经不再可用，并且服务器拥有者希望所有指向这个资源的远端连接也被删除。这类事件在限时、增值服务中很普遍。同样，410响应也被用于通知客户端在当前服务器站点上，原本属于某个个人的资源已经不再可用。当然，是否需要把所有永久不可用的资源标记为’410 Gone’，以及是否需要保持此标记多长时间，完全取决于服务器拥有者。</p><p>大概就是说资源彻底没了，这辈子都找不回来，如果没法确定应该返回404。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1279e45f9.webp" alt="1661665148392" /></p><h2 id="411"><a class="markdownIt-Anchor" href="#411"></a> 411</h2><p>服务器拒绝在没有定义 Content-Length 头的情况下接受请求。在添加了表明请求消息体长度的有效 Content-Length 头之后，客户端可以再次提交该请求。</p><p>就是说你的请求头没带Content-Length，服务器不干</p><h2 id="411-length-required"><a class="markdownIt-Anchor" href="#411-length-required"></a> 411 Length Required</h2><p>服务器在验证在请求的头字段中给出先决条件时，没能满足其中的一个或多个。这个状态码允许客户端在获取资源时在请求的元信息（请求头字段数据）中设置先决条件，以此避免该请求方法被应用到其希望的内容以外的资源上。</p><p>大概就是说你的参数不满足条件，服务器不干。</p><h2 id="412-precondition-failed"><a class="markdownIt-Anchor" href="#412-precondition-failed"></a> 412 Precondition Failed</h2><p>请求条件错误</p><h2 id="413-payload-too-large"><a class="markdownIt-Anchor" href="#413-payload-too-large"></a> 413 Payload Too Large</h2><p>服务器拒绝处理当前请求，因为该请求提交的实体数据大小超过了服务器愿意或者能够处理的范围。此种情况下，服务器可以关闭连接以免客户端继续发送此请求。 　　如果这个状况是临时的，服务器应当返回一个 Retry-After 的响应头，以告知客户端可以在多少时间以后重新尝试。</p><p>大概就是说请求时给的数据太大了，服务器没法处理。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca127f9d327.webp" alt="1661914120647" /></p><h2 id="414-request-uri-too-long"><a class="markdownIt-Anchor" href="#414-request-uri-too-long"></a> 414 Request-URI Too Long</h2><p>请求的URI 长度超过了服务器能够解释的长度，因此服务器拒绝对该请求提供服务。这比较少见，通常的情况包括： 　　本应使用POST方法的表单提交变成了GET方法，导致查询字符串（Query String）过长。 　　重定向URI “黑洞”，例如每次重定向把旧的 URI 作为新的 URI 的一部分，导致在若干次重定向后 URI 超长。 　　客户端正在尝试利用某些服务器中存在的安全漏洞攻击服务器。这类服务器使用固定长度的缓冲读取或操作请求的 URI，当 GET 后的参数超过某个数值后，可能会产生缓冲区溢出，导致任意代码被执行[1]。没有此类漏洞的服务器，应当返回414状态码。</p><p>大概就是说URL太长了，常出现在sitemap无限抓取和GFW墙的时候导致无限URL延长的时候。</p><h2 id="415-unsupported-media-type"><a class="markdownIt-Anchor" href="#415-unsupported-media-type"></a> 415 Unsupported Media Type</h2><p>对于当前请求的方法和所请求的资源，请求中提交的实体并不是服务器中所支持的格式，因此请求被拒绝。</p><p>大概就是说请求头格式错了。</p><h2 id="416-range-not-satisfiable"><a class="markdownIt-Anchor" href="#416-range-not-satisfiable"></a> 416 Range Not Satisfiable</h2><p>如果请求中包含了 Range 请求头，并且 Range 中指定的任何数据范围都与当前资源的可用范围不重合，同时请求中又没有定义 If-Range 请求头，那么服务器就应当返回416状态码。 　　假如 Range 使用的是字节范围，那么这种情况就是指请求指定的所有数据范围的首字节位置都超过了当前资源的长度。服务器也应当在返回416状态码的同时，包含一个 Content-Range 实体头，用以指明当前资源的长度。这个响应也被禁止使用 multipart/byteranges 作为其 Content-Type。</p><p>就是说请求头不对，具体怎么不对见上。</p><h2 id="417-expectation-failed"><a class="markdownIt-Anchor" href="#417-expectation-failed"></a> 417 Expectation Failed</h2><p>在请求头 Expect 中指定的预期内容无法被服务器满足，或者这个服务器是一个代理服务器，它有明显的证据证明在当前路由的下一个节点上，Expect 的内容无法被满足。</p><p>也是说请求头不对，具体怎么不对见上。</p><h2 id="418-im-a-teapot"><a class="markdownIt-Anchor" href="#418-im-a-teapot"></a> 418 I’m a teapot</h2><p><a href="https://www.bilibili.com/video/BV1GJ411x7h7">点击查看该代码</a><a href="/404.html">解释</a></p><p><s>你 被 骗 了！哈哈，坑你的</s></p><details class="toggle" ><summary class="toggle-button" style="">？！</summary><div class="toggle-content"><p>其实这只是官方的愚人节玩笑。</p><p>客户端错误响应代码表示服务器拒绝冲泡咖啡，因为它是个茶壶。</p><p>该错误是超文本咖啡壶控制协议的参考，和 1998 年愚人节的玩笑。</p><p>现在该代码常被用于反爬虫上。</p></div></details><p>如图：<br /><img src="https://bu.dusays.com/2023/01/20/63ca128163919.webp" alt="1661665538428" /></p><h2 id="421-there-are-too-many-connections-from-your-internet-address"><a class="markdownIt-Anchor" href="#421-there-are-too-many-connections-from-your-internet-address"></a> 421 There are too many connections from your internet address</h2><p>从当前客户端所在的IP地址到服务器的连接数超过了服务器许可的最大范围。通常，这里的IP地址指的是从服务器上看到的客户端地址（比如用户的网关或者代理服务器地址）。在这种情况下，连接数的计算可能涉及到不止一个终端用户。</p><p>就是说单IP连接个数过多，常见于多线程爬虫或下载时报错。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1285392ca.webp" alt="1661914266941" /></p><h2 id="422-unprocessable-entity"><a class="markdownIt-Anchor" href="#422-unprocessable-entity"></a> 422 Unprocessable Entity</h2><p>422 则表现为请求格式错误，但出现了 语义 错误，以至于服务端无法响应。可以理解为服务端能理解请求资源类型 content-type，否则应该返回 415（Unsupported Media Type），也能理解请求实体内容，否则应该返回 400（Bad Request）。</p><p>就是说请求头的格式错误。</p><h2 id="423-locked"><a class="markdownIt-Anchor" href="#423-locked"></a> 423 Locked</h2><p>当前资源被锁定</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca128b70d20.webp" alt="1661914391826" /></p><h2 id="424-failed-dependency"><a class="markdownIt-Anchor" href="#424-failed-dependency"></a> 424 Failed Dependency</h2><p>由于之前的某个请求发生的错误，导致当前请求失败，例如 PROPPATCH。（RFC 4918 WebDAV）</p><p>就是说请求失败了。</p><h2 id="425-unordered-collection"><a class="markdownIt-Anchor" href="#425-unordered-collection"></a> 425 Unordered Collection</h2><p>在WebDav Advanced Collections 草案中定义，但是未出现在《WebDAV 顺序集协议》（RFC 3658）中。</p><p>该状态码含义未知，我觉得可能是请求头语序错误或者请求顺序不对的意思吧。</p><h2 id="426-upgrade-required"><a class="markdownIt-Anchor" href="#426-upgrade-required"></a> 426 Upgrade Required</h2><p>客户端应当切换到TLS/1.0。（RFC 2817）</p><h2 id="428-precondition-required"><a class="markdownIt-Anchor" href="#428-precondition-required"></a> 428 Precondition Required</h2><p>请求未带条件。</p><h2 id="429-too-many-requests"><a class="markdownIt-Anchor" href="#429-too-many-requests"></a> 429 Too Many Requests</h2><p>并发请求过多，常见于爬虫和多线程下载（吾弗知与421何区别矣？）</p><h2 id="431-request-header-fields-too-large"><a class="markdownIt-Anchor" href="#431-request-header-fields-too-large"></a> 431 Request Header Fields Too Large</h2><p>请求头过大</p><h2 id="449-retry-with"><a class="markdownIt-Anchor" href="#449-retry-with"></a> 449 Retry With</h2><p>请重试，多见于一些人机/攻击检测中。</p><h2 id="451-unavailable-for-legal-reasons"><a class="markdownIt-Anchor" href="#451-unavailable-for-legal-reasons"></a> 451 Unavailable For Legal Reasons</h2><p>访问被拒绝（法律的要求）</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca128d42d97.webp" alt="1661914604667" /></p><p><del class="noheimu">看到这个状态码，好好反思反思你的社会主义核心价值观里面放的是什么，还有你的学习资料！</del></p><p><s>114514（幻视）</s></p><h2 id="499-client-closed-request"><a class="markdownIt-Anchor" href="#499-client-closed-request"></a> 499 Client Closed Request</h2><p>客户端主动关闭了连接，常见于爬虫过快的时候触发风控或者超时。</p><h1 id="5xx"><a class="markdownIt-Anchor" href="#5xx"></a> 5xx</h1><p>这种错误就赶紧找站长修复吧。</p><h2 id="500-internal-server-error"><a class="markdownIt-Anchor" href="#500-internal-server-error"></a> 500 Internal Server Error</h2><p>服务器遇到了一个未曾预料的状况，导致了它无法完成对请求的处理。一般来说，这个问题都会在服务器的程序码出错时出现。</p><p>大概就是说服务器程序出现错误了。</p><h2 id="501-not-implemented"><a class="markdownIt-Anchor" href="#501-not-implemented"></a> 501 Not Implemented</h2><p>服务器不支持当前请求所需要的某个功能。当服务器无法识别请求的方法，并且无法支持其对任何资源的请求。</p><p>大概就是说服务器不支持这个请求方法。</p><h2 id="502-bad-gateway"><a class="markdownIt-Anchor" href="#502-bad-gateway"></a> 502 Bad Gateway</h2><p>为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。</p><p>类似于500，也是服务器挂了，然后导致比如内网穿透和CDN、代理、高防这种服务器没法正常请求到源服务器，就会报这种错。</p><h2 id="503-service-unavailable"><a class="markdownIt-Anchor" href="#503-service-unavailable"></a> 503 Service Unavailable</h2><p>由于临时的服务器维护或者过载，服务器当前无法处理请求。这个状况是临时的，并且将在一段时间以后恢复。如果能够预计延迟时间，那么响应中可以包含一个 Retry-After 头用以标明这个延迟时间。如果没有给出这个 Retry-After 信息，那么客户端应当以处理500响应的方式处理它。 　　注意：503状态码的存在并不意味着服务器在过载的时候必须使用它。某些服务器只不过是希望拒绝客户端的连接。</p><p>就是说服务器暂时因为bug、高负载、攻击挂了，比如去年B站那一次就是503。</p><h2 id="504-gateway-timeout"><a class="markdownIt-Anchor" href="#504-gateway-timeout"></a> 504 Gateway Timeout</h2><p>作为网关或者代理工作的服务器尝试执行请求时，未能及时从上游服务器（URI标识出的服务器，例如HTTP、FTP、LDAP）或者辅助服务器（例如DNS）收到响应。 　　注意：某些代理服务器在DNS查询超时时会返回400或者500错误</p><p>一般这种情况要么是服务器遇到503这种情况，要么是服务器挂了像502，要么就是单纯太慢超时了。</p><p>如图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca128fd9973.webp" alt="1661668058582" /></p><h2 id="505-http-version-not-supported"><a class="markdownIt-Anchor" href="#505-http-version-not-supported"></a> 505 HTTP Version Not Supported</h2><p>服务器不支持，或者拒绝支持在请求中使用的 HTTP 版本。这暗示着服务器不能或不愿使用与客户端相同的版本。响应中应当包含一个描述了为何版本不被支持以及服务器支持哪些协议的实体。</p><p>就是说服务器不支持该HTTP版本（总共就只有HTTP1.0,1.1,1.2和2.0啊）</p><h2 id="506-variant-also-negotiates"><a class="markdownIt-Anchor" href="#506-variant-also-negotiates"></a> 506 Variant Also Negotiates</h2><p>由《透明内容协商协议》（RFC 2295）扩展，代表服务器存在内部配置错误：被请求的协商变元资源被配置为在透明内容协商中使用自己，因此在一个协商处理中不是一个合适的重点。</p><p>就是说服务器配置错误</p><h2 id="507-insufficient-storage"><a class="markdownIt-Anchor" href="#507-insufficient-storage"></a> 507 Insufficient Storage</h2><p>服务器无法存储完成请求所必须的内容。这个状况被认为是临时的。WebDAV (RFC 4918)</p><p>一般是因为磁盘、内存太满或者IO超时之类的。</p><h2 id="508-loop-detected"><a class="markdownIt-Anchor" href="#508-loop-detected"></a> 508 Loop Detected</h2><p>服务器陷入死循环，被迫终止操作。</p><h2 id="509-bandwidth-limit-exceeded"><a class="markdownIt-Anchor" href="#509-bandwidth-limit-exceeded"></a> 509 Bandwidth Limit Exceeded</h2><p>服务器达到带宽限制。</p><div class="note warning flat"><p>注：这不是一个官方的状态码，但是被民间广为使用。</p></div><h2 id="510-not-extended"><a class="markdownIt-Anchor" href="#510-not-extended"></a> 510 Not Extended</h2><p>获取资源所需要的策略并没有没满足。（RFC 2774）</p><h2 id="511-network-authentication-required"><a class="markdownIt-Anchor" href="#511-network-authentication-required"></a> 511 Network Authentication Required</h2><p>一般用于外面的登录才能用的共享WiFi上面。</p><h2 id="514"><a class="markdownIt-Anchor" href="#514"></a> 514</h2><p><img src="https://bu.dusays.com/2023/01/20/63ca12a0295cf.webp" alt="1661668348875" /></p><p><a href="https://www.bilibili.com/video/BV1hm4y1Z7y8">点击查看介绍</a></p><details class="toggle" ><summary class="toggle-button" style="">？！</summary><div class="toggle-content"><p>实际上这是一个民间的常用的反滥用CDN的HTTP CODE，并没有官方英文定义。</p><p>具体是上次洪哥的友链页面图片太多导致请求过多时出现的，这个代码太臭了，以至于大家都不想起一个英文名。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a218bda.webp" alt="1661669080051" /></p><p>事实上这个错误码一般是触发了CDN/图床的某些阈值导致的，请自行排查。</p></div></details><h2 id="599-network-connect-timeout-error"><a class="markdownIt-Anchor" href="#599-network-connect-timeout-error"></a> 599 Network Connect Timeout Error</h2><p>网络连接超时（实际上未被RFC定义）</p><p>恭喜你学会了一大堆（68个）HTTP状态码！！！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;HTTP状态码很多，有时候搞得人不明所以，我就介绍一下吧。&lt;/p&gt;
&lt;div class=&quot;note info flat&quot;&gt;&lt;p&gt;本文的每一个状态码前面的介绍摘自网上的解释，后面的就是我自己的一些理解，会更通俗易懂。&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&quot;1xx&quot;&gt;&lt;a c</summary>
      
    
    
    
    <category term="避坑教程" scheme="https://blog.yaria.top/categories/%E9%81%BF%E5%9D%91%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="网络" scheme="https://blog.yaria.top/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>Hexo butterfly首页随便逛逛banner教程</title>
    <link href="https://blog.yaria.top/posts/bd7ef112/"/>
    <id>https://blog.yaria.top/posts/bd7ef112/</id>
    <published>2022-08-25T05:52:35.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><div class="note warning simple"><p>本期教程需要脑子和一定的pug编写能力，小白请谨慎食用！可以在评论区提问，我会想办法帮你解决。</p></div><p>不出意外，这又是一篇水文。这段时间不怎么更新就是因为要开学了要赶作业，而且也在折腾其它的不少东西。相信你们也看到了博客的大变，具体见<a href="/updates">更新日志</a>。</p><p>看到留言板有一位童鞋也问了有关banner的问题，我就简单的介绍一下吧。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122f5bdf4.webp" alt="1661407579436" /></p><p>效果如下：<br /><img src="https://bu.dusays.com/2023/01/20/63ca123067721.webp" alt="1661410083019" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca123183ec9.webp" alt="1661410091186" /></p><p>首先你需要找到一个合适的放banner的位置，因为每个人写的首页顶部内容都不太一样，所以我无能为力。</p><p>好，现在你有了一个banner的容器，这时，你需要在banner的容器里面引入banner的pug，会单独写一个pug用来放容器。</p><p>因为banner用于悬停随机导航，所以我的命名很多以 <code>randomxxx</code>命名</p><p>在要放置banner的容器里面添加(前面有一格缩进)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">include random.<span class="property">pug</span></span><br></pre></td></tr></table></figure><p>然后把<code>random.pug</code>放在同级位置（一般是<code>layout/include</code>），编写:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">div(<span class="built_in">id</span>=<span class="string">&quot;random&quot;</span>)</span><br><span class="line">    iframe(<span class="built_in">id</span>=<span class="string">&quot;random-banner&quot;</span> src=<span class="string">&quot;/people.html&quot;</span> frameborder=<span class="string">&quot;no&quot;</span>)  <span class="comment">#可以换成自己的图片</span></span><br><span class="line">    a(<span class="built_in">id</span>=<span class="string">&quot;random-hover&quot;</span> style=<span class="string">&quot;width:100%;height:auto;&quot;</span> href=<span class="string">&quot;javascript:toRandomPost()&quot;</span>)         <span class="comment">#默认用random.js，也可以换成random.html</span></span><br><span class="line">        span &amp;nbsp</span><br><span class="line">        i.fa.fa-paper-plane</span><br><span class="line">        div &amp;nbsp随便逛逛→</span><br></pre></td></tr></table></figure><div class="note info simple"><p>我自己写的banner效果没有洪哥的好，如果想要那种效果可以自己尝试微调</p></div><p>至于pug内容需要微调，iframe里面的html默认是我使用的人潮汹涌模拟器，如果你需要自己编写也可以，改一改路径即可。随机页面跳转使用洪哥的随机跳转js：</p><a class="tag-Link" target="_blank" href="https://blog.zhheo.com/p/c116857c.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.zhheo.com/p/c116857c.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo的Butterfly魔改：随机网页跳转（无缝版）</div>            <div class="tag-link-sitename">张洪Heo</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后你需要一个banner的iframe嵌套html，我使用洪哥原版并且进行了一些修改，在<code>[blogRoot]/themes/butterfly/source</code>新建一个文件<code>people.html</code>，编写：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>人潮汹涌 Crowd Simulator<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/css/people.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/js/people.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>2022.11.20更新：</p><p>把banner加入Hexo配置文件<code>_config.yml</code>的skip——renderer中(否则会被渲染成完整页面)</p><p><img src="https://bu.dusays.com/2023/01/20/63ca123242134.webp" alt="" /></p><p>你还需要加入几个css和js，务必不要直接使用<s>白嫖</s>洪哥的cdn~~（tianli的不香吗）~~造成损失。</p><p><code>[blogRoot]/themes/butterfly/source/css/people.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>,</span><br><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#canvas</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">display</span>: none</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>[blogRoot]/themes/butterfly/source/js/people.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_toConsumableArray</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">_arrayWithoutHoles</span>(e) || <span class="title function_">_iterableToArray</span>(e) || <span class="title function_">_unsupportedIterableToArray</span>(e) || <span class="title function_">_nonIterableSpread</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_nonIterableSpread</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_unsupportedIterableToArray</span>(<span class="params">e, r</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;string&quot;</span> == <span class="keyword">typeof</span> e) <span class="keyword">return</span> <span class="title function_">_arrayLikeToArray</span>(e, r);</span><br><span class="line">        <span class="keyword">var</span> t = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(e).<span class="title function_">slice</span>(<span class="number">8</span>, -<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Object&quot;</span> === t &amp;&amp; e.<span class="property">constructor</span> &amp;&amp; (t = e.<span class="property">constructor</span>.<span class="property">name</span>), <span class="string">&quot;Map&quot;</span> === t || <span class="string">&quot;Set&quot;</span> === t ? <span class="title class_">Array</span>.<span class="title function_">from</span>(e) : <span class="string">&quot;Arguments&quot;</span> === t || <span class="regexp">/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/</span>.<span class="title function_">test</span>(t) ? <span class="title function_">_arrayLikeToArray</span>(e, r) : <span class="keyword">void</span> <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_iterableToArray</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="title class_">Symbol</span> &amp;&amp; <span class="literal">null</span> != e[<span class="title class_">Symbol</span>.<span class="property">iterator</span>] || <span class="literal">null</span> != e[<span class="string">&quot;@@iterator&quot;</span>]) <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">from</span>(e)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_arrayWithoutHoles</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(e)) <span class="keyword">return</span> <span class="title function_">_arrayLikeToArray</span>(e)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_arrayLikeToArray</span>(<span class="params">e, r</span>) &#123;</span><br><span class="line">    (<span class="literal">null</span> == r || r &gt; e.<span class="property">length</span>) &amp;&amp; (r = e.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>, a = <span class="keyword">new</span> <span class="title class_">Array</span>(r); t &lt; r; t++) a[t] = e[t];</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_classCallCheck</span>(<span class="params">e, r</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!(e <span class="keyword">instanceof</span> r)) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Cannot call a class as a function&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_defineProperties</span>(<span class="params">e, r</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; r.<span class="property">length</span>; t++) &#123;</span><br><span class="line">        <span class="keyword">var</span> a = r[t];</span><br><span class="line">        a.<span class="property">enumerable</span> = a.<span class="property">enumerable</span> || !<span class="number">1</span>, a.<span class="property">configurable</span> = !<span class="number">0</span>, <span class="string">&quot;value&quot;</span> <span class="keyword">in</span> a &amp;&amp; (a.<span class="property">writable</span> = !<span class="number">0</span>), <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(e, a.<span class="property">key</span>, a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">_createClass</span>(<span class="params">e, r, t</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> r &amp;&amp; <span class="title function_">_defineProperties</span>(e.<span class="property"><span class="keyword">prototype</span></span>, r), t &amp;&amp; <span class="title function_">_defineProperties</span>(e, t), e</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> config = &#123;</span><br><span class="line">        <span class="attr">src</span>: <span class="string">&quot;https://f.zhheo.com/Guli/others/open-peeps-sheet.png&quot;</span>,</span><br><span class="line">        <span class="attr">rows</span>: <span class="number">15</span>,</span><br><span class="line">        <span class="attr">cols</span>: <span class="number">7</span></span><br><span class="line">    &#125;,</span><br><span class="line">    randomRange = <span class="keyword">function</span> (<span class="params">e, r</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> e + <span class="title class_">Math</span>.<span class="title function_">random</span>() * (r - e)</span><br><span class="line">    &#125;,</span><br><span class="line">    randomIndex = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span> | <span class="title function_">randomRange</span>(<span class="number">0</span>, e.<span class="property">length</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    removeFromArray = <span class="keyword">function</span> (<span class="params">e, r</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> e.<span class="title function_">splice</span>(r, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    removeItemFromArray = <span class="keyword">function</span> (<span class="params">e, r</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">removeFromArray</span>(e, e.<span class="title function_">indexOf</span>(r))</span><br><span class="line">    &#125;,</span><br><span class="line">    removeRandomFromArray = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">removeFromArray</span>(e, <span class="title function_">randomIndex</span>(e))</span><br><span class="line">    &#125;,</span><br><span class="line">    getRandomFromArray = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> e[<span class="number">0</span> | <span class="title function_">randomIndex</span>(e)]</span><br><span class="line">    &#125;,</span><br><span class="line">    resetPeep = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> r, t, a = e.<span class="property">stage</span>,</span><br><span class="line">            n = e.<span class="property">peep</span>,</span><br><span class="line">            o = <span class="number">.5</span> &lt; <span class="title class_">Math</span>.<span class="title function_">random</span>() ? <span class="number">1</span> : -<span class="number">1</span>,</span><br><span class="line">            i = <span class="number">100</span> - <span class="number">250</span> * gsap.<span class="title function_">parseEase</span>(<span class="string">&quot;power2.in&quot;</span>)(<span class="title class_">Math</span>.<span class="title function_">random</span>()),</span><br><span class="line">            s = a.<span class="property">height</span> - n.<span class="property">height</span> + i;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> == o ? (r = -n.<span class="property">width</span>, t = a.<span class="property">width</span>, n.<span class="property">scaleX</span> = <span class="number">1</span>) : (r = a.<span class="property">width</span> + n.<span class="property">width</span>, t = <span class="number">0</span>, n.<span class="property">scaleX</span> = -<span class="number">1</span>), n.<span class="property">x</span> = r, n.<span class="property">y</span> = s, &#123;</span><br><span class="line">            <span class="attr">startX</span>: r,</span><br><span class="line">            <span class="attr">startY</span>: n.<span class="property">anchorY</span> = s,</span><br><span class="line">            <span class="attr">endX</span>: t</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    normalWalk = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> r = e.<span class="property">peep</span>,</span><br><span class="line">            t = e.<span class="property">props</span>,</span><br><span class="line">            a = (t.<span class="property">startX</span>, t.<span class="property">startY</span>),</span><br><span class="line">            n = t.<span class="property">endX</span>,</span><br><span class="line">            o = gsap.<span class="title function_">timeline</span>();</span><br><span class="line">        <span class="keyword">return</span> o.<span class="title function_">timeScale</span>(<span class="title function_">randomRange</span>(<span class="number">.5</span>, <span class="number">1.5</span>)), o.<span class="title function_">to</span>(r, &#123;</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">10</span>,</span><br><span class="line">            <span class="attr">x</span>: n,</span><br><span class="line">            <span class="attr">ease</span>: <span class="string">&quot;none&quot;</span></span><br><span class="line">        &#125;, <span class="number">0</span>), o.<span class="title function_">to</span>(r, &#123;</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">.25</span>,</span><br><span class="line">            <span class="attr">repeat</span>: <span class="number">40</span>,</span><br><span class="line">            <span class="attr">yoyo</span>: !<span class="number">0</span>,</span><br><span class="line">            <span class="attr">y</span>: a - <span class="number">10</span></span><br><span class="line">        &#125;, <span class="number">0</span>), o</span><br><span class="line">    &#125;,</span><br><span class="line">    walks = [normalWalk],</span><br><span class="line">    <span class="title class_">Peep</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">a</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> r = e.<span class="property">image</span>,</span><br><span class="line">                t = e.<span class="property">rect</span>;</span><br><span class="line">            <span class="title function_">_classCallCheck</span>(<span class="variable language_">this</span>, a), <span class="variable language_">this</span>.<span class="property">image</span> = r, <span class="variable language_">this</span>.<span class="title function_">setRect</span>(t), <span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">y</span> = <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">anchorY</span> = <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">scaleX</span> = <span class="number">1</span>, <span class="variable language_">this</span>.<span class="property">walk</span> = <span class="literal">null</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">_createClass</span>(a, [&#123;</span><br><span class="line">            <span class="attr">key</span>: <span class="string">&quot;setRect&quot;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">rect</span> = e, <span class="variable language_">this</span>.<span class="property">width</span> = e[<span class="number">2</span>], <span class="variable language_">this</span>.<span class="property">height</span> = e[<span class="number">3</span>], <span class="variable language_">this</span>.<span class="property">drawArgs</span> = [<span class="variable language_">this</span>.<span class="property">image</span>].<span class="title function_">concat</span>(<span class="title function_">_toConsumableArray</span>(e), [<span class="number">0</span>, <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">width</span>, <span class="variable language_">this</span>.<span class="property">height</span>])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, &#123;</span><br><span class="line">            <span class="attr">key</span>: <span class="string">&quot;render&quot;</span>,</span><br><span class="line">            <span class="attr">value</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">                e.<span class="title function_">save</span>(), e.<span class="title function_">translate</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>), e.<span class="title function_">scale</span>(<span class="variable language_">this</span>.<span class="property">scaleX</span>, <span class="number">1</span>), e.<span class="property">draw</span>/<span class="title class_">Image</span>.<span class="title function_">apply</span>(e, <span class="title function_">_toConsumableArray</span>(<span class="variable language_">this</span>.<span class="property">drawArgs</span>)), e.<span class="title function_">restore</span>()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;]), a</span><br><span class="line">    &#125;(),</span><br><span class="line">    img = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;img&quot;</span>);</span><br><span class="line">img.<span class="property">onload</span> = init, img.<span class="property">src</span> = config.<span class="property">src</span>;</span><br><span class="line"><span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#canvas&quot;</span>),</span><br><span class="line">    ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>),</span><br><span class="line">    stage = &#123;</span><br><span class="line">        <span class="attr">width</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">height</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    allPeeps = [],</span><br><span class="line">    availablePeeps = [],</span><br><span class="line">    crowd = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">createPeeps</span>(), <span class="title function_">resize</span>(), gsap.<span class="property">ticker</span>.<span class="title function_">add</span>(render), <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, resize)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createPeeps</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = config.<span class="property">rows</span>, r = config.<span class="property">cols</span>, t = e * r, a = img.<span class="property">naturalWidth</span> / e, n = img.<span class="property">naturalHeight</span> / r, o = <span class="number">0</span>; o &lt; t; o++) allPeeps.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">Peep</span>(&#123;</span><br><span class="line">        /<span class="attr">image</span>: img,</span><br><span class="line">        <span class="attr">rect</span>: [o % e * a, (o / e | <span class="number">0</span>) * n, a, n]</span><br><span class="line">    &#125;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resize</span>(<span class="params"></span>) &#123;</span><br><span class="line">    stage.<span class="property">width</span> = canvas.<span class="property">clientWidth</span>, stage.<span class="property">height</span> = canvas.<span class="property">clientHeight</span>, canvas.<span class="property">width</span> = stage.<span class="property">width</span> * devicePixelRatio, canvas.<span class="property">height</span> = stage.<span class="property">height</span> * devicePixelRatio, crowd.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        e.<span class="property">walk</span>.<span class="title function_">kill</span>()</span><br><span class="line">    &#125;), crowd.<span class="property">length</span> = <span class="number">0</span>, availablePeeps.<span class="property">length</span> = <span class="number">0</span>, availablePeeps.<span class="property">push</span>.<span class="title function_">apply</span>(availablePeeps, allPeeps), <span class="title function_">initCrowd</span>()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCrowd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (; availablePeeps.<span class="property">length</span>;) <span class="title function_">addPeepToCrowd</span>().<span class="property">walk</span>.<span class="title function_">progress</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addPeepToCrowd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> e = <span class="title function_">removeRandomFromArray</span>(availablePeeps),</span><br><span class="line">        r = <span class="title function_">getRandomFromArray</span>(walks)(&#123;</span><br><span class="line">            <span class="attr">peep</span>: e,</span><br><span class="line">            <span class="attr">props</span>: <span class="title function_">resetPeep</span>(&#123;</span><br><span class="line">                <span class="attr">peep</span>: e,</span><br><span class="line">                <span class="attr">stage</span>: stage</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;).<span class="title function_">eventCallback</span>(<span class="string">&quot;onComplete&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">removePeepFromCrowd</span>(e), <span class="title function_">addPeepToCrowd</span>()</span><br><span class="line">        &#125;);</span><br><span class="line">    <span class="keyword">return</span> e.<span class="property">walk</span> = r, crowd.<span class="title function_">push</span>(e), crowd.<span class="title function_">sort</span>(<span class="keyword">function</span> (<span class="params">e, r</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> e.<span class="property">anchorY</span> - r.<span class="property">anchorY</span></span><br><span class="line">    &#125;), e</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">removePeepFromCrowd</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="title function_">removeItemFromArray</span>(crowd, e), availablePeeps.<span class="title function_">push</span>(e)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    canvas.<span class="property">width</span> = canvas.<span class="property">width</span>, ctx.<span class="title function_">save</span>(), ctx.<span class="title function_">scale</span>(devicePixelRatio, devicePixelRatio), crowd.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        e.<span class="title function_">render</span>(ctx)</span><br><span class="line">    &#125;), ctx.<span class="title function_">restore</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这时进入网页，你就能看到杂乱而生效的banner了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca123340370.webp" alt="1661409423673" /></p><p>然而这个banner只能看。</p><p>所以我们要添加一些css让它生效</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#random</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">40%</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-white-acrylic1)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: PingFang,微软雅黑,HYTMR,SimSun;</span><br><span class="line">    <span class="attribute">background-size</span>:cover;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-white);</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">44px</span>; <span class="comment">/*觉得小可以开大一点*/</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#random-banner</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>:<span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#random-hover</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0%</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--lyx-<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#random-hover</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">   <span class="attribute">color</span>:<span class="number">#ffffff</span>;</span><br><span class="line">   <span class="attribute">background-color</span>: <span class="number">#425aefdd</span>;</span><br><span class="line">   backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">   -webkit-backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这时banner就正常显示了</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1234400d3.webp" alt="1661409982168" /></p><p>如果需要尺寸较小时隐藏banner，以下css自取：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1050px</span>)&#123;</span><br><span class="line">    <span class="selector-id">#random</span>&#123;</span><br><span class="line">        <span class="attribute">display</span>: none<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>现在你就拥有了一个不错的banner了！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>Butterfly主题的一些侧边栏插件</title>
    <link href="https://blog.yaria.top/posts/4ae2ec41/"/>
    <id>https://blog.yaria.top/posts/4ae2ec41/</id>
    <published>2022-08-19T05:55:27.000Z</published>
    <updated>2022-09-17T14:28:10.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>之前弄了一些插件，糖果屋的群友们也找我问了问，所以我就顺便写了个文章介绍一下这些插件吧。</p><h1 id="1日历插件"><a class="markdownIt-Anchor" href="#1日历插件"></a> 1.日历插件</h1><p>这个插件还不支持pjax，重回主页后会不显示，使用pjax的小伙伴们慎用（我的大部分东西都不支持pjax）或者自己修改js。</p><p>效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13572e78f.webp" alt="1660889640604" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca135a2dfe1.webp" alt="1660889644091" /></p><div class="note simple info flat"><p>注：如果你一天写了多个文章，它只会跳转到你那天的第一篇文章。</p></div><div class="tip warning faa-horizontal animated"><p>2022.12</p><p>发现有严重的性能问题，已不建议使用 <img no-lazy class="inline" src="https://bu.dusays.com/2022/12/10/639459bc472cf.png" style="height:100px;"/></p></div><p>这个日历是我之前在网上意外搜到的，搜了很久。为了防止它不在了，所以就放在这里。</p><a class="tag-Link" target="_blank" href="https://fawenyo.ml/hexo_butterfly_calendar/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/fawenyo.ml/hexo_butterfly_calendar/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly: 文章日曆</div>            <div class="tag-link-sitename">FawenYo</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h2 id="我做了什么"><a class="markdownIt-Anchor" href="#我做了什么"></a> 我做了什么？</h2><ol><li>修复部分bug</li><li>适配本站AcrylicUI</li><li>适配pjax</li></ol><h2 id="教程"><a class="markdownIt-Anchor" href="#教程"></a> 教程</h2><p>这个日历的实现比较简单，放出教程：</p><h3 id="pug部分"><a class="markdownIt-Anchor" href="#pug部分"></a> PUG部分</h3><p>首先添加一些pug,添加 <code>[blogRoot]/themes\butterfly\layout\includes\widget\card_calendar.pug</code><br />，然后编辑以下内容:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> theme.<span class="property">aside</span>.<span class="property">card_calendar</span>.<span class="property">enable</span></span><br><span class="line">  .<span class="property">card</span>-widget.<span class="property">card</span>-calendar</span><br><span class="line">    .<span class="property">card</span>-content</span><br><span class="line">      .<span class="property">item</span>-headline</span><br><span class="line">        i.<span class="property">fas</span>.<span class="property">fa</span>-calendar</span><br><span class="line">        span= <span class="title function_">_p</span>(<span class="string">&#x27;文章日历&#x27;</span>)</span><br><span class="line">      div#calendar.<span class="property">widget</span></span><br></pre></td></tr></table></figure><p>然后在主pug中引入，编辑 <code>[blogRoot]\themes\butterfly\layout\includes\widget\index.pug</code>：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#aside-content.aside-content</span><br><span class="line">  //- post</span><br><span class="line">  if is_post()</span><br><span class="line">    - const tocStyle = page.toc_style_simple</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">  else</span><br><span class="line">    //- page</span><br><span class="line">    ...  </span><br><span class="line">    .sticky_layout</span><br><span class="line">      if showToc</span><br><span class="line">        include ./card_post_toc.pug</span><br><span class="line"><span class="addition">+      !=partial(&#x27;includes/widget/card_calendar&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">      if theme.weather.enable</span><br><span class="line">        .card-widget.card-weather(style=&#x27;width:100%,height:270px&#x27;)</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p>如果你想要在文章页中也显示，按照这样编辑：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#aside-content.aside-content</span><br><span class="line">  //- post</span><br><span class="line">  if is_post()</span><br><span class="line">    ...</span><br><span class="line">    if showToc &amp;&amp; tocStyleVal</span><br><span class="line">      ...</span><br><span class="line">    else</span><br><span class="line">      ...</span><br><span class="line">      !=partial(&#x27;includes/widget/card_history&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+      !=partial(&#x27;includes/widget/card_calendar&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">      .sticky_layout</span><br><span class="line">        ...</span><br><span class="line">    </span><br><span class="line">  else</span><br><span class="line">    //- page</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><h3 id="主题配置"><a class="markdownIt-Anchor" href="#主题配置"></a> 主题配置</h3><p>然后修改主题配置文件：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">aside:</span><br><span class="line">  enable: true</span><br><span class="line">  hide: false</span><br><span class="line">  button: true</span><br><span class="line">  mobile: false # display on mobile</span><br><span class="line">  position: left # left or right</span><br><span class="line">  archives: true</span><br><span class="line">  card_author:</span><br><span class="line">    enable: true</span><br><span class="line">    ...</span><br><span class="line">  card_announcement:</span><br><span class="line">    enable: true</span><br><span class="line">    content: ...</span><br><span class="line"><span class="addition">+  card_calendar:</span></span><br><span class="line"><span class="addition">+    enable: true</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><h3 id="js部分"><a class="markdownIt-Anchor" href="#js部分"></a> JS部分</h3><p>接下来添加js：</p><p>添加 <code>[blogRoot]/themes/butterfly/source/js/languages.js</code>:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> calLanguages = &#123;</span><br><span class="line">    <span class="attr">ar</span>: &#123; <span class="comment">// Arabic</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;كانون الثاني&#x27;</span>, <span class="string">&#x27;شباط&#x27;</span>, <span class="string">&#x27;آذار&#x27;</span>, <span class="string">&#x27;نيسان&#x27;</span>, <span class="string">&#x27;مايو&#x27;</span>, <span class="string">&#x27;حزيران&#x27;</span>, <span class="string">&#x27;تموز&#x27;</span>, <span class="string">&#x27;آب&#x27;</span>, <span class="string">&#x27;أيلول&#x27;</span>, <span class="string">&#x27;تشرين الأول&#x27;</span>, <span class="string">&#x27;تشرين الثاني&#x27;</span>, <span class="string">&#x27;كانون الأول&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;ن&#x27;</span>, <span class="string">&#x27;ث&#x27;</span>, <span class="string">&#x27;ع&#x27;</span>, <span class="string">&#x27;خ&#x27;</span>, <span class="string">&#x27;ج&#x27;</span>, <span class="string">&#x27;س&#x27;</span>, <span class="string">&#x27;ح&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;الأحد&#x27;</span>, <span class="string">&#x27;الاثنين&#x27;</span>, <span class="string">&#x27;الثلاثاء&#x27;</span>, <span class="string">&#x27;الأربعاء&#x27;</span>, <span class="string">&#x27;الخميس&#x27;</span>, <span class="string">&#x27;الجمعة&#x27;</span>, <span class="string">&#x27;السبت&#x27;</span>, <span class="string">&#x27;الأحد&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ro</span>: &#123; <span class="comment">// Romanian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Ianuarie&#x27;</span>, <span class="string">&#x27;Februarie&#x27;</span>, <span class="string">&#x27;Martie&#x27;</span>, <span class="string">&#x27;Aprilie&#x27;</span>, <span class="string">&#x27;Mai&#x27;</span>, <span class="string">&#x27;Iunie&#x27;</span>, <span class="string">&#x27;Iulie&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;Septembrie&#x27;</span>, <span class="string">&#x27;Octombrie&#x27;</span>, <span class="string">&#x27;Noiembrie&#x27;</span>, <span class="string">&#x27;Decembrie&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Du&#x27;</span>, <span class="string">&#x27;Lu&#x27;</span>, <span class="string">&#x27;Ma&#x27;</span>, <span class="string">&#x27;Mi&#x27;</span>, <span class="string">&#x27;Jo&#x27;</span>, <span class="string">&#x27;Vi&#x27;</span>, <span class="string">&#x27;Sâ&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Duminică&#x27;</span>, <span class="string">&#x27;Luni&#x27;</span>, <span class="string">&#x27;Marţi&#x27;</span>, <span class="string">&#x27;Miercuri&#x27;</span>, <span class="string">&#x27;Joi&#x27;</span>, <span class="string">&#x27;Vineri&#x27;</span>, <span class="string">&#x27;Sâmbătă&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">id</span>: &#123; <span class="comment">// Indonesian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januari&#x27;</span>, <span class="string">&#x27;Februari&#x27;</span>, <span class="string">&#x27;Maret&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Mei&#x27;</span>, <span class="string">&#x27;Juni&#x27;</span>, <span class="string">&#x27;Juli&#x27;</span>, <span class="string">&#x27;Agustus&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;Desember&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Min&#x27;</span>, <span class="string">&#x27;Sen&#x27;</span>, <span class="string">&#x27;Sel&#x27;</span>, <span class="string">&#x27;Rab&#x27;</span>, <span class="string">&#x27;Kam&#x27;</span>, <span class="string">&#x27;Jum&#x27;</span>, <span class="string">&#x27;Sab&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Minggu&#x27;</span>, <span class="string">&#x27;Senin&#x27;</span>, <span class="string">&#x27;Selasa&#x27;</span>, <span class="string">&#x27;Rabu&#x27;</span>, <span class="string">&#x27;Kamis&#x27;</span>, <span class="string">&#x27;Jumat&#x27;</span>, <span class="string">&#x27;Sabtu&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">is</span>: &#123; <span class="comment">// Icelandic</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Janúar&#x27;</span>, <span class="string">&#x27;Febrúar&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;Apríl&#x27;</span>, <span class="string">&#x27;Maí&#x27;</span>, <span class="string">&#x27;Júní&#x27;</span>, <span class="string">&#x27;Júlí&#x27;</span>, <span class="string">&#x27;Ágúst&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Október&#x27;</span>, <span class="string">&#x27;Nóvember&#x27;</span>, <span class="string">&#x27;Desember&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Sun&#x27;</span>, <span class="string">&#x27;Mán&#x27;</span>, <span class="string">&#x27;Þrið&#x27;</span>, <span class="string">&#x27;Mið&#x27;</span>, <span class="string">&#x27;Fim&#x27;</span>, <span class="string">&#x27;Fös&#x27;</span>, <span class="string">&#x27;Lau&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sunnudagur&#x27;</span>, <span class="string">&#x27;Mánudagur&#x27;</span>, <span class="string">&#x27;Þriðjudagur&#x27;</span>, <span class="string">&#x27;Miðvikudagur&#x27;</span>, <span class="string">&#x27;Fimmtudagur&#x27;</span>, <span class="string">&#x27;Föstudagur&#x27;</span>, <span class="string">&#x27;Laugardagur&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">bg</span>: &#123; <span class="comment">// Bulgarian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Януари&#x27;</span>, <span class="string">&#x27;Февруари&#x27;</span>, <span class="string">&#x27;Март&#x27;</span>, <span class="string">&#x27;Април&#x27;</span>, <span class="string">&#x27;Май&#x27;</span>, <span class="string">&#x27;Юни&#x27;</span>, <span class="string">&#x27;Юли&#x27;</span>, <span class="string">&#x27;Август&#x27;</span>, <span class="string">&#x27;Септември&#x27;</span>, <span class="string">&#x27;Октомври&#x27;</span>, <span class="string">&#x27;Ноември&#x27;</span>, <span class="string">&#x27;Декември&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Нд&#x27;</span>, <span class="string">&#x27;Пн&#x27;</span>, <span class="string">&#x27;Вт&#x27;</span>, <span class="string">&#x27;Ср&#x27;</span>, <span class="string">&#x27;Чт&#x27;</span>, <span class="string">&#x27;Пт&#x27;</span>, <span class="string">&#x27;Сб&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Неделя&#x27;</span>, <span class="string">&#x27;Понеделник&#x27;</span>, <span class="string">&#x27;Вторник&#x27;</span>, <span class="string">&#x27;Сряда&#x27;</span>, <span class="string">&#x27;Четвъртък&#x27;</span>, <span class="string">&#x27;Петък&#x27;</span>, <span class="string">&#x27;Събота&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fa</span>: &#123; <span class="comment">// Persian/Farsi</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;فروردین&#x27;</span>, <span class="string">&#x27;اردیبهشت&#x27;</span>, <span class="string">&#x27;خرداد&#x27;</span>, <span class="string">&#x27;تیر&#x27;</span>, <span class="string">&#x27;مرداد&#x27;</span>, <span class="string">&#x27;شهریور&#x27;</span>, <span class="string">&#x27;مهر&#x27;</span>, <span class="string">&#x27;آبان&#x27;</span>, <span class="string">&#x27;آذر&#x27;</span>, <span class="string">&#x27;دی&#x27;</span>, <span class="string">&#x27;بهمن&#x27;</span>, <span class="string">&#x27;اسفند&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;یکشنبه&#x27;</span>, <span class="string">&#x27;دوشنبه&#x27;</span>, <span class="string">&#x27;سه شنبه&#x27;</span>, <span class="string">&#x27;چهارشنبه&#x27;</span>, <span class="string">&#x27;پنجشنبه&#x27;</span>, <span class="string">&#x27;جمعه&#x27;</span>, <span class="string">&#x27;شنبه&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;یک‌شنبه&#x27;</span>, <span class="string">&#x27;دوشنبه&#x27;</span>, <span class="string">&#x27;سه‌شنبه&#x27;</span>, <span class="string">&#x27;چهارشنبه&#x27;</span>, <span class="string">&#x27;پنج‌شنبه&#x27;</span>, <span class="string">&#x27;جمعه&#x27;</span>, <span class="string">&#x27;شنبه&#x27;</span>, <span class="string">&#x27;یک‌شنبه&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ru</span>: &#123; <span class="comment">// Russian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Январь&#x27;</span>, <span class="string">&#x27;Февраль&#x27;</span>, <span class="string">&#x27;Март&#x27;</span>, <span class="string">&#x27;Апрель&#x27;</span>, <span class="string">&#x27;Май&#x27;</span>, <span class="string">&#x27;Июнь&#x27;</span>, <span class="string">&#x27;Июль&#x27;</span>, <span class="string">&#x27;Август&#x27;</span>, <span class="string">&#x27;Сентябрь&#x27;</span>, <span class="string">&#x27;Октябрь&#x27;</span>, <span class="string">&#x27;Ноябрь&#x27;</span>, <span class="string">&#x27;Декабрь&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Вс&#x27;</span>, <span class="string">&#x27;Пн&#x27;</span>, <span class="string">&#x27;Вт&#x27;</span>, <span class="string">&#x27;Ср&#x27;</span>, <span class="string">&#x27;Чт&#x27;</span>, <span class="string">&#x27;Пт&#x27;</span>, <span class="string">&#x27;Сб&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Воскресенье&#x27;</span>, <span class="string">&#x27;Понедельник&#x27;</span>, <span class="string">&#x27;Вторник&#x27;</span>, <span class="string">&#x27;Среда&#x27;</span>, <span class="string">&#x27;Четверг&#x27;</span>, <span class="string">&#x27;Пятница&#x27;</span>, <span class="string">&#x27;Суббота&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">uk</span>: &#123; <span class="comment">// Ukrainian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Січень&#x27;</span>, <span class="string">&#x27;Лютий&#x27;</span>, <span class="string">&#x27;Березень&#x27;</span>, <span class="string">&#x27;Квітень&#x27;</span>, <span class="string">&#x27;Травень&#x27;</span>, <span class="string">&#x27;Червень&#x27;</span>, <span class="string">&#x27;Липень&#x27;</span>, <span class="string">&#x27;Серпень&#x27;</span>, <span class="string">&#x27;Вересень&#x27;</span>, <span class="string">&#x27;Жовтень&#x27;</span>, <span class="string">&#x27;Листопад&#x27;</span>, <span class="string">&#x27;Грудень&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ндл&#x27;</span>, <span class="string">&#x27;Пнд&#x27;</span>, <span class="string">&#x27;Втр&#x27;</span>, <span class="string">&#x27;Срд&#x27;</span>, <span class="string">&#x27;Чтв&#x27;</span>, <span class="string">&#x27;Птн&#x27;</span>, <span class="string">&#x27;Сбт&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Неділя&#x27;</span>, <span class="string">&#x27;Понеділок&#x27;</span>, <span class="string">&#x27;Вівторок&#x27;</span>, <span class="string">&#x27;Середа&#x27;</span>, <span class="string">&#x27;Четвер&#x27;</span>, <span class="string">&#x27;П\&#x27;ятниця&#x27;</span>, <span class="string">&#x27;Субота&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">en</span>: &#123; <span class="comment">// English</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;January&#x27;</span>, <span class="string">&#x27;February&#x27;</span>, <span class="string">&#x27;March&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;June&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;October&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;S&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sunday&#x27;</span>, <span class="string">&#x27;Monday&#x27;</span>, <span class="string">&#x27;Tuesday&#x27;</span>, <span class="string">&#x27;Wednesday&#x27;</span>, <span class="string">&#x27;Thursday&#x27;</span>, <span class="string">&#x27;Friday&#x27;</span>, <span class="string">&#x27;Saturday&#x27;</span>],</span><br><span class="line">      <span class="attr">postsMonthTip</span>: <span class="string">&#x27;Posts published in LMM yyyy&#x27;</span>,</span><br><span class="line">      <span class="attr">titleFormat</span>: <span class="string">&#x27;LMM yyyy&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">el</span>: &#123; <span class="comment">// Ελληνικά</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Ιανουάριος&#x27;</span>, <span class="string">&#x27;Φεβρουάριος&#x27;</span>, <span class="string">&#x27;Μάρτιος&#x27;</span>, <span class="string">&#x27;Απρίλιος&#x27;</span>, <span class="string">&#x27;Μάιος&#x27;</span>, <span class="string">&#x27;Ιούνιος&#x27;</span>, <span class="string">&#x27;Ιούλιος&#x27;</span>, <span class="string">&#x27;Αύγουστος&#x27;</span>, <span class="string">&#x27;Σεπτέμβριος&#x27;</span>, <span class="string">&#x27;Οκτώβριος&#x27;</span>, <span class="string">&#x27;Νοέμβριος&#x27;</span>, <span class="string">&#x27;Δεκέμβριος&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Κυρ&#x27;</span>, <span class="string">&#x27;Δευ&#x27;</span>, <span class="string">&#x27;Τρι&#x27;</span>, <span class="string">&#x27;Τετ&#x27;</span>, <span class="string">&#x27;Πεμ&#x27;</span>, <span class="string">&#x27;Παρ&#x27;</span>, <span class="string">&#x27;Σαβ&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Κυριακή&#x27;</span>, <span class="string">&#x27;Δευτέρα&#x27;</span>, <span class="string">&#x27;Τρίτη&#x27;</span>, <span class="string">&#x27;Τετάρτη&#x27;</span>, <span class="string">&#x27;Πέμπτη&#x27;</span>, <span class="string">&#x27;Παρασκευή&#x27;</span>, <span class="string">&#x27;Σάββατο&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">de</span>: &#123; <span class="comment">// German</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januar&#x27;</span>, <span class="string">&#x27;Februar&#x27;</span>, <span class="string">&#x27;März&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Mai&#x27;</span>, <span class="string">&#x27;Juni&#x27;</span>, <span class="string">&#x27;Juli&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;Dezember&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;So&#x27;</span>, <span class="string">&#x27;Mo&#x27;</span>, <span class="string">&#x27;Di&#x27;</span>, <span class="string">&#x27;Mi&#x27;</span>, <span class="string">&#x27;Do&#x27;</span>, <span class="string">&#x27;Fr&#x27;</span>, <span class="string">&#x27;Sa&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sonntag&#x27;</span>, <span class="string">&#x27;Montag&#x27;</span>, <span class="string">&#x27;Dienstag&#x27;</span>, <span class="string">&#x27;Mittwoch&#x27;</span>, <span class="string">&#x27;Donnerstag&#x27;</span>, <span class="string">&#x27;Freitag&#x27;</span>, <span class="string">&#x27;Samstag&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">nl</span>: &#123; <span class="comment">// Dutch</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;januari&#x27;</span>, <span class="string">&#x27;februari&#x27;</span>, <span class="string">&#x27;maart&#x27;</span>, <span class="string">&#x27;april&#x27;</span>, <span class="string">&#x27;mei&#x27;</span>, <span class="string">&#x27;juni&#x27;</span>, <span class="string">&#x27;juli&#x27;</span>, <span class="string">&#x27;augustus&#x27;</span>, <span class="string">&#x27;september&#x27;</span>, <span class="string">&#x27;oktober&#x27;</span>, <span class="string">&#x27;november&#x27;</span>, <span class="string">&#x27;december&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;zo&#x27;</span>, <span class="string">&#x27;ma&#x27;</span>, <span class="string">&#x27;di&#x27;</span>, <span class="string">&#x27;wo&#x27;</span>, <span class="string">&#x27;do&#x27;</span>, <span class="string">&#x27;vr&#x27;</span>, <span class="string">&#x27;za&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;zondag&#x27;</span>, <span class="string">&#x27;maandag&#x27;</span>, <span class="string">&#x27;dinsdag&#x27;</span>, <span class="string">&#x27;woensdag&#x27;</span>, <span class="string">&#x27;donderdag&#x27;</span>, <span class="string">&#x27;vrijdag&#x27;</span>, <span class="string">&#x27;zaterdag&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">tr</span>: &#123; <span class="comment">// Turkish</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Ocak&#x27;</span>, <span class="string">&#x27;Şubat&#x27;</span>, <span class="string">&#x27;Mart&#x27;</span>, <span class="string">&#x27;Nisan&#x27;</span>, <span class="string">&#x27;Mayıs&#x27;</span>, <span class="string">&#x27;Haziran&#x27;</span>, <span class="string">&#x27;Temmuz&#x27;</span>, <span class="string">&#x27;Ağustos&#x27;</span>, <span class="string">&#x27;Eylül&#x27;</span>, <span class="string">&#x27;Ekim&#x27;</span>, <span class="string">&#x27;Kasım&#x27;</span>, <span class="string">&#x27;Aralık&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Paz&#x27;</span>, <span class="string">&#x27;Pts&#x27;</span>, <span class="string">&#x27;Sal&#x27;</span>, <span class="string">&#x27;Çar&#x27;</span>, <span class="string">&#x27;Per&#x27;</span>, <span class="string">&#x27;Cum&#x27;</span>, <span class="string">&#x27;Cts&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Pazar&#x27;</span>, <span class="string">&#x27;Pazartesi&#x27;</span>, <span class="string">&#x27;Salı&#x27;</span>, <span class="string">&#x27;Çarşamba&#x27;</span>, <span class="string">&#x27;Perşembe&#x27;</span>, <span class="string">&#x27;Cuma&#x27;</span>, <span class="string">&#x27;Cumartesi&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fr</span>: &#123; <span class="comment">//French</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Janvier&#x27;</span>, <span class="string">&#x27;Février&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;Avril&#x27;</span>, <span class="string">&#x27;Mai&#x27;</span>, <span class="string">&#x27;Juin&#x27;</span>, <span class="string">&#x27;Juillet&#x27;</span>, <span class="string">&#x27;Août&#x27;</span>, <span class="string">&#x27;Septembre&#x27;</span>, <span class="string">&#x27;Octobre&#x27;</span>, <span class="string">&#x27;Novembre&#x27;</span>, <span class="string">&#x27;Décembre&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dim&#x27;</span>, <span class="string">&#x27;Lun&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Mer&#x27;</span>, <span class="string">&#x27;Jeu&#x27;</span>, <span class="string">&#x27;Ven&#x27;</span>, <span class="string">&#x27;Sam&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;dimanche&#x27;</span>, <span class="string">&#x27;lundi&#x27;</span>, <span class="string">&#x27;mardi&#x27;</span>, <span class="string">&#x27;mercredi&#x27;</span>, <span class="string">&#x27;jeudi&#x27;</span>, <span class="string">&#x27;vendredi&#x27;</span>, <span class="string">&#x27;samedi&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">es</span>: &#123; <span class="comment">// Spanish</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Enero&#x27;</span>, <span class="string">&#x27;Febrero&#x27;</span>, <span class="string">&#x27;Marzo&#x27;</span>, <span class="string">&#x27;Abril&#x27;</span>, <span class="string">&#x27;Mayo&#x27;</span>, <span class="string">&#x27;Junio&#x27;</span>, <span class="string">&#x27;Julio&#x27;</span>, <span class="string">&#x27;Agosto&#x27;</span>, <span class="string">&#x27;Septiembre&#x27;</span>, <span class="string">&#x27;Octubre&#x27;</span>, <span class="string">&#x27;Noviembre&#x27;</span>, <span class="string">&#x27;Diciembre&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dom&#x27;</span>, <span class="string">&#x27;Lun&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Mié&#x27;</span>, <span class="string">&#x27;Jue&#x27;</span>, <span class="string">&#x27;Vie&#x27;</span>, <span class="string">&#x27;Sáb&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Domingo&#x27;</span>, <span class="string">&#x27;Lunes&#x27;</span>, <span class="string">&#x27;Martes&#x27;</span>, <span class="string">&#x27;Miércoles&#x27;</span>, <span class="string">&#x27;Jueves&#x27;</span>, <span class="string">&#x27;Viernes&#x27;</span>, <span class="string">&#x27;Sábado&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">th</span>: &#123; <span class="comment">// Thai</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;มกราคม&#x27;</span>, <span class="string">&#x27;กุมภาพันธ์&#x27;</span>, <span class="string">&#x27;มีนาคม&#x27;</span>, <span class="string">&#x27;เมษายน&#x27;</span>, <span class="string">&#x27;พฤษภาคม&#x27;</span>, <span class="string">&#x27;มิถุนายน&#x27;</span>, <span class="string">&#x27;กรกฎาคม&#x27;</span>, <span class="string">&#x27;สิงหาคม&#x27;</span>, <span class="string">&#x27;กันยายน&#x27;</span>, <span class="string">&#x27;ตุลาคม&#x27;</span>, <span class="string">&#x27;พฤศจิกายน&#x27;</span>, <span class="string">&#x27;ธันวาคม&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;อา.&#x27;</span>, <span class="string">&#x27;จ.&#x27;</span>, <span class="string">&#x27;อ.&#x27;</span>, <span class="string">&#x27;พ.&#x27;</span>, <span class="string">&#x27;พฤ.&#x27;</span>, <span class="string">&#x27;ศ.&#x27;</span>, <span class="string">&#x27;ส.&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;อาทิตย์&#x27;</span>, <span class="string">&#x27;จันทร์&#x27;</span>, <span class="string">&#x27;อังคาร&#x27;</span>, <span class="string">&#x27;พุธ&#x27;</span>, <span class="string">&#x27;พฤหัส&#x27;</span>, <span class="string">&#x27;ศุกร์&#x27;</span>, <span class="string">&#x27;เสาร์&#x27;</span>, <span class="string">&#x27;อาทิตย์&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">pl</span>: &#123; <span class="comment">// Polish</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;styczeń&#x27;</span>, <span class="string">&#x27;luty&#x27;</span>, <span class="string">&#x27;marzec&#x27;</span>, <span class="string">&#x27;kwiecień&#x27;</span>, <span class="string">&#x27;maj&#x27;</span>, <span class="string">&#x27;czerwiec&#x27;</span>, <span class="string">&#x27;lipiec&#x27;</span>, <span class="string">&#x27;sierpień&#x27;</span>, <span class="string">&#x27;wrzesień&#x27;</span>, <span class="string">&#x27;październik&#x27;</span>, <span class="string">&#x27;listopad&#x27;</span>, <span class="string">&#x27;grudzień&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;nd&#x27;</span>, <span class="string">&#x27;pn&#x27;</span>, <span class="string">&#x27;wt&#x27;</span>, <span class="string">&#x27;śr&#x27;</span>, <span class="string">&#x27;cz&#x27;</span>, <span class="string">&#x27;pt&#x27;</span>, <span class="string">&#x27;sb&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;niedziela&#x27;</span>, <span class="string">&#x27;poniedziałek&#x27;</span>, <span class="string">&#x27;wtorek&#x27;</span>, <span class="string">&#x27;środa&#x27;</span>, <span class="string">&#x27;czwartek&#x27;</span>, <span class="string">&#x27;piątek&#x27;</span>, <span class="string">&#x27;sobota&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">pt</span>: &#123; <span class="comment">// Portuguese</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Janeiro&#x27;</span>, <span class="string">&#x27;Fevereiro&#x27;</span>, <span class="string">&#x27;Março&#x27;</span>, <span class="string">&#x27;Abril&#x27;</span>, <span class="string">&#x27;Maio&#x27;</span>, <span class="string">&#x27;Junho&#x27;</span>, <span class="string">&#x27;Julho&#x27;</span>, <span class="string">&#x27;Agosto&#x27;</span>, <span class="string">&#x27;Setembro&#x27;</span>, <span class="string">&#x27;Outubro&#x27;</span>, <span class="string">&#x27;Novembro&#x27;</span>, <span class="string">&#x27;Dezembro&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dom&#x27;</span>, <span class="string">&#x27;Seg&#x27;</span>, <span class="string">&#x27;Ter&#x27;</span>, <span class="string">&#x27;Qua&#x27;</span>, <span class="string">&#x27;Qui&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Sab&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Domingo&#x27;</span>, <span class="string">&#x27;Segunda&#x27;</span>, <span class="string">&#x27;Terça&#x27;</span>, <span class="string">&#x27;Quarta&#x27;</span>, <span class="string">&#x27;Quinta&#x27;</span>, <span class="string">&#x27;Sexta&#x27;</span>, <span class="string">&#x27;Sábado&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ch</span>: &#123; <span class="comment">// Simplified Chinese</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;一月&#x27;</span>, <span class="string">&#x27;二月&#x27;</span>, <span class="string">&#x27;三月&#x27;</span>, <span class="string">&#x27;四月&#x27;</span>, <span class="string">&#x27;五月&#x27;</span>, <span class="string">&#x27;六月&#x27;</span>, <span class="string">&#x27;七月&#x27;</span>, <span class="string">&#x27;八月&#x27;</span>, <span class="string">&#x27;九月&#x27;</span>, <span class="string">&#x27;十月&#x27;</span>, <span class="string">&#x27;十一月&#x27;</span>, <span class="string">&#x27;十二月&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;日&#x27;</span>, <span class="string">&#x27;一&#x27;</span>, <span class="string">&#x27;二&#x27;</span>, <span class="string">&#x27;三&#x27;</span>, <span class="string">&#x27;四&#x27;</span>, <span class="string">&#x27;五&#x27;</span>, <span class="string">&#x27;六&#x27;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">se</span>: &#123; <span class="comment">// Swedish</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januari&#x27;</span>, <span class="string">&#x27;Februari&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Juni&#x27;</span>, <span class="string">&#x27;Juli&#x27;</span>, <span class="string">&#x27;Augusti&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Sön&#x27;</span>, <span class="string">&#x27;Mån&#x27;</span>, <span class="string">&#x27;Tis&#x27;</span>, <span class="string">&#x27;Ons&#x27;</span>, <span class="string">&#x27;Tor&#x27;</span>, <span class="string">&#x27;Fre&#x27;</span>, <span class="string">&#x27;Lör&#x27;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">kr</span>: &#123; <span class="comment">// Korean</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;1월&#x27;</span>, <span class="string">&#x27;2월&#x27;</span>, <span class="string">&#x27;3월&#x27;</span>, <span class="string">&#x27;4월&#x27;</span>, <span class="string">&#x27;5월&#x27;</span>, <span class="string">&#x27;6월&#x27;</span>, <span class="string">&#x27;7월&#x27;</span>, <span class="string">&#x27;8월&#x27;</span>, <span class="string">&#x27;9월&#x27;</span>, <span class="string">&#x27;10월&#x27;</span>, <span class="string">&#x27;11월&#x27;</span>, <span class="string">&#x27;12월&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;일&#x27;</span>, <span class="string">&#x27;월&#x27;</span>, <span class="string">&#x27;화&#x27;</span>, <span class="string">&#x27;수&#x27;</span>, <span class="string">&#x27;목&#x27;</span>, <span class="string">&#x27;금&#x27;</span>, <span class="string">&#x27;토&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;일요일&#x27;</span>, <span class="string">&#x27;월요일&#x27;</span>, <span class="string">&#x27;화요일&#x27;</span>, <span class="string">&#x27;수요일&#x27;</span>, <span class="string">&#x27;목요일&#x27;</span>, <span class="string">&#x27;금요일&#x27;</span>, <span class="string">&#x27;토요일&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">it</span>: &#123; <span class="comment">// Italian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Gennaio&#x27;</span>, <span class="string">&#x27;Febbraio&#x27;</span>, <span class="string">&#x27;Marzo&#x27;</span>, <span class="string">&#x27;Aprile&#x27;</span>, <span class="string">&#x27;Maggio&#x27;</span>, <span class="string">&#x27;Giugno&#x27;</span>, <span class="string">&#x27;Luglio&#x27;</span>, <span class="string">&#x27;Agosto&#x27;</span>, <span class="string">&#x27;Settembre&#x27;</span>, <span class="string">&#x27;Ottobre&#x27;</span>, <span class="string">&#x27;Novembre&#x27;</span>, <span class="string">&#x27;Dicembre&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dom&#x27;</span>, <span class="string">&#x27;Lun&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Mer&#x27;</span>, <span class="string">&#x27;Gio&#x27;</span>, <span class="string">&#x27;Ven&#x27;</span>, <span class="string">&#x27;Sab&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Domenica&#x27;</span>, <span class="string">&#x27;Lunedì&#x27;</span>, <span class="string">&#x27;Martedì&#x27;</span>, <span class="string">&#x27;Mercoledì&#x27;</span>, <span class="string">&#x27;Giovedì&#x27;</span>, <span class="string">&#x27;Venerdì&#x27;</span>, <span class="string">&#x27;Sabato&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">da</span>: &#123; <span class="comment">// Dansk</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;January&#x27;</span>, <span class="string">&#x27;Februar&#x27;</span>, <span class="string">&#x27;Marts&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Juni&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Søn&#x27;</span>, <span class="string">&#x27;Man&#x27;</span>, <span class="string">&#x27;Tir&#x27;</span>, <span class="string">&#x27;Ons&#x27;</span>, <span class="string">&#x27;Tor&#x27;</span>, <span class="string">&#x27;Fre&#x27;</span>, <span class="string">&#x27;Lør&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;søndag&#x27;</span>, <span class="string">&#x27;mandag&#x27;</span>, <span class="string">&#x27;tirsdag&#x27;</span>, <span class="string">&#x27;onsdag&#x27;</span>, <span class="string">&#x27;torsdag&#x27;</span>, <span class="string">&#x27;fredag&#x27;</span>, <span class="string">&#x27;lørdag&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">no</span>: &#123; <span class="comment">// Norwegian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januar&#x27;</span>, <span class="string">&#x27;Februar&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Mai&#x27;</span>, <span class="string">&#x27;Juni&#x27;</span>, <span class="string">&#x27;Juli&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;Desember&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Søn&#x27;</span>, <span class="string">&#x27;Man&#x27;</span>, <span class="string">&#x27;Tir&#x27;</span>, <span class="string">&#x27;Ons&#x27;</span>, <span class="string">&#x27;Tor&#x27;</span>, <span class="string">&#x27;Fre&#x27;</span>, <span class="string">&#x27;Lør&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Søndag&#x27;</span>, <span class="string">&#x27;Mandag&#x27;</span>, <span class="string">&#x27;Tirsdag&#x27;</span>, <span class="string">&#x27;Onsdag&#x27;</span>, <span class="string">&#x27;Torsdag&#x27;</span>, <span class="string">&#x27;Fredag&#x27;</span>, <span class="string">&#x27;Lørdag&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ja</span>: &#123; <span class="comment">// Japanese</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;1月&#x27;</span>, <span class="string">&#x27;2月&#x27;</span>, <span class="string">&#x27;3月&#x27;</span>, <span class="string">&#x27;4月&#x27;</span>, <span class="string">&#x27;5月&#x27;</span>, <span class="string">&#x27;6月&#x27;</span>, <span class="string">&#x27;7月&#x27;</span>, <span class="string">&#x27;8月&#x27;</span>, <span class="string">&#x27;9月&#x27;</span>, <span class="string">&#x27;10月&#x27;</span>, <span class="string">&#x27;11月&#x27;</span>, <span class="string">&#x27;12月&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;日&#x27;</span>, <span class="string">&#x27;月&#x27;</span>, <span class="string">&#x27;火&#x27;</span>, <span class="string">&#x27;水&#x27;</span>, <span class="string">&#x27;木&#x27;</span>, <span class="string">&#x27;金&#x27;</span>, <span class="string">&#x27;土&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;日曜&#x27;</span>, <span class="string">&#x27;月曜&#x27;</span>, <span class="string">&#x27;火曜&#x27;</span>, <span class="string">&#x27;水曜&#x27;</span>, <span class="string">&#x27;木曜&#x27;</span>, <span class="string">&#x27;金曜&#x27;</span>, <span class="string">&#x27;土曜&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">vi</span>: &#123; <span class="comment">// Vietnamese</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Tháng 1&#x27;</span>, <span class="string">&#x27;Tháng 2&#x27;</span>, <span class="string">&#x27;Tháng 3&#x27;</span>, <span class="string">&#x27;Tháng 4&#x27;</span>, <span class="string">&#x27;Tháng 5&#x27;</span>, <span class="string">&#x27;Tháng 6&#x27;</span>, <span class="string">&#x27;Tháng 7&#x27;</span>, <span class="string">&#x27;Tháng 8&#x27;</span>, <span class="string">&#x27;Tháng 9&#x27;</span>, <span class="string">&#x27;Tháng 10&#x27;</span>, <span class="string">&#x27;Tháng 11&#x27;</span>, <span class="string">&#x27;Tháng 12&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;CN&#x27;</span>, <span class="string">&#x27;T2&#x27;</span>, <span class="string">&#x27;T3&#x27;</span>, <span class="string">&#x27;T4&#x27;</span>, <span class="string">&#x27;T5&#x27;</span>, <span class="string">&#x27;T6&#x27;</span>, <span class="string">&#x27;T7&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Chủ nhật&#x27;</span>, <span class="string">&#x27;Thứ hai&#x27;</span>, <span class="string">&#x27;Thứ ba&#x27;</span>, <span class="string">&#x27;Thứ tư&#x27;</span>, <span class="string">&#x27;Thứ năm&#x27;</span>, <span class="string">&#x27;Thứ sáu&#x27;</span>, <span class="string">&#x27;Thứ bảy&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sl</span>: &#123; <span class="comment">// Slovenščina</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januar&#x27;</span>, <span class="string">&#x27;Februar&#x27;</span>, <span class="string">&#x27;Marec&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Junij&#x27;</span>, <span class="string">&#x27;Julij&#x27;</span>, <span class="string">&#x27;Avgust&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ned&#x27;</span>, <span class="string">&#x27;Pon&#x27;</span>, <span class="string">&#x27;Tor&#x27;</span>, <span class="string">&#x27;Sre&#x27;</span>, <span class="string">&#x27;Čet&#x27;</span>, <span class="string">&#x27;Pet&#x27;</span>, <span class="string">&#x27;Sob&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Nedelja&#x27;</span>, <span class="string">&#x27;Ponedeljek&#x27;</span>, <span class="string">&#x27;Torek&#x27;</span>, <span class="string">&#x27;Sreda&#x27;</span>, <span class="string">&#x27;Četrtek&#x27;</span>, <span class="string">&#x27;Petek&#x27;</span>, <span class="string">&#x27;Sobota&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">cs</span>: &#123; <span class="comment">// Čeština</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Leden&#x27;</span>, <span class="string">&#x27;Únor&#x27;</span>, <span class="string">&#x27;Březen&#x27;</span>, <span class="string">&#x27;Duben&#x27;</span>, <span class="string">&#x27;Květen&#x27;</span>, <span class="string">&#x27;Červen&#x27;</span>, <span class="string">&#x27;Červenec&#x27;</span>, <span class="string">&#x27;Srpen&#x27;</span>, <span class="string">&#x27;Září&#x27;</span>, <span class="string">&#x27;Říjen&#x27;</span>, <span class="string">&#x27;Listopad&#x27;</span>, <span class="string">&#x27;Prosinec&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ne&#x27;</span>, <span class="string">&#x27;Po&#x27;</span>, <span class="string">&#x27;Út&#x27;</span>, <span class="string">&#x27;St&#x27;</span>, <span class="string">&#x27;Čt&#x27;</span>, <span class="string">&#x27;Pá&#x27;</span>, <span class="string">&#x27;So&#x27;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hu</span>: &#123; <span class="comment">// Hungarian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Január&#x27;</span>, <span class="string">&#x27;Február&#x27;</span>, <span class="string">&#x27;Március&#x27;</span>, <span class="string">&#x27;Április&#x27;</span>, <span class="string">&#x27;Május&#x27;</span>, <span class="string">&#x27;Június&#x27;</span>, <span class="string">&#x27;Július&#x27;</span>, <span class="string">&#x27;Augusztus&#x27;</span>, <span class="string">&#x27;Szeptember&#x27;</span>, <span class="string">&#x27;Október&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Va&#x27;</span>, <span class="string">&#x27;Hé&#x27;</span>, <span class="string">&#x27;Ke&#x27;</span>, <span class="string">&#x27;Sze&#x27;</span>, <span class="string">&#x27;Cs&#x27;</span>, <span class="string">&#x27;Pé&#x27;</span>, <span class="string">&#x27;Szo&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;vasárnap&#x27;</span>, <span class="string">&#x27;hétfő&#x27;</span>, <span class="string">&#x27;kedd&#x27;</span>, <span class="string">&#x27;szerda&#x27;</span>, <span class="string">&#x27;csütörtök&#x27;</span>, <span class="string">&#x27;péntek&#x27;</span>, <span class="string">&#x27;szombat&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">az</span>: &#123; <span class="comment">//Azerbaijanian (Azeri)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Yanvar&#x27;</span>, <span class="string">&#x27;Fevral&#x27;</span>, <span class="string">&#x27;Mart&#x27;</span>, <span class="string">&#x27;Aprel&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;Iyun&#x27;</span>, <span class="string">&#x27;Iyul&#x27;</span>, <span class="string">&#x27;Avqust&#x27;</span>, <span class="string">&#x27;Sentyabr&#x27;</span>, <span class="string">&#x27;Oktyabr&#x27;</span>, <span class="string">&#x27;Noyabr&#x27;</span>, <span class="string">&#x27;Dekabr&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;Be&#x27;</span>, <span class="string">&#x27;Ça&#x27;</span>, <span class="string">&#x27;Ç&#x27;</span>, <span class="string">&#x27;Ca&#x27;</span>, <span class="string">&#x27;C&#x27;</span>, <span class="string">&#x27;Ş&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Bazar&#x27;</span>, <span class="string">&#x27;Bazar ertəsi&#x27;</span>, <span class="string">&#x27;Çərşənbə axşamı&#x27;</span>, <span class="string">&#x27;Çərşənbə&#x27;</span>, <span class="string">&#x27;Cümə axşamı&#x27;</span>, <span class="string">&#x27;Cümə&#x27;</span>, <span class="string">&#x27;Şənbə&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">bs</span>: &#123; <span class="comment">//Bosanski</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januar&#x27;</span>, <span class="string">&#x27;Februar&#x27;</span>, <span class="string">&#x27;Mart&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Jun&#x27;</span>, <span class="string">&#x27;Jul&#x27;</span>, <span class="string">&#x27;Avgust&#x27;</span>, <span class="string">&#x27;Septembar&#x27;</span>, <span class="string">&#x27;Oktobar&#x27;</span>, <span class="string">&#x27;Novembar&#x27;</span>, <span class="string">&#x27;Decembar&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ned&#x27;</span>, <span class="string">&#x27;Pon&#x27;</span>, <span class="string">&#x27;Uto&#x27;</span>, <span class="string">&#x27;Sri&#x27;</span>, <span class="string">&#x27;Čet&#x27;</span>, <span class="string">&#x27;Pet&#x27;</span>, <span class="string">&#x27;Sub&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Nedjelja&#x27;</span>, <span class="string">&#x27;Ponedjeljak&#x27;</span>, <span class="string">&#x27;Utorak&#x27;</span>, <span class="string">&#x27;Srijeda&#x27;</span>, <span class="string">&#x27;Četvrtak&#x27;</span>, <span class="string">&#x27;Petak&#x27;</span>, <span class="string">&#x27;Subota&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ca</span>: &#123; <span class="comment">//Català</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Gener&#x27;</span>, <span class="string">&#x27;Febrer&#x27;</span>, <span class="string">&#x27;Març&#x27;</span>, <span class="string">&#x27;Abril&#x27;</span>, <span class="string">&#x27;Maig&#x27;</span>, <span class="string">&#x27;Juny&#x27;</span>, <span class="string">&#x27;Juliol&#x27;</span>, <span class="string">&#x27;Agost&#x27;</span>, <span class="string">&#x27;Setembre&#x27;</span>, <span class="string">&#x27;Octubre&#x27;</span>, <span class="string">&#x27;Novembre&#x27;</span>, <span class="string">&#x27;Desembre&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dg&#x27;</span>, <span class="string">&#x27;Dl&#x27;</span>, <span class="string">&#x27;Dt&#x27;</span>, <span class="string">&#x27;Dc&#x27;</span>, <span class="string">&#x27;Dj&#x27;</span>, <span class="string">&#x27;Dv&#x27;</span>, <span class="string">&#x27;Ds&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Diumenge&#x27;</span>, <span class="string">&#x27;Dilluns&#x27;</span>, <span class="string">&#x27;Dimarts&#x27;</span>, <span class="string">&#x27;Dimecres&#x27;</span>, <span class="string">&#x27;Dijous&#x27;</span>, <span class="string">&#x27;Divendres&#x27;</span>, <span class="string">&#x27;Dissabte&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;en-GB&#x27;</span>: &#123; <span class="comment">//English (British)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;January&#x27;</span>, <span class="string">&#x27;February&#x27;</span>, <span class="string">&#x27;March&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;June&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;October&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Sun&#x27;</span>, <span class="string">&#x27;Mon&#x27;</span>, <span class="string">&#x27;Tue&#x27;</span>, <span class="string">&#x27;Wed&#x27;</span>, <span class="string">&#x27;Thu&#x27;</span>, <span class="string">&#x27;Fri&#x27;</span>, <span class="string">&#x27;Sat&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sunday&#x27;</span>, <span class="string">&#x27;Monday&#x27;</span>, <span class="string">&#x27;Tuesday&#x27;</span>, <span class="string">&#x27;Wednesday&#x27;</span>, <span class="string">&#x27;Thursday&#x27;</span>, <span class="string">&#x27;Friday&#x27;</span>, <span class="string">&#x27;Saturday&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">et</span>: &#123; <span class="comment">//&#x27;Eesti&#x27;</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Jaanuar&#x27;</span>, <span class="string">&#x27;Veebruar&#x27;</span>, <span class="string">&#x27;Märts&#x27;</span>, <span class="string">&#x27;Aprill&#x27;</span>, <span class="string">&#x27;Mai&#x27;</span>, <span class="string">&#x27;Juuni&#x27;</span>, <span class="string">&#x27;Juuli&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktoober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;Detsember&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;K&#x27;</span>, <span class="string">&#x27;N&#x27;</span>, <span class="string">&#x27;R&#x27;</span>, <span class="string">&#x27;L&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Pühapäev&#x27;</span>, <span class="string">&#x27;Esmaspäev&#x27;</span>, <span class="string">&#x27;Teisipäev&#x27;</span>, <span class="string">&#x27;Kolmapäev&#x27;</span>, <span class="string">&#x27;Neljapäev&#x27;</span>, <span class="string">&#x27;Reede&#x27;</span>, <span class="string">&#x27;Laupäev&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">eu</span>: &#123; <span class="comment">//Euskara</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Urtarrila&#x27;</span>, <span class="string">&#x27;Otsaila&#x27;</span>, <span class="string">&#x27;Martxoa&#x27;</span>, <span class="string">&#x27;Apirila&#x27;</span>, <span class="string">&#x27;Maiatza&#x27;</span>, <span class="string">&#x27;Ekaina&#x27;</span>, <span class="string">&#x27;Uztaila&#x27;</span>, <span class="string">&#x27;Abuztua&#x27;</span>, <span class="string">&#x27;Iraila&#x27;</span>, <span class="string">&#x27;Urria&#x27;</span>, <span class="string">&#x27;Azaroa&#x27;</span>, <span class="string">&#x27;Abendua&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ig.&#x27;</span>, <span class="string">&#x27;Al.&#x27;</span>, <span class="string">&#x27;Ar.&#x27;</span>, <span class="string">&#x27;Az.&#x27;</span>, <span class="string">&#x27;Og.&#x27;</span>, <span class="string">&#x27;Or.&#x27;</span>, <span class="string">&#x27;La.&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Igandea&#x27;</span>, <span class="string">&#x27;Astelehena&#x27;</span>, <span class="string">&#x27;Asteartea&#x27;</span>, <span class="string">&#x27;Asteazkena&#x27;</span>, <span class="string">&#x27;Osteguna&#x27;</span>, <span class="string">&#x27;Ostirala&#x27;</span>, <span class="string">&#x27;Larunbata&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fi</span>: &#123; <span class="comment">//Finnish (Suomi)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Tammikuu&#x27;</span>, <span class="string">&#x27;Helmikuu&#x27;</span>, <span class="string">&#x27;Maaliskuu&#x27;</span>, <span class="string">&#x27;Huhtikuu&#x27;</span>, <span class="string">&#x27;Toukokuu&#x27;</span>, <span class="string">&#x27;Kesäkuu&#x27;</span>, <span class="string">&#x27;Heinäkuu&#x27;</span>, <span class="string">&#x27;Elokuu&#x27;</span>, <span class="string">&#x27;Syyskuu&#x27;</span>, <span class="string">&#x27;Lokakuu&#x27;</span>, <span class="string">&#x27;Marraskuu&#x27;</span>, <span class="string">&#x27;Joulukuu&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Su&#x27;</span>, <span class="string">&#x27;Ma&#x27;</span>, <span class="string">&#x27;Ti&#x27;</span>, <span class="string">&#x27;Ke&#x27;</span>, <span class="string">&#x27;To&#x27;</span>, <span class="string">&#x27;Pe&#x27;</span>, <span class="string">&#x27;La&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;sunnuntai&#x27;</span>, <span class="string">&#x27;maanantai&#x27;</span>, <span class="string">&#x27;tiistai&#x27;</span>, <span class="string">&#x27;keskiviikko&#x27;</span>, <span class="string">&#x27;torstai&#x27;</span>, <span class="string">&#x27;perjantai&#x27;</span>, <span class="string">&#x27;lauantai&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">gl</span>: &#123; <span class="comment">//Galego</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Xan&#x27;</span>, <span class="string">&#x27;Feb&#x27;</span>, <span class="string">&#x27;Maz&#x27;</span>, <span class="string">&#x27;Abr&#x27;</span>, <span class="string">&#x27;Mai&#x27;</span>, <span class="string">&#x27;Xun&#x27;</span>, <span class="string">&#x27;Xul&#x27;</span>, <span class="string">&#x27;Ago&#x27;</span>, <span class="string">&#x27;Set&#x27;</span>, <span class="string">&#x27;Out&#x27;</span>, <span class="string">&#x27;Nov&#x27;</span>, <span class="string">&#x27;Dec&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dom&#x27;</span>, <span class="string">&#x27;Lun&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Mer&#x27;</span>, <span class="string">&#x27;Xov&#x27;</span>, <span class="string">&#x27;Ven&#x27;</span>, <span class="string">&#x27;Sab&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Domingo&#x27;</span>, <span class="string">&#x27;Luns&#x27;</span>, <span class="string">&#x27;Martes&#x27;</span>, <span class="string">&#x27;Mércores&#x27;</span>, <span class="string">&#x27;Xoves&#x27;</span>, <span class="string">&#x27;Venres&#x27;</span>, <span class="string">&#x27;Sábado&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hr</span>: &#123; <span class="comment">//Hrvatski</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Siječanj&#x27;</span>, <span class="string">&#x27;Veljača&#x27;</span>, <span class="string">&#x27;Ožujak&#x27;</span>, <span class="string">&#x27;Travanj&#x27;</span>, <span class="string">&#x27;Svibanj&#x27;</span>, <span class="string">&#x27;Lipanj&#x27;</span>, <span class="string">&#x27;Srpanj&#x27;</span>, <span class="string">&#x27;Kolovoz&#x27;</span>, <span class="string">&#x27;Rujan&#x27;</span>, <span class="string">&#x27;Listopad&#x27;</span>, <span class="string">&#x27;Studeni&#x27;</span>, <span class="string">&#x27;Prosinac&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ned&#x27;</span>, <span class="string">&#x27;Pon&#x27;</span>, <span class="string">&#x27;Uto&#x27;</span>, <span class="string">&#x27;Sri&#x27;</span>, <span class="string">&#x27;Čet&#x27;</span>, <span class="string">&#x27;Pet&#x27;</span>, <span class="string">&#x27;Sub&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Nedjelja&#x27;</span>, <span class="string">&#x27;Ponedjeljak&#x27;</span>, <span class="string">&#x27;Utorak&#x27;</span>, <span class="string">&#x27;Srijeda&#x27;</span>, <span class="string">&#x27;Četvrtak&#x27;</span>, <span class="string">&#x27;Petak&#x27;</span>, <span class="string">&#x27;Subotagg&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ko</span>: &#123; <span class="comment">//Korean (한국어)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;1월&#x27;</span>, <span class="string">&#x27;2월&#x27;</span>, <span class="string">&#x27;3월&#x27;</span>, <span class="string">&#x27;4월&#x27;</span>, <span class="string">&#x27;5월&#x27;</span>, <span class="string">&#x27;6월&#x27;</span>, <span class="string">&#x27;7월&#x27;</span>, <span class="string">&#x27;8월&#x27;</span>, <span class="string">&#x27;9월&#x27;</span>, <span class="string">&#x27;10월&#x27;</span>, <span class="string">&#x27;11월&#x27;</span>, <span class="string">&#x27;12월&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;일&#x27;</span>, <span class="string">&#x27;월&#x27;</span>, <span class="string">&#x27;화&#x27;</span>, <span class="string">&#x27;수&#x27;</span>, <span class="string">&#x27;목&#x27;</span>, <span class="string">&#x27;금&#x27;</span>, <span class="string">&#x27;토&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;일요일&#x27;</span>, <span class="string">&#x27;월요일&#x27;</span>, <span class="string">&#x27;화요일&#x27;</span>, <span class="string">&#x27;수요일&#x27;</span>, <span class="string">&#x27;목요일&#x27;</span>, <span class="string">&#x27;금요일&#x27;</span>, <span class="string">&#x27;토요일&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">lt</span>: &#123; <span class="comment">//Lithuanian (lietuvių)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Sausio&#x27;</span>, <span class="string">&#x27;Vasario&#x27;</span>, <span class="string">&#x27;Kovo&#x27;</span>, <span class="string">&#x27;Balandžio&#x27;</span>, <span class="string">&#x27;Gegužės&#x27;</span>, <span class="string">&#x27;Birželio&#x27;</span>, <span class="string">&#x27;Liepos&#x27;</span>, <span class="string">&#x27;Rugpjūčio&#x27;</span>, <span class="string">&#x27;Rugsėjo&#x27;</span>, <span class="string">&#x27;Spalio&#x27;</span>, <span class="string">&#x27;Lapkričio&#x27;</span>, <span class="string">&#x27;Gruodžio&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Sek&#x27;</span>, <span class="string">&#x27;Pir&#x27;</span>, <span class="string">&#x27;Ant&#x27;</span>, <span class="string">&#x27;Tre&#x27;</span>, <span class="string">&#x27;Ket&#x27;</span>, <span class="string">&#x27;Pen&#x27;</span>, <span class="string">&#x27;Šeš&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sekmadienis&#x27;</span>, <span class="string">&#x27;Pirmadienis&#x27;</span>, <span class="string">&#x27;Antradienis&#x27;</span>, <span class="string">&#x27;Trečiadienis&#x27;</span>, <span class="string">&#x27;Ketvirtadienis&#x27;</span>, <span class="string">&#x27;Penktadienis&#x27;</span>, <span class="string">&#x27;Šeštadienis&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">lv</span>: &#123; <span class="comment">//Latvian (Latviešu)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Janvāris&#x27;</span>, <span class="string">&#x27;Februāris&#x27;</span>, <span class="string">&#x27;Marts&#x27;</span>, <span class="string">&#x27;Aprīlis &#x27;</span>, <span class="string">&#x27;Maijs&#x27;</span>, <span class="string">&#x27;Jūnijs&#x27;</span>, <span class="string">&#x27;Jūlijs&#x27;</span>, <span class="string">&#x27;Augusts&#x27;</span>, <span class="string">&#x27;Septembris&#x27;</span>, <span class="string">&#x27;Oktobris&#x27;</span>, <span class="string">&#x27;Novembris&#x27;</span>, <span class="string">&#x27;Decembris&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Sv&#x27;</span>, <span class="string">&#x27;Pr&#x27;</span>, <span class="string">&#x27;Ot&#x27;</span>, <span class="string">&#x27;Tr&#x27;</span>, <span class="string">&#x27;Ct&#x27;</span>, <span class="string">&#x27;Pk&#x27;</span>, <span class="string">&#x27;St&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Svētdiena&#x27;</span>, <span class="string">&#x27;Pirmdiena&#x27;</span>, <span class="string">&#x27;Otrdiena&#x27;</span>, <span class="string">&#x27;Trešdiena&#x27;</span>, <span class="string">&#x27;Ceturtdiena&#x27;</span>, <span class="string">&#x27;Piektdiena&#x27;</span>, <span class="string">&#x27;Sestdiena&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mk</span>: &#123; <span class="comment">//Macedonian (Македонски)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;јануари&#x27;</span>, <span class="string">&#x27;февруари&#x27;</span>, <span class="string">&#x27;март&#x27;</span>, <span class="string">&#x27;април&#x27;</span>, <span class="string">&#x27;мај&#x27;</span>, <span class="string">&#x27;јуни&#x27;</span>, <span class="string">&#x27;јули&#x27;</span>, <span class="string">&#x27;август&#x27;</span>, <span class="string">&#x27;септември&#x27;</span>, <span class="string">&#x27;октомври&#x27;</span>, <span class="string">&#x27;ноември&#x27;</span>, <span class="string">&#x27;декември&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;нед&#x27;</span>, <span class="string">&#x27;пон&#x27;</span>, <span class="string">&#x27;вто&#x27;</span>, <span class="string">&#x27;сре&#x27;</span>, <span class="string">&#x27;чет&#x27;</span>, <span class="string">&#x27;пет&#x27;</span>, <span class="string">&#x27;саб&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Недела&#x27;</span>, <span class="string">&#x27;Понеделник&#x27;</span>, <span class="string">&#x27;Вторник&#x27;</span>, <span class="string">&#x27;Среда&#x27;</span>, <span class="string">&#x27;Четврток&#x27;</span>, <span class="string">&#x27;Петок&#x27;</span>, <span class="string">&#x27;Сабота&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">mn</span>: &#123; <span class="comment">//Mongolian (Монгол)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;1-р сар&#x27;</span>, <span class="string">&#x27;2-р сар&#x27;</span>, <span class="string">&#x27;3-р сар&#x27;</span>, <span class="string">&#x27;4-р сар&#x27;</span>, <span class="string">&#x27;5-р сар&#x27;</span>, <span class="string">&#x27;6-р сар&#x27;</span>, <span class="string">&#x27;7-р сар&#x27;</span>, <span class="string">&#x27;8-р сар&#x27;</span>, <span class="string">&#x27;9-р сар&#x27;</span>, <span class="string">&#x27;10-р сар&#x27;</span>, <span class="string">&#x27;11-р сар&#x27;</span>, <span class="string">&#x27;12-р сар&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Дав&#x27;</span>, <span class="string">&#x27;Мяг&#x27;</span>, <span class="string">&#x27;Лха&#x27;</span>, <span class="string">&#x27;Пүр&#x27;</span>, <span class="string">&#x27;Бсн&#x27;</span>, <span class="string">&#x27;Бям&#x27;</span>, <span class="string">&#x27;Ням&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Даваа&#x27;</span>, <span class="string">&#x27;Мягмар&#x27;</span>, <span class="string">&#x27;Лхагва&#x27;</span>, <span class="string">&#x27;Пүрэв&#x27;</span>, <span class="string">&#x27;Баасан&#x27;</span>, <span class="string">&#x27;Бямба&#x27;</span>, <span class="string">&#x27;Ням&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;pt-BR&#x27;</span>: &#123; <span class="comment">//Português(Brasil)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Janeiro&#x27;</span>, <span class="string">&#x27;Fevereiro&#x27;</span>, <span class="string">&#x27;Março&#x27;</span>, <span class="string">&#x27;Abril&#x27;</span>, <span class="string">&#x27;Maio&#x27;</span>, <span class="string">&#x27;Junho&#x27;</span>, <span class="string">&#x27;Julho&#x27;</span>, <span class="string">&#x27;Agosto&#x27;</span>, <span class="string">&#x27;Setembro&#x27;</span>, <span class="string">&#x27;Outubro&#x27;</span>, <span class="string">&#x27;Novembro&#x27;</span>, <span class="string">&#x27;Dezembro&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Dom&#x27;</span>, <span class="string">&#x27;Seg&#x27;</span>, <span class="string">&#x27;Ter&#x27;</span>, <span class="string">&#x27;Qua&#x27;</span>, <span class="string">&#x27;Qui&#x27;</span>, <span class="string">&#x27;Sex&#x27;</span>, <span class="string">&#x27;Sáb&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Domingo&#x27;</span>, <span class="string">&#x27;Segunda&#x27;</span>, <span class="string">&#x27;Terça&#x27;</span>, <span class="string">&#x27;Quarta&#x27;</span>, <span class="string">&#x27;Quinta&#x27;</span>, <span class="string">&#x27;Sexta&#x27;</span>, <span class="string">&#x27;Sábado&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sk</span>: &#123; <span class="comment">//Slovenčina</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Január&#x27;</span>, <span class="string">&#x27;Február&#x27;</span>, <span class="string">&#x27;Marec&#x27;</span>, <span class="string">&#x27;Apríl&#x27;</span>, <span class="string">&#x27;Máj&#x27;</span>, <span class="string">&#x27;Jún&#x27;</span>, <span class="string">&#x27;Júl&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Október&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ne&#x27;</span>, <span class="string">&#x27;Po&#x27;</span>, <span class="string">&#x27;Ut&#x27;</span>, <span class="string">&#x27;St&#x27;</span>, <span class="string">&#x27;Št&#x27;</span>, <span class="string">&#x27;Pi&#x27;</span>, <span class="string">&#x27;So&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Nedeľa&#x27;</span>, <span class="string">&#x27;Pondelok&#x27;</span>, <span class="string">&#x27;Utorok&#x27;</span>, <span class="string">&#x27;Streda&#x27;</span>, <span class="string">&#x27;Štvrtok&#x27;</span>, <span class="string">&#x27;Piatok&#x27;</span>, <span class="string">&#x27;Sobota&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sq</span>: &#123; <span class="comment">//Albanian (Shqip)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Janar&#x27;</span>, <span class="string">&#x27;Shkurt&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;Prill&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Qershor&#x27;</span>, <span class="string">&#x27;Korrik&#x27;</span>, <span class="string">&#x27;Gusht&#x27;</span>, <span class="string">&#x27;Shtator&#x27;</span>, <span class="string">&#x27;Tetor&#x27;</span>, <span class="string">&#x27;Nëntor&#x27;</span>, <span class="string">&#x27;Dhjetor&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Die&#x27;</span>, <span class="string">&#x27;Hën&#x27;</span>, <span class="string">&#x27;Mar&#x27;</span>, <span class="string">&#x27;Mër&#x27;</span>, <span class="string">&#x27;Enj&#x27;</span>, <span class="string">&#x27;Pre&#x27;</span>, <span class="string">&#x27;Shtu&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;E Diel&#x27;</span>, <span class="string">&#x27;E Hënë&#x27;</span>, <span class="string">&#x27;E Martē&#x27;</span>, <span class="string">&#x27;E Mërkurë&#x27;</span>, <span class="string">&#x27;E Enjte&#x27;</span>, <span class="string">&#x27;E Premte&#x27;</span>, <span class="string">&#x27;E Shtunë&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;sr-YU&#x27;</span>: &#123; <span class="comment">//Serbian (Srpski)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januar&#x27;</span>, <span class="string">&#x27;Februar&#x27;</span>, <span class="string">&#x27;Mart&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Jun&#x27;</span>, <span class="string">&#x27;Jul&#x27;</span>, <span class="string">&#x27;Avgust&#x27;</span>, <span class="string">&#x27;Septembar&#x27;</span>, <span class="string">&#x27;Oktobar&#x27;</span>, <span class="string">&#x27;Novembar&#x27;</span>, <span class="string">&#x27;Decembar&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Ned&#x27;</span>, <span class="string">&#x27;Pon&#x27;</span>, <span class="string">&#x27;Uto&#x27;</span>, <span class="string">&#x27;Sre&#x27;</span>, <span class="string">&#x27;čet&#x27;</span>, <span class="string">&#x27;Pet&#x27;</span>, <span class="string">&#x27;Sub&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Nedelja&#x27;</span>, <span class="string">&#x27;Ponedeljak&#x27;</span>, <span class="string">&#x27;Utorak&#x27;</span>, <span class="string">&#x27;Sreda&#x27;</span>, <span class="string">&#x27;Četvrtak&#x27;</span>, <span class="string">&#x27;Petak&#x27;</span>, <span class="string">&#x27;Subota&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sr</span>: &#123; <span class="comment">//Serbian Cyrillic (Српски)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;јануар&#x27;</span>, <span class="string">&#x27;фебруар&#x27;</span>, <span class="string">&#x27;март&#x27;</span>, <span class="string">&#x27;април&#x27;</span>, <span class="string">&#x27;мај&#x27;</span>, <span class="string">&#x27;јун&#x27;</span>, <span class="string">&#x27;јул&#x27;</span>, <span class="string">&#x27;август&#x27;</span>, <span class="string">&#x27;септембар&#x27;</span>, <span class="string">&#x27;октобар&#x27;</span>, <span class="string">&#x27;новембар&#x27;</span>, <span class="string">&#x27;децембар&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;нед&#x27;</span>, <span class="string">&#x27;пон&#x27;</span>, <span class="string">&#x27;уто&#x27;</span>, <span class="string">&#x27;сре&#x27;</span>, <span class="string">&#x27;чет&#x27;</span>, <span class="string">&#x27;пет&#x27;</span>, <span class="string">&#x27;суб&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Недеља&#x27;</span>, <span class="string">&#x27;Понедељак&#x27;</span>, <span class="string">&#x27;Уторак&#x27;</span>, <span class="string">&#x27;Среда&#x27;</span>, <span class="string">&#x27;Четвртак&#x27;</span>, <span class="string">&#x27;Петак&#x27;</span>, <span class="string">&#x27;Субота&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">sv</span>: &#123; <span class="comment">//Svenska</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Januari&#x27;</span>, <span class="string">&#x27;Februari&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;Maj&#x27;</span>, <span class="string">&#x27;Juni&#x27;</span>, <span class="string">&#x27;Juli&#x27;</span>, <span class="string">&#x27;Augusti&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;Oktober&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Sön&#x27;</span>, <span class="string">&#x27;Mån&#x27;</span>, <span class="string">&#x27;Tis&#x27;</span>, <span class="string">&#x27;Ons&#x27;</span>, <span class="string">&#x27;Tor&#x27;</span>, <span class="string">&#x27;Fre&#x27;</span>, <span class="string">&#x27;Lör&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Söndag&#x27;</span>, <span class="string">&#x27;Måndag&#x27;</span>, <span class="string">&#x27;Tisdag&#x27;</span>, <span class="string">&#x27;Onsdag&#x27;</span>, <span class="string">&#x27;Torsdag&#x27;</span>, <span class="string">&#x27;Fredag&#x27;</span>, <span class="string">&#x27;Lördag&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;zh-TW&#x27;</span>: &#123; <span class="comment">//Traditional Chinese (繁體中文)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;一月&#x27;</span>, <span class="string">&#x27;二月&#x27;</span>, <span class="string">&#x27;三月&#x27;</span>, <span class="string">&#x27;四月&#x27;</span>, <span class="string">&#x27;五月&#x27;</span>, <span class="string">&#x27;六月&#x27;</span>, <span class="string">&#x27;七月&#x27;</span>, <span class="string">&#x27;八月&#x27;</span>, <span class="string">&#x27;九月&#x27;</span>, <span class="string">&#x27;十月&#x27;</span>, <span class="string">&#x27;十一月&#x27;</span>, <span class="string">&#x27;十二月&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;日&#x27;</span>, <span class="string">&#x27;一&#x27;</span>, <span class="string">&#x27;二&#x27;</span>, <span class="string">&#x27;三&#x27;</span>, <span class="string">&#x27;四&#x27;</span>, <span class="string">&#x27;五&#x27;</span>, <span class="string">&#x27;六&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;星期日&#x27;</span>, <span class="string">&#x27;星期一&#x27;</span>, <span class="string">&#x27;星期二&#x27;</span>, <span class="string">&#x27;星期三&#x27;</span>, <span class="string">&#x27;星期四&#x27;</span>, <span class="string">&#x27;星期五&#x27;</span>, <span class="string">&#x27;星期六&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">&#x27;zh-CN&#x27;</span>: &#123; <span class="comment">//Simplified Chinese (简体中文)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;一月&#x27;</span>, <span class="string">&#x27;二月&#x27;</span>, <span class="string">&#x27;三月&#x27;</span>, <span class="string">&#x27;四月&#x27;</span>, <span class="string">&#x27;五月&#x27;</span>, <span class="string">&#x27;六月&#x27;</span>, <span class="string">&#x27;七月&#x27;</span>, <span class="string">&#x27;八月&#x27;</span>, <span class="string">&#x27;九月&#x27;</span>, <span class="string">&#x27;十月&#x27;</span>, <span class="string">&#x27;十一月&#x27;</span>, <span class="string">&#x27;十二月&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;日&#x27;</span>, <span class="string">&#x27;一&#x27;</span>, <span class="string">&#x27;二&#x27;</span>, <span class="string">&#x27;三&#x27;</span>, <span class="string">&#x27;四&#x27;</span>, <span class="string">&#x27;五&#x27;</span>, <span class="string">&#x27;六&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;星期日&#x27;</span>, <span class="string">&#x27;星期一&#x27;</span>, <span class="string">&#x27;星期二&#x27;</span>, <span class="string">&#x27;星期三&#x27;</span>, <span class="string">&#x27;星期四&#x27;</span>, <span class="string">&#x27;星期五&#x27;</span>, <span class="string">&#x27;星期六&#x27;</span>],</span><br><span class="line">      <span class="attr">postsMonthTip</span>: <span class="string">&#x27;查看yyyy年MM月的文章&#x27;</span>,</span><br><span class="line">      <span class="attr">titleFormat</span>: <span class="string">&#x27;yyyy年MM月&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">he</span>: &#123; <span class="comment">//Hebrew (עברית)</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;ינואר&#x27;</span>, <span class="string">&#x27;פברואר&#x27;</span>, <span class="string">&#x27;מרץ&#x27;</span>, <span class="string">&#x27;אפריל&#x27;</span>, <span class="string">&#x27;מאי&#x27;</span>, <span class="string">&#x27;יוני&#x27;</span>, <span class="string">&#x27;יולי&#x27;</span>, <span class="string">&#x27;אוגוסט&#x27;</span>, <span class="string">&#x27;ספטמבר&#x27;</span>, <span class="string">&#x27;אוקטובר&#x27;</span>, <span class="string">&#x27;נובמבר&#x27;</span>, <span class="string">&#x27;דצמבר&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;א\&#x27;&#x27;</span>, <span class="string">&#x27;ב\&#x27;&#x27;</span>, <span class="string">&#x27;ג\&#x27;&#x27;</span>, <span class="string">&#x27;ד\&#x27;&#x27;</span>, <span class="string">&#x27;ה\&#x27;&#x27;</span>, <span class="string">&#x27;ו\&#x27;&#x27;</span>, <span class="string">&#x27;שבת&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;ראשון&#x27;</span>, <span class="string">&#x27;שני&#x27;</span>, <span class="string">&#x27;שלישי&#x27;</span>, <span class="string">&#x27;רביעי&#x27;</span>, <span class="string">&#x27;חמישי&#x27;</span>, <span class="string">&#x27;שישי&#x27;</span>, <span class="string">&#x27;שבת&#x27;</span>, <span class="string">&#x27;ראשון&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">hy</span>: &#123; <span class="comment">// Armenian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Հունվար&#x27;</span>, <span class="string">&#x27;Փետրվար&#x27;</span>, <span class="string">&#x27;Մարտ&#x27;</span>, <span class="string">&#x27;Ապրիլ&#x27;</span>, <span class="string">&#x27;Մայիս&#x27;</span>, <span class="string">&#x27;Հունիս&#x27;</span>, <span class="string">&#x27;Հուլիս&#x27;</span>, <span class="string">&#x27;Օգոստոս&#x27;</span>, <span class="string">&#x27;Սեպտեմբեր&#x27;</span>, <span class="string">&#x27;Հոկտեմբեր&#x27;</span>, <span class="string">&#x27;Նոյեմբեր&#x27;</span>, <span class="string">&#x27;Դեկտեմբեր&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Կի&#x27;</span>, <span class="string">&#x27;Երկ&#x27;</span>, <span class="string">&#x27;Երք&#x27;</span>, <span class="string">&#x27;Չոր&#x27;</span>, <span class="string">&#x27;Հնգ&#x27;</span>, <span class="string">&#x27;Ուրբ&#x27;</span>, <span class="string">&#x27;Շբթ&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Կիրակի&#x27;</span>, <span class="string">&#x27;Երկուշաբթի&#x27;</span>, <span class="string">&#x27;Երեքշաբթի&#x27;</span>, <span class="string">&#x27;Չորեքշաբթի&#x27;</span>, <span class="string">&#x27;Հինգշաբթի&#x27;</span>, <span class="string">&#x27;Ուրբաթ&#x27;</span>, <span class="string">&#x27;Շաբաթ&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">kg</span>: &#123; <span class="comment">// Kyrgyz</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Үчтүн айы&#x27;</span>, <span class="string">&#x27;Бирдин айы&#x27;</span>, <span class="string">&#x27;Жалган Куран&#x27;</span>, <span class="string">&#x27;Чын Куран&#x27;</span>, <span class="string">&#x27;Бугу&#x27;</span>, <span class="string">&#x27;Кулжа&#x27;</span>, <span class="string">&#x27;Теке&#x27;</span>, <span class="string">&#x27;Баш Оона&#x27;</span>, <span class="string">&#x27;Аяк Оона&#x27;</span>, <span class="string">&#x27;Тогуздун айы&#x27;</span>, <span class="string">&#x27;Жетинин айы&#x27;</span>, <span class="string">&#x27;Бештин айы&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Жек&#x27;</span>, <span class="string">&#x27;Дүй&#x27;</span>, <span class="string">&#x27;Шей&#x27;</span>, <span class="string">&#x27;Шар&#x27;</span>, <span class="string">&#x27;Бей&#x27;</span>, <span class="string">&#x27;Жум&#x27;</span>, <span class="string">&#x27;Ише&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [</span><br><span class="line">        <span class="string">&#x27;Жекшемб&#x27;</span>, <span class="string">&#x27;Дүйшөмб&#x27;</span>, <span class="string">&#x27;Шейшемб&#x27;</span>, <span class="string">&#x27;Шаршемб&#x27;</span>, <span class="string">&#x27;Бейшемби&#x27;</span>, <span class="string">&#x27;Жума&#x27;</span>, <span class="string">&#x27;Ишенб&#x27;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">rm</span>: &#123; <span class="comment">// Romansh</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;Schaner&#x27;</span>, <span class="string">&#x27;Favrer&#x27;</span>, <span class="string">&#x27;Mars&#x27;</span>, <span class="string">&#x27;Avrigl&#x27;</span>, <span class="string">&#x27;Matg&#x27;</span>, <span class="string">&#x27;Zercladur&#x27;</span>, <span class="string">&#x27;Fanadur&#x27;</span>, <span class="string">&#x27;Avust&#x27;</span>, <span class="string">&#x27;Settember&#x27;</span>, <span class="string">&#x27;October&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;Du&#x27;</span>, <span class="string">&#x27;Gli&#x27;</span>, <span class="string">&#x27;Ma&#x27;</span>, <span class="string">&#x27;Me&#x27;</span>, <span class="string">&#x27;Gie&#x27;</span>, <span class="string">&#x27;Ve&#x27;</span>, <span class="string">&#x27;So&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [</span><br><span class="line">        <span class="string">&#x27;Dumengia&#x27;</span>, <span class="string">&#x27;Glindesdi&#x27;</span>, <span class="string">&#x27;Mardi&#x27;</span>, <span class="string">&#x27;Mesemna&#x27;</span>, <span class="string">&#x27;Gievgia&#x27;</span>, <span class="string">&#x27;Venderdi&#x27;</span>, <span class="string">&#x27;Sonda&#x27;</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ka</span>: &#123; <span class="comment">// Georgian</span></span><br><span class="line">      <span class="attr">months</span>: [</span><br><span class="line">        <span class="string">&#x27;იანვარი&#x27;</span>, <span class="string">&#x27;თებერვალი&#x27;</span>, <span class="string">&#x27;მარტი&#x27;</span>, <span class="string">&#x27;აპრილი&#x27;</span>, <span class="string">&#x27;მაისი&#x27;</span>, <span class="string">&#x27;ივნისი&#x27;</span>, <span class="string">&#x27;ივლისი&#x27;</span>, <span class="string">&#x27;აგვისტო&#x27;</span>, <span class="string">&#x27;სექტემბერი&#x27;</span>, <span class="string">&#x27;ოქტომბერი&#x27;</span>, <span class="string">&#x27;ნოემბერი&#x27;</span>, <span class="string">&#x27;დეკემბერი&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [</span><br><span class="line">        <span class="string">&#x27;კვ&#x27;</span>, <span class="string">&#x27;ორშ&#x27;</span>, <span class="string">&#x27;სამშ&#x27;</span>, <span class="string">&#x27;ოთხ&#x27;</span>, <span class="string">&#x27;ხუთ&#x27;</span>, <span class="string">&#x27;პარ&#x27;</span>, <span class="string">&#x27;შაბ&#x27;</span></span><br><span class="line">      ],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;კვირა&#x27;</span>, <span class="string">&#x27;ორშაბათი&#x27;</span>, <span class="string">&#x27;სამშაბათი&#x27;</span>, <span class="string">&#x27;ოთხშაბათი&#x27;</span>, <span class="string">&#x27;ხუთშაბათი&#x27;</span>, <span class="string">&#x27;პარასკევი&#x27;</span>, <span class="string">&#x27;შაბათი&#x27;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><p>然后添加 <code>[blogRoot]/themes/butterfly/source/js/calendar.js</code></p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">forNormal</button></li><li class="tab"><button type="button" data-href="#-2">forPjax</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Calendar - displays a calendar of the current month. Dates appear links if there are posts for that day.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> (<span class="keyword">function</span>(<span class="params">$</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> aCalendar = <span class="keyword">function</span>(<span class="params">language, options, object</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">      <span class="keyword">var</span> nDay = now.<span class="title function_">getDate</span>();</span><br><span class="line">      <span class="keyword">var</span> nMonth = now.<span class="title function_">getMonth</span>();</span><br><span class="line">      <span class="keyword">var</span> nYear = now.<span class="title function_">getFullYear</span>();</span><br><span class="line">      <span class="keyword">var</span> dDay = nDay;</span><br><span class="line">      <span class="keyword">var</span> dMonth = nMonth;</span><br><span class="line">      <span class="keyword">var</span> dYear = nYear;</span><br><span class="line">      <span class="keyword">var</span> instance = object;</span><br><span class="line">      <span class="keyword">var</span> allPosts = <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">var</span> months = <span class="literal">null</span>;</span><br><span class="line">      <span class="comment">/* Current month&#x27;s posts */</span></span><br><span class="line">      <span class="keyword">var</span> current = &#123;</span><br><span class="line">        <span class="attr">posts</span>: [],</span><br><span class="line">        <span class="attr">prev</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="attr">next</span>: <span class="literal">null</span></span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="keyword">var</span> currentLanguage = <span class="string">&#x27;en&#x27;</span>;</span><br><span class="line">  </span><br><span class="line">      <span class="title function_">initLanguage</span>(language);</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">var</span> settings = $.<span class="title function_">extend</span>(&#123;&#125;, $.fn.<span class="property">aCalendar</span>.<span class="property">defaults</span>, <span class="keyword">typeof</span> calLanguages === <span class="string">&#x27;undefined&#x27;</span> ? &#123;&#125; : calLanguages[currentLanguage], options);</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">if</span> (settings.<span class="property">root</span>[<span class="number">0</span>] !== <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">        settings.<span class="property">root</span> = <span class="string">&#x27;/&#x27;</span> + settings.<span class="property">root</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">if</span> (settings.<span class="property">root</span>[settings.<span class="property">root</span>.<span class="property">length</span> - <span class="number">1</span>] !== <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">        settings.<span class="property">root</span> += <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Initial language.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">initLanguage</span>(<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key &amp;&amp; <span class="keyword">typeof</span> calLanguages !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; calLanguages[key]) &#123;</span><br><span class="line">          currentLanguage = key;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Click handler for next month arrow button.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">nextMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dMonth &lt; <span class="number">11</span>) &#123;</span><br><span class="line">          dMonth++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          dMonth = <span class="number">0</span>;</span><br><span class="line">          dYear++;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="title function_">draw</span>();</span><br><span class="line">      &#125;;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Click handler for previous month arrow button.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">previousMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dMonth &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          dMonth--;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          dMonth = <span class="number">11</span>;</span><br><span class="line">          dYear--;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="title function_">draw</span>();</span><br><span class="line">      &#125;;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Click handler for navigating to a month if there are posts.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">toPostsMonth</span>(<span class="params">date</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (date) &#123;</span><br><span class="line">          dYear = date.<span class="title function_">getFullYear</span>();</span><br><span class="line">          dMonth = date.<span class="title function_">getMonth</span>();</span><br><span class="line">          <span class="title function_">draw</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Load current month&#x27;s posts.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">loadPosts</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (settings.<span class="property">single</span>) &#123;</span><br><span class="line">          <span class="title function_">loadAllPosts</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="title function_">loadPostsByMonth</span>();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Load all month&#x27;s posts.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">loadAllPosts</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (settings.<span class="property">url</span> != <span class="literal">null</span> &amp;&amp; settings.<span class="property">url</span> != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (allPosts === <span class="literal">null</span>) &#123;</span><br><span class="line">            $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">              <span class="attr">url</span>: settings.<span class="property">url</span>,</span><br><span class="line">              <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">              <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">                allPosts = data;</span><br><span class="line">                <span class="title function_">initMonths</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(allPosts));</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">  </span><br><span class="line">          <span class="keyword">if</span> (allPosts !== <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="title function_">parse</span>()) &#123;</span><br><span class="line">              current.<span class="property">posts</span> = allPosts[dYear + <span class="string">&#x27;-&#x27;</span> + (dMonth + <span class="number">1</span>)];</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Load posts by the month.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">loadPostsByMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (months === <span class="literal">null</span>) &#123;</span><br><span class="line">          $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: settings.<span class="property">root</span> + <span class="string">&#x27;list.json&#x27;</span>,</span><br><span class="line">            <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">              <span class="title function_">initMonths</span>(data);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">parse</span>()) &#123;</span><br><span class="line">          $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: settings.<span class="property">root</span> + dYear + <span class="string">&#x27;-&#x27;</span> + (dMonth + <span class="number">1</span>) + <span class="string">&#x27;.json&#x27;</span>,</span><br><span class="line">            <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">              current.<span class="property">posts</span> = data;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Initial months array.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">initMonths</span>(<span class="params">array</span>) &#123;</span><br><span class="line">        months = array.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item</span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> ym = item.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">UTC</span>(+ym[<span class="number">0</span>], +ym[<span class="number">1</span>] - <span class="number">1</span>));</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Parse posts month array, and set current.next and current.prev.</span></span><br><span class="line"><span class="comment">       *</span></span><br><span class="line"><span class="comment">       * <span class="doctag">@return</span> if there are posts in this month, return true. ortherwise return false.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">parse</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> time = <span class="title class_">Date</span>.<span class="title function_">UTC</span>(dYear, dMonth);</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (months === <span class="literal">null</span> || months.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="comment">//If no posts in the current month, and before (or after) the current month yet not published articles, then the response to click previous month&#x27;s (or next month&#x27;s) event don&#x27;t need to parse months array</span></span><br><span class="line">        <span class="keyword">if</span> (current.<span class="property">posts</span>.<span class="property">length</span> === <span class="number">0</span> &amp;&amp; (current.<span class="property">prev</span> === <span class="literal">null</span> &amp;&amp; current.<span class="property">next</span> !== <span class="literal">null</span> &amp;&amp; current.<span class="property">next</span>.<span class="title function_">getTime</span>() &gt; time || current.<span class="property">next</span> === <span class="literal">null</span> &amp;&amp; current.<span class="property">prev</span> !== <span class="literal">null</span> &amp;&amp; current.<span class="property">prev</span>.<span class="title function_">getTime</span>() &lt; time)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        current.<span class="property">posts</span> = [];</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; months.<span class="property">length</span>; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> cTime = months[i].<span class="title function_">getTime</span>();</span><br><span class="line">          <span class="keyword">if</span> (time === cTime) &#123;</span><br><span class="line">            current.<span class="property">prev</span> = i === <span class="number">0</span> ? <span class="literal">null</span> : months[i - <span class="number">1</span>];</span><br><span class="line">            current.<span class="property">next</span> = i === months.<span class="property">length</span> - <span class="number">1</span> ? <span class="literal">null</span> : months[i + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (time &lt; cTime) &#123;</span><br><span class="line">            current.<span class="property">prev</span> = i === <span class="number">0</span> ? <span class="literal">null</span> : months[i - <span class="number">1</span>];</span><br><span class="line">            current.<span class="property">next</span> = months[i];</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            current.<span class="property">prev</span> = months[i];</span><br><span class="line">            current.<span class="property">next</span> = <span class="literal">null</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Format date object.</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">simpleDateFormat</span>(<span class="params">date, fmt</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = &#123;</span><br><span class="line">          <span class="string">&#x27;LMM+&#x27;</span>: settings.<span class="property">months</span>[date.<span class="title function_">getMonth</span>()],</span><br><span class="line">          <span class="string">&#x27;MM+&#x27;</span>: date.<span class="title function_">getMonth</span>() + <span class="number">1</span></span><br><span class="line">        &#125;;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">          fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (date.<span class="title function_">getFullYear</span>() + <span class="string">&#x27;&#x27;</span>).<span class="title function_">substr</span>(<span class="number">4</span> - <span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>));</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o) &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;(&#x27;</span> + k + <span class="string">&#x27;)&#x27;</span>).<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">            fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (k === <span class="string">&#x27;LMM+&#x27;</span>) ? (o[k]) : ((<span class="string">&#x27;00&#x27;</span> + o[k]).<span class="title function_">substr</span>((<span class="string">&#x27;&#x27;</span> + o[k]).<span class="property">length</span>)));</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">return</span> fmt;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment">       * Draw calendar.</span></span><br><span class="line"><span class="comment">       *</span></span><br><span class="line"><span class="comment">       */</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">loadPosts</span>();</span><br><span class="line">        <span class="keyword">var</span> dWeekDayOfMonthStart = <span class="keyword">new</span> <span class="title class_">Date</span>(dYear, dMonth, <span class="number">1</span>).<span class="title function_">getDay</span>() - settings.<span class="property">weekOffset</span>;</span><br><span class="line">        <span class="keyword">if</span> (dWeekDayOfMonthStart &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">          dWeekDayOfMonthStart = <span class="number">6</span> - ((dWeekDayOfMonthStart + <span class="number">1</span>) * -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> dLastDayOfMonth = <span class="keyword">new</span> <span class="title class_">Date</span>(dYear, dMonth + <span class="number">1</span>, <span class="number">0</span>).<span class="title function_">getDate</span>();</span><br><span class="line">        <span class="keyword">var</span> dLastDayOfPreviousMonth = <span class="keyword">new</span> <span class="title class_">Date</span>(dYear, dMonth, <span class="number">0</span>).<span class="title function_">getDate</span>() - dWeekDayOfMonthStart + <span class="number">1</span>;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> cHead = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;cal-head&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cNext = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cPrevious = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cTitle = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;cal-title&#x27;</span>);</span><br><span class="line">        cPrevious.<span class="title function_">html</span>(settings.<span class="property">headArrows</span>.<span class="property">previous</span>);</span><br><span class="line">        cNext.<span class="title function_">html</span>(settings.<span class="property">headArrows</span>.<span class="property">next</span>);</span><br><span class="line">        curDate = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">UTC</span>(dYear, dMonth));</span><br><span class="line">        <span class="keyword">if</span> (current.<span class="property">posts</span>.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">          cTitle.<span class="title function_">html</span>(<span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">titleFormat</span>));</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          cTitleLink = $(<span class="string">&#x27;&lt;a/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>, <span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">titleLinkFormat</span>))</span><br><span class="line">            .<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, <span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">postsMonthTip</span>))</span><br><span class="line">            .<span class="title function_">html</span>(<span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">titleFormat</span>));</span><br><span class="line">          cTitle.<span class="title function_">html</span>(cTitleLink);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        cPrevious.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, previousMonth);</span><br><span class="line">        cNext.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, nextMonth);</span><br><span class="line">  </span><br><span class="line">        cHead.<span class="title function_">append</span>(cPrevious);</span><br><span class="line">        cHead.<span class="title function_">append</span>(cTitle);</span><br><span class="line">        cHead.<span class="title function_">append</span>(cNext);</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> cBody = $(<span class="string">&#x27;&lt;table/&gt;&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;cal&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> dayOfWeek = settings.<span class="property">weekOffset</span>;</span><br><span class="line">        <span class="keyword">var</span> cWeekHead = $(<span class="string">&#x27;&lt;thead/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cWeekHeadRow = $(<span class="string">&#x27;&lt;tr/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (dayOfWeek &gt; <span class="number">6</span>) &#123;</span><br><span class="line">            dayOfWeek = <span class="number">0</span>;</span><br><span class="line">          &#125;</span><br><span class="line">  </span><br><span class="line">          <span class="keyword">var</span> cWeekDay = $(<span class="string">&#x27;&lt;th/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;scope&#x27;</span>, <span class="string">&#x27;col&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, settings.<span class="property">dayOfWeek</span>[dayOfWeek]);</span><br><span class="line">          cWeekDay.<span class="title function_">html</span>(settings.<span class="property">dayOfWeekShort</span>[dayOfWeek]);</span><br><span class="line">          cWeekHeadRow.<span class="title function_">append</span>(cWeekDay);</span><br><span class="line">          dayOfWeek++;</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        cWeekHead.<span class="title function_">append</span>(cWeekHeadRow);</span><br><span class="line">        cBody.<span class="title function_">append</span>(cWeekHead);</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> cFoot = $(<span class="string">&#x27;&lt;tfoot/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cFootRow = $(<span class="string">&#x27;&lt;tr/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cPrevPosts = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;colspan&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">var</span> cPad = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>).<span class="title function_">html</span>(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> cNextPosts = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;colspan&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">if</span> (current.<span class="property">prev</span>) &#123;</span><br><span class="line">          cPrevPosts.<span class="title function_">html</span>(settings.<span class="property">footArrows</span>.<span class="property">previous</span> + settings.<span class="property">months</span>[current.<span class="property">prev</span>.<span class="title function_">getMonth</span>()])</span><br><span class="line">            .<span class="title function_">addClass</span>(<span class="string">&#x27;cal-foot&#x27;</span>)</span><br><span class="line">            .<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, <span class="title function_">simpleDateFormat</span>(current.<span class="property">prev</span>, settings.<span class="property">postsMonthTip</span>));</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">if</span> (current.<span class="property">next</span>) &#123;</span><br><span class="line">          cNextPosts.<span class="title function_">html</span>(settings.<span class="property">months</span>[current.<span class="property">next</span>.<span class="title function_">getMonth</span>()] + settings.<span class="property">footArrows</span>.<span class="property">next</span>)</span><br><span class="line">            .<span class="title function_">addClass</span>(<span class="string">&#x27;cal-foot&#x27;</span>)</span><br><span class="line">            .<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, <span class="title function_">simpleDateFormat</span>(current.<span class="property">next</span>, settings.<span class="property">postsMonthTip</span>));</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        cPrevPosts.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="title function_">toPostsMonth</span>(current.<span class="property">prev</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">  </span><br><span class="line">        cNextPosts.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="title function_">toPostsMonth</span>(current.<span class="property">next</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">  </span><br><span class="line">        cFootRow.<span class="title function_">append</span>(cPrevPosts);</span><br><span class="line">        cFootRow.<span class="title function_">append</span>(cPad);</span><br><span class="line">        cFootRow.<span class="title function_">append</span>(cNextPosts);</span><br><span class="line">        cFoot.<span class="title function_">append</span>(cFootRow);</span><br><span class="line">  </span><br><span class="line">        <span class="keyword">var</span> cMainPad = $(<span class="string">&#x27;&lt;tbody/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> day = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">var</span> dayOfNextMonth = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> cWeek = $(<span class="string">&#x27;&lt;tr/&gt;&#x27;</span>);</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">var</span> cDay = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>);</span><br><span class="line">            <span class="keyword">if</span> (i * <span class="number">7</span> + j &lt; dWeekDayOfMonthStart) &#123;</span><br><span class="line">              cDay.<span class="title function_">addClass</span>(<span class="string">&#x27;cal-gray&#x27;</span>);</span><br><span class="line">              cDay.<span class="title function_">html</span>(dLastDayOfPreviousMonth++);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (day &lt;= dLastDayOfMonth) &#123;</span><br><span class="line">              <span class="keyword">if</span> (day == dDay &amp;&amp; nMonth == dMonth &amp;&amp; nYear == dYear) &#123;</span><br><span class="line">                cDay.<span class="title function_">addClass</span>(<span class="string">&#x27;cal-today&#x27;</span>);</span><br><span class="line">              &#125;</span><br><span class="line">  </span><br><span class="line">              <span class="keyword">var</span> count = &#123;</span><br><span class="line">                <span class="attr">num</span>: <span class="number">0</span>,</span><br><span class="line">                <span class="attr">keys</span>: []</span><br><span class="line">              &#125;;</span><br><span class="line">              <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; current.<span class="property">posts</span>.<span class="property">length</span>; k++) &#123;</span><br><span class="line">                <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">parse</span>(current.<span class="property">posts</span>[k].<span class="property">date</span>));</span><br><span class="line">                <span class="keyword">if</span> (d.<span class="title function_">getDate</span>() == day) &#123;</span><br><span class="line">                  count.<span class="property">keys</span>[count.<span class="property">num</span>++] = k;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">  </span><br><span class="line">              <span class="keyword">if</span> (count.<span class="property">num</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> index = count.<span class="property">keys</span>[<span class="number">0</span>];</span><br><span class="line">                <span class="keyword">var</span> cLink = $(<span class="string">&#x27;&lt;a&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>, current.<span class="property">posts</span>[index].<span class="property">link</span>).<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, current.<span class="property">posts</span>[index].<span class="property">title</span>).<span class="title function_">html</span>(day++);</span><br><span class="line">                cDay.<span class="title function_">append</span>(cLink);</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                cDay.<span class="title function_">html</span>(day++);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              cDay.<span class="title function_">addClass</span>(<span class="string">&#x27;cal-gray&#x27;</span>);</span><br><span class="line">              cDay.<span class="title function_">html</span>(dayOfNextMonth++);</span><br><span class="line">            &#125;</span><br><span class="line">  </span><br><span class="line">            cWeek.<span class="title function_">append</span>(cDay);</span><br><span class="line">          &#125;</span><br><span class="line">  </span><br><span class="line">          cMainPad.<span class="title function_">append</span>(cWeek);</span><br><span class="line">        &#125;</span><br><span class="line">  </span><br><span class="line">        cBody.<span class="title function_">append</span>(cWeekHead);</span><br><span class="line">        cBody.<span class="title function_">append</span>(cFoot);</span><br><span class="line">        cBody.<span class="title function_">append</span>(cMainPad);</span><br><span class="line">  </span><br><span class="line">        $(instance).<span class="title function_">html</span>(cHead);</span><br><span class="line">        $(instance).<span class="title function_">append</span>(cBody);</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">draw</span>();</span><br><span class="line">    &#125;;</span><br><span class="line">  </span><br><span class="line">    $.fn.<span class="property">aCalendar</span> = <span class="keyword">function</span>(<span class="params">Lang, oInit</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">each</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">aCalendar</span>(<span class="title class_">Lang</span>, oInit, $(<span class="variable language_">this</span>));</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// plugin defaults</span></span><br><span class="line">    $.fn.<span class="property">aCalendar</span>.<span class="property">defaults</span> = &#123;</span><br><span class="line">      <span class="attr">months</span>: [<span class="string">&#x27;January&#x27;</span>, <span class="string">&#x27;February&#x27;</span>, <span class="string">&#x27;March&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;June&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;October&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span>],</span><br><span class="line">      <span class="attr">dayOfWeekShort</span>: [<span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;S&#x27;</span>],</span><br><span class="line">      <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sunday&#x27;</span>, <span class="string">&#x27;Monday&#x27;</span>, <span class="string">&#x27;Tuesday&#x27;</span>, <span class="string">&#x27;Wednesday&#x27;</span>, <span class="string">&#x27;Thursday&#x27;</span>, <span class="string">&#x27;Friday&#x27;</span>, <span class="string">&#x27;Saturday&#x27;</span>],</span><br><span class="line">      <span class="attr">postsMonthTip</span>: <span class="string">&#x27;Posts published in LMM yyyy&#x27;</span>,</span><br><span class="line">      <span class="attr">titleFormat</span>: <span class="string">&#x27;yyyy LMM&#x27;</span>,</span><br><span class="line">      <span class="attr">titleLinkFormat</span>: <span class="string">&#x27;/archives/yyyy/MM/&#x27;</span>,</span><br><span class="line">      <span class="attr">headArrows</span>: &#123;<span class="attr">previous</span>: <span class="string">&#x27;&lt;span class=&quot;cal-prev&quot;&gt;&lt;/span&gt;&#x27;</span>, <span class="attr">next</span>: <span class="string">&#x27;&lt;span class=&quot;cal-next&quot;&gt;&lt;/span&gt;&#x27;</span>&#125;,</span><br><span class="line">      <span class="attr">footArrows</span>: &#123;<span class="attr">previous</span>: <span class="string">&#x27;« &#x27;</span>, <span class="attr">next</span>: <span class="string">&#x27; »&#x27;</span>&#125;,</span><br><span class="line">      <span class="attr">weekOffset</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">single</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">root</span>: <span class="string">&#x27;/calendar/&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/calendar.json&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  </span><br><span class="line">  &#125;(jQuery));</span><br><span class="line">  $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#calendar&quot;</span>).<span class="title function_">aCalendar</span>(<span class="string">&quot;zh-CN&quot;</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Calendar - displays a calendar of the current month. Dates appear links if there are posts for that day.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> (<span class="keyword">function</span>(<span class="params">$</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> aCalendar = <span class="keyword">function</span>(<span class="params">language, options, object</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">var</span> nDay = now.<span class="title function_">getDate</span>();</span><br><span class="line">    <span class="keyword">var</span> nMonth = now.<span class="title function_">getMonth</span>();</span><br><span class="line">    <span class="keyword">var</span> nYear = now.<span class="title function_">getFullYear</span>();</span><br><span class="line">    <span class="keyword">var</span> dDay = nDay;</span><br><span class="line">    <span class="keyword">var</span> dMonth = nMonth;</span><br><span class="line">    <span class="keyword">var</span> dYear = nYear;</span><br><span class="line">    <span class="keyword">var</span> instance = object;</span><br><span class="line">    <span class="keyword">var</span> allPosts = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">var</span> months = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">/* Current month&#x27;s posts */</span></span><br><span class="line">    <span class="keyword">var</span> current = &#123;</span><br><span class="line">      <span class="attr">posts</span>: [],</span><br><span class="line">      <span class="attr">prev</span>: <span class="literal">null</span>,</span><br><span class="line">      <span class="attr">next</span>: <span class="literal">null</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> currentLanguage = <span class="string">&#x27;en&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">initLanguage</span>(language);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> settings = $.<span class="title function_">extend</span>(&#123;&#125;, $.fn.<span class="property">aCalendar</span>.<span class="property">defaults</span>, <span class="keyword">typeof</span> calLanguages === <span class="string">&#x27;undefined&#x27;</span> ? &#123;&#125; : calLanguages[currentLanguage], options);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (settings.<span class="property">root</span>[<span class="number">0</span>] !== <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">      settings.<span class="property">root</span> = <span class="string">&#x27;/&#x27;</span> + settings.<span class="property">root</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (settings.<span class="property">root</span>[settings.<span class="property">root</span>.<span class="property">length</span> - <span class="number">1</span>] !== <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">      settings.<span class="property">root</span> += <span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Initial language.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">initLanguage</span>(<span class="params">key</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (key &amp;&amp; <span class="keyword">typeof</span> calLanguages !== <span class="string">&#x27;undefined&#x27;</span> &amp;&amp; calLanguages[key]) &#123;</span><br><span class="line">        currentLanguage = key;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Click handler for next month arrow button.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">nextMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (dMonth &lt; <span class="number">11</span>) &#123;</span><br><span class="line">        dMonth++;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dMonth = <span class="number">0</span>;</span><br><span class="line">        dYear++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="title function_">draw</span>();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Click handler for previous month arrow button.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">previousMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (dMonth &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        dMonth--;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        dMonth = <span class="number">11</span>;</span><br><span class="line">        dYear--;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="title function_">draw</span>();</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Click handler for navigating to a month if there are posts.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">toPostsMonth</span>(<span class="params">date</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (date) &#123;</span><br><span class="line">        dYear = date.<span class="title function_">getFullYear</span>();</span><br><span class="line">        dMonth = date.<span class="title function_">getMonth</span>();</span><br><span class="line">        <span class="title function_">draw</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Load current month&#x27;s posts.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loadPosts</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (settings.<span class="property">single</span>) &#123;</span><br><span class="line">        <span class="title function_">loadAllPosts</span>();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">loadPostsByMonth</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Load all month&#x27;s posts.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loadAllPosts</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (settings.<span class="property">url</span> != <span class="literal">null</span> &amp;&amp; settings.<span class="property">url</span> != <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (allPosts === <span class="literal">null</span>) &#123;</span><br><span class="line">          $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">            <span class="attr">url</span>: settings.<span class="property">url</span>,</span><br><span class="line">            <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">              allPosts = data;</span><br><span class="line">              <span class="title function_">initMonths</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(allPosts));</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (allPosts !== <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="title function_">parse</span>()) &#123;</span><br><span class="line">            current.<span class="property">posts</span> = allPosts[dYear + <span class="string">&#x27;-&#x27;</span> + (dMonth + <span class="number">1</span>)];</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Load posts by the month.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loadPostsByMonth</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (months === <span class="literal">null</span>) &#123;</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: settings.<span class="property">root</span> + <span class="string">&#x27;list.json&#x27;</span>,</span><br><span class="line">          <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">            <span class="title function_">initMonths</span>(data);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">parse</span>()) &#123;</span><br><span class="line">        $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: settings.<span class="property">root</span> + dYear + <span class="string">&#x27;-&#x27;</span> + (dMonth + <span class="number">1</span>) + <span class="string">&#x27;.json&#x27;</span>,</span><br><span class="line">          <span class="attr">async</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">            current.<span class="property">posts</span> = data;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Initial months array.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">initMonths</span>(<span class="params">array</span>) &#123;</span><br><span class="line">      months = array.<span class="title function_">map</span>(<span class="keyword">function</span>(<span class="params">item</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> ym = item.<span class="title function_">split</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">UTC</span>(+ym[<span class="number">0</span>], +ym[<span class="number">1</span>] - <span class="number">1</span>));</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Parse posts month array, and set current.next and current.prev.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> if there are posts in this month, return true. ortherwise return false.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">parse</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> time = <span class="title class_">Date</span>.<span class="title function_">UTC</span>(dYear, dMonth);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (months === <span class="literal">null</span> || months.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//If no posts in the current month, and before (or after) the current month yet not published articles, then the response to click previous month&#x27;s (or next month&#x27;s) event don&#x27;t need to parse months array</span></span><br><span class="line">      <span class="keyword">if</span> (current.<span class="property">posts</span>.<span class="property">length</span> === <span class="number">0</span> &amp;&amp; (current.<span class="property">prev</span> === <span class="literal">null</span> &amp;&amp; current.<span class="property">next</span> !== <span class="literal">null</span> &amp;&amp; current.<span class="property">next</span>.<span class="title function_">getTime</span>() &gt; time || current.<span class="property">next</span> === <span class="literal">null</span> &amp;&amp; current.<span class="property">prev</span> !== <span class="literal">null</span> &amp;&amp; current.<span class="property">prev</span>.<span class="title function_">getTime</span>() &lt; time)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      current.<span class="property">posts</span> = [];</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; months.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> cTime = months[i].<span class="title function_">getTime</span>();</span><br><span class="line">        <span class="keyword">if</span> (time === cTime) &#123;</span><br><span class="line">          current.<span class="property">prev</span> = i === <span class="number">0</span> ? <span class="literal">null</span> : months[i - <span class="number">1</span>];</span><br><span class="line">          current.<span class="property">next</span> = i === months.<span class="property">length</span> - <span class="number">1</span> ? <span class="literal">null</span> : months[i + <span class="number">1</span>];</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (time &lt; cTime) &#123;</span><br><span class="line">          current.<span class="property">prev</span> = i === <span class="number">0</span> ? <span class="literal">null</span> : months[i - <span class="number">1</span>];</span><br><span class="line">          current.<span class="property">next</span> = months[i];</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          current.<span class="property">prev</span> = months[i];</span><br><span class="line">          current.<span class="property">next</span> = <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Format date object.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">simpleDateFormat</span>(<span class="params">date, fmt</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> o = &#123;</span><br><span class="line">        <span class="string">&#x27;LMM+&#x27;</span>: settings.<span class="property">months</span>[date.<span class="title function_">getMonth</span>()],</span><br><span class="line">        <span class="string">&#x27;MM+&#x27;</span>: date.<span class="title function_">getMonth</span>() + <span class="number">1</span></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (<span class="regexp">/(y+)/</span>.<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">        fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (date.<span class="title function_">getFullYear</span>() + <span class="string">&#x27;&#x27;</span>).<span class="title function_">substr</span>(<span class="number">4</span> - <span class="title class_">RegExp</span>.<span class="property">$1</span>.<span class="property">length</span>));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> o) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;(&#x27;</span> + k + <span class="string">&#x27;)&#x27;</span>).<span class="title function_">test</span>(fmt)) &#123;</span><br><span class="line">          fmt = fmt.<span class="title function_">replace</span>(<span class="title class_">RegExp</span>.<span class="property">$1</span>, (k === <span class="string">&#x27;LMM+&#x27;</span>) ? (o[k]) : ((<span class="string">&#x27;00&#x27;</span> + o[k]).<span class="title function_">substr</span>((<span class="string">&#x27;&#x27;</span> + o[k]).<span class="property">length</span>)));</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> fmt;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Draw calendar.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">loadPosts</span>();</span><br><span class="line">      <span class="keyword">var</span> dWeekDayOfMonthStart = <span class="keyword">new</span> <span class="title class_">Date</span>(dYear, dMonth, <span class="number">1</span>).<span class="title function_">getDay</span>() - settings.<span class="property">weekOffset</span>;</span><br><span class="line">      <span class="keyword">if</span> (dWeekDayOfMonthStart &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        dWeekDayOfMonthStart = <span class="number">6</span> - ((dWeekDayOfMonthStart + <span class="number">1</span>) * -<span class="number">1</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> dLastDayOfMonth = <span class="keyword">new</span> <span class="title class_">Date</span>(dYear, dMonth + <span class="number">1</span>, <span class="number">0</span>).<span class="title function_">getDate</span>();</span><br><span class="line">      <span class="keyword">var</span> dLastDayOfPreviousMonth = <span class="keyword">new</span> <span class="title class_">Date</span>(dYear, dMonth, <span class="number">0</span>).<span class="title function_">getDate</span>() - dWeekDayOfMonthStart + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> cHead = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;cal-head&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cNext = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cPrevious = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cTitle = $(<span class="string">&#x27;&lt;div/&gt;&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;cal-title&#x27;</span>);</span><br><span class="line">      cPrevious.<span class="title function_">html</span>(settings.<span class="property">headArrows</span>.<span class="property">previous</span>);</span><br><span class="line">      cNext.<span class="title function_">html</span>(settings.<span class="property">headArrows</span>.<span class="property">next</span>);</span><br><span class="line">      curDate = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">UTC</span>(dYear, dMonth));</span><br><span class="line">      <span class="keyword">if</span> (current.<span class="property">posts</span>.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">        cTitle.<span class="title function_">html</span>(<span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">titleFormat</span>));</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        cTitleLink = $(<span class="string">&#x27;&lt;a/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;onclick&#x27;</span>, <span class="string">`pjax.loadUrl(&#x27;<span class="subst">$&#123;simpleDateFormat(curDate, settings.titleLinkFormat)&#125;</span>&#x27;)`</span>)</span><br><span class="line">          .<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, <span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">postsMonthTip</span>))</span><br><span class="line">          .<span class="title function_">html</span>(<span class="title function_">simpleDateFormat</span>(curDate, settings.<span class="property">titleFormat</span>));</span><br><span class="line">        cTitle.<span class="title function_">html</span>(cTitleLink);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      cPrevious.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, previousMonth);</span><br><span class="line">      cNext.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, nextMonth);</span><br><span class="line"></span><br><span class="line">      cHead.<span class="title function_">append</span>(cPrevious);</span><br><span class="line">      cHead.<span class="title function_">append</span>(cTitle);</span><br><span class="line">      cHead.<span class="title function_">append</span>(cNext);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> cBody = $(<span class="string">&#x27;&lt;table/&gt;&#x27;</span>).<span class="title function_">addClass</span>(<span class="string">&#x27;cal&#x27;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> dayOfWeek = settings.<span class="property">weekOffset</span>;</span><br><span class="line">      <span class="keyword">var</span> cWeekHead = $(<span class="string">&#x27;&lt;thead/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cWeekHeadRow = $(<span class="string">&#x27;&lt;tr/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dayOfWeek &gt; <span class="number">6</span>) &#123;</span><br><span class="line">          dayOfWeek = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> cWeekDay = $(<span class="string">&#x27;&lt;th/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;scope&#x27;</span>, <span class="string">&#x27;col&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, settings.<span class="property">dayOfWeek</span>[dayOfWeek]);</span><br><span class="line">        cWeekDay.<span class="title function_">html</span>(settings.<span class="property">dayOfWeekShort</span>[dayOfWeek]);</span><br><span class="line">        cWeekHeadRow.<span class="title function_">append</span>(cWeekDay);</span><br><span class="line">        dayOfWeek++;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      cWeekHead.<span class="title function_">append</span>(cWeekHeadRow);</span><br><span class="line">      cBody.<span class="title function_">append</span>(cWeekHead);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> cFoot = $(<span class="string">&#x27;&lt;tfoot/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cFootRow = $(<span class="string">&#x27;&lt;tr/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cPrevPosts = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;colspan&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">      <span class="keyword">var</span> cPad = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>).<span class="title function_">html</span>(<span class="string">&#x27;&amp;nbsp;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> cNextPosts = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;colspan&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">      <span class="keyword">if</span> (current.<span class="property">prev</span>) &#123;</span><br><span class="line">        cPrevPosts.<span class="title function_">html</span>(settings.<span class="property">footArrows</span>.<span class="property">previous</span> + settings.<span class="property">months</span>[current.<span class="property">prev</span>.<span class="title function_">getMonth</span>()])</span><br><span class="line">          .<span class="title function_">addClass</span>(<span class="string">&#x27;cal-foot&#x27;</span>)</span><br><span class="line">          .<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, <span class="title function_">simpleDateFormat</span>(current.<span class="property">prev</span>, settings.<span class="property">postsMonthTip</span>));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (current.<span class="property">next</span>) &#123;</span><br><span class="line">        cNextPosts.<span class="title function_">html</span>(settings.<span class="property">months</span>[current.<span class="property">next</span>.<span class="title function_">getMonth</span>()] + settings.<span class="property">footArrows</span>.<span class="property">next</span>)</span><br><span class="line">          .<span class="title function_">addClass</span>(<span class="string">&#x27;cal-foot&#x27;</span>)</span><br><span class="line">          .<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, <span class="title function_">simpleDateFormat</span>(current.<span class="property">next</span>, settings.<span class="property">postsMonthTip</span>));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      cPrevPosts.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">toPostsMonth</span>(current.<span class="property">prev</span>);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      cNextPosts.<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">toPostsMonth</span>(current.<span class="property">next</span>);</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      cFootRow.<span class="title function_">append</span>(cPrevPosts);</span><br><span class="line">      cFootRow.<span class="title function_">append</span>(cPad);</span><br><span class="line">      cFootRow.<span class="title function_">append</span>(cNextPosts);</span><br><span class="line">      cFoot.<span class="title function_">append</span>(cFootRow);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> cMainPad = $(<span class="string">&#x27;&lt;tbody/&gt;&#x27;</span>);</span><br><span class="line">      <span class="keyword">var</span> day = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">var</span> dayOfNextMonth = <span class="number">1</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">6</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> cWeek = $(<span class="string">&#x27;&lt;tr/&gt;&#x27;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>; j++) &#123;</span><br><span class="line">          <span class="keyword">var</span> cDay = $(<span class="string">&#x27;&lt;td/&gt;&#x27;</span>);</span><br><span class="line">          <span class="keyword">if</span> (i * <span class="number">7</span> + j &lt; dWeekDayOfMonthStart) &#123;</span><br><span class="line">            cDay.<span class="title function_">addClass</span>(<span class="string">&#x27;cal-gray&#x27;</span>);</span><br><span class="line">            cDay.<span class="title function_">html</span>(dLastDayOfPreviousMonth++);</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (day &lt;= dLastDayOfMonth) &#123;</span><br><span class="line">            <span class="keyword">if</span> (day == dDay &amp;&amp; nMonth == dMonth &amp;&amp; nYear == dYear) &#123;</span><br><span class="line">              cDay.<span class="title function_">addClass</span>(<span class="string">&#x27;cal-today&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> count = &#123;</span><br><span class="line">              <span class="attr">num</span>: <span class="number">0</span>,</span><br><span class="line">              <span class="attr">keys</span>: []</span><br><span class="line">            &#125;;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; current.<span class="property">posts</span>.<span class="property">length</span>; k++) &#123;</span><br><span class="line">              <span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="title class_">Date</span>.<span class="title function_">parse</span>(current.<span class="property">posts</span>[k].<span class="property">date</span>));</span><br><span class="line">              <span class="keyword">if</span> (d.<span class="title function_">getDate</span>() == day) &#123;</span><br><span class="line">                count.<span class="property">keys</span>[count.<span class="property">num</span>++] = k;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (count.<span class="property">num</span> !== <span class="number">0</span>) &#123;</span><br><span class="line">              <span class="keyword">var</span> index = count.<span class="property">keys</span>[<span class="number">0</span>];</span><br><span class="line">              <span class="keyword">var</span> cLink = $(<span class="string">&#x27;&lt;a&gt;&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;onclick&#x27;</span>, <span class="string">`pjax.loadUrl(&#x27;<span class="subst">$&#123;current.posts[index].link&#125;</span>&#x27;)`</span>).<span class="title function_">attr</span>(<span class="string">&#x27;title&#x27;</span>, current.<span class="property">posts</span>[index].<span class="property">title</span>).<span class="title function_">html</span>(day++);</span><br><span class="line">              cDay.<span class="title function_">append</span>(cLink);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              cDay.<span class="title function_">html</span>(day++);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cDay.<span class="title function_">addClass</span>(<span class="string">&#x27;cal-gray&#x27;</span>);</span><br><span class="line">            cDay.<span class="title function_">html</span>(dayOfNextMonth++);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          cWeek.<span class="title function_">append</span>(cDay);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cMainPad.<span class="title function_">append</span>(cWeek);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      cBody.<span class="title function_">append</span>(cWeekHead);</span><br><span class="line">      cBody.<span class="title function_">append</span>(cFoot);</span><br><span class="line">      cBody.<span class="title function_">append</span>(cMainPad);</span><br><span class="line"></span><br><span class="line">      $(instance).<span class="title function_">html</span>(cHead);</span><br><span class="line">      $(instance).<span class="title function_">append</span>(cBody);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">draw</span>();</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  $.fn.<span class="property">aCalendar</span> = <span class="keyword">function</span>(<span class="params">Lang, oInit</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">each</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">aCalendar</span>(<span class="title class_">Lang</span>, oInit, $(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// plugin defaults</span></span><br><span class="line">  $.fn.<span class="property">aCalendar</span>.<span class="property">defaults</span> = &#123;</span><br><span class="line">    <span class="attr">months</span>: [<span class="string">&#x27;January&#x27;</span>, <span class="string">&#x27;February&#x27;</span>, <span class="string">&#x27;March&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;May&#x27;</span>, <span class="string">&#x27;June&#x27;</span>, <span class="string">&#x27;July&#x27;</span>, <span class="string">&#x27;August&#x27;</span>, <span class="string">&#x27;September&#x27;</span>, <span class="string">&#x27;October&#x27;</span>, <span class="string">&#x27;November&#x27;</span>, <span class="string">&#x27;December&#x27;</span>],</span><br><span class="line">    <span class="attr">dayOfWeekShort</span>: [<span class="string">&#x27;S&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;W&#x27;</span>, <span class="string">&#x27;T&#x27;</span>, <span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;S&#x27;</span>],</span><br><span class="line">    <span class="attr">dayOfWeek</span>: [<span class="string">&#x27;Sunday&#x27;</span>, <span class="string">&#x27;Monday&#x27;</span>, <span class="string">&#x27;Tuesday&#x27;</span>, <span class="string">&#x27;Wednesday&#x27;</span>, <span class="string">&#x27;Thursday&#x27;</span>, <span class="string">&#x27;Friday&#x27;</span>, <span class="string">&#x27;Saturday&#x27;</span>],</span><br><span class="line">    <span class="attr">postsMonthTip</span>: <span class="string">&#x27;Posts published in LMM yyyy&#x27;</span>,</span><br><span class="line">    <span class="attr">titleFormat</span>: <span class="string">&#x27;yyyy LMM&#x27;</span>,</span><br><span class="line">    <span class="attr">titleLinkFormat</span>: <span class="string">&#x27;/archives/yyyy/MM/&#x27;</span>,</span><br><span class="line">    <span class="attr">headArrows</span>: &#123;<span class="attr">previous</span>: <span class="string">&#x27;&lt;span class=&quot;cal-prev&quot;&gt;&lt;/span&gt;&#x27;</span>, <span class="attr">next</span>: <span class="string">&#x27;&lt;span class=&quot;cal-next&quot;&gt;&lt;/span&gt;&#x27;</span>&#125;,</span><br><span class="line">    <span class="attr">footArrows</span>: &#123;<span class="attr">previous</span>: <span class="string">&#x27;« &#x27;</span>, <span class="attr">next</span>: <span class="string">&#x27; »&#x27;</span>&#125;,</span><br><span class="line">    <span class="attr">weekOffset</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">single</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">root</span>: <span class="string">&#x27;/calendar/&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;/calendar.json&#x27;</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;(jQuery));</span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;#calendar&quot;</span>).<span class="title function_">aCalendar</span>(<span class="string">&quot;zh-CN&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>接下来在主题配置文件中引入这两个js和jquery</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/languages.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">data-pjax</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/calendar.js&quot;&gt;&lt;/script&gt;</span> <span class="comment">#适配pjax</span></span><br></pre></td></tr></table></figure><h3 id="配置styl文件"><a class="markdownIt-Anchor" href="#配置styl文件"></a> 配置styl文件</h3><p>添加 <code>[blogRoot]\themes\butterfly\source\css\_layout\calendar.styl</code>，编写：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#calendar</span></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">text-decoration</span> none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-head</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">8px</span> <span class="number">6px</span> <span class="number">2px</span> <span class="number">6px</span></span><br><span class="line">  <span class="attribute">margin-bottom</span> <span class="number">15px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-prev</span>,<span class="selector-class">.cal-next</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">top</span> <span class="number">9px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">9px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">3px</span> <span class="number">4px</span></span><br><span class="line">  <span class="attribute">border</span> <span class="number">1px</span> solid transparent</span><br><span class="line">  <span class="attribute">color</span> <span class="number">#333</span></span><br><span class="line">  <span class="attribute">outline</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-prev</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">8px</span></span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">border-right</span> <span class="number">9px</span> solid <span class="number">#333</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-next</span></span><br><span class="line">  <span class="attribute">right</span> <span class="number">8px</span></span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">border-left</span> <span class="number">9px</span> solid <span class="number">#333</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-prev</span><span class="selector-pseudo">:before</span>,<span class="selector-class">.cal-next</span><span class="selector-pseudo">:before</span></span><br><span class="line">  <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attribute">display</span> block</span><br><span class="line">  <span class="attribute">width</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">border-top</span> <span class="number">5px</span> solid transparent</span><br><span class="line">  <span class="attribute">border-bottom</span> <span class="number">5px</span> solid transparent</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-title</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">120px</span></span><br><span class="line">  <span class="attribute">margin</span> <span class="number">0</span> auto</span><br><span class="line">  <span class="attribute">color</span> <span class="number">#333</span></span><br><span class="line">  <span class="attribute">font</span> bold <span class="number">14px</span>/<span class="number">18px</span> Arial</span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">border</span> <span class="number">1px</span> solid transparent</span><br><span class="line">    <span class="attribute">color</span> <span class="number">#f76b61</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">th</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">td</span></span><br><span class="line">  <span class="attribute">border</span> none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span></span><br><span class="line">  <span class="attribute">border-collapse</span> collapse</span><br><span class="line">  <span class="attribute">border-spacing</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">table-layout</span> fixed</span><br><span class="line">  <span class="attribute">width</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">margin</span> <span class="number">0</span></span><br><span class="line">  <span class="selector-tag">th</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#00000000</span></span><br><span class="line">    <span class="attribute">color</span> black</span><br><span class="line">    <span class="attribute">font-weight</span> <span class="number">900</span> <span class="meta">!important</span></span><br><span class="line">  <span class="selector-tag">tbody</span></span><br><span class="line">    <span class="selector-tag">a</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#f76b61</span></span><br><span class="line">      <span class="attribute">color</span> white</span><br><span class="line">      <span class="attribute">display</span> block</span><br><span class="line">      <span class="attribute">font-weight</span> <span class="number">700</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid white</span><br><span class="line">    <span class="selector-class">.cal-today</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#ffdfdd</span></span><br><span class="line">      <span class="attribute">color</span> <span class="number">#f76b61</span></span><br><span class="line">  <span class="selector-class">.cal-gray</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#ddd</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">th</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">td</span></span><br><span class="line">  <span class="attribute">font-weight</span> normal</span><br><span class="line">  <span class="attribute">line-height</span> <span class="number">2.5625</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">text-align</span> center</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal-title</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal-prev</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal-next</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-class">.cal-foot</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-class">.cal-foot</span><span class="selector-pseudo">:focus</span></span><br><span class="line">  <span class="attribute">cursor</span> pointer</span><br><span class="line">  <span class="attribute">background-color</span> transparent</span><br><span class="line">  <span class="attribute">cursor</span> pointer</span><br><span class="line">  <span class="attribute">color</span> <span class="number">#42d3d8</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">tbody</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>,</span><br><span class="line"><span class="selector-class">.cal</span> <span class="selector-tag">tbody</span> <span class="selector-tag">a</span><span class="selector-pseudo">:focus</span></span><br><span class="line">  <span class="attribute">background-color</span> <span class="number">#ffdfdd</span></span><br><span class="line">  <span class="attribute">color</span> <span class="number">#fff</span></span><br><span class="line">  <span class="attribute">cursor</span> pointer</span><br></pre></td></tr></table></figure><h3 id="安装生成器"><a class="markdownIt-Anchor" href="#安装生成器"></a> 安装生成器</h3><p>为了让js能够获取到文章列表，你需要安装一个生成器:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save git://github.com/howiefh/hexo-generator-calendar.git</span><br></pre></td></tr></table></figure><p>然后配置插件，在hexo配置文件 <code>_config.yml</code>中追加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">calendar:</span></span><br><span class="line">  <span class="attr">single:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">root:</span> <span class="string">calendar/</span></span><br></pre></td></tr></table></figure><p>然后 <code>hexo cl&amp;&amp;hexo g -d</code>一气呵成即可</p><h1 id="2天气插件"><a class="markdownIt-Anchor" href="#2天气插件"></a> 2.天气插件</h1><p>这个插件是使用和风天气的小组件进行修改的，效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca135c12b17.webp" alt="1661149899740" /></p><h2 id="我做了什么-2"><a class="markdownIt-Anchor" href="#我做了什么-2"></a> 我做了什么？</h2><ol><li>适配本站AcrylicUI</li><li>取舍部分组件保证效果</li><li>尺寸自适应而不是固定</li></ol><h2 id="教程-2"><a class="markdownIt-Anchor" href="#教程-2"></a> 教程</h2><p>下面是教程:</p><h3 id="申请和风天气小组件"><a class="markdownIt-Anchor" href="#申请和风天气小组件"></a> 申请和风天气小组件</h3><p>你需要注册一个账号，国内平台不再赘述，进入以下链接注册即可:</p><a class="tag-Link" target="_blank" href="https://id.qweather.com/#/register">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/id.qweather.com/#/register.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">注册-和风天气</div>            <div class="tag-link-sitename">和风天气</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后进入控制台</p><a class="tag-Link" target="_blank" href="https://console.qweather.com/#/console">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/console.qweather.com/#/console.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">控制台-和风天气</div>            <div class="tag-link-sitename">和风天气</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>创建一个插件，选项任意</p><p><img src="https://bu.dusays.com/2023/01/20/63ca135d17da1.webp" alt="1661161153544" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca135e408bd.webp" alt="1661161166909" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca135f4b9de.webp" alt="1661161333671" /></p><p>生成代码后，复制代码的key部分。</p><h3 id="pug部分-2"><a class="markdownIt-Anchor" href="#pug部分-2"></a> PUG部分</h3><p>添加 <code>[blogRoot]\themes\butterfly\layout\includes\widget\card-weather.pug</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">card</span>-widget.<span class="property">card</span>-<span class="title function_">weather</span>(style=<span class="string">&#x27;width:100%,height:270px&#x27;</span>)</span><br><span class="line">  .<span class="property">item</span>-headline</span><br><span class="line">    <span class="title function_">i</span>(<span class="keyword">class</span>=<span class="string">&quot;fas fa-cloud-sun&quot;</span>)</span><br><span class="line">    span=<span class="string">&quot;天气&quot;</span></span><br><span class="line">  #he-plugin-standard</span><br><span class="line">  script.</span><br><span class="line">    <span class="variable constant_">WIDGET</span> = &#123;</span><br><span class="line">      <span class="string">&quot;CONFIG&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;layout&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">        <span class="string">&quot;width&quot;</span>: <span class="number">270</span>,</span><br><span class="line">        <span class="string">&quot;height&quot;</span>: <span class="number">270</span>,</span><br><span class="line">        <span class="string">&quot;background&quot;</span>: <span class="string">&quot;5&quot;</span>,</span><br><span class="line">        <span class="string">&quot;dataColor&quot;</span>: <span class="string">&quot;000000&quot;</span>,</span><br><span class="line">        <span class="string">&quot;key&quot;</span>: <span class="string">&quot;!&#123;theme.aside.card_weather.key&#125;&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="title function_">script</span>(src=<span class="string">&#x27;https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0&#x27;</span>)</span><br></pre></td></tr></table></figure><p>然后修改 <code>[blogRoot]\themes\butterfly\layout\includes\widget\index.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#aside-content.aside-content</span><br><span class="line">  //- post</span><br><span class="line">  if is_post()</span><br><span class="line">    ...</span><br><span class="line">    else</span><br><span class="line">      !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">      ...</span><br><span class="line">      .sticky_layout</span><br><span class="line">        if showToc</span><br><span class="line">          include ./card_post_toc.pug</span><br><span class="line">        ...</span><br><span class="line"><span class="addition">+        !=partial(&#x27;includes/widget/card_weather&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">        //- 如果不想在文章页显示可以不要</span><br><span class="line">        !=partial(&#x27;includes/widget/card_ad&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    </span><br><span class="line">  else</span><br><span class="line">    //- page</span><br><span class="line">    !=partial(&#x27;includes/widget/card_author&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line">    ...</span><br><span class="line">    .sticky_layout</span><br><span class="line">      if showToc</span><br><span class="line">        include ./card_post_toc.pug</span><br><span class="line">      ...</span><br><span class="line"><span class="addition">+      !=partial(&#x27;includes/widget/card_weather&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span></span><br><span class="line">      ...</span><br></pre></td></tr></table></figure><h3 id="主题配置文件"><a class="markdownIt-Anchor" href="#主题配置文件"></a> 主题配置文件</h3><p>然后修改主题配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aside:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">card_weather:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">key:</span> <span class="string">1145141919810inm</span> <span class="comment">#你开始获取的key</span></span><br></pre></td></tr></table></figure><h3 id="css部分"><a class="markdownIt-Anchor" href="#css部分"></a> css部分</h3><p>然后添加一些css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#he-plugin-standard</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>:<span class="number">20px</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wv-lt-location</span>&gt;<span class="selector-tag">a</span><span class="selector-attr">[data-v-4b9dcab4]</span>,<span class="selector-class">.wv-lt-location</span>&gt;<span class="selector-tag">span</span><span class="selector-attr">[data-v-4b9dcab4]</span>,<span class="selector-class">.wv-n-h-now-tmp</span>&gt;<span class="selector-tag">span</span><span class="selector-attr">[data-v-5f4c0628]</span>,<span class="selector-class">.wv-n-h-now-txt</span>&gt;<span class="selector-tag">span</span><span class="selector-attr">[data-v-5f4c0628]</span>,<span class="selector-class">.wv-n-h-now-rain</span>&gt;<span class="selector-tag">a</span><span class="selector-attr">[data-v-5f4c0628]</span>, <span class="selector-class">.wv-n-h-now-rain</span>&gt;<span class="selector-tag">span</span><span class="selector-attr">[data-v-5f4c0628]</span>,<span class="selector-class">.wv-f-forecast-date</span>&gt;<span class="selector-tag">a</span><span class="selector-attr">[data-v-66693262]</span>,<span class="selector-class">.wv-f-a</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:<span class="built_in">var</span>(--font-color)<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;HYTMR&#x27;</span>,<span class="string">&#x27;Microsoft Yahei&#x27;</span>,<span class="string">&#x27;PingFang SC&#x27;</span>,<span class="string">&#x27;SimSun&#x27;</span><span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">font-size</span>:<span class="number">14px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wv-n-h-now-aqi-item</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后 <code>hexo cl&amp;&amp;hexo g -d</code>一气呵成即可</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>Butterfly主题的留言弹幕界面增强版（支持Twikoo、Waline、Valine）</title>
    <link href="https://blog.yaria.top/posts/69707535/"/>
    <id>https://blog.yaria.top/posts/69707535/</id>
    <published>2022-08-17T05:50:44.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><div class="note info simple"><p>PS：2022.11，弹幕进行了样式、功能优化与重构，此文章中仍为旧版，新版弹幕见：</p><p>V2.0:</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/becc831a/#评论弹幕V2.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/becc831a/#评论弹幕V2.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">博客魔改日记（2）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>V3.0:</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/670e47f/#CommentBarrage%20V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/670e47f/#CommentBarrage%20V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">博客魔改日记（3）</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a></div><p>最早这个留言弹幕是我直接找Dorakika抄的，见：</p><a class="tag-Link" target="_blank" href="https://blog.dorakika.cn/p/20220418.html">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.dorakika.cn/p/20220418.html.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">添加一个留言弹幕页面</div>            <div class="tag-link-sitename">Dorakika</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>后来发现这个留言弹幕有一些问题：</p><ol><li>没有对昼夜两个模式作适配</li><li>颜色比较花哨，自己不喜欢</li><li>没有自动隐藏，会挡着真正的评论和一些按钮以及正文</li><li>不支持Waline/Valine</li><li>没有鼠标悬停暂停功能</li></ol><p><img src="https://bu.dusays.com/2023/01/20/63ca11ce69504.webp" alt="1660719129034" /></p><p>所以这次我对这个弹幕进行了一些小的修改（其实是因为看到洪哥改的然后自己改了js），本来是适配waline的但是考虑到两个评论系统的数据结构基本相同所以都支持</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11cf72628.webp" alt="1660719146044" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11d067388.webp" alt="1660719159823" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11d16bb47.webp" alt="1660719175517" /></p><p>ps：最近高产是因为这些东西都是以前的一下发出来而且受到糖果屋群友的鼓动导致</p><h1 id="我做了什么"><a class="markdownIt-Anchor" href="#我做了什么"></a> 我做了什么？</h1><ol><li>适配亮/暗两个模式</li><li>在只显示一个弹幕的时候有更好的体验</li><li>进入评论区自动隐藏弹幕，防止挡着视线</li><li>小改了一下样式，效果更好</li><li>添加了一个关闭键，快速关闭弹幕（借鉴于洪哥的弹幕）</li><li>添加鼠标悬停暂停功能，给用户仔细看评论的时间</li></ol><p><img src="https://bu.dusays.com/2023/01/20/63ca11d253e0d.webp" alt="1660719202245" /></p><ol start="6"><li>适配了右键菜单关闭功能（见<a href="https://blog.yaria.top/posts/11eb4aac/">上篇文章</a>）</li><li>添加默认头像选项</li><li>亚克力效果</li><li>适配Waline/Valine</li><li>头像cdn自定义</li><li>本地存储保存弹幕开关</li></ol><p>下面放出教程</p><div class="note info flat"><p>本教程仅适用于Twikoo和Waline评论系统，其它系统请自行修改</p></div><h1 id="pug部分"><a class="markdownIt-Anchor" href="#pug部分"></a> PUG部分</h1><p>首先修改一些pug：</p><p>修改 <code>[blogRoot]/themes/butterfly/layout/includes/third-party/comments/index.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> #post-comment</span><br><span class="line">  .comment-head</span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  .comment-wrap</span><br><span class="line">    each name in theme.comments.use</span><br><span class="line">      div</span><br><span class="line">        case name</span><br><span class="line">          when &#x27;Disqus&#x27;</span><br><span class="line">            #disqus_thread</span><br><span class="line">          ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="addition">+  .comment-barrage</span></span><br></pre></td></tr></table></figure><p>如果想要侧边栏控制显隐的话（当然有右键菜单的随便加不加），还要修改 <code>[blogRoot]/themes/butterfly/layout/includes/rightside.pug</code>：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line">      when &#x27;hideAside&#x27;</span><br><span class="line">        if aside.enable &amp;&amp; aside.button &amp;&amp; page.aside !== false</span><br><span class="line">          button#hide-aside-btn(type=&quot;button&quot; title=_p(&#x27;rightside.aside&#x27;))</span><br><span class="line">            i.fas.fa-arrows-alt-h</span><br><span class="line">      when &#x27;toc&#x27;</span><br><span class="line">        if showToc</span><br><span class="line">          button#mobile-toc-button.close(type=&quot;button&quot; title=_p(&quot;rightside.toc&quot;))</span><br><span class="line">            i.fas.fa-list-ul</span><br><span class="line">      when &#x27;chat&#x27;</span><br><span class="line">        if chat_btn</span><br><span class="line">          button#chat_btn(type=&quot;button&quot; title=_p(&quot;rightside.chat&quot;))</span><br><span class="line">            i.fas.fa-sms</span><br><span class="line">      when &#x27;comment&#x27;</span><br><span class="line">        if commentsJsLoad</span><br><span class="line">          a#to_comment(href=&quot;#post-comment&quot; title=_p(&quot;rightside.scroll_to_comment&quot;))</span><br><span class="line">            i.fas.fa-comments</span><br><span class="line"><span class="addition">+          a#switch_commentBarrage(href=&quot;javascript:switchCommentBarrage();&quot; title=&quot;开关弹幕&quot;)</span></span><br><span class="line"><span class="addition">+            i.iconfont.icon-danmu</span></span><br><span class="line"></span><br><span class="line"> #rightside</span><br><span class="line">....</span><br></pre></td></tr></table></figure><h1 id="token获取仅twikoo版本"><a class="markdownIt-Anchor" href="#token获取仅twikoo版本"></a> Token获取（仅Twikoo版本）</h1><div class="note info flat"><p>2022.9.16更新：<br />根据<a href="https://shiqi217.com">Strive</a>和其他童鞋的反馈，发现腾讯云开发部署方式无法使用之前的方式成功获取，于是写了一个腾讯云开发部署获取token的教程</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11d327349.webp" alt="1663326067583.png" /></p><p>2023.1.22更新:</p><p>原有对于Cloudbase的方法不可用，请移步：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/8f578896/ V3.0">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/8f578896/ V3.0.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">基于腾讯云Cloudbase云开发的Twikoo评论弹幕扩展</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a></div><p>然后你需要获取一个Token。</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">Vercel部署方式获取</button></li><li class="tab"><button type="button" data-href="#-2">腾讯云开发部署方式获取</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>在开发人员工具-应用程序-本地存储-你的网址-twikoo-access-token里面即可看到，然后复制下面的值，待会用到。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11d9819fb.webp" alt="1660720625973" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>在f12网络界面找到几个以<code>web?env=cloudbase-baas-xxx</code>开头的请求：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11da49706.webp" alt="1663325711847.png" /></p><p>然后一个一个看，如果请求方式是options的话，就不管，找到请求方式是post的几个请求中的其中一个：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11dae51f2.webp" alt="1663325806285.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11dba27cf.webp" alt="1663325804065.png" /></p><p>然后在负载里面复制那一行accesstoken的右半边双引号包起来的部分，比如：</p><p><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoie1wibG9naW5UeXBlXCI6XCJBTk9OWU1PVVNcIixcImVudk5hbWVcIjpcImNsb3VkYmFzZS1iYWFzLTRnZWd4NDAwZjdhZDc0OTFcIixcInV1aWRcIjpcImUyOWVkZDgwYzNhNzQzOTM5OGE1YmQ1NWZmMmJiZDA0XCJ9IiwiaWF0IjoxNjYzMzIzMTAwLCJleHAiOjE2NjMzMjY3MDB9.YR_NwdIzRZv6pNzEqQqK0ngz9dtDCRlSKmrZnNMwkcM;1145141919</code></p><p>现在你就获取到它了。</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="js部分"><a class="markdownIt-Anchor" href="#js部分"></a> JS部分</h1><p>twikoo和waline的js不一样，所以请根据自己的情况修改</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">Twikoo版本</button></li><li class="tab"><button type="button" data-href="#-2">Waline/Valine版本</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>新建 <code>[blogRoot]/themes/butterfly/source/js/commentBarrage.js</code>，然后按照注释修改配置：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> commentBarrageConfig = &#123;</span><br><span class="line">    <span class="comment">//浅色模式和深色模式颜色，务必保持一致长度，前面是背景颜色，后面是字体，随机选择，默认这个颜色还好</span></span><br><span class="line">    <span class="attr">lightColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-white-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-black)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">darkColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-black-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-white)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//同时最多显示弹幕数</span></span><br><span class="line">    <span class="attr">maxBarrage</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="comment">//弹幕显示间隔时间，单位ms</span></span><br><span class="line">    <span class="attr">barrageTime</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">//twikoo部署地址（Vercel、私有部署），腾讯云的为环境ID</span></span><br><span class="line">    <span class="attr">twikooUrl</span>: <span class="string">&quot;https://tkapi.yaria.top&quot;</span>,</span><br><span class="line">    <span class="comment">//token获取见前文</span></span><br><span class="line">    <span class="attr">accessToken</span>: <span class="string">&quot;&#123;YOUR_TOKEN&#125;&quot;</span>,</span><br><span class="line">    <span class="attr">pageUrl</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>,</span><br><span class="line">    <span class="attr">barrageTimer</span>: [],</span><br><span class="line">    <span class="attr">barrageList</span>: [],</span><br><span class="line">    <span class="attr">barrageIndex</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="comment">// 没有设置过头像时返回的默认头像，见cravatar文档 https://cravatar.cn/developers/api，可以不改以免出错</span></span><br><span class="line">    <span class="attr">noAvatarType</span>: <span class="string">&quot;retro&quot;</span>,</span><br><span class="line">    <span class="attr">dom</span>: <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否默认显示留言弹幕</span></span><br><span class="line">    <span class="attr">displayBarrage</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//头像cdn，默认cravatar</span></span><br><span class="line">    <span class="attr">avatarCDN</span>: <span class="string">&quot;cravatar.cn&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPortOfOne</span> (<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> viewPortHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span> </span><br><span class="line">    <span class="keyword">const</span> offsetTop = el.<span class="property">offsetTop</span></span><br><span class="line">    <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">    <span class="keyword">const</span> top = offsetTop - scrollTop</span><br><span class="line">    <span class="keyword">return</span> top &lt;= viewPortHeight</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">displayBarrage</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">`display:none;`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCommentBarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> data = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">          <span class="string">&quot;event&quot;</span>: <span class="string">&quot;COMMENT_GET&quot;</span>,</span><br><span class="line">          <span class="string">&quot;commentBarrageConfig.accessToken&quot;</span>: commentBarrageConfig.<span class="property">accessToken</span>,</span><br><span class="line">          <span class="string">&quot;url&quot;</span>: commentBarrageConfig.<span class="property">pageUrl</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">        xhr.<span class="property">withCredentials</span> = <span class="literal">true</span>;</span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&quot;readystatechange&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageList</span> = <span class="title function_">commentLinkFilter</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">responseText</span>).<span class="property">data</span>);</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&quot;POST&quot;</span>, commentBarrageConfig.<span class="property">twikooUrl</span>);</span><br><span class="line">        xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        xhr.<span class="title function_">send</span>(data);</span><br><span class="line">        <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">                <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">                <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commentLinkFilter</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    data.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="property">created</span> - b.<span class="property">created</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> newData = [];</span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        newData.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> newData;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCommentReplies</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">replies</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> replies = [item];</span><br><span class="line">        item.<span class="property">replies</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">            replies.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> replies;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popCommentBarrage</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> barrage = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> width = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">let</span> height = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientHeight</span>;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> ran = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*commentBarrageConfig.<span class="property">lightColors</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;barragesColor&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`[data-theme=&#x27;light&#x27;] .comment-barrage-item &#123; background-color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">1</span>]&#125;</span>&#125;[data-theme=&#x27;dark&#x27;] .comment-barrage-item&#123; background-color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">1</span>]&#125;</span>&#125;`</span>;</span><br><span class="line"></span><br><span class="line">    barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;barrageContent&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">push</span>(barrage);</span><br><span class="line">    commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">append</span>(barrage);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">removeCommentBarrage</span>(<span class="params">barrage</span>)&#123;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item out&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">maxBarrage</span>!=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">switchCommentBarrage = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="title class_">Number</span>(!<span class="title class_">Number</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>))))</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">    commentBarrageConfig.<span class="property">displayBarrage</span>=!(commentBarrageConfig.<span class="property">displayBarrage</span>);</span><br><span class="line">    <span class="keyword">let</span> commentBarrage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (commentBarrage) &#123;</span><br><span class="line">        $(commentBarrage).<span class="title function_">fadeToggle</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">&#125;,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    timer=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">            <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">            <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>)==<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isBarrageToggle&quot;</span>,<span class="string">&quot;0&quot;</span>);</span><br><span class="line">    <span class="title function_">switchCommentBarrage</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">initCommentBarrage</span>()</span><br></pre></td></tr></table></figure><p>在主题配置文件中引入该文件和jquery以及一个css容器:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;barragesColor&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/commentBarrage.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>新建 <code>[blogRoot]/themes/butterfly/source/js/commentBarrage.js</code>，然后按照注释修改配置：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> commentBarrageConfig = &#123;</span><br><span class="line">    <span class="comment">//浅色模式和深色模式颜色，务必保持一致长度，前面是背景颜色，后面是字体，随机选择，默认这个颜色还好</span></span><br><span class="line">    <span class="attr">lightColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-white-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-black)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">darkColors</span>:[</span><br><span class="line">        [<span class="string">&#x27;var(--lyx-black-acrylic2)&#x27;</span>,<span class="string">&#x27;var(--lyx-white)&#x27;</span>],</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//同时最多显示弹幕数</span></span><br><span class="line">    <span class="attr">maxBarrage</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="comment">//弹幕显示间隔时间，单位ms</span></span><br><span class="line">    <span class="attr">barrageTime</span>: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">// 你的Leancloud APPID</span></span><br><span class="line">    <span class="attr">lcAppId</span>: <span class="string">&quot;&#123;YOUR_APPID&#125;&quot;</span>,</span><br><span class="line">    <span class="comment">// 你的Leancloud APPKEY</span></span><br><span class="line">    <span class="attr">lcAppKey</span>: <span class="string">&quot;&#123;YOUR_APPKEY&#125;&quot;</span>,</span><br><span class="line">    <span class="comment">// 你的Leancloud 域名</span></span><br><span class="line">    <span class="attr">lcUrl</span>:<span class="string">&quot;https://your-url.leancloud.cn&quot;</span>,</span><br><span class="line">    <span class="attr">pageUrl</span>: <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">pathname</span>,</span><br><span class="line">    <span class="attr">barrageTimer</span>: [],</span><br><span class="line">    <span class="attr">barrageList</span>: [],</span><br><span class="line">    <span class="attr">barrageIndex</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="comment">// 没有设置过头像时返回的默认头像，见cravatar文档 https://cravatar.cn/developers/api，可以不改以免出错</span></span><br><span class="line">    <span class="attr">noAvatarType</span>: <span class="string">&quot;retro&quot;</span>,</span><br><span class="line">    <span class="attr">dom</span>: <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>),</span><br><span class="line">    <span class="comment">//是否默认显示留言弹幕</span></span><br><span class="line">    <span class="attr">displayBarrage</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">//头像cdn，默认cravatar</span></span><br><span class="line">    <span class="attr">avatarCDN</span>: <span class="string">&quot;cravatar.cn&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">GetUrlRelativePath</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> url = <span class="variable language_">document</span>.<span class="property">location</span>.<span class="title function_">toString</span>();</span><br><span class="line">    <span class="keyword">var</span> arrUrl = url.<span class="title function_">split</span>(<span class="string">&quot;//&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> start = arrUrl[<span class="number">1</span>].<span class="title function_">indexOf</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> relUrl = arrUrl[<span class="number">1</span>].<span class="title function_">substring</span>(start);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (relUrl.<span class="title function_">indexOf</span>(<span class="string">&quot;?&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">        relUrl = relUrl.<span class="title function_">split</span>(<span class="string">&quot;?&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> relUrl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPortOfOne</span> (<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> viewPortHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span> </span><br><span class="line">    <span class="keyword">const</span> offsetTop = el.<span class="property">offsetTop</span></span><br><span class="line">    <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">    <span class="keyword">const</span> top = offsetTop - scrollTop</span><br><span class="line">    <span class="keyword">return</span> top &lt;= viewPortHeight</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onscroll</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">displayBarrage</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">`display:none;`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comment-barrage&quot;</span>)[<span class="number">0</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initCommentBarrage</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; <span class="title class_">Query</span>, <span class="title class_">User</span> &#125; = <span class="variable constant_">AV</span>;</span><br><span class="line">        <span class="variable constant_">AV</span>.<span class="title function_">init</span>(&#123;</span><br><span class="line">            <span class="attr">appId</span>: commentBarrageConfig.<span class="property">lcAppId</span>,</span><br><span class="line">            <span class="attr">appKey</span>: commentBarrageConfig.<span class="property">lcAppKey</span>,</span><br><span class="line">            <span class="attr">serverURL</span>: commentBarrageConfig.<span class="property">lcUrl</span></span><br><span class="line">          &#125;);</span><br><span class="line">        <span class="keyword">const</span> query = <span class="keyword">new</span> <span class="variable constant_">AV</span>.<span class="title class_">Query</span>(<span class="string">&#x27;Comment&#x27;</span>);</span><br><span class="line">        query.<span class="title function_">equalTo</span>(<span class="string">&#x27;url&#x27;</span>, <span class="title class_">GetUrlRelativePath</span>());</span><br><span class="line">        query.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">comments</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(comments)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;comments.<span class="property">length</span>;i++)&#123;</span><br><span class="line">                comments[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;mailMd5&quot;</span>]=<span class="title function_">md5</span>(comments[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;mail&quot;</span>])</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageList</span>.<span class="title function_">push</span>(comments[i][<span class="string">&quot;attributes&quot;</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">                <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">                commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">                <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commentLinkFilter</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    data.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a.<span class="property">created</span> - b.<span class="property">created</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">let</span> newData = [];</span><br><span class="line">    data.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">        newData.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> newData;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getCommentReplies</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(item.<span class="property">replies</span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> replies = [item];</span><br><span class="line">        item.<span class="property">replies</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">            replies.<span class="title function_">push</span>(...<span class="title function_">getCommentReplies</span>(item));</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">return</span> replies;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popCommentBarrage</span>(<span class="params">data</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> barrage = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    <span class="keyword">let</span> width = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientWidth</span>;</span><br><span class="line">    <span class="keyword">let</span> height = commentBarrageConfig.<span class="property">dom</span>.<span class="property">clientHeight</span>;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> ran = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*commentBarrageConfig.<span class="property">lightColors</span>.<span class="property">length</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;barragesColor&quot;</span>).<span class="property">innerHTML</span>=<span class="string">`[data-theme=&#x27;light&#x27;] .comment-barrage-item &#123; background-color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.lightColors[ran][<span class="number">1</span>]&#125;</span>&#125;[data-theme=&#x27;dark&#x27;] .comment-barrage-item&#123; background-color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">0</span>]&#125;</span>;color:<span class="subst">$&#123;commentBarrageConfig.darkColors[ran][<span class="number">1</span>]&#125;</span>&#125;`</span>;</span><br><span class="line"></span><br><span class="line">    barrage.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;barrageHead&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;img class=&quot;barrageAvatar&quot; src=&quot;https://<span class="subst">$&#123;commentBarrageConfig.avatarCDN&#125;</span>/avatar/<span class="subst">$&#123;data.mailMd5&#125;</span>?d=<span class="subst">$&#123;commentBarrageConfig.noAvatarType&#125;</span>&quot;/&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;barrageNick&quot;&gt;<span class="subst">$&#123;data.nick&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;a href=&quot;javascript:switchCommentBarrage()&quot; style=&quot;font-size:20px&quot;&gt;×&lt;/a&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;barrageContent&quot;&gt;<span class="subst">$&#123;data.comment&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">push</span>(barrage);</span><br><span class="line">    commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">append</span>(barrage);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">removeCommentBarrage</span>(<span class="params">barrage</span>)&#123;</span><br><span class="line">    barrage.<span class="property">className</span> = <span class="string">&#x27;comment-barrage-item out&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(commentBarrageConfig.<span class="property">maxBarrage</span>!=<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">        &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        commentBarrageConfig.<span class="property">dom</span>.<span class="title function_">removeChild</span>(barrage);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">switchCommentBarrage = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title function_">isInViewPortOfOne</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;post-comment&quot;</span>)))&#123;</span><br><span class="line">    commentBarrageConfig.<span class="property">displayBarrage</span>=!(commentBarrageConfig.<span class="property">displayBarrage</span>);</span><br><span class="line">    <span class="keyword">let</span> commentBarrage = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.comment-barrage&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (commentBarrage) &#123;</span><br><span class="line">        $(commentBarrage).<span class="title function_">fadeToggle</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="string">&quot;.comment-barrage&quot;</span>).<span class="title function_">hover</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">&#125;,<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    timer=<span class="built_in">setInterval</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>)&#123;</span><br><span class="line">            <span class="title function_">popCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageList</span>[commentBarrageConfig.<span class="property">barrageIndex</span>]);</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> += <span class="number">1</span>;</span><br><span class="line">            commentBarrageConfig.<span class="property">barrageIndex</span> %= commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="property">length</span> &gt; (commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span> &gt; commentBarrageConfig.<span class="property">maxBarrage</span>?commentBarrageConfig.<span class="property">maxBarrage</span>:commentBarrageConfig.<span class="property">barrageList</span>.<span class="property">length</span>))&#123;</span><br><span class="line">            <span class="title function_">removeCommentBarrage</span>(commentBarrageConfig.<span class="property">barrageTimer</span>.<span class="title function_">shift</span>())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,commentBarrageConfig.<span class="property">barrageTime</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title function_">initCommentBarrage</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在主题配置文件中引入该文件和jquery、md5、leancloud api以及一个css容器:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;style</span> <span class="string">id=&quot;barragesColor&quot;&gt;&lt;/style&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;//npm.elemecdn.com/leancloud-storage@4.13.1/dist/av-min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/commentBarrage.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="css部分"><a class="markdownIt-Anchor" href="#css部分"></a> CSS部分</h1><p>然后编写css部分，由于默认配置有我的标准色，所以会一并放到css里面（只有部分，完整版自己扒），新建 <code>[blogRoot]/themes/butterfly/source/css/commentBarrage.css</code></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.comment-barrage</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">55px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">30px</span> <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">justify-content</span>: end;</span><br><span class="line">    <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">768px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.comment-barrage</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> &#123;</span><br><span class="line">    <span class="attribute">min-width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">144px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.9</span>);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">20px</span>) <span class="built_in">saturate</span>(<span class="number">180%</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">animation</span>: barrageIn <span class="number">0.3s</span> <span class="built_in">cubic-bezier</span>(.<span class="number">25</span>, .<span class="number">01</span>, .<span class="number">5</span>, <span class="number">1.5</span>);</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">1s</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: column;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span><span class="selector-class">.out</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> barrageIn &#123;</span><br><span class="line">    <span class="number">0%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0.1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ,</span><br><span class="line">    <span class="number">100%</span> &#123;</span><br><span class="line">        <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageHead</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageAvatar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">30px</span>);</span><br><span class="line">    <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span>::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.comment-barrage-item</span> <span class="selector-class">.barrageContent</span>::-webkit-scrollbar-button &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">    <span class="attr">--lyx-black</span>:black;</span><br><span class="line">    <span class="attr">--lyx-white</span>:white;</span><br><span class="line">    <span class="attr">--lyx-white-acrylic2</span>:<span class="number">#fffa</span>;</span><br><span class="line">    <span class="attr">--lyx-black-acrylic2</span>: <span class="number">#000a</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note info flat"><p>2022-9-11更新：</p><p>调整了弹幕的min-width，如果感觉弹幕宽度太窄可以修改：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">.comment-barrage-item&#123;</span><br><span class="line"><span class="deletion">-    min-width:100px</span></span><br><span class="line"><span class="addition">+   max-width:150px /*可以修改成其它宽度*/</span></span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></div><p>在主题配置文件中引入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/commentBarrage.css&quot;&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><p>现在你就拥有了一个更好的留言弹幕了！</p><h1 id="todo"><a class="markdownIt-Anchor" href="#todo"></a> TODO</h1><div class='checkbox'><input type="checkbox" />            <p>支持Gitalk</p>            </div>]]></content>
    
    
    <summary type="html">给访客预览的？Bug多发地？</summary>
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>butterfly博客自定义右键菜单升级版</title>
    <link href="https://blog.yaria.top/posts/11eb4aac/"/>
    <id>https://blog.yaria.top/posts/11eb4aac/</id>
    <published>2022-08-17T01:07:28.000Z</published>
    <updated>2022-12-08T01:20:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>很久以前，<a href="https://blog.dorakika.cn">Dorakika</a>自己做了一个不错的右键菜单，借鉴于Volantis主题，当然我是在<a href="https://blog.zhheo.com/p/5e931b65.html">洪哥的博客</a>里面看到的。</p><a class="tag-Link" target="_blank" href="https://blog.dorakika.cn/post/20220118">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.dorakika.cn/post/20220118.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">自定义右键菜单</div>            <div class="tag-link-sitename">Dorakika</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后我就给它做了一些小改进，并且分享给大家。</p><h1 id="我做了什么"><a class="markdownIt-Anchor" href="#我做了什么"></a> 我做了什么？</h1><div class="note info flat"><p>2022.9.17更新：</p><p>在MrZeFr的建议下，增加了ctrl显示原版功能。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca135325361.webp" alt="1663414887119.png" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1353c9935.webp" alt="1663414895340.png" /></p><p>2022.12.8更新：</p><p>增加遮罩和滚动关闭功能</p><p>2023.2.10更新：</p><p>增加手机屏蔽（原版本也有但是不管用）</p></div><p><img src="https://bu.dusays.com/2022/09/03/631372f79550e.webp" alt="1660699020974.webp" /></p><p><img src="https://bu.dusays.com/2022/09/03/6313732c20e1b.webp" alt="1660699034686.webp" /></p><p>原版的菜单只有昼夜切换、阅读模式、主题切换、复制、其它设置和一些基础的浏览器功能，我添加了这些功能：</p><ol><li>粘贴功能<br /><img src="https://bu.dusays.com/2022/09/03/631373512312a.webp" alt="1660699109204.webp" /></li><li>空降评论、随便逛逛、繁简转换、版权声明功能（分享已删）</li></ol><p><img src="https://bu.dusays.com/2022/09/03/6313736a539e1.webp" alt="1660699153037.webp" /></p><ol start="3"><li>复制文章地址功能</li></ol><p><img src="https://bu.dusays.com/2022/09/03/631373805bdae.webp" alt="1660699573998.webp" /></p><ol start="4"><li>图片方面的一些功能</li></ol><p><img src="https://bu.dusays.com/2022/09/03/6313742896544.webp" alt="1660699615891.webp" /></p><ol start="5"><li>对于a标签的打开功能</li></ol><p><img src="https://bu.dusays.com/2022/09/03/631373aaaa9a1.webp" alt="1660699665936.webp" /></p><ol start="6"><li>百度搜索文本和转到链接功能</li></ol><p><img src="https://bu.dusays.com/2022/09/03/631373c29ca00.webp" alt="1660700020712.webp" /></p><ol start="7"><li>兼容dorakika的评论弹幕功能</li></ol><p><img src="https://bu.dusays.com/2022/09/03/631373da2a131.webp" alt="1660700055672.webp" /></p><ol start="8"><li>Ctrl唤出原版右键菜单</li></ol><p><img src="https://bu.dusays.com/2023/01/20/63ca135492d9c.webp" alt="1663414955319.png" /></p><ol start="9"><li><p>遮罩层<br />并且换用了font awesome图标，除了百度和繁简转换的logo需要你下载iconfont图标库，也会放出教程</p></li><li><p>站内搜索</p></li></ol><p><img src="https://bu.dusays.com/2023/01/20/63ca13554bc3b.webp" alt="" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca1355f1bca.webp" alt="" /></p><h1 id="如何修改"><a class="markdownIt-Anchor" href="#如何修改"></a> 如何修改？</h1><p>下面放出魔改教程，使用我修改过的pug和js进行魔改，参照自dorakika的原版。</p><h2 id="pug部分"><a class="markdownIt-Anchor" href="#pug部分"></a> PUG部分</h2><p>新建 <code>[blogRoot]\themes\butterfly\layout\includes\rightmenu.pug</code>，编写以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">#rightMenu.<span class="property">js</span>-pjax</span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-small</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:window.history.back();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-arrow-left</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:window.history.forward();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-arrow-right</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:window.location.reload();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-refresh</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.scrollToTop();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-arrow-up</span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line.<span class="property">hide</span>#menu-text</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.copySelect();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-copy</span><br><span class="line">            span=<span class="string">&#x27;复制&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:window.open(\&quot;https://www.baidu.com/s?wd=\&quot;+window.getSelection().toString());window.location.reload();&quot;</span>)</span><br><span class="line">            i.<span class="property">iconfont</span>.<span class="property">icon</span>-baidu</span><br><span class="line">            span=<span class="string">&#x27;百度搜索&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.searchinThisPage();&quot;</span>)</span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-search</span><br><span class="line">            span=<span class="string">&#x27;站内搜索&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;#post-comment&quot;</span> onclick=<span class="string">&quot;rmf.yinyong()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>-solid.<span class="property">fa</span>-message</span><br><span class="line">            span=<span class="string">&#x27;引用文本评论&#x27;</span></span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line.<span class="property">hide</span>#menu-too</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:window.open(window.getSelection().toString());window.location.reload();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-link</span><br><span class="line">            span=<span class="string">&#x27;转到链接&#x27;</span></span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line.<span class="property">hide</span>#menu-paste</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&#x27;javascript:rmf.paste()&#x27;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-copy</span><br><span class="line">            span=<span class="string">&#x27;粘贴&#x27;</span></span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line.<span class="property">hide</span>#menu-post</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;#post-comment&quot;</span>)</span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-comment</span><br><span class="line">            span=<span class="string">&#x27;空降评论&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:switchCommentBarrage()&quot;</span>)</span><br><span class="line">            i.<span class="property">iconfont</span>.<span class="property">icon</span>-danmu</span><br><span class="line">            span=<span class="string">&#x27;开/关评论弹幕&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.copyWordsLink()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-link</span><br><span class="line">            span=<span class="string">&#x27;复制本文地址&#x27;</span></span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line.<span class="property">hide</span>#menu-to</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.openWithNewTab()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-<span class="variable language_">window</span>-restore</span><br><span class="line">            span=<span class="string">&#x27;新窗口打开&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-item#menu-<span class="title function_">too</span>(href=<span class="string">&quot;javascript:rmf.open()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-link</span><br><span class="line">            span=<span class="string">&#x27;转到链接&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.copyLink()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-copy</span><br><span class="line">            span=<span class="string">&#x27;复制链接&#x27;</span></span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line.<span class="property">hide</span>#menu-img</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.saveAs()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-download</span><br><span class="line">            span=<span class="string">&#x27;保存图片&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.openWithNewTab()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-<span class="variable language_">window</span>-restore</span><br><span class="line">            span=<span class="string">&#x27;在新窗口打开&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.click()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-arrows-alt</span><br><span class="line">            span=<span class="string">&#x27;全屏显示&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.copyLink()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-copy</span><br><span class="line">            span=<span class="string">&#x27;复制图片链接&#x27;</span></span><br><span class="line">    .<span class="property">rightMenu</span>-group.<span class="property">rightMenu</span>-line</span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:toRandomPost()&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-paper-plane</span><br><span class="line">            span=<span class="string">&#x27;随便逛逛&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.switchDarkMode();&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-moon</span><br><span class="line">            span=<span class="string">&#x27;昼夜切换&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.translate();&quot;</span>)</span><br><span class="line">            i.<span class="property">iconfont</span>.<span class="property">icon</span>-fanti</span><br><span class="line">            span=<span class="string">&#x27;繁简转换&#x27;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="title function_">is_post</span>()||<span class="title function_">is_page</span>()</span><br><span class="line">            a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:rmf.switchReadMode();&quot;</span>)</span><br><span class="line">                i.<span class="property">fa</span>.<span class="property">fa</span>-book</span><br><span class="line">                span=<span class="string">&#x27;阅读模式&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:pjax.loadUrl(\&quot;/license/\&quot;);&quot;</span>)</span><br><span class="line">            i.<span class="property">fa</span>.<span class="property">fa</span>-info-circle</span><br><span class="line">            span=<span class="string">&#x27;版权声明&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:toggleWinbox();&quot;</span>)</span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-cog</span><br><span class="line">            span=<span class="string">&#x27;博客设置&#x27;</span></span><br><span class="line">        a.<span class="property">rightMenu</span>-<span class="title function_">item</span>(href=<span class="string">&quot;javascript:fullScreen();&quot;</span>)</span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-expand</span><br><span class="line">            span=<span class="string">&#x27;进入全屏&#x27;</span></span><br></pre></td></tr></table></figure><p>如果你加了评论弹幕的话，改为：（删掉+号，仅用作标记）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> #rightMenu</span><br><span class="line">    .rightMenu-group.rightMenu-small</span><br><span class="line">        ...</span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-paste</span><br><span class="line">        a.rightMenu-item(href=&#x27;javascript:rmf.paste()&#x27;)</span><br><span class="line">            i.fa.fa-copy</span><br><span class="line">            span=&#x27;粘贴&#x27;</span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-post</span><br><span class="line">        ...</span><br><span class="line"><span class="addition">+         a.rightMenu-item(href=&quot;javascript:switchCommentBarrage()&quot;)</span></span><br><span class="line"><span class="addition">+           i.fa.fa-bell-slash</span></span><br><span class="line"><span class="addition">+              span=&#x27;开/关评论弹幕&#x27;</span></span><br><span class="line">        a.rightMenu-item(href=&quot;javascript:rmf.copyWordsLink()&quot;)</span><br><span class="line">            i.fa.fa-link</span><br><span class="line">            span=&#x27;复制本文地址&#x27;</span><br><span class="line">    .rightMenu-group.rightMenu-line.hide#menu-to</span><br><span class="line">        ...</span><br></pre></td></tr></table></figure><p>然后在 <code>[blogRoot]/themes/butterfly/layout/includes/layout.pug</code>中引入（注意缩进，去掉+）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">doctype html</span><br><span class="line">html(lang=config.language data-theme=theme.display_mode class=htmlClassHideAside)</span><br><span class="line">  head</span><br><span class="line">    include ./head.pug</span><br><span class="line">  body</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    else</span><br><span class="line">      include ./404.pug</span><br><span class="line"></span><br><span class="line">    include ./rightside.pug</span><br><span class="line">    !=partial(&#x27;includes/third-party/search/index&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"><span class="addition">+    !=partial(&#x27;includes/rightmenu&#x27;,&#123;&#125;, &#123;cache:true&#125;)</span></span><br><span class="line">    include ./additional-js.pug</span><br></pre></td></tr></table></figure><h1 id="css部分"><a class="markdownIt-Anchor" href="#css部分"></a> CSS部分</h1><p>新建 <code>[blogRoot]/themes/butterfly/source/css/rightmenu.css</code></p><p>编辑以下内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* rightMenu */</span></span><br><span class="line"><span class="selector-id">#rightMenu</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--font-color);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">7px</span> <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:nth-last-child</span>(<span class="number">1</span>))&#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-small</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--text-bg-hover);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">i</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span> *&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rightMenu-group</span><span class="selector-class">.hide</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这是dorakika的原版css，你也可以试试我的版本，不保证完全可用：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* rightMenu */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;light&#x27;</span>]</span> <span class="selector-id">#rightMenu</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">210</span>,<span class="number">210</span>,<span class="number">210</span>);;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">3px</span> <span class="number">5px</span> <span class="number">#88888894</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-white-acrylic1);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&#x27;dark&#x27;</span>]</span> <span class="selector-id">#rightMenu</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">160px</span>;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">10%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--card-bg);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">210</span>,<span class="number">210</span>,<span class="number">210</span>);;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">3px</span> <span class="number">3px</span> <span class="number">5px</span> <span class="number">#88888894</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--lyx-black-acrylic1);</span><br><span class="line">    backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">30px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">7px</span> <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:nth-last-child</span>(<span class="number">1</span>))&#123;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="built_in">rgb</span>(<span class="number">180</span>,<span class="number">180</span>,<span class="number">180</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-small</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">transition</span>: <span class="number">0.3s</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--font-color);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--text-bg-hover);</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">0px</span> <span class="number">5px</span> <span class="built_in">var</span>(--lyx-border);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">i</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span> <span class="selector-class">.rightMenu-item</span> <span class="selector-tag">span</span>&#123;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--lyx-blue);</span><br><span class="line">    <span class="comment">/* box-shadow:0 0 3px var(--lyx-blue)!important; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#rightMenu</span> <span class="selector-class">.rightMenu-group</span><span class="selector-class">.rightMenu-line</span> <span class="selector-class">.rightMenu-item</span> *&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rightMenu-group</span><span class="selector-class">.hide</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.rightMenu-item</span><span class="selector-pseudo">:hover</span>&#123;</span><br><span class="line">    <span class="attribute">color</span>:white<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>:<span class="built_in">var</span>(--lyx-blue)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span>&#123;</span><br><span class="line">    <span class="attr">--lyx-border</span>:<span class="number">#c9c9c9</span>;</span><br><span class="line">    <span class="attr">--lyx-blue</span>:<span class="number">#6cf</span>;</span><br><span class="line">    <span class="attr">--lyx-gray</span>:<span class="number">#e2e2e2</span>;</span><br><span class="line">    <span class="attr">--lyx-theme</span>:<span class="number">#6cf</span>;</span><br><span class="line">    <span class="attr">--lyx-green</span>:<span class="number">#39c5bb</span>;</span><br><span class="line">    <span class="attr">--lyx-black-acrylic1</span>: <span class="number">#0008</span>;</span><br><span class="line">    <span class="attr">--lyx-black-acrylic2</span>: <span class="number">#000a</span>;</span><br><span class="line">    <span class="attr">--lyx-black-acrylic3</span>:<span class="number">#00000099</span>;</span><br><span class="line">    <span class="attr">--lyx-black</span>:black;</span><br><span class="line">    <span class="attr">--lyx-white</span>:white;</span><br><span class="line">    <span class="attr">--lyx-white-acrylic1</span>:<span class="number">#fffd</span>;</span><br><span class="line">    <span class="attr">--lyx-white-acrylic2</span>:<span class="number">#fffa</span>;</span><br><span class="line">    <span class="attr">--lyx-blackgray</span>:<span class="number">#797979</span>;</span><br><span class="line">    <span class="attr">--lyx-0</span>:<span class="number">#0000</span>;</span><br><span class="line">    <span class="attr">--lyx-scrollbar</span>: <span class="number">#acacacDD</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在主题配置文件中引入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/rightmenu.css&quot;&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="iconfont图标"><a class="markdownIt-Anchor" href="#iconfont图标"></a> iconfont图标</h1><p>因为少部分图标使用iconfont，你需要自己添加，下载我的iconfont图标包，然后解压把里面的东西扔到 <code>[blogRoot]/themes/butterfly/source/css</code>里面即可</p><a class="tag-Link" target="_blank" href="https://xydc.lanzouv.com/iRlu409ouaba">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/xydc.lanzouv.com/iRlu409ouaba.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">图标包</div>            <div class="tag-link-sitename">蓝奏云</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后在主题配置文件中引入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/iconfont.css&quot;&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><h1 id="js部分"><a class="markdownIt-Anchor" href="#js部分"></a> JS部分</h1><p>最后编写js代码即可。</p><p>创建 <code>[blogRoot]/themes/butterfly/source/js/rightmenu.js</code></p><p>然后编写以下内容：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//22.12.8 update：add mask</span></span><br><span class="line"><span class="comment">//22.12.9 update: add search in this page</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setMask</span>(<span class="params"></span>)&#123;<span class="comment">//设置遮罩层</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;rmMask&quot;</span>)[<span class="number">0</span>]!=<span class="literal">undefined</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;rmMask&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    mask = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    mask.<span class="property">className</span> = <span class="string">&quot;rmMask&quot;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">background</span> = <span class="string">&#x27;#fff&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;.0&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&#x27;fixed&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">top</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">left</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    mask.<span class="property">style</span>.<span class="property">zIndex</span> = <span class="number">998</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(mask);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;rightMenu&quot;</span>).<span class="property">style</span>.<span class="property">zIndex</span>=<span class="number">19198</span>;</span><br><span class="line">    <span class="keyword">return</span> mask;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">insertAtCursor</span>(<span class="params">myField, myValue</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//IE 浏览器</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">selection</span>) &#123;</span><br><span class="line">        myField.<span class="title function_">focus</span>();</span><br><span class="line">        sel = <span class="variable language_">document</span>.<span class="property">selection</span>.<span class="title function_">createRange</span>();</span><br><span class="line">        sel.<span class="property">text</span> = myValue;</span><br><span class="line">        sel.<span class="title function_">select</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//FireFox、Chrome等</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (myField.<span class="property">selectionStart</span> || myField.<span class="property">selectionStart</span> == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> startPos = myField.<span class="property">selectionStart</span>;</span><br><span class="line">        <span class="keyword">var</span> endPos = myField.<span class="property">selectionEnd</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 保存滚动条</span></span><br><span class="line">        <span class="keyword">var</span> restoreTop = myField.<span class="property">scrollTop</span>;</span><br><span class="line">        myField.<span class="property">value</span> = myField.<span class="property">value</span>.<span class="title function_">substring</span>(<span class="number">0</span>, startPos) + myValue + myField.<span class="property">value</span>.<span class="title function_">substring</span>(endPos, myField.<span class="property">value</span>.<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (restoreTop &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            myField.<span class="property">scrollTop</span> = restoreTop;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        myField.<span class="title function_">focus</span>();</span><br><span class="line">        myField.<span class="property">selectionStart</span> = startPos + myValue.<span class="property">length</span>;</span><br><span class="line">        myField.<span class="property">selectionEnd</span> = startPos + myValue.<span class="property">length</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        myField.<span class="property">value</span> += myValue;</span><br><span class="line">        myField.<span class="title function_">focus</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> rmf = &#123;&#125;;</span><br><span class="line">rmf.<span class="property">showRightMenu</span> = <span class="keyword">function</span> (<span class="params">isTrue, x = <span class="number">0</span>, y = <span class="number">0</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> $rightMenu = $(<span class="string">&#x27;#rightMenu&#x27;</span>);</span><br><span class="line">    $rightMenu.<span class="title function_">css</span>(<span class="string">&#x27;top&#x27;</span>, x + <span class="string">&#x27;px&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;left&#x27;</span>, y + <span class="string">&#x27;px&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isTrue) &#123;</span><br><span class="line">        $rightMenu.<span class="title function_">show</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        $rightMenu.<span class="title function_">hide</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">switchDarkMode</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">activateDarkMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">activateLightMode</span>()</span><br><span class="line">        saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">        <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">night_to_day</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// handle some cases</span></span><br><span class="line">    <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">    <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;;</span><br><span class="line">rmf.<span class="property">yinyong</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> e = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;el-textarea__inner&quot;</span>)[<span class="number">0</span>],</span><br><span class="line">        t = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&quot;HTMLEvents&quot;</span>);</span><br><span class="line">    t.<span class="title function_">initEvent</span>(<span class="string">&quot;input&quot;</span>, !<span class="number">0</span>, !<span class="number">0</span>), e.<span class="property">value</span> = d.<span class="property">value</span> = <span class="string">&quot;&gt; &quot;</span>+<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()+<span class="string">&quot;\n\n&quot;</span>, e.<span class="title function_">dispatchEvent</span>(t);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getSelection</span>().<span class="title function_">toString</span>());</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;el-textarea__inner&quot;</span>)[<span class="number">0</span>].<span class="property">value</span>=<span class="string">&quot;&gt; &quot;</span>+<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()+<span class="string">&quot;\n\n&quot;</span>;</span><br><span class="line">    <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;为保证最佳评论阅读体验，建议不要删除空行&#x27;</span>,</span><br><span class="line">        <span class="attr">pos</span>: <span class="string">&#x27;top-center&#x27;</span>,</span><br><span class="line">        <span class="attr">showAction</span>: <span class="literal">false</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">copyWordsLink</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> url = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span></span><br><span class="line">    <span class="keyword">let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;textarea&quot;</span>);</span><br><span class="line">    txa.<span class="property">value</span> = url;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class="line">    txa.<span class="title function_">select</span>();</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;Copy&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class="line">    <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&#x27;链接复制成功！快去分享吧！&#x27;</span>,</span><br><span class="line">        <span class="attr">pos</span>: <span class="string">&#x27;top-right&#x27;</span>,</span><br><span class="line">        <span class="attr">showAction</span>: <span class="literal">false</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">switchReadMode</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> $body = <span class="variable language_">document</span>.<span class="property">body</span></span><br><span class="line">    $body.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;read-mode&#x27;</span>)</span><br><span class="line">    <span class="keyword">const</span> newEle = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;button&#x27;</span>)</span><br><span class="line">    newEle.<span class="property">type</span> = <span class="string">&#x27;button&#x27;</span></span><br><span class="line">    newEle.<span class="property">className</span> = <span class="string">&#x27;fas fa-sign-out-alt exit-readmode&#x27;</span></span><br><span class="line">    $body.<span class="title function_">appendChild</span>(newEle)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">clickFn</span>(<span class="params"></span>) &#123;</span><br><span class="line">        $body.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;read-mode&#x27;</span>)</span><br><span class="line">        newEle.<span class="title function_">remove</span>()</span><br><span class="line">        newEle.<span class="title function_">removeEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    newEle.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, clickFn)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//复制选中文字</span></span><br><span class="line">rmf.<span class="property">copySelect</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&#x27;Copy&#x27;</span>, <span class="literal">false</span>, <span class="literal">null</span>);</span><br><span class="line">    <span class="comment">//这里可以写点东西提示一下 已复制</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//回到顶部</span></span><br><span class="line">rmf.<span class="property">scrollToTop</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;menus_items&quot;</span>)[<span class="number">1</span>].<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;name-container&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;style&quot;</span>,<span class="string">&quot;display:none&quot;</span>);</span><br><span class="line">    btf.<span class="title function_">scrollToDest</span>(<span class="number">0</span>, <span class="number">500</span>);</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">translate</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;translateLink&quot;</span>).<span class="title function_">click</span>();</span><br><span class="line">&#125;</span><br><span class="line">rmf.<span class="property">searchinThisPage</span>=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(mask);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;local-search-box--input&quot;</span>)[<span class="number">0</span>].<span class="property">value</span>=<span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;search&quot;</span>)[<span class="number">0</span>].<span class="title function_">click</span>()</span><br><span class="line">    <span class="keyword">var</span> evt = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&quot;HTMLEvents&quot;</span>);evt.<span class="title function_">initEvent</span>(<span class="string">&quot;input&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>);<span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;local-search-box--input&quot;</span>)[<span class="number">0</span>].<span class="title function_">dispatchEvent</span>(evt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchmove&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;, &#123; <span class="attr">passive</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">popupMenu</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//window.oncontextmenu=function()&#123;return false;&#125;</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">oncontextmenu</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(event.<span class="property">ctrlKey</span>||<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientWidth</span>&lt;<span class="number">900</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        $(<span class="string">&#x27;.rightMenu-group.hide&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>()) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-text&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;post&#x27;</span>)) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-post&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;page&#x27;</span>)) &#123;</span><br><span class="line">                $(<span class="string">&#x27;#menu-post&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> el = <span class="variable language_">window</span>.<span class="property">document</span>.<span class="property">body</span>;</span><br><span class="line">        el = event.<span class="property">target</span>;</span><br><span class="line">        <span class="keyword">var</span> a=<span class="regexp">/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&amp;&#x27;\*\+,;=.]+$/</span></span><br><span class="line">        <span class="keyword">if</span> (a.<span class="title function_">test</span>(<span class="variable language_">window</span>.<span class="title function_">getSelection</span>().<span class="title function_">toString</span>())&amp;&amp;el.<span class="property">tagName</span>!=<span class="string">&quot;A&quot;</span>)&#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-too&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (el.<span class="property">tagName</span> == <span class="string">&#x27;A&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-to&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line">            rmf.<span class="property">open</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">if</span>(el.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;http://&quot;</span>)==-<span class="number">1</span>&amp;&amp;el.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;https://&quot;</span>)==-<span class="number">1</span>||el.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;yaria.top&quot;</span>)!=-<span class="number">1</span>)&#123;</span><br><span class="line">                    pjax.<span class="title function_">loadUrl</span>(el.<span class="property">href</span>)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    location.<span class="property">href</span> = el.<span class="property">href</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">openWithNewTab</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">open</span>(el.<span class="property">href</span>);</span><br><span class="line">                <span class="comment">// window.location.reload();</span></span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">copyLink</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> url = el.<span class="property">href</span></span><br><span class="line">                <span class="keyword">let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;textarea&quot;</span>);</span><br><span class="line">                txa.<span class="property">value</span> = url;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class="line">                txa.<span class="title function_">select</span>();</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;Copy&quot;</span>);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (el.<span class="property">tagName</span> == <span class="string">&#x27;IMG&#x27;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-img&#x27;</span>).<span class="title function_">show</span>()</span><br><span class="line">            rmf.<span class="property">openWithNewTab</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">open</span>(el.<span class="property">src</span>);</span><br><span class="line">                <span class="comment">// window.location.reload();</span></span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">click</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                el.<span class="title function_">click</span>()</span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">copyLink</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">let</span> url = el.<span class="property">src</span></span><br><span class="line">                <span class="keyword">let</span> txa = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;textarea&quot;</span>);</span><br><span class="line">                txa.<span class="property">value</span> = url;</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(txa)</span><br><span class="line">                txa.<span class="title function_">select</span>();</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;Copy&quot;</span>);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(txa);</span><br><span class="line">            &#125;</span><br><span class="line">            rmf.<span class="property">saveAs</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">                <span class="keyword">var</span> a = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">                <span class="keyword">var</span> url = el.<span class="property">src</span>;</span><br><span class="line">                <span class="keyword">var</span> filename = url.<span class="title function_">split</span>(<span class="string">&quot;/&quot;</span>)[-<span class="number">1</span>];</span><br><span class="line">                a.<span class="property">href</span> = url;</span><br><span class="line">                a.<span class="property">download</span> = filename;</span><br><span class="line">                a.<span class="title function_">click</span>();</span><br><span class="line">                <span class="variable language_">window</span>.<span class="property">URL</span>.<span class="title function_">revokeObjectURL</span>(url);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (el.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span> || el.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&#x27;#menu-paste&#x27;</span>).<span class="title function_">show</span>();</span><br><span class="line">            <span class="comment">// rmf.paste=function()&#123;</span></span><br><span class="line">            <span class="comment">//     input.addEventListener(&#x27;paste&#x27;, async event =&gt; &#123;</span></span><br><span class="line">            <span class="comment">//         event.preventDefault();</span></span><br><span class="line">            <span class="comment">//         const text = await navigator.clipboard.readText();</span></span><br><span class="line">            <span class="comment">//         el.value+=text;</span></span><br><span class="line">            <span class="comment">//       &#125;);</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line">            rmf.<span class="property">paste</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                navigator.<span class="property">permissions</span></span><br><span class="line">                    .<span class="title function_">query</span>(&#123;</span><br><span class="line">                        <span class="attr">name</span>: <span class="string">&#x27;clipboard-read&#x27;</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                    .<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">if</span> (result.<span class="property">state</span> == <span class="string">&#x27;granted&#x27;</span> || result.<span class="property">state</span> == <span class="string">&#x27;prompt&#x27;</span>) &#123;</span><br><span class="line">                            <span class="comment">//读取剪贴板</span></span><br><span class="line">                            navigator.<span class="property">clipboard</span>.<span class="title function_">readText</span>().<span class="title function_">then</span>(<span class="function"><span class="params">text</span> =&gt;</span> &#123;</span><br><span class="line">                                <span class="variable language_">console</span>.<span class="title function_">log</span>(text)</span><br><span class="line">                                <span class="title function_">insertAtCursor</span>(el, text)</span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="title class_">Snackbar</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">                                <span class="attr">text</span>: <span class="string">&#x27;请允许读取剪贴板！&#x27;</span>,</span><br><span class="line">                                <span class="attr">pos</span>: <span class="string">&#x27;top-center&#x27;</span>,</span><br><span class="line">                                <span class="attr">showAction</span>: <span class="literal">false</span>,</span><br><span class="line">                            &#125;)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">let</span> pageX = event.<span class="property">clientX</span> + <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">let</span> pageY = event.<span class="property">clientY</span>;</span><br><span class="line">        <span class="keyword">let</span> rmWidth = $(<span class="string">&#x27;#rightMenu&#x27;</span>).<span class="title function_">width</span>();</span><br><span class="line">        <span class="keyword">let</span> rmHeight = $(<span class="string">&#x27;#rightMenu&#x27;</span>).<span class="title function_">height</span>();</span><br><span class="line">        <span class="keyword">if</span> (pageX + rmWidth &gt; <span class="variable language_">window</span>.<span class="property">innerWidth</span>) &#123;</span><br><span class="line">            pageX -= rmWidth + <span class="number">10</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pageY + rmHeight &gt; <span class="variable language_">window</span>.<span class="property">innerHeight</span>) &#123;</span><br><span class="line">            pageY -= pageY + rmHeight - <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        mask=<span class="title function_">setMask</span>();</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">onscroll</span>=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            rmf.<span class="title function_">showRightMenu</span>(<span class="literal">false</span>);</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">onscroll</span>=<span class="function">()=&gt;</span>&#123;&#125;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(mask);</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">&quot;.rightMenu-item&quot;</span>).<span class="title function_">click</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(mask);</span><br><span class="line">        &#125;)</span><br><span class="line">        $(<span class="variable language_">window</span>).<span class="title function_">resize</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            rmf.<span class="title function_">showRightMenu</span>(<span class="literal">false</span>);</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(mask);</span><br><span class="line">        &#125;)</span><br><span class="line">        mask.<span class="property">onclick</span>=<span class="function">()=&gt;</span>&#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(mask);</span><br><span class="line">        &#125;</span><br><span class="line">        rmf.<span class="title function_">showRightMenu</span>(<span class="literal">true</span>, pageY, pageX);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        rmf.<span class="title function_">showRightMenu</span>(<span class="literal">false</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (!(navigator.<span class="property">userAgent</span>.<span class="title function_">match</span>(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span><br><span class="line">    <span class="title function_">popupMenu</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> box = <span class="variable language_">document</span>.<span class="property">documentElement</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addLongtabListener</span>(<span class="params">target, callback</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="number">0</span> <span class="comment">// 初始化timer</span></span><br><span class="line"></span><br><span class="line">    target.<span class="property">ontouchstart</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        timer = <span class="number">0</span> <span class="comment">// 重置timer</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">callback</span>();</span><br><span class="line">            timer = <span class="number">0</span></span><br><span class="line">        &#125;, <span class="number">380</span>) <span class="comment">// 超时器能成功执行，说明是长按</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    target.<span class="property">ontouchmove</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(timer) <span class="comment">// 如果来到这里，说明是滑动</span></span><br><span class="line">        timer = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    target.<span class="property">ontouchend</span> = <span class="function">() =&gt;</span> &#123; <span class="comment">// 到这里如果timer有值，说明此触摸时间不足380ms，是点击</span></span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addLongtabListener</span>(box, popupMenu)</span><br></pre></td></tr></table></figure><p>因为这个js依赖于jquery，所以还需要引入jquery，在主题配置文件中引入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/rightmenu.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><p>然后你就拥有了一个好看且功能丰富的右键菜单了！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;前置教程：&lt;/p&gt;
&lt;a class=&quot;tag-Link&quot; target=&quot;_blank&quot; href=&quot;https://blog.yaria.top/posts/583ff077/&quot;&gt;
    &lt;div class=&quot;tag-link-tips&quot;&gt;引用站外地址&lt;/div&gt;
</summary>
      
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>让butterfly主题支持文章点赞</title>
    <link href="https://blog.yaria.top/posts/1b850b16/"/>
    <id>https://blog.yaria.top/posts/1b850b16/</id>
    <published>2022-08-16T02:51:44.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h1 id="前言效果"><a class="markdownIt-Anchor" href="#前言效果"></a> 前言&amp;效果</h1><p>众所周知，b站的视频有点赞功能，这个功能能够充分地体现出观众们对视频的喜爱程度<s>和白嫖率</s>。</p><p>同样，我们可以在博客中添加这个功能，后续我可能也会增加一个收藏功能（或者说是直接整一个账号登录？<s>用静态网页搞登录作死的博主是屑</s>）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e41af8a.webp" alt="1660618508648" /></p><p>效果如下，只需要点击左侧的点赞图标即可点赞：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e518c7c.webp" alt="1660618730764" /></p><p>不过目前的博文点赞并没有点赞次数限制，像钉钉上课的点赞一样，你甚至可以用连点器点到1919810个赞。当然这个版本采用leancloud存储，肯定会有api调用限制的，而且反应稍慢。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e5ef5c1.webp" alt="1660619132596" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e71b94d.webp" alt="1660619528680" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e82002c.webp" alt="1660627980542" /></p><h1 id="教程部分"><a class="markdownIt-Anchor" href="#教程部分"></a> 教程部分</h1><p>放出魔改教程吧！</p><h2 id="改pug"><a class="markdownIt-Anchor" href="#改pug"></a> 改pug</h2><p>打开 <code>[blogRoot]\themes\butterfly\layout\includes\header\post-info.pug</code>，在末尾添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">span.<span class="property">post</span>-meta-separator |&amp;nbsp </span><br><span class="line">    span.<span class="property">post</span>-meta-dianzan</span><br><span class="line">        <span class="keyword">if</span> theme.<span class="property">wordcount</span>.<span class="property">post_wordcount</span></span><br><span class="line">        <span class="title function_">a</span>(href=<span class="string">&quot;javascript:void(0)&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;dianzan&quot;</span>  onclick=<span class="string">&quot;dianzan()&quot;</span>)</span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-thumbs-up</span><br><span class="line">        span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27; 点赞&#x27;</span>) + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">        span.<span class="property">dianzan</span>-count=<span class="number">0</span></span><br></pre></td></tr></table></figure><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"> - let comments = theme.comments</span><br><span class="line"> #post-info</span><br><span class="line">  h1.post-title= page.title || _p(&#x27;no_title&#x27;)</span><br><span class="line">    if theme.post_edit.enable</span><br><span class="line">      a.post-edit-link(href=theme.post_edit.url + page.source title=_p(&#x27;post.edit&#x27;) target=&quot;_blank&quot;)</span><br><span class="line">        i.fas.fa-pencil-alt</span><br><span class="line">      </span><br><span class="line">  #post-meta</span><br><span class="line">    .meta-firstline</span><br><span class="line">      if (theme.post_meta.post.date_type)</span><br><span class="line">        ...</span><br><span class="line">      if comments.count &amp;&amp; !comments.lazyload &amp;&amp; page.comments !== false &amp;&amp; comments.use</span><br><span class="line">        ...</span><br><span class="line">          when &#x27;Twikoo&#x27;</span><br><span class="line">            ...</span><br><span class="line">          when &#x27;Facebook Comments&#x27;</span><br><span class="line">            +countBlock</span><br><span class="line">              a(href=url_for(page.path) + &#x27;#post-comment&#x27;)</span><br><span class="line">                span.fb-comments-count(data-href=urlNoIndex())</span><br><span class="line"><span class="addition">+      span.post-meta-separator |&amp;nbsp </span></span><br><span class="line"><span class="addition">+        span.post-meta-dianzan</span></span><br><span class="line"><span class="addition">+          if theme.wordcount.post_wordcount</span></span><br><span class="line"><span class="addition">+            a(href=&quot;javascript:void(0)&quot; class=&quot;dianzan&quot;  onclick=&quot;dianzan()&quot;)</span></span><br><span class="line"><span class="addition">+              i.fas.fa-thumbs-up</span></span><br><span class="line"><span class="addition">+            span.post-meta-label= _p(&#x27; 点赞&#x27;) + &#x27;:&#x27;</span></span><br><span class="line"><span class="addition">+            span.dianzan-count=0</span></span><br></pre></td></tr></table></figure><p>如果你使用的是 <code>butterfly4.2.2或者4.3.1</code>的话，可以直接使用我改好的pug (说明一下hexo的语法高亮不支持pug，所以我用js高亮代替)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">let</span> comments = theme.<span class="property">comments</span></span><br><span class="line">#post-info</span><br><span class="line">  h1.<span class="property">post</span>-title= page.<span class="property">title</span> || <span class="title function_">_p</span>(<span class="string">&#x27;no_title&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> theme.<span class="property">post_edit</span>.<span class="property">enable</span></span><br><span class="line">      a.<span class="property">post</span>-edit-<span class="title function_">link</span>(href=theme.<span class="property">post_edit</span>.<span class="property">url</span> + page.<span class="property">source</span> title=<span class="title function_">_p</span>(<span class="string">&#x27;post.edit&#x27;</span>) target=<span class="string">&quot;_blank&quot;</span>)</span><br><span class="line">        i.<span class="property">fas</span>.<span class="property">fa</span>-pencil-alt</span><br><span class="line">      </span><br><span class="line">  #post-meta</span><br><span class="line">    .<span class="property">meta</span>-firstline</span><br><span class="line">      <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">post</span>.<span class="property">date_type</span>)</span><br><span class="line">        span.<span class="property">post</span>-meta-date</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">post</span>.<span class="property">date_type</span> === <span class="string">&#x27;both&#x27;</span>)</span><br><span class="line">            i.<span class="property">far</span>.<span class="property">fa</span>-calendar-alt.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">            span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">            time.<span class="property">post</span>-meta-date-<span class="title function_">created</span>(datetime=<span class="title function_">date_xml</span>(page.<span class="property">date</span>) title=<span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(page.<span class="property">date</span>))=<span class="title function_">date</span>(page.<span class="property">date</span>, config.<span class="property">date_format</span>)</span><br><span class="line">            span.<span class="property">post</span>-meta-separator |</span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-history.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">            span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>)</span><br><span class="line">            time.<span class="property">post</span>-meta-date-<span class="title function_">updated</span>(datetime=<span class="title function_">date_xml</span>(page.<span class="property">updated</span>) title=<span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(page.<span class="property">updated</span>))=<span class="title function_">date</span>(page.<span class="property">updated</span>, config.<span class="property">date_format</span>)</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            - <span class="keyword">let</span> data_type_update = theme.<span class="property">post_meta</span>.<span class="property">post</span>.<span class="property">date_type</span> === <span class="string">&#x27;updated&#x27;</span></span><br><span class="line">            - <span class="keyword">let</span> date_type = data_type_update ? <span class="string">&#x27;updated&#x27;</span> : <span class="string">&#x27;date&#x27;</span></span><br><span class="line">            - <span class="keyword">let</span> date_icon = data_type_update ? <span class="string">&#x27;fas fa-history&#x27;</span> :<span class="string">&#x27;far fa-calendar-alt&#x27;</span></span><br><span class="line">            - <span class="keyword">let</span> date_title = data_type_update ? <span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) : <span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">            i.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-<span class="title function_">icon</span>(<span class="keyword">class</span>=date_icon)</span><br><span class="line">            span.<span class="property">post</span>-meta-label= date_title</span><br><span class="line">            <span class="title function_">time</span>(datetime=<span class="title function_">date_xml</span>(page[date_type]) title=date_title + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(page[date_type]))=<span class="title function_">date</span>(page[date_type], config.<span class="property">date_format</span>)</span><br><span class="line">      <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">post</span>.<span class="property">categories</span> &amp;&amp; page.<span class="property">categories</span>.<span class="property">data</span>.<span class="property">length</span> &gt; <span class="number">0</span>)</span><br><span class="line">        span.<span class="property">post</span>-meta-categories</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">post</span>.<span class="property">date_type</span>)</span><br><span class="line">            span.<span class="property">post</span>-meta-separator |</span><br><span class="line"></span><br><span class="line">          each item, index <span class="keyword">in</span> page.<span class="property">categories</span>.<span class="property">data</span></span><br><span class="line">            i.<span class="property">fas</span>.<span class="property">fa</span>-inbox.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">            <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(item.<span class="property">path</span>)).<span class="property">post</span>-meta-categories #[=item.<span class="property">name</span>]</span><br><span class="line">            <span class="keyword">if</span> (index &lt; page.<span class="property">categories</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-angle-right.<span class="property">post</span>-meta-separator</span><br><span class="line"></span><br><span class="line">    .<span class="property">meta</span>-secondline</span><br><span class="line">      - <span class="keyword">let</span> postWordcount = theme.<span class="property">wordcount</span>.<span class="property">enable</span> &amp;&amp; (theme.<span class="property">wordcount</span>.<span class="property">post_wordcount</span> || theme.<span class="property">wordcount</span>.<span class="property">min2read</span>)</span><br><span class="line">      <span class="keyword">if</span> (postWordcount)</span><br><span class="line">        span.<span class="property">post</span>-meta-separator |</span><br><span class="line">        span.<span class="property">post</span>-meta-wordcount</span><br><span class="line">          <span class="keyword">if</span> theme.<span class="property">wordcount</span>.<span class="property">post_wordcount</span></span><br><span class="line">            i.<span class="property">far</span>.<span class="property">fa</span>-file-word.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">            span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27;post.wordcount&#x27;</span>) + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">            span.<span class="property">word</span>-count= <span class="title function_">wordcount</span>(page.<span class="property">content</span>)</span><br><span class="line">            <span class="keyword">if</span> theme.<span class="property">wordcount</span>.<span class="property">min2read</span></span><br><span class="line">              span.<span class="property">post</span>-meta-separator |</span><br><span class="line">          <span class="keyword">if</span> theme.<span class="property">wordcount</span>.<span class="property">min2read</span></span><br><span class="line">            i.<span class="property">far</span>.<span class="property">fa</span>-clock.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">            span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27;post.min2read&#x27;</span>) + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">            span= <span class="title function_">min2read</span>(page.<span class="property">content</span>, &#123;<span class="attr">cn</span>: <span class="number">350</span>, <span class="attr">en</span>: <span class="number">160</span>&#125;) + <span class="title function_">_p</span>(<span class="string">&#x27;post.min2read_unit&#x27;</span>)</span><br><span class="line">  </span><br><span class="line">      <span class="comment">//- for pv and count</span></span><br><span class="line">      mixin <span class="title function_">pvBlock</span>(parent_id,parent_class,parent_title)</span><br><span class="line">        span.<span class="property">post</span>-meta-separator |</span><br><span class="line">        <span class="title function_">span</span>(<span class="keyword">class</span>=parent_<span class="keyword">class</span> <span class="title class_">id</span>=parent_id data-flag-title=page.<span class="property">title</span>)</span><br><span class="line">          i.<span class="property">far</span>.<span class="property">fa</span>-eye.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">          span.<span class="property">post</span>-meta-label=<span class="title function_">_p</span>(<span class="string">&#x27;post.page_pv&#x27;</span>) + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">          <span class="keyword">if</span> block</span><br><span class="line">            block</span><br><span class="line"></span><br><span class="line">      - <span class="keyword">const</span> commentUse = comments.<span class="property">use</span></span><br><span class="line">      <span class="keyword">if</span> commentUse &amp;&amp; !comments.<span class="property">lazyload</span></span><br><span class="line">        <span class="keyword">case</span> commentUse[<span class="number">0</span>]</span><br><span class="line">          when <span class="string">&#x27;Valine&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> theme.<span class="property">valine</span>.<span class="property">visitor</span></span><br><span class="line">              +<span class="title function_">pvBlock</span>(<span class="title function_">url_for</span>(page.<span class="property">path</span>),<span class="string">&#x27;leancloud_visitors&#x27;</span>,page.<span class="property">title</span>)</span><br><span class="line">                span.<span class="property">leancloud</span>-visitors-count</span><br><span class="line">          when <span class="string">&#x27;Waline&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> theme.<span class="property">waline</span>.<span class="property">pageview</span></span><br><span class="line">              +<span class="title function_">pvBlock</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                span.<span class="property">waline</span>-pageview-<span class="title function_">count</span>(data-path=<span class="title function_">url_for</span>(page.<span class="property">path</span>))</span><br><span class="line">          when <span class="string">&#x27;Twikoo&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> theme.<span class="property">twikoo</span>.<span class="property">visitor</span></span><br><span class="line">              +<span class="title function_">pvBlock</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                span#twikoo_visitors</span><br><span class="line">          <span class="keyword">default</span></span><br><span class="line">            <span class="keyword">if</span> theme.<span class="property">busuanzi</span>.<span class="property">page_pv</span></span><br><span class="line">              +<span class="title function_">pvBlock</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;post-meta-pv-cv&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">                span#busuanzi_value_page_pv</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> theme.<span class="property">busuanzi</span>.<span class="property">page_pv</span></span><br><span class="line">        +<span class="title function_">pvBlock</span>(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;post-meta-pv-cv&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">          span#busuanzi_value_page_pv</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> comments.<span class="property">count</span> &amp;&amp; !comments.<span class="property">lazyload</span> &amp;&amp; page.<span class="property">comments</span> !== <span class="literal">false</span> &amp;&amp; comments.<span class="property">use</span></span><br><span class="line">        - <span class="keyword">var</span> whichCount = comments.<span class="property">use</span>[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">        mixin countBlock</span><br><span class="line">          span.<span class="property">post</span>-meta-separator |</span><br><span class="line">          span.<span class="property">post</span>-meta-commentcount</span><br><span class="line">            i.<span class="property">far</span>.<span class="property">fa</span>-comments.<span class="property">fa</span>-fw.<span class="property">post</span>-meta-icon</span><br><span class="line">            span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27;post.comments&#x27;</span>) + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> block</span><br><span class="line">              block</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">case</span> whichCount</span><br><span class="line">          when <span class="string">&#x27;Disqus&#x27;</span></span><br><span class="line">          when <span class="string">&#x27;Disqusjs&#x27;</span></span><br><span class="line">            +countBlock</span><br><span class="line">              span.<span class="property">disqus</span>-comment-count</span><br><span class="line">                <span class="title function_">a</span>(href=<span class="title function_">full_url_for</span>(page.<span class="property">path</span>) + <span class="string">&#x27;#disqus_thread&#x27;</span>)</span><br><span class="line">          when <span class="string">&#x27;Valine&#x27;</span></span><br><span class="line">            +countBlock</span><br><span class="line">              <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(page.<span class="property">path</span>) + <span class="string">&#x27;#post-comment&#x27;</span> itemprop=<span class="string">&quot;discussionUrl&quot;</span>)</span><br><span class="line">                span.<span class="property">valine</span>-comment-<span class="title function_">count</span>(data-xid=<span class="title function_">url_for</span>(page.<span class="property">path</span>) itemprop=<span class="string">&quot;commentCount&quot;</span>)</span><br><span class="line">          when <span class="string">&#x27;Waline&#x27;</span></span><br><span class="line">            +countBlock</span><br><span class="line">              <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(page.<span class="property">path</span>) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                span.<span class="property">waline</span>-comment-<span class="title function_">count</span>(data-path=<span class="title function_">url_for</span>(page.<span class="property">path</span>))</span><br><span class="line">          when <span class="string">&#x27;Gitalk&#x27;</span></span><br><span class="line">            +countBlock</span><br><span class="line">              <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(page.<span class="property">path</span>) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                span.<span class="property">gitalk</span>-comment-count</span><br><span class="line">          when <span class="string">&#x27;Twikoo&#x27;</span></span><br><span class="line">            +countBlock</span><br><span class="line">              <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(page.<span class="property">path</span>) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                span#twikoo-count</span><br><span class="line">          when <span class="string">&#x27;Facebook Comments&#x27;</span></span><br><span class="line">            +countBlock</span><br><span class="line">              <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(page.<span class="property">path</span>) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                span.<span class="property">fb</span>-comments-<span class="title function_">count</span>(data-href=<span class="title function_">urlNoIndex</span>())</span><br><span class="line">      span.<span class="property">post</span>-meta-separator |&amp;nbsp </span><br><span class="line">        span.<span class="property">post</span>-meta-dianzan</span><br><span class="line">          <span class="keyword">if</span> theme.<span class="property">wordcount</span>.<span class="property">post_wordcount</span></span><br><span class="line">            <span class="title function_">a</span>(href=<span class="string">&quot;javascript:void(0)&quot;</span> <span class="keyword">class</span>=<span class="string">&quot;dianzan&quot;</span>  onclick=<span class="string">&quot;dianzan()&quot;</span>)</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-thumbs-up</span><br><span class="line">            span.<span class="property">post</span>-meta-label= <span class="title function_">_p</span>(<span class="string">&#x27; 点赞&#x27;</span>) + <span class="string">&#x27;:&#x27;</span></span><br><span class="line">            span.<span class="property">dianzan</span>-count=<span class="number">0</span></span><br></pre></td></tr></table></figure><p>这时重新 <code>hexo cl&amp;&amp;hexo s</code>应该就能看到点赞显示了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11e941669.webp" alt="1660621375103" /></p><h2 id="leancloud配置"><a class="markdownIt-Anchor" href="#leancloud配置"></a> LeanCloud配置</h2><p>然后你需要一个LeanCloud数据库。</p><p>如果你已经注册并且创建数据库了，就不必看教程了。</p><details class="toggle" ><summary class="toggle-button" style="">点击查看创建教程</summary><div class="toggle-content"><p>因为现在Leancloud为了顺从国家政策<s>怕被工信部搞没了</s>，所以禁用了海外版共享域名，你可以按照以下两种方式来注册</p><p>实名认证并没有年龄限制，但是你需要拍摄身份证原件，相信不少的童鞋都只有户口本（我有身份证），那就不行了。</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">使用国内版（推荐，速度快，出事几率小，但是要实名且绑定域名要备案）</button></li><li class="tab"><button type="button" data-href="#-2">使用国际版自定义域名（免实名，需要自己有域名，以后有墙掉的可能，速度慢）</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>进入Leancloud中国版官网注册</p><a class="tag-Link" target="_blank" href="https://console.leancloud.cn/register">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/console.leancloud.cn/register.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">注册-Leancloud中国版</div>            <div class="tag-link-sitename">Leancloud</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后按照注册指引来做。</p><p>接下来你需要实名认证才可以正常使用，点账号头像-账号设置-实名认证，</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11ef7b993.webp" alt="1660626531641" /></p><p>在这个界面里面拍摄你的身份证照片和名字身份证号码进行认证（我已经验证过了）。</p><p>如果你没有身份证或者拿不到身份证的话，就使用国际版，但是不能直接用共享域名，需要你自己绑定。如果你身份证和域名都没有的话，那就没办法了。</p><p>然后创建应用，选择开发版，自己改名字创建即可。<br /><img src="https://bu.dusays.com/2023/01/20/63ca11f087a79.webp" alt="1660626905154" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>我其实不太推荐这一个方法，因为很有可能有些人没事点赞就给你点爆没反应了。</p><p>如果你没有自定义域名的话，可以申请一个Freenom或者euorg域名，参考：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/aedd05c3/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/aedd05c3/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">eu.org免费域名白嫖教程以及避坑</div>            <div class="tag-link-sitename">我的第一篇文章，怀念...</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>一样进入Leancloud国际版官网注册</p><a class="tag-Link" target="_blank" href="https://console.leancloud.app/register">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/console.leancloud.app/register.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">注册-Leancloud国际版</div>            <div class="tag-link-sitename">Leancloud</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>然后注册之后创建一个应用</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11f087a79.webp" alt="1660626905154" /></p><p>进入管理页面，输入你的域名（是子域名），绑定域名</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11f23b1bd.webp" alt="1660626976454" /></p><p>输好之后按照她给的cname去你的dns解析商添加这个cname，稍等几分钟即可使用</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11f4851f2.webp" alt="1660627133930" /></p><p>建议绑定之后访问一次这个域名可以让leancloud更快检测到dns绑定，稍等一会就绑定成功了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11f57f57d.webp" alt="1660627220283" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca11f7d771d.webp" alt="1660627232588" /></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></div></details><div class="note warning simple"><p>如果你已经注册过用于评论系统的话（比如Valine），请务必使用同样的数据库，否则会出现bug导致损坏评论数据库！<del class="noheimu">（我也不知道为什么，很多大佬们用Leancloud都会提示）</del></p></div><p>进入你的应用-数据存储-结构化数据，创建一个名为<strong>dianzan</strong>的class，权限改为无限制（反正点赞这玩意又不重要），创建这个class</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11f932455.webp" alt="1660627525521" /></p><p>然后在设置-应用凭证复制你的AppID、AppKey和REST API服务器地址，一定要保密。</p><p>至此，Leancloud部分就配置完了。</p><h2 id="js部分"><a class="markdownIt-Anchor" href="#js部分"></a> JS部分</h2><p>首先添加 <code>AV-min.js</code>：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;//npm.elemecdn.com/leancloud-storage@4.13.1/dist/av-min.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><p>然后用一小段JS访问API就可以实现点赞了，在<code>[blogRoot]/themes/butterfly/source/js</code>里面新建<code>dianzan.js</code>文件，粘贴以下代码，把 <strong>{YOUR_APPID}</strong> 换成开始复制的AppId， <strong>{YOUR_APPKEY}</strong> 换成开始复制的AppKey， <strong>{YOUR_URL}</strong> 换成开始复制的分配的共享域名或者你自己绑定的域名</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">GetUrlRelativePath</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> url = <span class="variable language_">document</span>.<span class="property">location</span>.<span class="title function_">toString</span>();</span><br><span class="line">    <span class="keyword">var</span> arrUrl = url.<span class="title function_">split</span>(<span class="string">&quot;//&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> start = arrUrl[<span class="number">1</span>].<span class="title function_">indexOf</span>(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> relUrl = arrUrl[<span class="number">1</span>].<span class="title function_">substring</span>(start);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (relUrl.<span class="title function_">indexOf</span>(<span class="string">&quot;?&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">        relUrl = relUrl.<span class="title function_">split</span>(<span class="string">&quot;?&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> relUrl;</span><br><span class="line">&#125;</span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;</span><br><span class="line">        <span class="title class_">Query</span>,</span><br><span class="line">        <span class="title class_">User</span></span><br><span class="line">    &#125; = <span class="variable constant_">AV</span>;</span><br><span class="line">    <span class="variable constant_">AV</span>.<span class="title function_">init</span>(&#123;</span><br><span class="line">        <span class="attr">appId</span>: <span class="string">&quot;&#123;YOUR_APPID&#125;&quot;</span>,</span><br><span class="line">        <span class="attr">appKey</span>: <span class="string">&quot;&#123;YOUR_APPKEY&#125;&quot;</span>,</span><br><span class="line">        <span class="attr">serverURL</span>: <span class="string">&quot;&#123;YOUR_URL&#125;&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">var</span> dianzans = [];</span><br><span class="line">    <span class="keyword">var</span> hrefs = [];</span><br><span class="line">    <span class="keyword">var</span> ids = [];</span><br><span class="line">    <span class="keyword">const</span> query2 = <span class="keyword">new</span> <span class="variable constant_">AV</span>.<span class="title class_">Query</span>(<span class="string">&#x27;dianzan&#x27;</span>);</span><br><span class="line">    query2.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">dzs</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = dzs.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            dianzans.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;count&quot;</span>]);</span><br><span class="line">            hrefs.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;href&quot;</span>]);</span><br><span class="line">            ids.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;id&quot;</span>])</span><br><span class="line">        &#125;</span><br><span class="line">        index = hrefs.<span class="title function_">indexOf</span>(<span class="title class_">GetUrlRelativePath</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(dianzans[index])</span><br><span class="line">        <span class="keyword">if</span> (dianzans[index] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;dianzan-count&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;dianzan-count&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span> = dianzans[index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setCount</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> dianzans = [];</span><br><span class="line">    <span class="keyword">var</span> hrefs = [];</span><br><span class="line">    <span class="keyword">var</span> ids = [];</span><br><span class="line">    <span class="keyword">const</span> query2 = <span class="keyword">new</span> <span class="variable constant_">AV</span>.<span class="title class_">Query</span>(<span class="string">&#x27;dianzan&#x27;</span>);</span><br><span class="line">    query2.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">dzs</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = dzs.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            dianzans.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;count&quot;</span>]);</span><br><span class="line">            hrefs.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;href&quot;</span>]);</span><br><span class="line">            ids.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;id&quot;</span>])</span><br><span class="line">        &#125;</span><br><span class="line">        index = hrefs.<span class="title function_">indexOf</span>(<span class="title class_">GetUrlRelativePath</span>());</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(dianzans[index])</span><br><span class="line">        <span class="keyword">if</span> (dianzans[index] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;dianzan-count&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;dianzan-count&quot;</span>)[<span class="number">0</span>].<span class="property">innerText</span> = dianzans[index] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dianzan</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> dianzans = [];</span><br><span class="line">        <span class="keyword">var</span> hrefs = [];</span><br><span class="line">        <span class="keyword">var</span> ids = [];</span><br><span class="line">        <span class="keyword">const</span> query = <span class="keyword">new</span> <span class="variable constant_">AV</span>.<span class="title class_">Query</span>(<span class="string">&#x27;dianzan&#x27;</span>);</span><br><span class="line">        query.<span class="title function_">find</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">dzs</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (i = dzs.<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">                dianzans.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;count&quot;</span>]);</span><br><span class="line">                hrefs.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;attributes&quot;</span>][<span class="string">&quot;href&quot;</span>]);</span><br><span class="line">                ids.<span class="title function_">push</span>(dzs[i][<span class="string">&quot;id&quot;</span>])</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (hrefs.<span class="title function_">indexOf</span>(<span class="title class_">GetUrlRelativePath</span>()) == -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">                <span class="keyword">const</span> <span class="title class_">TestObject</span> = <span class="variable constant_">AV</span>.<span class="property">Object</span>.<span class="title function_">extend</span>(<span class="string">&#x27;dianzan&#x27;</span>);</span><br><span class="line">                <span class="keyword">const</span> testObject = <span class="keyword">new</span> <span class="title class_">TestObject</span>();</span><br><span class="line">                testObject.<span class="title function_">set</span>(<span class="string">&#x27;href&#x27;</span>, <span class="title class_">GetUrlRelativePath</span>());</span><br><span class="line">                testObject.<span class="title function_">set</span>(<span class="string">&#x27;count&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">                testObject.<span class="title function_">save</span>();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                index = hrefs.<span class="title function_">indexOf</span>(<span class="title class_">GetUrlRelativePath</span>());</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(ids[index])</span><br><span class="line">                query.<span class="title function_">get</span>(ids[index]).<span class="title function_">then</span>(<span class="function">(<span class="params">todo</span>) =&gt;</span> &#123;</span><br><span class="line">                    todo.<span class="title function_">set</span>(<span class="string">&#x27;count&#x27;</span>, dianzans[index] + <span class="number">1</span>);</span><br><span class="line">                    todo.<span class="title function_">save</span>();</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">setCount</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="keyword">const</span> <span class="title class_">TestObject</span> = <span class="variable constant_">AV</span>.<span class="property">Object</span>.<span class="title function_">extend</span>(<span class="string">&#x27;dianzan&#x27;</span>);</span><br><span class="line">        <span class="keyword">const</span> testObject = <span class="keyword">new</span> <span class="title class_">TestObject</span>();</span><br><span class="line">        testObject.<span class="title function_">set</span>(<span class="string">&#x27;href&#x27;</span>, <span class="title class_">GetUrlRelativePath</span>());</span><br><span class="line">        testObject.<span class="title function_">set</span>(<span class="string">&#x27;count&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">        testObject.<span class="title function_">save</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后在主题配置文件中插入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;/js/dianzan.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>恭喜你获得了好玩的<del class="noheimu">无限</del>点赞功能！</p><h2 id="todo"><a class="markdownIt-Anchor" href="#todo"></a> TODO</h2><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>魔改主题显示点赞</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>点赞云存储</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>显示点赞个数</p>            </div><div class='checkbox'><input type="checkbox" />            <p>首页显示点赞个数</p>            </div><div class='checkbox'><input type="checkbox" />            <p>cookies记录是否点赞，一个人只能点一个</p>            </div><div class='checkbox'><input type="checkbox" />            <p><del class=noheimu>账号登录功能</del><s>(番外个体计划)</s></p>            </div>]]></content>
    
    
    <summary type="html">搞一个像钉钉网课一样可以连点器点的文章点赞，然后点114514个?</summary>
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>BBTalk魔改：让bbtalk的样式变成瀑布流</title>
    <link href="https://blog.yaria.top/posts/70734559/"/>
    <id>https://blog.yaria.top/posts/70734559/</id>
    <published>2022-08-15T06:55:03.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>因为bbtalk默认的样式是时间轴（如图），但是我更喜欢瀑布流的样式（比如洪哥的），所以就写了一个简单的css用于修改样式。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca10cca573d.webp" alt="1660547037484" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca10cdbca5f.webp" alt="1660546977284" /></p><p>css的效果（直接拿黑石的博客改的[doge]）：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca10ceacbb9.webp" alt="1660547017887" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca10cfc5153.webp" alt="1660547415300" /></p><p>添加如下css即可应用</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#app</span> <span class="selector-class">.body</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span><span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#app</span> <span class="selector-class">.tip</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.meta</span><span class="selector-pseudo">::before</span>,<span class="selector-class">.meta</span><span class="selector-pseudo">::after</span>,<span class="selector-class">.timenode</span><span class="selector-pseudo">::after</span>,<span class="selector-class">.timenode</span><span class="selector-pseudo">::before</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1100px</span>)&#123;</span><br><span class="line">    <span class="selector-class">.timenode</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">3</span> - <span class="number">40px</span>)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1100px</span>)&#123;</span><br><span class="line">    <span class="selector-class">.timenode</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">2</span> - <span class="number">40px</span>)<span class="meta">!important</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="selector-class">.timenode</span>&#123;</span><br><span class="line">    <span class="attribute">min-width</span>:<span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.timenode</span> <span class="selector-class">.body</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>你可能会发现一个小bug~~（不，特性）~~，&quot;再翻翻&quot;按钮的位置有点奇怪，你可以自己研究一下把它弄好，也可以修改bbtalk的配置，让它同时渲染很多个（比如114514个这种达不到的），用下面的css隐藏掉按钮即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca10d07d28c.webp" alt="1660548710001" /></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.load-ctn</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">几个css？叫魔改？</summary>
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Butterfly宽屏适配指北</title>
    <link href="https://blog.yaria.top/posts/d1fc759/"/>
    <id>https://blog.yaria.top/posts/d1fc759/</id>
    <published>2022-08-15T02:24:43.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><div class="note info simple"><p>本教程仅适用于hexo-theme-butterfly，其余主题请自行探讨</p></div><h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>现在随着显示器成本降低，越来越多的人都用上了大屏幕，这时博客的标准宽度就显得很憋屈了，空间利用率太低，无法充分展示博文内容。</p><p>而且看起来也不舒服，尤其是加了首页banner之后，我放出以前没有宽屏的博客版本（Vercel每次部署都有单独域名，好东西）</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/butterflywidescreen/1660530568958.png" alt="1660530568958" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1152e5d3d.webp" alt="1660530656405" /></p><p>这是很远古的博客了，所以啥也没有。。。见谅。</p><p><a href="https://lyxoffpage-22gpafksa-lyxofficial.vercel.app/">LYXの小窝 (lyxoffpage-22gpafksa-lyxofficial.vercel.app)</a></p><p>怎么样，憋屈吗？</p><p>所以宽屏适配很重要，像是洪哥的博客就很舒服（翻了翻日志以前没做适配的时候也是没那么舒服）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca115443864.webp" alt="1660530752314" /></p><p>宽屏适配当然不是这么一句css能完全搞定的，不然看起来很难受~~（你以为为什么我会为了这玩意专门写这么多）~~</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.layout</span>&#123;</span><br><span class="line">  <span class="attribute">max-width</span>:<span class="number">1400px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>好的，教程正式开始。</p><div class="note info simple"><p>为了适用于大部分情况，本教程使用纯净的未魔改过的butterfly4.3.1全新环境进行教学，不确保butterfly旧版一定可用（4.1.0+放心食用，3.x、2.x甚至1.x谨慎食用）</p></div><h1 id="基础"><a class="markdownIt-Anchor" href="#基础"></a> 基础</h1><h2 id="引入css"><a class="markdownIt-Anchor" href="#引入css"></a> 引入css</h2><p>事先说明一下引入css的方式:</p><p>在 <code>[blogRoot]/themes/butterfly/source/css</code>里面添加一个css文件，名字任意。</p><p>然后在主题配置文件的inject部分这样编写:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/&#123;你的css文件名&#125;&quot;&gt;</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><p>注意要放在主题的source里面，放在hexo的source会出现bug。</p><p>然后你可以试着引入开始那个css了</p><h1 id="修改边栏卡片大小"><a class="markdownIt-Anchor" href="#修改边栏卡片大小"></a> 修改边栏卡片大小</h1><p>如果你直接引入那个css的话，你大概会看见这样的场面</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1155795d1.webp" alt="1660531879628" /></p><p>有没有什么感觉？对吧，右侧的卡片宽度太宽了，看起来很不舒服，我们想要的是跟之前一样的右侧卡片</p><p>所以要限制一下卡片的尺寸。</p><details class="toggle" ><summary class="toggle-button" style="">点击查看魔改教程</summary><div class="toggle-content"><p>加入以下css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.aside-content</span>&#123;</span><br><span class="line">    <span class="attribute">max-width</span>:<span class="number">312px</span>;</span><br><span class="line">    <span class="attribute">min-width</span>:<span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.recent-posts</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>:auto<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>现在右侧卡片就窄一点了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca115827b9b.webp" alt="1660542304909" /></p><p>但是这样的话如果使用平板的尺寸浏览的话，底部卡片就会无法完全伸展（如下图），显得很bug</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11593ccbd.webp" alt="1660533609485" /></p><p>这时有两种解决方案：</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">第一招：不显示</button></li><li class="tab"><button type="button" data-href="#-2">第二招：根据屏幕尺寸自适应max-width</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><p>效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca115a5b62d.webp" alt="1660542653199" /></p><p>添加如下css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">900px</span>)&#123;</span><br><span class="line">    <span class="selector-class">.card-widget</span><span class="selector-pseudo">:not</span>(<span class="selector-id">#card-toc</span>)&#123;</span><br><span class="line">        <span class="attribute">display</span>:none<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*因为目录可以用侧边栏展开，所以不能隐藏*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><p>效果如下：<br /><img src="https://bu.dusays.com/2023/01/20/63ca115b86806.webp" alt="1660542663662" /></p><p>简单说就是在宽度小于900px时不设置max-width，添加以下css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">900px</span>)&#123;</span><br><span class="line">    <span class="selector-class">.aside-content</span>&#123;</span><br><span class="line">        <span class="attribute">max-width</span>:none<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div></div></details><h1 id="分页适配"><a class="markdownIt-Anchor" href="#分页适配"></a> 分页适配</h1><p>看到洪哥的分页界面是没有作者卡片的（下图），如果你也想实现这样的效果的话，你可以按照下面魔改<br /><img src="https://bu.dusays.com/2023/01/20/63ca115d9c1f4.webp" alt="1660535116781" /></p><details class="toggle" ><summary class="toggle-button" style="">点击查看魔改教程</summary><div class="toggle-content"><p>添加以下css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#archive</span>,<span class="selector-id">#page</span>,<span class="selector-id">#category</span>,<span class="selector-id">#tag</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span> <span class="selector-class">.aside-content</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后你会发现文章页确实没有了卡片，可是首页也没了（如下图），我们想要的是首页有卡片分页没有，对吧？</p><p><img src="https://bu.dusays.com/2023/01/20/63ca115ea8149.webp" alt="1660535616659" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca116106fec.webp" alt="1660535627919" /></p><p>所以我们要魔改主题以便css区分主页和分页，按照下面修改 <code>[blogRoot]\themes\butterfly\layout\includes\layout.pug</code></p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> - var htmlClassHideAside = theme.aside.enable &amp;&amp; theme.aside.hide ? &#x27;hide-aside&#x27; : &#x27;&#x27;</span><br><span class="line"> - page.aside = is_archive() ? theme.aside.display.archive: is_category() ? theme.aside.display.category : is_tag() ? theme.aside.display.tag : page.aside</span><br><span class="line"> - var hideAside = !theme.aside.enable || page.aside <span class="comment">=== false ? &#x27;hide-aside&#x27; : &#x27;&#x27;</span></span><br><span class="line"><span class="deletion">- - var pageType = is_post() ? &#x27;post&#x27; : &#x27;page&#x27;</span></span><br><span class="line"><span class="addition">+ - var pageType = is_home() ? &#x27;page home&#x27; : is_post() ? &#x27;post&#x27; : &#x27;page&#x27;</span></span><br><span class="line"></span><br><span class="line">doctype html</span><br><span class="line">html(lang=config.language data-theme=theme.display_mode class=htmlClassHideAside)</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>或者直接用改好的pug（4.2.2&amp;4.3.1可以食用）</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">- <span class="keyword">var</span> htmlClassHideAside = theme.<span class="property">aside</span>.<span class="property">enable</span> &amp;&amp; theme.<span class="property">aside</span>.<span class="property">hide</span> ? <span class="string">&#x27;hide-aside&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">- page.<span class="property">aside</span> = <span class="title function_">is_archive</span>() ? theme.<span class="property">aside</span>.<span class="property">display</span>.<span class="property">archive</span>: <span class="title function_">is_category</span>() ? theme.<span class="property">aside</span>.<span class="property">display</span>.<span class="property">category</span> : <span class="title function_">is_tag</span>() ? theme.<span class="property">aside</span>.<span class="property">display</span>.<span class="property">tag</span> : page.<span class="property">aside</span></span><br><span class="line">- <span class="keyword">var</span> hideAside = !theme.<span class="property">aside</span>.<span class="property">enable</span> || page.<span class="property">aside</span> === <span class="literal">false</span> ? <span class="string">&#x27;hide-aside&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">- <span class="keyword">var</span> pageType = <span class="title function_">is_home</span>() ? <span class="string">&#x27;page home&#x27;</span> : <span class="title function_">is_post</span>() ? <span class="string">&#x27;post&#x27;</span> : <span class="string">&#x27;page&#x27;</span></span><br><span class="line"></span><br><span class="line">doctype html</span><br><span class="line"><span class="title function_">html</span>(lang=config.<span class="property">language</span> data-theme=theme.<span class="property">display_mode</span> <span class="keyword">class</span>=htmlClassHideAside)</span><br><span class="line">  head</span><br><span class="line">    include ./head.<span class="property">pug</span></span><br><span class="line">  body</span><br><span class="line">    <span class="keyword">if</span> theme.<span class="property">preloader</span></span><br><span class="line">      !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/loading/loading&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> theme.<span class="property">background</span></span><br><span class="line">      #web_bg</span><br><span class="line">  </span><br><span class="line">    !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/sidebar&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> page.<span class="property">type</span> !== <span class="string">&#x27;404&#x27;</span></span><br><span class="line">      #body-<span class="title function_">wrap</span>(<span class="keyword">class</span>=pageType)</span><br><span class="line">        include ./header/index.<span class="property">pug</span></span><br><span class="line"></span><br><span class="line">        main#content-inner.<span class="title function_">layout</span>(<span class="keyword">class</span>=hideAside)</span><br><span class="line">          <span class="keyword">if</span> body</span><br><span class="line">            div!= body</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            block content</span><br><span class="line">            <span class="keyword">if</span> theme.<span class="property">aside</span>.<span class="property">enable</span> &amp;&amp; page.<span class="property">aside</span> !== <span class="literal">false</span></span><br><span class="line">              include widget/index.<span class="property">pug</span></span><br><span class="line"></span><br><span class="line">        - <span class="keyword">var</span> footerBg = theme.<span class="property">footer_bg</span></span><br><span class="line">        <span class="keyword">if</span> (footerBg)</span><br><span class="line">          <span class="keyword">if</span> (footerBg === <span class="literal">true</span>)</span><br><span class="line">            - <span class="keyword">var</span> footer_bg = bg_img</span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            - <span class="keyword">var</span> footer_bg = theme.<span class="property">footer_bg</span>.<span class="title function_">indexOf</span>(<span class="string">&#x27;/&#x27;</span>) !== -<span class="number">1</span> ? <span class="string">`background-/image: url(&#x27;<span class="subst">$&#123;url_for(footerBg)&#125;</span>&#x27;)`</span> : <span class="string">`background: <span class="subst">$&#123;footerBg&#125;</span>`</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          - <span class="keyword">var</span> footer_bg = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        footer#<span class="title function_">footer</span>(style=footer_bg)</span><br><span class="line">          !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/footer&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>: <span class="literal">true</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      include ./<span class="number">404.</span>pug</span><br><span class="line"></span><br><span class="line">    include ./rightside.<span class="property">pug</span></span><br><span class="line">    !=<span class="title function_">partial</span>(<span class="string">&#x27;includes/third-party/search/index&#x27;</span>, &#123;&#125;, &#123;<span class="attr">cache</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">    include ./additional-js.<span class="property">pug</span></span><br></pre></td></tr></table></figure><p>现在主页的class就变成page home了，接下来将前面的css改为以下:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="selector-id">#archive</span>,<span class="selector-id">#page</span>,<span class="selector-id">#category</span>,<span class="selector-id">#tag</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.page</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.page</span><span class="selector-class">.home</span>) <span class="selector-class">.aside-content</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>现在主题就能智能区分主页和分页了，可以自动选择卡片显示。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11638ffaa.webp" alt="1660536572371" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca116482d8f.webp" alt="1660536576204" /></p></div></details><p>如果想要背景透明（如下图）的话</p><p><img src="image/butterflywidescreen/1661319799457.png" alt="1661319799457" /></p><p>添加如下css:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.page</span> <span class="selector-id">#page</span><span class="selector-pseudo">:not</span>(<span class="selector-class">.home</span> <span class="selector-id">#page</span>),<span class="selector-class">.page</span> <span class="selector-id">#tag</span>,<span class="selector-class">.page</span> <span class="selector-id">#archive</span>,<span class="selector-class">.page</span> <span class="selector-id">#category</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: transparent<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border</span>: none<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: none<span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">padding-top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="首页卡片适配"><a class="markdownIt-Anchor" href="#首页卡片适配"></a> 首页卡片适配</h1><p>宽度这么宽，首页只显示一行一张卡片确实有点浪费，可以安装butterfly-article-double-row插件解决，但是————</p><p>这个插件没有自适应，也就是说在低分辨率网页较窄的时候显得很拥挤，所以这次使用手动魔改的方式。</p><details class="toggle" ><summary class="toggle-button" style="">点击查看魔改教程</summary><div class="toggle-content"><p>加入以下css（参考自冰老师的butterfly-article-double-row）：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1200px</span>) &#123;</span><br><span class="line">    <span class="selector-id">#recent-posts</span>&#123;</span><br><span class="line">        <span class="attribute">margin-top</span>:-<span class="number">1rem</span>;  <span class="comment">/*头部为空时抵消间隔，若有磁贴或日历请注释掉该行*/</span></span><br><span class="line">        <span class="attribute">align-content</span>:flex-start;</span><br><span class="line">        <span class="attribute">display</span>: flex;</span><br><span class="line">        <span class="attribute">flex-wrap</span>: wrap; <span class="comment">/*规定灵活的项目在必要的时候拆行或拆列。*/</span></span><br><span class="line">        <span class="attribute">justify-content</span>: space-between; <span class="comment">/*。*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">      <span class="comment">/*max-height:324px;*/</span>  <span class="comment">/*文章容器最大高度*/</span></span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">1rem</span>; <span class="comment">/*最小间距*/</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block;</span><br><span class="line">      <span class="attribute">height</span>:auto; <span class="comment">/*高度自动*/</span></span><br><span class="line">      <span class="attribute">width</span>:<span class="number">49%</span>;<span class="comment">/*文章容器容器宽度*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.post_cover</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>; <span class="comment">/*图片封面宽度*/</span></span><br><span class="line">        <span class="attribute">height</span>: <span class="number">200px</span>;<span class="comment">/*图片封面高度*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.post_cover</span> <span class="selector-tag">img</span><span class="selector-class">.post_bg</span> &#123;</span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span>;<span class="comment">/*图片宽度*/</span></span><br><span class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;<span class="comment">/*图片高度*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &#123;</span><br><span class="line">  </span><br><span class="line">      -webkit-<span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">      -ms-<span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">      <span class="attribute">flex-direction</span>: column; <span class="comment">/*容器内部纵向排列*/</span></span><br><span class="line">  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.left_radius</span> &#123;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span>;<span class="comment">/*圆角修改*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> <span class="selector-class">.right_radius</span> &#123;</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span> <span class="number">0</span>;<span class="comment">/*圆角修改*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.recent-post-item</span>&#123;</span><br><span class="line">        <span class="attribute">height</span>:auto <span class="meta">!important</span>;<span class="comment">/*容器高度自动*/</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">    <span class="selector-class">.recent-post-info</span> &#123;</span><br><span class="line">  </span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">40px</span>;<span class="comment">/*容器内部文字左右间距*/</span></span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">1em</span>;<span class="comment">/*容器内部文字上间距*/</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">100%</span><span class="meta">!important</span>;<span class="comment">/*容器宽度*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt; <span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.article-title</span> &#123;</span><br><span class="line">        -webkit-<span class="selector-tag">line</span>-clamp: <span class="number">1</span>;<span class="comment">/*控制标题的行数*/</span></span><br><span class="line">        <span class="attribute">margin-top</span>: <span class="number">0.3rem</span>; <span class="comment">/*控制标题的上间距*/</span></span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">0.3rem</span>;<span class="comment">/*控制标题的下间距*/</span></span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">1.2em</span>; <span class="comment">/*控制标题的字体大小*/</span></span><br><span class="line">        <span class="attribute">line-height</span>: <span class="number">1.4</span>;<span class="comment">/*控制标题的行高*/</span></span><br><span class="line">   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#recent-posts</span> &gt; <span class="selector-class">.recent-post-item</span> &gt;<span class="selector-class">.recent-post-info</span> &gt; <span class="selector-class">.article-meta-wrap</span> &#123;</span><br><span class="line">        <span class="attribute">margin-bottom</span>: <span class="number">1rem</span>;<span class="comment">/*控制标题meta信息的底部间距*/</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这时进入网站会发现实现了自适应功能，但是双栏下文章信息挂在了文章下面，看起来很不舒服，这时要修改主题pug文件<br /><img src="https://bu.dusays.com/2023/01/20/63ca11c38b8c4.webp" alt="1660539042804" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca11c9b2f57.webp" alt="1660539128403" /></p><p>修改</p><div class="note info simple"><p>提示：魔改有风险，因为每个版本的butterfly的这个pug都不太一样，且pug对缩进要求高，小白容易出错，且我无法给出旧版改好的pug（因为不一样），所以请备份文件，以免出错。</p></div>打开 `[blogRoot]\themes\Butterfly\layout\includes\mixins\post-ui.pug`<p>把这一句改到 <code>.article-title(href=url_for(link) title=title)= title</code>这句后面，原来的删掉：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">case</span> theme.<span class="property">index_post_content</span>.<span class="property">method</span></span><br><span class="line">  when <span class="literal">false</span></span><br><span class="line">    - <span class="keyword">break</span></span><br><span class="line">  when <span class="number">1</span></span><br><span class="line">    .<span class="property">content</span>!= article.<span class="property">description</span></span><br><span class="line">  when <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> article.<span class="property">description</span></span><br><span class="line">      .<span class="property">content</span>!= article.<span class="property">description</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    - <span class="keyword">const</span> content = <span class="title function_">strip_html</span>(article.<span class="property">content</span>)</span><br><span class="line">    - <span class="keyword">let</span> expert = content.<span class="title function_">substring</span>(<span class="number">0</span>, theme.<span class="property">index_post_content</span>.<span class="property">length</span>) </span><br><span class="line">    - content.<span class="property">length</span> &gt; theme.<span class="property">index_post_content</span>.<span class="property">length</span> ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">    .<span class="property">content</span>!= expert</span><br><span class="line">  <span class="keyword">default</span></span><br><span class="line">    - <span class="keyword">const</span> content = <span class="title function_">strip_html</span>(article.<span class="property">content</span>)</span><br><span class="line">    - <span class="keyword">let</span> expert = content.<span class="title function_">substring</span>(<span class="number">0</span>, theme.<span class="property">index_post_content</span>.<span class="property">length</span>) </span><br><span class="line">    - content.<span class="property">length</span> &gt; theme.<span class="property">index_post_content</span>.<span class="property">length</span> ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">    .<span class="property">content</span>!= expert</span><br></pre></td></tr></table></figure><p>diff:</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">mixin postUI(posts)</span><br><span class="line">  each article , index in page.posts.data</span><br><span class="line">    .recent-post-item</span><br><span class="line">      -</span><br><span class="line">      ...</span><br><span class="line">        a.article-title(href=url_for(link) title=title)= title</span><br><span class="line"><span class="addition">+        case theme.index_post_content.method</span></span><br><span class="line"><span class="addition">+          when false</span></span><br><span class="line"><span class="addition">+            - break</span></span><br><span class="line"><span class="addition">+          when 1</span></span><br><span class="line"><span class="addition">+            .content!= article.description</span></span><br><span class="line"><span class="addition">+          when 2</span></span><br><span class="line"><span class="addition">+            if article.description</span></span><br><span class="line"><span class="addition">+              .content!= article.description</span></span><br><span class="line"><span class="addition">+            else</span></span><br><span class="line"><span class="addition">+              - const content = strip_html(article.content)</span></span><br><span class="line"><span class="addition">+              - let expert = content.substring(0, theme.index_post_content.length) </span></span><br><span class="line"><span class="addition">+              - content.length &gt; theme.index_post_content.length ? expert += &#x27; ...&#x27; : &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+              .content!= expert</span></span><br><span class="line"><span class="addition">+          default</span></span><br><span class="line"><span class="addition">+            - const content = strip_html(article.content)</span></span><br><span class="line"><span class="addition">+            - let expert = content.substring(0, theme.index_post_content.length) </span></span><br><span class="line"><span class="addition">+            - content.length &gt; theme.index_post_content.length ? expert += &#x27; ...&#x27; : &#x27;&#x27;</span></span><br><span class="line"><span class="addition">+            .content!= expert</span></span><br><span class="line">        .article-meta-wrap</span><br><span class="line">          if (is_home() &amp;&amp; (article.top || article.sticky &gt; 0))</span><br><span class="line">            span.article-meta</span><br><span class="line">              i.fas.fa-thumbtack.sticky</span><br><span class="line">              span.sticky= _p(&#x27;sticky&#x27;)</span><br><span class="line">              span.article-meta-separator |</span><br><span class="line">          ...</span><br><span class="line"></span><br><span class="line">        //- Display the article introduction on homepage</span><br><span class="line"><span class="deletion">-        case theme.index_post_content.method</span></span><br><span class="line"><span class="deletion">-                when false</span></span><br><span class="line"><span class="deletion">-                    - break</span></span><br><span class="line"><span class="deletion">-                when 1</span></span><br><span class="line"><span class="deletion">-                    .content!= article.description</span></span><br><span class="line"><span class="deletion">-                when 2</span></span><br><span class="line"><span class="deletion">-                    if article.description</span></span><br><span class="line"><span class="deletion">-                    .content!= article.description</span></span><br><span class="line"><span class="deletion">-                    else</span></span><br><span class="line"><span class="deletion">-                    - const content = strip_html(article.content)</span></span><br><span class="line"><span class="deletion">-                    - let expert = content.substring(0, theme.index_post_content.length) </span></span><br><span class="line"><span class="deletion">-                    - content.length &gt; theme.index_post_content.length ? expert += &#x27; ...&#x27; : &#x27;&#x27;</span></span><br><span class="line"><span class="deletion">-                    .content!= expert</span></span><br><span class="line"><span class="deletion">-                default</span></span><br><span class="line"><span class="deletion">-                    - const content = strip_html(article.content)</span></span><br><span class="line"><span class="deletion">-                    - let expert = content.substring(0, theme.index_post_content.length) </span></span><br><span class="line"><span class="deletion">-                    - content.length &gt; theme.index_post_content.length ? expert += &#x27; ...&#x27; : &#x27;&#x27;</span></span><br><span class="line"><span class="deletion">-                    .content!= expert</span></span><br><span class="line"></span><br><span class="line">    if theme.ad &amp;&amp; theme.ad.index</span><br><span class="line">      ...</span><br></pre></td></tr></table></figure><p>The edited code for butterfly 4.2.2:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">mixin <span class="title function_">postUI</span>(posts)</span><br><span class="line">  each article , index <span class="keyword">in</span> page.<span class="property">posts</span>.<span class="property">data</span></span><br><span class="line">    .<span class="property">recent</span>-post-item.<span class="property">words</span></span><br><span class="line">      -</span><br><span class="line">        <span class="keyword">let</span> link = article.<span class="property">link</span> || article.<span class="property">path</span></span><br><span class="line">        <span class="keyword">let</span> title = article.<span class="property">title</span> || <span class="title function_">_p</span>(<span class="string">&#x27;no_title&#x27;</span>)</span><br><span class="line">        <span class="keyword">const</span> position = theme.<span class="property">cover</span>.<span class="property">position</span></span><br><span class="line">        <span class="keyword">let</span> leftOrRight = position === <span class="string">&#x27;both&#x27;</span> </span><br><span class="line">          ? index%<span class="number">2</span> == <span class="number">0</span> ? <span class="string">&#x27;left&#x27;</span> : <span class="string">&#x27;right&#x27;</span></span><br><span class="line">          : position === <span class="string">&#x27;left&#x27;</span> ? <span class="string">&#x27;left&#x27;</span> : <span class="string">&#x27;right&#x27;</span></span><br><span class="line">        <span class="keyword">let</span> post_cover = article.<span class="property">cover</span></span><br><span class="line">        <span class="keyword">let</span> no_cover = article.<span class="property">cover</span> === <span class="literal">false</span> || !theme.<span class="property">cover</span>.<span class="property">index_enable</span> ? <span class="string">&#x27;no-cover&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">      -</span><br><span class="line">      <span class="keyword">if</span> post_cover &amp;&amp; theme.<span class="property">cover</span>.<span class="property">index_enable</span></span><br><span class="line">        .<span class="title function_">post_cover</span>(<span class="keyword">class</span>=leftOrRight)</span><br><span class="line">          <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) title=title)</span><br><span class="line">            img.<span class="title function_">post_bg</span>(src=<span class="title function_">url_for</span>(post_cover) onerror=<span class="string">`this.onerror=null;this.src=&#x27;`</span>+ <span class="title function_">url_for</span>(theme.<span class="property">error_img</span>.<span class="property">post_page</span>) + <span class="string">`&#x27;`</span> alt=title)</span><br><span class="line">      .<span class="property">recent</span>-post-<span class="title function_">info</span>(<span class="keyword">class</span>=no_cover)</span><br><span class="line">        a.<span class="property">article</span>-<span class="title function_">title</span>(href=<span class="title function_">url_for</span>(link) title=title)= title</span><br><span class="line">        <span class="comment">//- Display the article introduction on homepage</span></span><br><span class="line">        <span class="keyword">case</span> theme.<span class="property">index_post_content</span>.<span class="property">method</span></span><br><span class="line">          when <span class="literal">false</span></span><br><span class="line">            - <span class="keyword">break</span></span><br><span class="line">          when <span class="number">1</span></span><br><span class="line">            .<span class="property">content</span>!= article.<span class="property">description</span></span><br><span class="line">          when <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> article.<span class="property">description</span></span><br><span class="line">              .<span class="property">content</span>!= article.<span class="property">description</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">              - <span class="keyword">const</span> content = <span class="title function_">strip_html</span>(article.<span class="property">content</span>)</span><br><span class="line">              - <span class="keyword">let</span> expert = content.<span class="title function_">substring</span>(<span class="number">0</span>, theme.<span class="property">index_post_content</span>.<span class="property">length</span>) </span><br><span class="line">              - content.<span class="property">length</span> &gt; theme.<span class="property">index_post_content</span>.<span class="property">length</span> ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">              .<span class="property">content</span>!= expert</span><br><span class="line">          <span class="keyword">default</span></span><br><span class="line">            - <span class="keyword">const</span> content = <span class="title function_">strip_html</span>(article.<span class="property">content</span>)</span><br><span class="line">            - <span class="keyword">let</span> expert = content.<span class="title function_">substring</span>(<span class="number">0</span>, theme.<span class="property">index_post_content</span>.<span class="property">length</span>) </span><br><span class="line">            - content.<span class="property">length</span> &gt; theme.<span class="property">index_post_content</span>.<span class="property">length</span> ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">            .<span class="property">content</span>!= expert</span><br><span class="line">        .<span class="property">article</span>-meta-wrap</span><br><span class="line">          <span class="keyword">if</span> (<span class="title function_">is_home</span>() &amp;&amp; (article.<span class="property">top</span> || article.<span class="property">sticky</span> &gt; <span class="number">0</span>))</span><br><span class="line">            span.<span class="property">article</span>-meta</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-thumbtack.<span class="property">sticky</span></span><br><span class="line">              span.<span class="property">sticky</span>= <span class="title function_">_p</span>(<span class="string">&#x27;sticky&#x27;</span>)</span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">date_type</span>)</span><br><span class="line">            span.<span class="property">post</span>-meta-date</span><br><span class="line">              <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">date_type</span> === <span class="string">&#x27;both&#x27;</span>)</span><br><span class="line">                i.<span class="property">far</span>.<span class="property">fa</span>-calendar-alt</span><br><span class="line">                span.<span class="property">article</span>-meta-label=<span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">                time.<span class="property">post</span>-meta-date-<span class="title function_">created</span>(datetime=<span class="title function_">date_xml</span>(article.<span class="property">date</span>) title=<span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(article.<span class="property">date</span>))=<span class="title function_">date</span>(article.<span class="property">date</span>, config.<span class="property">date_format</span>)</span><br><span class="line">                span.<span class="property">article</span>-meta-separator |</span><br><span class="line">                i.<span class="property">fas</span>.<span class="property">fa</span>-history</span><br><span class="line">                span.<span class="property">article</span>-meta-label=<span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>)</span><br><span class="line">                time.<span class="property">post</span>-meta-date-<span class="title function_">updated</span>(datetime=<span class="title function_">date_xml</span>(article.<span class="property">updated</span>) title=<span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(article.<span class="property">updated</span>))=<span class="title function_">date</span>(article.<span class="property">updated</span>, config.<span class="property">date_format</span>)</span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                - <span class="keyword">let</span> data_type_updated = theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">date_type</span> === <span class="string">&#x27;updated&#x27;</span></span><br><span class="line">                - <span class="keyword">let</span> date_type = data_type_updated ? <span class="string">&#x27;updated&#x27;</span> : <span class="string">&#x27;date&#x27;</span></span><br><span class="line">                - <span class="keyword">let</span> date_icon = data_type_updated ? <span class="string">&#x27;fas fa-history&#x27;</span> :<span class="string">&#x27;far fa-calendar-alt&#x27;</span></span><br><span class="line">                - <span class="keyword">let</span> date_title = data_type_updated ? <span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) : <span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">                <span class="title function_">i</span>(<span class="keyword">class</span>=date_icon)</span><br><span class="line">                span.<span class="property">article</span>-meta-label=date_title</span><br><span class="line">                <span class="title function_">time</span>(datetime=<span class="title function_">date_xml</span>(article[date_type]) title=date_title + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(article[date_type]))=<span class="title function_">date</span>(article[date_type], config.<span class="property">date_format</span>)</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">categories</span> &amp;&amp; article.<span class="property">categories</span>.<span class="property">data</span>.<span class="property">length</span> &gt; <span class="number">0</span>)</span><br><span class="line">            span.<span class="property">article</span>-meta</span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-inbox</span><br><span class="line">              each item, index <span class="keyword">in</span> article.<span class="property">categories</span>.<span class="property">data</span></span><br><span class="line">                <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(item.<span class="property">path</span>)).<span class="property">article</span>-meta__categories #[=item.<span class="property">name</span>]</span><br><span class="line">                <span class="keyword">if</span> (index &lt; article.<span class="property">categories</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">                  i.<span class="property">fas</span>.<span class="property">fa</span>-angle-right.<span class="property">article</span>-meta-link</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">tags</span> &amp;&amp; article.<span class="property">tags</span>.<span class="property">data</span>.<span class="property">length</span> &gt; <span class="number">0</span>)</span><br><span class="line">            span.<span class="property">article</span>-meta.<span class="property">tags</span></span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-tag</span><br><span class="line">              each item, index <span class="keyword">in</span> article.<span class="property">tags</span>.<span class="property">data</span></span><br><span class="line">                <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(item.<span class="property">path</span>)).<span class="property">article</span>-meta__tags #[=item.<span class="property">name</span>]</span><br><span class="line">                <span class="keyword">if</span> (index &lt; article.<span class="property">tags</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">                  span.<span class="property">article</span>-meta-link #[=<span class="string">&#x27;•&#x27;</span>]</span><br><span class="line">      </span><br><span class="line">          mixin countBlockInIndex</span><br><span class="line">            - needLoadCountJs = <span class="literal">true</span></span><br><span class="line">            span.<span class="property">article</span>-meta</span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-comments</span><br><span class="line">              <span class="keyword">if</span> block</span><br><span class="line">                block</span><br><span class="line">              span.<span class="property">article</span>-meta-label= <span class="string">&#x27; &#x27;</span> + <span class="title function_">_p</span>(<span class="string">&#x27;card_post_count&#x27;</span>)</span><br><span class="line">      </span><br><span class="line">          <span class="keyword">if</span> theme.<span class="property">comments</span>.<span class="property">card_post_count</span></span><br><span class="line">            <span class="keyword">case</span> theme.<span class="property">comments</span>.<span class="property">use</span>[<span class="number">0</span>]</span><br><span class="line">              when <span class="string">&#x27;Disqus&#x27;</span></span><br><span class="line">              when <span class="string">&#x27;Disqusjs&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">full_url_for</span>(link) + <span class="string">&#x27;#disqus_thread&#x27;</span>)</span><br><span class="line">              when <span class="string">&#x27;Valine&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span> itemprop=<span class="string">&quot;discussionUrl&quot;</span>)</span><br><span class="line">                    span.<span class="property">valine</span>-comment-<span class="title function_">count</span>(data-xid=<span class="title function_">url_for</span>(link) itemprop=<span class="string">&quot;commentCount&quot;</span>)</span><br><span class="line">              when <span class="string">&#x27;Waline&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    span.<span class="property">waline</span>-comment-<span class="title function_">count</span>(id=<span class="title function_">url_for</span>(link))</span><br><span class="line">              when <span class="string">&#x27;Twikoo&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  a.<span class="property">twikoo</span>-<span class="title function_">count</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">              when <span class="string">&#x27;Facebook Comments&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    span.<span class="property">fb</span>-comments-<span class="title function_">count</span>(data-href=<span class="title function_">urlNoIndex</span>(article.<span class="property">permalink</span>))</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> theme.<span class="property">ad</span> &amp;&amp; theme.<span class="property">ad</span>.<span class="property">index</span></span><br><span class="line">      <span class="keyword">if</span> (index + <span class="number">1</span>) % <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">        .<span class="property">recent</span>-post-item.<span class="property">ads</span>-wrap!=theme.<span class="property">ad</span>.<span class="property">index</span></span><br></pre></td></tr></table></figure><p>The edited code for butterfly 4.3.1:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">mixin <span class="title function_">postUI</span>(posts)</span><br><span class="line">  each article , index <span class="keyword">in</span> page.<span class="property">posts</span>.<span class="property">data</span></span><br><span class="line">    .<span class="property">recent</span>-post-item</span><br><span class="line">      -</span><br><span class="line">        <span class="keyword">let</span> link = article.<span class="property">link</span> || article.<span class="property">path</span></span><br><span class="line">        <span class="keyword">let</span> title = article.<span class="property">title</span> || <span class="title function_">_p</span>(<span class="string">&#x27;no_title&#x27;</span>)</span><br><span class="line">        <span class="keyword">const</span> position = theme.<span class="property">cover</span>.<span class="property">position</span></span><br><span class="line">        <span class="keyword">let</span> leftOrRight = position === <span class="string">&#x27;both&#x27;</span></span><br><span class="line">          ? index%<span class="number">2</span> == <span class="number">0</span> ? <span class="string">&#x27;left&#x27;</span> : <span class="string">&#x27;right&#x27;</span></span><br><span class="line">          : position === <span class="string">&#x27;left&#x27;</span> ? <span class="string">&#x27;left&#x27;</span> : <span class="string">&#x27;right&#x27;</span></span><br><span class="line">        <span class="keyword">let</span> post_cover = article.<span class="property">cover</span></span><br><span class="line">        <span class="keyword">let</span> no_cover = article.<span class="property">cover</span> === <span class="literal">false</span> || !theme.<span class="property">cover</span>.<span class="property">index_enable</span> ? <span class="string">&#x27;no-cover&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">      -</span><br><span class="line">      <span class="keyword">if</span> post_cover &amp;&amp; theme.<span class="property">cover</span>.<span class="property">index_enable</span></span><br><span class="line">        .<span class="title function_">post_cover</span>(<span class="keyword">class</span>=leftOrRight)</span><br><span class="line">          <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) title=title)</span><br><span class="line">            img.<span class="title function_">post_bg</span>(src=<span class="title function_">url_for</span>(post_cover) onerror=<span class="string">`this.onerror=null;this.src=&#x27;`</span>+ <span class="title function_">url_for</span>(theme.<span class="property">error_img</span>.<span class="property">post_page</span>) + <span class="string">`&#x27;`</span> alt=title)</span><br><span class="line">      .<span class="property">recent</span>-post-<span class="title function_">info</span>(<span class="keyword">class</span>=no_cover)</span><br><span class="line">    </span><br><span class="line">        a.<span class="property">article</span>-<span class="title function_">title</span>(href=<span class="title function_">url_for</span>(link) title=title)= title</span><br><span class="line">        <span class="keyword">case</span> theme.<span class="property">index_post_content</span>.<span class="property">method</span></span><br><span class="line">          when <span class="literal">false</span></span><br><span class="line">            - <span class="keyword">break</span></span><br><span class="line">          when <span class="number">1</span></span><br><span class="line">            .<span class="property">content</span>!= article.<span class="property">description</span></span><br><span class="line">          when <span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> article.<span class="property">description</span></span><br><span class="line">              .<span class="property">content</span>!= article.<span class="property">description</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">              - <span class="keyword">const</span> content = <span class="title function_">strip_html</span>(article.<span class="property">content</span>)</span><br><span class="line">              - <span class="keyword">let</span> expert = content.<span class="title function_">substring</span>(<span class="number">0</span>, theme.<span class="property">index_post_content</span>.<span class="property">length</span>) </span><br><span class="line">              - content.<span class="property">length</span> &gt; theme.<span class="property">index_post_content</span>.<span class="property">length</span> ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">              .<span class="property">content</span>!= expert</span><br><span class="line">          <span class="keyword">default</span></span><br><span class="line">            - <span class="keyword">const</span> content = <span class="title function_">strip_html</span>(article.<span class="property">content</span>)</span><br><span class="line">            - <span class="keyword">let</span> expert = content.<span class="title function_">substring</span>(<span class="number">0</span>, theme.<span class="property">index_post_content</span>.<span class="property">length</span>) </span><br><span class="line">            - content.<span class="property">length</span> &gt; theme.<span class="property">index_post_content</span>.<span class="property">length</span> ? expert += <span class="string">&#x27; ...&#x27;</span> : <span class="string">&#x27;&#x27;</span></span><br><span class="line">            .<span class="property">content</span>!= expert</span><br><span class="line">        .<span class="property">article</span>-meta-wrap</span><br><span class="line">          <span class="keyword">if</span> (<span class="title function_">is_home</span>() &amp;&amp; (article.<span class="property">top</span> || article.<span class="property">sticky</span> &gt; <span class="number">0</span>))</span><br><span class="line">            span.<span class="property">article</span>-meta</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-thumbtack.<span class="property">sticky</span></span><br><span class="line">              span.<span class="property">sticky</span>= <span class="title function_">_p</span>(<span class="string">&#x27;sticky&#x27;</span>)</span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">date_type</span>)</span><br><span class="line">            span.<span class="property">post</span>-meta-date</span><br><span class="line">              <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">date_type</span> === <span class="string">&#x27;both&#x27;</span>)</span><br><span class="line">                i.<span class="property">far</span>.<span class="property">fa</span>-calendar-alt</span><br><span class="line">                span.<span class="property">article</span>-meta-label=<span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">                time.<span class="property">post</span>-meta-date-<span class="title function_">created</span>(datetime=<span class="title function_">date_xml</span>(article.<span class="property">date</span>) title=<span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(article.<span class="property">date</span>))=<span class="title function_">date</span>(article.<span class="property">date</span>, config.<span class="property">date_format</span>)</span><br><span class="line">                span.<span class="property">article</span>-meta-separator |</span><br><span class="line">                i.<span class="property">fas</span>.<span class="property">fa</span>-history</span><br><span class="line">                span.<span class="property">article</span>-meta-label=<span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>)</span><br><span class="line">                time.<span class="property">post</span>-meta-date-<span class="title function_">updated</span>(datetime=<span class="title function_">date_xml</span>(article.<span class="property">updated</span>) title=<span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(article.<span class="property">updated</span>))=<span class="title function_">date</span>(article.<span class="property">updated</span>, config.<span class="property">date_format</span>)</span><br><span class="line">              <span class="keyword">else</span></span><br><span class="line">                - <span class="keyword">let</span> data_type_updated = theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">date_type</span> === <span class="string">&#x27;updated&#x27;</span></span><br><span class="line">                - <span class="keyword">let</span> date_type = data_type_updated ? <span class="string">&#x27;updated&#x27;</span> : <span class="string">&#x27;date&#x27;</span></span><br><span class="line">                - <span class="keyword">let</span> date_icon = data_type_updated ? <span class="string">&#x27;fas fa-history&#x27;</span> :<span class="string">&#x27;far fa-calendar-alt&#x27;</span></span><br><span class="line">                - <span class="keyword">let</span> date_title = data_type_updated ? <span class="title function_">_p</span>(<span class="string">&#x27;post.updated&#x27;</span>) : <span class="title function_">_p</span>(<span class="string">&#x27;post.created&#x27;</span>)</span><br><span class="line">                <span class="title function_">i</span>(<span class="keyword">class</span>=date_icon)</span><br><span class="line">                span.<span class="property">article</span>-meta-label=date_title</span><br><span class="line">                <span class="title function_">time</span>(datetime=<span class="title function_">date_xml</span>(article[date_type]) title=date_title + <span class="string">&#x27; &#x27;</span> + <span class="title function_">full_date</span>(article[date_type]))=<span class="title function_">date</span>(article[date_type], config.<span class="property">date_format</span>)</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">categories</span> &amp;&amp; article.<span class="property">categories</span>.<span class="property">data</span>.<span class="property">length</span> &gt; <span class="number">0</span>)</span><br><span class="line">            span.<span class="property">article</span>-meta</span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-inbox</span><br><span class="line">              each item, index <span class="keyword">in</span> article.<span class="property">categories</span>.<span class="property">data</span></span><br><span class="line">                <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(item.<span class="property">path</span>)).<span class="property">article</span>-meta__categories #[=item.<span class="property">name</span>]</span><br><span class="line">                <span class="keyword">if</span> (index &lt; article.<span class="property">categories</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">                  i.<span class="property">fas</span>.<span class="property">fa</span>-angle-right.<span class="property">article</span>-meta-link</span><br><span class="line">          <span class="keyword">if</span> (theme.<span class="property">post_meta</span>.<span class="property">page</span>.<span class="property">tags</span> &amp;&amp; article.<span class="property">tags</span>.<span class="property">data</span>.<span class="property">length</span> &gt; <span class="number">0</span>)</span><br><span class="line">            span.<span class="property">article</span>-meta.<span class="property">tags</span></span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-tag</span><br><span class="line">              each item, index <span class="keyword">in</span> article.<span class="property">tags</span>.<span class="property">data</span></span><br><span class="line">                <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(item.<span class="property">path</span>)).<span class="property">article</span>-meta__tags #[=item.<span class="property">name</span>]</span><br><span class="line">                <span class="keyword">if</span> (index &lt; article.<span class="property">tags</span>.<span class="property">data</span>.<span class="property">length</span> - <span class="number">1</span>)</span><br><span class="line">                  span.<span class="property">article</span>-meta-link #[=<span class="string">&#x27;•&#x27;</span>]</span><br><span class="line">      </span><br><span class="line">          mixin countBlockInIndex</span><br><span class="line">            - needLoadCountJs = <span class="literal">true</span></span><br><span class="line">            span.<span class="property">article</span>-meta</span><br><span class="line">              span.<span class="property">article</span>-meta-separator |</span><br><span class="line">              i.<span class="property">fas</span>.<span class="property">fa</span>-comments</span><br><span class="line">              <span class="keyword">if</span> block</span><br><span class="line">                block</span><br><span class="line">              span.<span class="property">article</span>-meta-label= <span class="string">&#x27; &#x27;</span> + <span class="title function_">_p</span>(<span class="string">&#x27;card_post_count&#x27;</span>)</span><br><span class="line">      </span><br><span class="line">          <span class="keyword">if</span> theme.<span class="property">comments</span>.<span class="property">card_post_count</span></span><br><span class="line">            <span class="keyword">case</span> theme.<span class="property">comments</span>.<span class="property">use</span>[<span class="number">0</span>]</span><br><span class="line">              when <span class="string">&#x27;Disqus&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">full_url_for</span>(link) + <span class="string">&#x27;#disqus_thread&#x27;</span>)</span><br><span class="line">                    i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line">              when <span class="string">&#x27;Disqusjs&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">full_url_for</span>(link) + <span class="string">&#x27;#disqusjs&#x27;</span>)</span><br><span class="line">                    span.<span class="property">disqus</span>-comment-<span class="title function_">count</span>(data-disqus-url=<span class="title function_">full_url_for</span>(link))</span><br><span class="line">                      i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line">              when <span class="string">&#x27;Valine&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    span.<span class="property">valine</span>-comment-<span class="title function_">count</span>(data-xid=<span class="title function_">url_for</span>(link))</span><br><span class="line">                      i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line">              when <span class="string">&#x27;Waline&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    span.<span class="property">waline</span>-comment-<span class="title function_">count</span>(id=<span class="title function_">url_for</span>(link))</span><br><span class="line">                      i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line">              when <span class="string">&#x27;Twikoo&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  a.<span class="property">twikoo</span>-<span class="title function_">count</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line">              when <span class="string">&#x27;Facebook Comments&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    span.<span class="property">fb</span>-comments-<span class="title function_">count</span>(data-href=<span class="title function_">urlNoIndex</span>(article.<span class="property">permalink</span>))</span><br><span class="line">                      i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line">              when <span class="string">&#x27;Remark42&#x27;</span></span><br><span class="line">                +countBlockInIndex</span><br><span class="line">                  <span class="title function_">a</span>(href=<span class="title function_">url_for</span>(link) + <span class="string">&#x27;#post-comment&#x27;</span>)</span><br><span class="line">                    span.<span class="title function_">remark42__counter</span>(data-url=<span class="title function_">urlNoIndex</span>(article.<span class="property">permalink</span>))</span><br><span class="line">                      i.<span class="property">fa</span>-solid.<span class="property">fa</span>-spinner.<span class="property">fa</span>-spin</span><br><span class="line"></span><br><span class="line">        <span class="comment">//- Display the article introduction on homepage</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> theme.<span class="property">ad</span> &amp;&amp; theme.<span class="property">ad</span>.<span class="property">index</span></span><br><span class="line">      <span class="keyword">if</span> (index + <span class="number">1</span>) % <span class="number">3</span> == <span class="number">0</span></span><br><span class="line">        .<span class="property">recent</span>-post-item.<span class="property">ads</span>-wrap!=theme.<span class="property">ad</span>.<span class="property">index</span></span><br></pre></td></tr></table></figure><p>然后你就能看到合理的文章页面了。<br /><img src="https://bu.dusays.com/2023/01/20/63ca11ca9e765.webp" alt="1660540055941" /></p></div></details><h1 id="友链界面适配"><a class="markdownIt-Anchor" href="#友链界面适配"></a> 友链界面适配</h1><p>在你弄好了其它内容之后，你会发现一个新的难看之处————友链。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11cbdc589.webp" alt="1660543360935" /></p><p>友链一行默认只显示3个链接，但是就是因为这一点，导致一个友链宽度很大，看起来不舒服。</p><p>这时只需要你加入一点点css，就能让一行显示更多的友链图标：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.flink-list-item</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">4</span> - <span class="number">15px</span>)<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">1250px</span>) &#123;</span><br><span class="line">    <span class="selector-class">.flink-list-item</span>&#123;</span><br><span class="line">        <span class="attribute">width</span>:<span class="built_in">calc</span>(<span class="number">100%</span> / <span class="number">3</span> - <span class="number">15px</span>)<span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://bu.dusays.com/2023/01/20/63ca11cd61f52.webp" alt="1660541950424" /></p><p>好了，现在你就拥有了一个内容承载更多的博客了！</p>]]></content>
    
    
    <summary type="html">原版看起来好憋屈啊，给它弄宽点呗</summary>
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>让你的网站在一些日子中自动弹窗/灰屏</title>
    <link href="https://blog.yaria.top/posts/7e9276a3/"/>
    <id>https://blog.yaria.top/posts/7e9276a3/</id>
    <published>2022-08-14T07:29:39.000Z</published>
    <updated>2024-07-14T06:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>前置教程：</p><a class="tag-Link" target="_blank" href="https://blog.yaria.top/posts/583ff077/">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/blog.yaria.top/posts/583ff077/.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Hexo Butterfly博客魔改的一点点基础</div>            <div class="tag-link-sitename">Ariasakaの小窝</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>今天是世界慰安妇纪念日，我都是意外知道的，就顺便编写了一个简单的js来怀念那些同胞们，在一些节日也会弹窗庆祝。</p><p><del class="noheimu">这个脚本使用cookie记录，保证不会多次弹窗影响浏览体验，支持传统节日和公历节日的计算。</del></p><p>8.27更新，在Saiodgm的建议下，换用了会话存储，效果更好，不会受到cookie限时不合理的限制</p><p>2024/7/14更新：</p><p>因群友所述部分文字不合理，已经进行了一些修改</p><p><img src="https://bu.dusays.com/2023/01/20/63ca120459694.webp" alt="1661593693449" /></p><p>效果如下：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca120b1e153.webp" alt="灰色滤镜" /></p><p><img src="https://bu.dusays.com/2024/07/14/66936c44a598f.png" alt="弹窗提示" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca121ac5edf.webp" alt="庆祝提示" /></p><p>JS基于SweetAlert库实现弹窗。</p><p>目前已经支持的日期:</p><ol><li>7.7卢沟桥事变</li><li>9.18九一八事变</li><li>12.13国家公祭日</li><li>8.15日本投降日</li><li>除夕+春节–初六</li><li>元宵节</li><li>清明节</li><li>端午节</li><li>七夕节</li><li>中秋节</li><li>重阳节</li><li>元旦节</li><li>妇女节</li><li>愚人节</li><li>劳动节</li><li>青年节</li><li>建党节</li><li>国庆节</li></ol><p>以下内容仅针对 <code>hexo-themes-butterfly</code>，其它主题请自行调整</p><details class="toggle" ><summary class="toggle-button" style="">点击查看教程</summary><div class="toggle-content"><p>新建 <code>blogRoot/themes/butterfly/source/js/day.js</code> <strong>（不要放在 <code>blogRoot/source</code> 里面）</strong>，然后编写以下内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>,<span class="function">()=&gt;</span>&#123;</span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">m=d.<span class="title function_">getMonth</span>()+<span class="number">1</span>;</span><br><span class="line">dd=d.<span class="title function_">getDate</span>();</span><br><span class="line">y=d.<span class="title function_">getFullYear</span>();</span><br><span class="line"><span class="comment">//cookie函数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">randomNum</span>(<span class="params">minNum,maxNum</span>)&#123; </span><br><span class="line">    <span class="keyword">switch</span>(<span class="variable language_">arguments</span>.<span class="property">length</span>)&#123; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*minNum+<span class="number">1</span>,<span class="number">10</span>); </span><br><span class="line">        <span class="keyword">break</span>; </span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*(maxNum-minNum+<span class="number">1</span>)+minNum,<span class="number">10</span>); </span><br><span class="line">        <span class="keyword">break</span>; </span><br><span class="line">            <span class="attr">default</span>: </span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br><span class="line"><span class="comment">//纪念日</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">9</span>&amp;&amp;dd==<span class="number">18</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;grays&quot;</span>).<span class="property">innerText</span>=<span class="string">&quot;:root&#123;filter: grayscale(100%);&#125;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;今天是1931.9.18九一八事变&quot;</span>+(y-<span class="number">1931</span>).<span class="title function_">toString</span>()+<span class="string">&quot;周年。\n勿忘国耻，振兴中华！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">7</span>&amp;&amp;dd==<span class="number">7</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;grays&quot;</span>).<span class="property">innerText</span>=<span class="string">&quot;:root&#123;filter: grayscale(100%);&#125;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;今天是1937.7.7卢沟桥事变&quot;</span>+(y-<span class="number">1937</span>).<span class="title function_">toString</span>()+<span class="string">&quot;周年。\n勿忘国耻，振兴中华！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">12</span>&amp;&amp;dd==<span class="number">13</span>)&#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;grays&quot;</span>).<span class="property">innerText</span>=<span class="string">&quot;:root&#123;filter: grayscale(100%);&#125;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;今天是1937.12.13南京大屠杀&quot;</span>+(y-<span class="number">1937</span>).<span class="title function_">toString</span>()+<span class="string">&quot;周年暨国家公祭日，30万余同胞的血海深仇不能忘记。\n勿忘国耻，振兴中华！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//节假日</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">10</span>&amp;&amp;dd&lt;=<span class="number">5</span>)&#123;<span class="comment">//国庆节</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;祖国&quot;</span>+(y-<span class="number">1949</span>).<span class="title function_">toString</span>()+<span class="string">&quot;岁生日快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">8</span>&amp;&amp;dd==<span class="number">15</span>)&#123;<span class="comment">//鬼子投降</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;鬼子投降&quot;</span>+(y-<span class="number">1945</span>).<span class="title function_">toString</span>()+<span class="string">&quot;年了！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">1</span>&amp;&amp;dd==<span class="number">1</span>)&#123;<span class="comment">//元旦节</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(y.<span class="title function_">toString</span>()+<span class="string">&quot;年元旦快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">3</span>&amp;&amp;dd==<span class="number">8</span>)&#123;<span class="comment">//妇女节</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;各位女神们，妇女节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">l=[<span class="string">&quot;震惊！日本岛于今日沉没！&quot;</span>,<span class="string">&quot;Minecraft 2.0发布！&quot;</span>,<span class="string">&quot;非常抱歉，因为不可控原因，博客将于明天停止运营，再见&quot;</span>,<span class="string">&quot;很遗憾，PhigrOS已崩溃，愿我们在像素塔重聚&quot;</span>,<span class="string">&quot;今天是愚人节，你被骗了吗？&quot;</span>,<span class="string">&quot;Never gonna give you up~&quot;</span>,<span class="string">&quot;？！&quot;</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m,dd);</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">4</span>&amp;&amp;dd==<span class="number">1</span>)&#123;<span class="comment">//愚人节，整活</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(l[<span class="title function_">randomNum</span>(<span class="number">0</span>,l.<span class="property">length</span>-<span class="number">1</span>)]);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(l[<span class="title function_">randomNum</span>(<span class="number">0</span>,l.<span class="property">length</span>-<span class="number">1</span>)]);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">5</span>&amp;&amp;dd==<span class="number">1</span>)&#123;<span class="comment">//劳动节</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;劳动节快乐！\n为助力各行各业发展辛勤工作的人们致敬！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">6</span>&amp;&amp;dd==<span class="number">1</span>)&#123;<span class="comment">//儿童节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;各位小朋友们，儿童节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;各位小朋友们，儿童节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">7</span>&amp;&amp;dd==<span class="number">1</span>)&#123;<span class="comment">//建党节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;中国共产党&quot;</span>+(y-<span class="number">1921</span>).<span class="title function_">toString</span>()+<span class="string">&quot;岁生日快乐&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;中国共产党&quot;</span>+(y-<span class="number">1921</span>).<span class="title function_">toString</span>()+<span class="string">&quot;岁生日快乐&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//传统节日部分</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(m==<span class="number">4</span>&amp;&amp;dd==<span class="number">4</span>||(m==<span class="number">4</span>&amp;&amp;dd==<span class="number">5</span>))&#123;<span class="comment">//清明节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;清明安康\n向烈士致敬！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;清明安康\n向烈士致敬！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lunar=calendarFormatter.<span class="title function_">solar2lunar</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">//农历采用汉字计算，防止出现闰月导致问题</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初六&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初五&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初四&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初三&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初二&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初一&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;腊月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;三十&quot;</span>)||(lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;腊月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;廿九&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//春节，本来只有大年三十到初六，但是有时候除夕是大年二十九，所以也加上了</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(y.<span class="title function_">toString</span>()+<span class="string">&quot;年新年快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(y.<span class="title function_">toString</span>()+<span class="string">&quot;年新年快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;十五&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//元宵节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;元宵节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;元宵节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;正月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;十五&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//元宵节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;元宵节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;元宵节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;五月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初五&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//端午节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;端午节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;端午节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;七月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初七&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//七夕节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;七夕节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;七夕节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;八月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;十五&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//中秋节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;中秋节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;中秋节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>((lunar[<span class="string">&quot;IMonthCn&quot;</span>]==<span class="string">&quot;九月&quot;</span>&amp;&amp;lunar[<span class="string">&quot;IDayCn&quot;</span>]==<span class="string">&quot;初九&quot;</span>))&#123;</span><br><span class="line">    <span class="comment">//重阳节</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;重阳节快乐！&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>)!=<span class="string">&quot;1&quot;</span>)&#123;</span><br><span class="line">        <span class="title class_">Swal</span>.<span class="title function_">fire</span>(<span class="string">&quot;重阳节快乐！&quot;</span>);</span><br><span class="line">        <span class="variable language_">sessionStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;isPopupWindow&quot;</span>,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>由于有农历计算，不想使用api导致网站速度变慢，所以使用本地数据库索引，农历计算js使用CSDN上面的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* @1900-2100区间内的公历、农历互转</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* <span class="doctag">@charset</span> <span class="variable">UTF</span>-8</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* <span class="doctag">@Author</span>  <span class="variable">jiangjiazhi</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* @公历转农历：calendar.solar2lunar(1987,11,01); //[you can ignore params of prefix 0]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* @农历转公历：calendar.lunar2solar(1987,09,10); //[you can ignore params of prefix 0]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* 农历1900-2100的润大小信息表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> <span class="variable">Hex</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lunarInfo = [<span class="number">0x04bd8</span>, <span class="number">0x04ae0</span>, <span class="number">0x0a570</span>, <span class="number">0x054d5</span>, <span class="number">0x0d260</span>, <span class="number">0x0d950</span>, <span class="number">0x16554</span>, <span class="number">0x056a0</span>, <span class="number">0x09ad0</span>, <span class="number">0x055d2</span>, <span class="comment">// 1900-1909</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x04ae0</span>, <span class="number">0x0a5b6</span>, <span class="number">0x0a4d0</span>, <span class="number">0x0d250</span>, <span class="number">0x1d255</span>, <span class="number">0x0b540</span>, <span class="number">0x0d6a0</span>, <span class="number">0x0ada2</span>, <span class="number">0x095b0</span>, <span class="number">0x14977</span>, <span class="comment">// 1910-1919</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x04970</span>, <span class="number">0x0a4b0</span>, <span class="number">0x0b4b5</span>, <span class="number">0x06a50</span>, <span class="number">0x06d40</span>, <span class="number">0x1ab54</span>, <span class="number">0x02b60</span>, <span class="number">0x09570</span>, <span class="number">0x052f2</span>, <span class="number">0x04970</span>, <span class="comment">// 1920-1929</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x06566</span>, <span class="number">0x0d4a0</span>, <span class="number">0x0ea50</span>, <span class="number">0x06e95</span>, <span class="number">0x05ad0</span>, <span class="number">0x02b60</span>, <span class="number">0x186e3</span>, <span class="number">0x092e0</span>, <span class="number">0x1c8d7</span>, <span class="number">0x0c950</span>, <span class="comment">// 1930-1939</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0d4a0</span>, <span class="number">0x1d8a6</span>, <span class="number">0x0b550</span>, <span class="number">0x056a0</span>, <span class="number">0x1a5b4</span>, <span class="number">0x025d0</span>, <span class="number">0x092d0</span>, <span class="number">0x0d2b2</span>, <span class="number">0x0a950</span>, <span class="number">0x0b557</span>, <span class="comment">// 1940-1949</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x06ca0</span>, <span class="number">0x0b550</span>, <span class="number">0x15355</span>, <span class="number">0x04da0</span>, <span class="number">0x0a5b0</span>, <span class="number">0x14573</span>, <span class="number">0x052b0</span>, <span class="number">0x0a9a8</span>, <span class="number">0x0e950</span>, <span class="number">0x06aa0</span>, <span class="comment">// 1950-1959</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0aea6</span>, <span class="number">0x0ab50</span>, <span class="number">0x04b60</span>, <span class="number">0x0aae4</span>, <span class="number">0x0a570</span>, <span class="number">0x05260</span>, <span class="number">0x0f263</span>, <span class="number">0x0d950</span>, <span class="number">0x05b57</span>, <span class="number">0x056a0</span>, <span class="comment">// 1960-1969</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x096d0</span>, <span class="number">0x04dd5</span>, <span class="number">0x04ad0</span>, <span class="number">0x0a4d0</span>, <span class="number">0x0d4d4</span>, <span class="number">0x0d250</span>, <span class="number">0x0d558</span>, <span class="number">0x0b540</span>, <span class="number">0x0b6a0</span>, <span class="number">0x195a6</span>, <span class="comment">// 1970-1979</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x095b0</span>, <span class="number">0x049b0</span>, <span class="number">0x0a974</span>, <span class="number">0x0a4b0</span>, <span class="number">0x0b27a</span>, <span class="number">0x06a50</span>, <span class="number">0x06d40</span>, <span class="number">0x0af46</span>, <span class="number">0x0ab60</span>, <span class="number">0x09570</span>, <span class="comment">// 1980-1989</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x04af5</span>, <span class="number">0x04970</span>, <span class="number">0x064b0</span>, <span class="number">0x074a3</span>, <span class="number">0x0ea50</span>, <span class="number">0x06b58</span>, <span class="number">0x05ac0</span>, <span class="number">0x0ab60</span>, <span class="number">0x096d5</span>, <span class="number">0x092e0</span>, <span class="comment">// 1990-1999</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0c960</span>, <span class="number">0x0d954</span>, <span class="number">0x0d4a0</span>, <span class="number">0x0da50</span>, <span class="number">0x07552</span>, <span class="number">0x056a0</span>, <span class="number">0x0abb7</span>, <span class="number">0x025d0</span>, <span class="number">0x092d0</span>, <span class="number">0x0cab5</span>, <span class="comment">// 2000-2009</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0a950</span>, <span class="number">0x0b4a0</span>, <span class="number">0x0baa4</span>, <span class="number">0x0ad50</span>, <span class="number">0x055d9</span>, <span class="number">0x04ba0</span>, <span class="number">0x0a5b0</span>, <span class="number">0x15176</span>, <span class="number">0x052b0</span>, <span class="number">0x0a930</span>, <span class="comment">// 2010-2019</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x07954</span>, <span class="number">0x06aa0</span>, <span class="number">0x0ad50</span>, <span class="number">0x05b52</span>, <span class="number">0x04b60</span>, <span class="number">0x0a6e6</span>, <span class="number">0x0a4e0</span>, <span class="number">0x0d260</span>, <span class="number">0x0ea65</span>, <span class="number">0x0d530</span>, <span class="comment">// 2020-2029</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x05aa0</span>, <span class="number">0x076a3</span>, <span class="number">0x096d0</span>, <span class="number">0x04afb</span>, <span class="number">0x04ad0</span>, <span class="number">0x0a4d0</span>, <span class="number">0x1d0b6</span>, <span class="number">0x0d250</span>, <span class="number">0x0d520</span>, <span class="number">0x0dd45</span>, <span class="comment">// 2030-2039</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0b5a0</span>, <span class="number">0x056d0</span>, <span class="number">0x055b2</span>, <span class="number">0x049b0</span>, <span class="number">0x0a577</span>, <span class="number">0x0a4b0</span>, <span class="number">0x0aa50</span>, <span class="number">0x1b255</span>, <span class="number">0x06d20</span>, <span class="number">0x0ada0</span>, <span class="comment">// 2040-2049</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x14b63</span>, <span class="number">0x09370</span>, <span class="number">0x049f8</span>, <span class="number">0x04970</span>, <span class="number">0x064b0</span>, <span class="number">0x168a6</span>, <span class="number">0x0ea50</span>, <span class="number">0x06b20</span>, <span class="number">0x1a6c4</span>, <span class="number">0x0aae0</span>, <span class="comment">// 2050-2059</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0a2e0</span>, <span class="number">0x0d2e3</span>, <span class="number">0x0c960</span>, <span class="number">0x0d557</span>, <span class="number">0x0d4a0</span>, <span class="number">0x0da50</span>, <span class="number">0x05d55</span>, <span class="number">0x056a0</span>, <span class="number">0x0a6d0</span>, <span class="number">0x055d4</span>, <span class="comment">// 2060-2069</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x052d0</span>, <span class="number">0x0a9b8</span>, <span class="number">0x0a950</span>, <span class="number">0x0b4a0</span>, <span class="number">0x0b6a6</span>, <span class="number">0x0ad50</span>, <span class="number">0x055a0</span>, <span class="number">0x0aba4</span>, <span class="number">0x0a5b0</span>, <span class="number">0x052b0</span>, <span class="comment">// 2070-2079</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0b273</span>, <span class="number">0x06930</span>, <span class="number">0x07337</span>, <span class="number">0x06aa0</span>, <span class="number">0x0ad50</span>, <span class="number">0x14b55</span>, <span class="number">0x04b60</span>, <span class="number">0x0a570</span>, <span class="number">0x054e4</span>, <span class="number">0x0d160</span>, <span class="comment">// 2080-2089</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0e968</span>, <span class="number">0x0d520</span>, <span class="number">0x0daa0</span>, <span class="number">0x16aa6</span>, <span class="number">0x056d0</span>, <span class="number">0x04ae0</span>, <span class="number">0x0a9d4</span>, <span class="number">0x0a2d0</span>, <span class="number">0x0d150</span>, <span class="number">0x0f252</span>, <span class="comment">// 2090-2099</span></span><br><span class="line"></span><br><span class="line">    <span class="number">0x0d520</span>] <span class="comment">// 2100</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> solarMonth = [<span class="number">31</span>, <span class="number">28</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">30</span>, <span class="number">31</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 天干地支之天干速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property trans[&#x27;甲&#x27;,&#x27;乙&#x27;,&#x27;丙&#x27;,&#x27;丁&#x27;,&#x27;戊&#x27;,&#x27;己&#x27;,&#x27;庚&#x27;,&#x27;辛&#x27;,&#x27;壬&#x27;,&#x27;癸&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">Gan</span> = [<span class="string">&#x27;\u7532&#x27;</span>, <span class="string">&#x27;\u4e59&#x27;</span>, <span class="string">&#x27;\u4e19&#x27;</span>, <span class="string">&#x27;\u4e01&#x27;</span>, <span class="string">&#x27;\u620a&#x27;</span>, <span class="string">&#x27;\u5df1&#x27;</span>, <span class="string">&#x27;\u5e9a&#x27;</span>, <span class="string">&#x27;\u8f9b&#x27;</span>, <span class="string">&#x27;\u58ec&#x27;</span>, <span class="string">&#x27;\u7678&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 天干地支之地支速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@trans</span>[&#x27;子&#x27;,&#x27;丑&#x27;,&#x27;寅&#x27;,&#x27;卯&#x27;,&#x27;辰&#x27;,&#x27;巳&#x27;,&#x27;午&#x27;,&#x27;未&#x27;,&#x27;申&#x27;,&#x27;酉&#x27;,&#x27;戌&#x27;,&#x27;亥&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">Zhi</span> = [<span class="string">&#x27;\u5b50&#x27;</span>, <span class="string">&#x27;\u4e11&#x27;</span>, <span class="string">&#x27;\u5bc5&#x27;</span>, <span class="string">&#x27;\u536f&#x27;</span>, <span class="string">&#x27;\u8fb0&#x27;</span>, <span class="string">&#x27;\u5df3&#x27;</span>, <span class="string">&#x27;\u5348&#x27;</span>, <span class="string">&#x27;\u672a&#x27;</span>, <span class="string">&#x27;\u7533&#x27;</span>, <span class="string">&#x27;\u9149&#x27;</span>, <span class="string">&#x27;\u620c&#x27;</span>, <span class="string">&#x27;\u4ea5&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 天干地支之地支速查表&lt;=&gt;生肖</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@trans</span>[&#x27;鼠&#x27;,&#x27;牛&#x27;,&#x27;虎&#x27;,&#x27;兔&#x27;,&#x27;龙&#x27;,&#x27;蛇&#x27;,&#x27;马&#x27;,&#x27;羊&#x27;,&#x27;猴&#x27;,&#x27;鸡&#x27;,&#x27;狗&#x27;,&#x27;猪&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title class_">Animals</span> = [<span class="string">&#x27;\u9f20&#x27;</span>, <span class="string">&#x27;\u725b&#x27;</span>, <span class="string">&#x27;\u864e&#x27;</span>, <span class="string">&#x27;\u5154&#x27;</span>, <span class="string">&#x27;\u9f99&#x27;</span>, <span class="string">&#x27;\u86c7&#x27;</span>, <span class="string">&#x27;\u9a6c&#x27;</span>, <span class="string">&#x27;\u7f8a&#x27;</span>, <span class="string">&#x27;\u7334&#x27;</span>, <span class="string">&#x27;\u9e21&#x27;</span>, <span class="string">&#x27;\u72d7&#x27;</span>, <span class="string">&#x27;\u732a&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 24节气速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@trans</span>[&#x27;小寒&#x27;,&#x27;大寒&#x27;,&#x27;立春&#x27;,&#x27;雨水&#x27;,&#x27;惊蛰&#x27;,&#x27;春分&#x27;,&#x27;清明&#x27;,&#x27;谷雨&#x27;,&#x27;立夏&#x27;,&#x27;小满&#x27;,&#x27;芒种&#x27;,&#x27;夏至&#x27;,&#x27;小暑&#x27;,&#x27;大暑&#x27;,&#x27;立秋&#x27;,&#x27;处暑&#x27;,&#x27;白露&#x27;,&#x27;秋分&#x27;,&#x27;寒露&#x27;,&#x27;霜降&#x27;,&#x27;立冬&#x27;,&#x27;小雪&#x27;,&#x27;大雪&#x27;,&#x27;冬至&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> solarTerm = [<span class="string">&#x27;\u5c0f\u5bd2&#x27;</span>, <span class="string">&#x27;\u5927\u5bd2&#x27;</span>, <span class="string">&#x27;\u7acb\u6625&#x27;</span>, <span class="string">&#x27;\u96e8\u6c34&#x27;</span>, <span class="string">&#x27;\u60ca\u86f0&#x27;</span>, <span class="string">&#x27;\u6625\u5206&#x27;</span>, <span class="string">&#x27;\u6e05\u660e&#x27;</span>, <span class="string">&#x27;\u8c37\u96e8&#x27;</span>, <span class="string">&#x27;\u7acb\u590f&#x27;</span>, <span class="string">&#x27;\u5c0f\u6ee1&#x27;</span>, <span class="string">&#x27;\u8292\u79cd&#x27;</span>, <span class="string">&#x27;\u590f\u81f3&#x27;</span>, <span class="string">&#x27;\u5c0f\u6691&#x27;</span>, <span class="string">&#x27;\u5927\u6691&#x27;</span>, <span class="string">&#x27;\u7acb\u79cb&#x27;</span>, <span class="string">&#x27;\u5904\u6691&#x27;</span>, <span class="string">&#x27;\u767d\u9732&#x27;</span>, <span class="string">&#x27;\u79cb\u5206&#x27;</span>, <span class="string">&#x27;\u5bd2\u9732&#x27;</span>, <span class="string">&#x27;\u971c\u964d&#x27;</span>, <span class="string">&#x27;\u7acb\u51ac&#x27;</span>, <span class="string">&#x27;\u5c0f\u96ea&#x27;</span>, <span class="string">&#x27;\u5927\u96ea&#x27;</span>, <span class="string">&#x27;\u51ac\u81f3&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 1900-2100各年的24节气日期速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> 0x string For splice</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> sTermInfo = [<span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf97c3598082c95f8c965cc920f&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bd0b06bdb0722c965ce1cfcc920f&#x27;</span>, <span class="string">&#x27;b027097bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bcf97c359801ec95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd0b06bdb0722c965ce1cfcc920f&#x27;</span>, <span class="string">&#x27;b027097bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf97c359801ec95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd0b06bdb0722c965ce1cfcc920f&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;b027097bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;9778397bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec95f8c965cc920f&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bd09801d98082c95f8e1cfcc920f&#x27;</span>, <span class="string">&#x27;97bd097bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd197c36c9210c9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec95f8c965cc920e&#x27;</span>, <span class="string">&#x27;97bd09801d98082c95f8e1cfcc920f&#x27;</span>, <span class="string">&#x27;97bd097bd097c36b0b6fc9210c8dc2&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36c9210c9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec95f8c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf97c3598082c95f8e1cfcc920f&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bd097bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd097c36c9210c9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bcf97c3598082c95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd097bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf97c3598082c95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd097bd097c35b0b6fc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf97c359801ec95f8c965cc920f&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bd097bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bcf97c359801ec95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd097bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf97c359801ec95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd097bd07f595b0b6fc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd19801ec9210c9274c920e&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec95f8c965cc920f&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bd07f5307f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd097c36c9210c9274c920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec95f8c965cc920f&#x27;</span>, <span class="string">&#x27;97bd07f5307f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c36b0b6fc9210c8dc2&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36c9210c9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bd07f1487f595b0b0bc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bcf7f1487f595b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf7f1487f595b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>, <span class="string">&#x27;97bcf7f1487f531b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd19801ec9210c965cc920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97bcf7f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd07f595b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b97bd19801ec9210c9274c920e&#x27;</span>, <span class="string">&#x27;97bcf7f0e47f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b6fc9210c91aa&#x27;</span>, <span class="string">&#x27;97b6b97bd197c36c9210c9274c920e&#x27;</span>, <span class="string">&#x27;97bcf7f0e47f531b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd097c36c9210c9274c920e&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b7f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f5307f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c36b0b6fc9210c8dc2&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b70c9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e37f1487f595b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd097c35b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b7f0e47f531b0723b0b6fb0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e27f1487f595b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>, <span class="string">&#x27;97b6b7f0e47f531b0723b0b6fb0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9274c91aa&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;97b6b7f0e47f531b0723b0787b0721&#x27;</span>, <span class="string">&#x27;7f0e27f0e47f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;9778397bd097c36b0b6fc9210c91aa&#x27;</span>, <span class="string">&#x27;97b6b7f0e47f149b0723b0787b0721&#x27;</span>, <span class="string">&#x27;7f0e27f0e47f531b0723b0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;9778397bd097c36b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;977837f0e37f149b0723b0787b0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f5307f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc9210c8dc2&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;977837f0e37f14998082b0787b0721&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e37f1487f595b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd097c35b0b6fc9210c8dc2&#x27;</span>, <span class="string">&#x27;977837f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>, <span class="string">&#x27;977837f0e37f14998082b0787b06bd&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd097c35b0b6fc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;977837f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;977837f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;977837f0e37f14998082b0787b06bd&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f149b0723b0787b0721&#x27;</span>, <span class="string">&#x27;7f0e27f0e47f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;977837f0e37f14998082b0723b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e37f149b0723b0787b0721&#x27;</span>, <span class="string">&#x27;7f0e27f0e47f531b0723b0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e397bd07f595b0b0bc920fb0722&#x27;</span>, <span class="string">&#x27;977837f0e37f14898082b0723b02d5&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0787b0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f1487f595b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f0e37f14898082b0723b02d5&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7ec967f0e37f14998082b0787b0721&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f1487f531b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e37f0e37f14898082b0723b02d5&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e37f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f0e37f14898082b072297c35&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f0e37f14898082b072297c35&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e37f0e366aa89801eb072297c35&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f149b0723b0787b0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f0e366aa89801eb072297c35&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0723b06bd&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f149b0723b0787b0721&#x27;</span>, <span class="string">&#x27;7f0e27f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e37f0e366aa89801eb072297c35&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7ec967f0e37f14998082b0723b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e37f14998083b0787b0721&#x27;</span>, <span class="string">&#x27;7f0e27f0e47f531b0723b0b6fb0722&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e37f0e366aa89801eb072297c35&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14898082b0723b02d5&#x27;</span>, <span class="string">&#x27;7f07e7f0e37f14998082b0787b0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e36665b66aa89801e9808297c35&#x27;</span>, <span class="string">&#x27;665f67f0e37f14898082b0723b02d5&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7ec967f0e37f14998082b0787b0721&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0722&#x27;</span>, <span class="string">&#x27;7f0e36665b66a449801e9808297c35&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;665f67f0e37f14898082b0723b02d5&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f0e36665b66a449801e9808297c35&#x27;</span>, <span class="string">&#x27;665f67f0e37f14898082b072297c35&#x27;</span>, <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e26665b66a449801e9808297c35&#x27;</span>, <span class="string">&#x27;665f67f0e37f1489801eb072297c35&#x27;</span>,</span><br><span class="line"></span><br><span class="line">    <span class="string">&#x27;7ec967f0e37f14998082b0787b06bd&#x27;</span>, <span class="string">&#x27;7f07e7f0e47f531b0723b0b6fb0721&#x27;</span>, <span class="string">&#x27;7f0e27f1487f531b0b0bb0b6fb0722&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   * 数字转中文速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@trans</span> [&#x27;日&#x27;,&#x27;一&#x27;,&#x27;二&#x27;,&#x27;三&#x27;,&#x27;四&#x27;,&#x27;五&#x27;,&#x27;六&#x27;,&#x27;七&#x27;,&#x27;八&#x27;,&#x27;九&#x27;,&#x27;十&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> nStr1 = [<span class="string">&#x27;\u65e5&#x27;</span>, <span class="string">&#x27;\u4e00&#x27;</span>, <span class="string">&#x27;\u4e8c&#x27;</span>, <span class="string">&#x27;\u4e09&#x27;</span>, <span class="string">&#x27;\u56db&#x27;</span>, <span class="string">&#x27;\u4e94&#x27;</span>, <span class="string">&#x27;\u516d&#x27;</span>, <span class="string">&#x27;\u4e03&#x27;</span>, <span class="string">&#x27;\u516b&#x27;</span>, <span class="string">&#x27;\u4e5d&#x27;</span>, <span class="string">&#x27;\u5341&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 日期转农历称呼速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@trans</span> [&#x27;初&#x27;,&#x27;十&#x27;,&#x27;廿&#x27;,&#x27;卅&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> nStr2 = [<span class="string">&#x27;\u521d&#x27;</span>, <span class="string">&#x27;\u5341&#x27;</span>, <span class="string">&#x27;\u5eff&#x27;</span>, <span class="string">&#x27;\u5345&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 月份转农历称呼速查表</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@Array</span> Of Property</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@trans</span> [&#x27;正&#x27;,&#x27;一&#x27;,&#x27;二&#x27;,&#x27;三&#x27;,&#x27;四&#x27;,&#x27;五&#x27;,&#x27;六&#x27;,&#x27;七&#x27;,&#x27;八&#x27;,&#x27;九&#x27;,&#x27;十&#x27;,&#x27;冬&#x27;,&#x27;腊&#x27;]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> nStr3 = [<span class="string">&#x27;\u6b63&#x27;</span>, <span class="string">&#x27;\u4e8c&#x27;</span>, <span class="string">&#x27;\u4e09&#x27;</span>, <span class="string">&#x27;\u56db&#x27;</span>, <span class="string">&#x27;\u4e94&#x27;</span>, <span class="string">&#x27;\u516d&#x27;</span>, <span class="string">&#x27;\u4e03&#x27;</span>, <span class="string">&#x27;\u516b&#x27;</span>, <span class="string">&#x27;\u4e5d&#x27;</span>, <span class="string">&#x27;\u5341&#x27;</span>, <span class="string">&#x27;\u51ac&#x27;</span>, <span class="string">&#x27;\u814a&#x27;</span>]</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 返回农历y年一整年的总天数</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> lunar Year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@return</span> <span class="variable">Number</span></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var count = calendar.lYearDays(1987) ;//count=387</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">lYearDays</span> (<span class="params">y</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">348</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0x8000</span>; i &gt; <span class="number">0x8</span>; i &gt;&gt;= <span class="number">1</span>) &#123; sum += (lunarInfo[y - <span class="number">1900</span>] &amp; i) ? <span class="number">1</span> : <span class="number">0</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (sum + <span class="title function_">leapDays</span>(y))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 返回农历y年闰月是哪个月；若y年没有闰月 则返回0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> lunar Year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Number (0-12)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@eg</span>:var leapMonth = calendar.leapMonth(1987) ;//leapMonth=6</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">leapMonth</span> (<span class="params">y</span>) &#123; <span class="comment">// 闰字编码 \u95f0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (lunarInfo[y - <span class="number">1900</span>] &amp; <span class="number">0xf</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 返回农历y年闰月的天数 若该年没有闰月则返回0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> lunar Year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Number (0、29、30)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var leapMonthDay = calendar.leapDays(1987) ;//leapMonthDay=29</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">leapDays</span> (<span class="params">y</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">leapMonth</span>(y)) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> ((lunarInfo[y - <span class="number">1900</span>] &amp; <span class="number">0x10000</span>) ? <span class="number">30</span> : <span class="number">29</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 返回农历y年m月（非闰月）的总天数，计算m为闰月时的天数请使用leapDays方法</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> lunar Year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Number (-1、29、30)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">   * <span class="doctag">@eg</span>:var MonthDay = calendar.monthDays(1987,9) ;//MonthDay=29</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">monthDays</span> (<span class="params">y, m</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m &gt; <span class="number">12</span> || m &lt; <span class="number">1</span>) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125;<span class="comment">// 月份参数从1至12，参数错误返回-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ((lunarInfo[y - <span class="number">1900</span>] &amp; (<span class="number">0x10000</span> &gt;&gt; m)) ? <span class="number">30</span> : <span class="number">29</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 返回公历(!)y年m月的天数</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> solar Year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Number (-1、28、29、30、31)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var solarMonthDay = calendar.leapDays(1987) ;//solarMonthDay=30</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">solarDays</span> (<span class="params">y, m</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m &gt; <span class="number">12</span> || m &lt; <span class="number">1</span>) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125; <span class="comment">// 若参数错误 返回-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ms = m - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ms === <span class="number">1</span>) &#123; <span class="comment">// 2月份的闰平规律测算后确认返回28或29</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> (((y % <span class="number">4</span> === <span class="number">0</span>) &amp;&amp; (y % <span class="number">100</span> !== <span class="number">0</span>) || (y % <span class="number">400</span> === <span class="number">0</span>)) ? <span class="number">29</span> : <span class="number">28</span>)</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> (solarMonth[ms])</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 农历年份转换为干支纪年</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  lYear 农历年的年份数</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">toGanZhiYear</span> (<span class="params">lYear</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> ganKey = (lYear - <span class="number">3</span>) % <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> zhiKey = (lYear - <span class="number">3</span>) % <span class="number">12</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ganKey === <span class="number">0</span>) ganKey = <span class="number">10</span> <span class="comment">// 如果余数为0则为最后一个天干</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (zhiKey === <span class="number">0</span>) zhiKey = <span class="number">12</span> <span class="comment">// 如果余数为0则为最后一个地支</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Gan</span>[ganKey - <span class="number">1</span>] + <span class="title class_">Zhi</span>[zhiKey - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 公历月、日判断所属星座</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  cMonth [description]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span>  cDay [description]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">toAstro</span> (<span class="params">cMonth, cDay</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> s = <span class="string">&#x27;\u9b54\u7faf\u6c34\u74f6\u53cc\u9c7c\u767d\u7f8a\u91d1\u725b\u53cc\u5b50\u5de8\u87f9\u72ee\u5b50\u5904\u5973\u5929\u79e4\u5929\u874e\u5c04\u624b\u9b54\u7faf&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arr = [<span class="number">20</span>, <span class="number">19</span>, <span class="number">21</span>, <span class="number">21</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">23</span>, <span class="number">22</span>, <span class="number">22</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> s.<span class="title function_">substr</span>(cMonth * <span class="number">2</span> - (cDay &lt; arr[cMonth - <span class="number">1</span>] ? <span class="number">2</span> : <span class="number">0</span>), <span class="number">2</span>) + <span class="string">&#x27;\u5ea7&#x27;</span> <span class="comment">// 座</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 传入offset偏移量返回干支</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> offset 相对甲子的偏移量</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">toGanZhi</span> (<span class="params">offset</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Gan</span>[offset % <span class="number">10</span>] + <span class="title class_">Zhi</span>[offset % <span class="number">12</span>]</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 传入公历(!)y年获得该年第n个节气的公历日期</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> y公历年(1900-2100)；n二十四节气中的第几个节气(1~24)；从n=1(小寒)算起</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> day Number</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var _24 = calendar.getTerm(1987,3) ;//_24=4;意即1987年2月4日立春</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getTerm</span> (<span class="params">y, n</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (y &lt; <span class="number">1900</span> || y &gt; <span class="number">2100</span>) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span> || n &gt; <span class="number">24</span>) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> _table = sTermInfo[y - <span class="number">1900</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> _info = [</span><br><span class="line"></span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="string">&#x27;0x&#x27;</span> + _table.<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">5</span>)).<span class="title function_">toString</span>(),</span><br><span class="line"></span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="string">&#x27;0x&#x27;</span> + _table.<span class="title function_">substr</span>(<span class="number">5</span>, <span class="number">5</span>)).<span class="title function_">toString</span>(),</span><br><span class="line"></span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="string">&#x27;0x&#x27;</span> + _table.<span class="title function_">substr</span>(<span class="number">10</span>, <span class="number">5</span>)).<span class="title function_">toString</span>(),</span><br><span class="line"></span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="string">&#x27;0x&#x27;</span> + _table.<span class="title function_">substr</span>(<span class="number">15</span>, <span class="number">5</span>)).<span class="title function_">toString</span>(),</span><br><span class="line"></span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="string">&#x27;0x&#x27;</span> + _table.<span class="title function_">substr</span>(<span class="number">20</span>, <span class="number">5</span>)).<span class="title function_">toString</span>(),</span><br><span class="line"></span><br><span class="line">      <span class="built_in">parseInt</span>(<span class="string">&#x27;0x&#x27;</span> + _table.<span class="title function_">substr</span>(<span class="number">25</span>, <span class="number">5</span>)).<span class="title function_">toString</span>()</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> _calday = [</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">0</span>].<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">0</span>].<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">0</span>].<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">0</span>].<span class="title function_">substr</span>(<span class="number">4</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">      _info[<span class="number">1</span>].<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">1</span>].<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">1</span>].<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">1</span>].<span class="title function_">substr</span>(<span class="number">4</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">      _info[<span class="number">2</span>].<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">2</span>].<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">2</span>].<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">2</span>].<span class="title function_">substr</span>(<span class="number">4</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">      _info[<span class="number">3</span>].<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">3</span>].<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">3</span>].<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">3</span>].<span class="title function_">substr</span>(<span class="number">4</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">      _info[<span class="number">4</span>].<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">4</span>].<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">4</span>].<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">4</span>].<span class="title function_">substr</span>(<span class="number">4</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">      _info[<span class="number">5</span>].<span class="title function_">substr</span>(<span class="number">0</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">5</span>].<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">5</span>].<span class="title function_">substr</span>(<span class="number">3</span>, <span class="number">1</span>),</span><br><span class="line"></span><br><span class="line">      _info[<span class="number">5</span>].<span class="title function_">substr</span>(<span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">parseInt</span>(_calday[n - <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 传入农历数字月份返回汉语通俗表示法</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> lunar month</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var cnMonth = calendar.toChinaMonth(12) ;//cnMonth=&#x27;腊月&#x27;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">toChinaMonth</span> (<span class="params">m</span>) &#123; <span class="comment">// 月 =&gt; \u6708</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m &gt; <span class="number">12</span> || m &lt; <span class="number">1</span>) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125; <span class="comment">// 若参数错误 返回-1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> s = nStr3[m - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    s += <span class="string">&#x27;\u6708&#x27;</span> <span class="comment">// 加上月字</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 传入农历日期数字返回汉字表示法</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> lunar day</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var cnDay = calendar.toChinaDay(21) ;//cnMonth=&#x27;廿一&#x27;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">toChinaDay</span> (<span class="params">d</span>) &#123; <span class="comment">// 日 =&gt; \u65e5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> s</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (d) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line"></span><br><span class="line">        s = <span class="string">&#x27;\u521d\u5341&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> <span class="number">20</span>:</span><br><span class="line"></span><br><span class="line">        s = <span class="string">&#x27;\u4e8c\u5341&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">case</span> <span class="number">30</span>:</span><br><span class="line"></span><br><span class="line">        s = <span class="string">&#x27;\u4e09\u5341&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">default</span> :</span><br><span class="line"></span><br><span class="line">        s = nStr2[<span class="title class_">Math</span>.<span class="title function_">floor</span>(d / <span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line">        s += nStr1[d % <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (s)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 年份转生肖[!仅能大致转换] =&gt; 精确划分生肖分界线是“立春”</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> y year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> Cn string</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:var animal = calendar.getAnimal(1987) ;//animal=&#x27;兔&#x27;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">getAnimal</span> (<span class="params">y</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Animals</span>[(y - <span class="number">4</span>) % <span class="number">12</span>]</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * 传入阳历年月日获得详细的公历、农历object信息 &lt;=&gt;JSON</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> y  solar year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> m  solar month</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> d  solar day</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span> JSON object</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  * <span class="doctag">@eg</span>:console.log(calendar.solar2lunar(1987,11,01));</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">solar2lunar</span> (<span class="params">y, m, d</span>) &#123; <span class="comment">// 参数区间1900.1.31~2100.12.31</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 年份限定、上限</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (y &lt; <span class="number">1900</span> || y &gt; <span class="number">2100</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span> <span class="comment">// undefined转换为数字变为NaN</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 公历传参最下限</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (y === <span class="number">1900</span> &amp;&amp; m === <span class="number">1</span> &amp;&amp; d &lt; <span class="number">31</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 未传参  获得当天</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> objDate = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!y) &#123;</span><br><span class="line"></span><br><span class="line">      objDate = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">      objDate = <span class="keyword">new</span> <span class="title class_">Date</span>(y, <span class="built_in">parseInt</span>(m) - <span class="number">1</span>, d)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> leap = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> temp = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 修正ymd参数</span></span><br><span class="line"></span><br><span class="line">    y = objDate.<span class="title function_">getFullYear</span>()</span><br><span class="line"></span><br><span class="line">    m = objDate.<span class="title function_">getMonth</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    d = objDate.<span class="title function_">getDate</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> offset = (<span class="title class_">Date</span>.<span class="title function_">UTC</span>(objDate.<span class="title function_">getFullYear</span>(), objDate.<span class="title function_">getMonth</span>(), objDate.<span class="title function_">getDate</span>()) - <span class="title class_">Date</span>.<span class="title function_">UTC</span>(<span class="number">1900</span>, <span class="number">0</span>, <span class="number">31</span>)) / <span class="number">86400000</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1900</span>; i &lt; <span class="number">2101</span> &amp;&amp; offset &gt; <span class="number">0</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">      temp = <span class="title function_">lYearDays</span>(i)</span><br><span class="line"></span><br><span class="line">      offset -= temp</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (offset &lt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">      offset += temp; i--</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 是否今天</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isTodayObj = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isToday = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isTodayObj.<span class="title function_">getFullYear</span>() === y &amp;&amp; isTodayObj.<span class="title function_">getMonth</span>() + <span class="number">1</span> === m &amp;&amp; isTodayObj.<span class="title function_">getDate</span>() === d) &#123;</span><br><span class="line"></span><br><span class="line">      isToday = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 星期几</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> nWeek = objDate.<span class="title function_">getDay</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cWeek = nStr1[nWeek]</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 数字表示周几顺应天朝周一开始的惯例</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nWeek === <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">      nWeek = <span class="number">7</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 农历年</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> year = i</span><br><span class="line"></span><br><span class="line">    leap = <span class="title function_">leapMonth</span>(i) <span class="comment">// 闰哪个月</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isLeap = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 效验闰月</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; <span class="number">13</span> &amp;&amp; offset &gt; <span class="number">0</span>; i++) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 闰月</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (leap &gt; <span class="number">0</span> &amp;&amp; i === (leap + <span class="number">1</span>) &amp;&amp; isLeap === <span class="literal">false</span>) &#123;</span><br><span class="line"></span><br><span class="line">        --i</span><br><span class="line"></span><br><span class="line">        isLeap = <span class="literal">true</span>; temp = <span class="title function_">leapDays</span>(year) <span class="comment">// 计算农历闰月天数</span></span><br><span class="line"></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">        temp = <span class="title function_">monthDays</span>(year, i)<span class="comment">// 计算农历普通月天数</span></span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 解除闰月</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (isLeap === <span class="literal">true</span> &amp;&amp; i === (leap + <span class="number">1</span>)) &#123; isLeap = <span class="literal">false</span> &#125;</span><br><span class="line"></span><br><span class="line">      offset -= temp</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 闰月导致数组下标重叠取反</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (offset === <span class="number">0</span> &amp;&amp; leap &gt; <span class="number">0</span> &amp;&amp; i === leap + <span class="number">1</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (isLeap) &#123;</span><br><span class="line"></span><br><span class="line">        isLeap = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">        isLeap = <span class="literal">true</span>; --i</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (offset &lt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">      offset += temp; --i</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 农历月</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> month = i</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 农历日</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> day = offset + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 天干地支处理</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> sm = m - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> gzY = <span class="title function_">toGanZhiYear</span>(year)</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 当月的两个节气</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// bugfix-2017-7-24 11:03:38 use lunar Year Param `y` Not `year`</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> firstNode = <span class="title function_">getTerm</span>(y, (m * <span class="number">2</span> - <span class="number">1</span>)) <span class="comment">// 返回当月「节」为几日开始</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> secondNode = <span class="title function_">getTerm</span>(y, (m * <span class="number">2</span>)) <span class="comment">// 返回当月「节」为几日开始</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">    <span class="comment">// 依据12节气修正干支月</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> gzM = <span class="title function_">toGanZhi</span>((y - <span class="number">1900</span>) * <span class="number">12</span> + m + <span class="number">11</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (d &gt;= firstNode) &#123;</span><br><span class="line"></span><br><span class="line">      gzM = <span class="title function_">toGanZhi</span>((y - <span class="number">1900</span>) * <span class="number">12</span> + m + <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 传入的日期的节气与否</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isTerm = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Term</span> = <span class="literal">null</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (firstNode === d) &#123;</span><br><span class="line"></span><br><span class="line">      isTerm = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">      <span class="title class_">Term</span> = solarTerm[m * <span class="number">2</span> - <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (secondNode === d) &#123;</span><br><span class="line"></span><br><span class="line">      isTerm = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">      <span class="title class_">Term</span> = solarTerm[m * <span class="number">2</span> - <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 日柱 当月一日与 1900/1/1 相差天数</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> dayCyclical = <span class="title class_">Date</span>.<span class="title function_">UTC</span>(y, sm, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>) / <span class="number">86400000</span> + <span class="number">25567</span> + <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> gzD = <span class="title function_">toGanZhi</span>(dayCyclical + d - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 该日期所属的星座</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> astro = <span class="title function_">toAstro</span>(m, d)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;lYear&#x27;</span>: year, <span class="string">&#x27;lMonth&#x27;</span>: month, <span class="string">&#x27;lDay&#x27;</span>: day, <span class="string">&#x27;Animal&#x27;</span>: <span class="title function_">getAnimal</span>(year), <span class="string">&#x27;IMonthCn&#x27;</span>: (isLeap ? <span class="string">&#x27;\u95f0&#x27;</span> : <span class="string">&#x27;&#x27;</span>) + <span class="title function_">toChinaMonth</span>(month), <span class="string">&#x27;IDayCn&#x27;</span>: <span class="title function_">toChinaDay</span>(day), <span class="string">&#x27;cYear&#x27;</span>: y, <span class="string">&#x27;cMonth&#x27;</span>: m, <span class="string">&#x27;cDay&#x27;</span>: d, <span class="string">&#x27;gzYear&#x27;</span>: gzY, <span class="string">&#x27;gzMonth&#x27;</span>: gzM, <span class="string">&#x27;gzDay&#x27;</span>: gzD, <span class="string">&#x27;isToday&#x27;</span>: isToday, <span class="string">&#x27;isLeap&#x27;</span>: isLeap, <span class="string">&#x27;nWeek&#x27;</span>: nWeek, <span class="string">&#x27;ncWeek&#x27;</span>: <span class="string">&#x27;\u661f\u671f&#x27;</span> + cWeek, <span class="string">&#x27;isTerm&#x27;</span>: isTerm, <span class="string">&#x27;Term&#x27;</span>: <span class="title class_">Term</span>, <span class="string">&#x27;astro&#x27;</span>: astro&#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> calendarFormatter= &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 传入阳历年月日获得详细的公历、农历object信息 &lt;=&gt;JSON</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">solar2lunar</span>:<span class="keyword">function</span>(<span class="params">y, m, d</span>)&#123; <span class="comment">// 参数区间1900.1.31~2100.12.31</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">solar2lunar</span>(y, m, d)</span><br><span class="line"></span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * 传入农历年月日以及传入的月份是否闰月获得详细的公历、农历object信息 &lt;=&gt;JSON</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * <span class="doctag">@param</span> y  lunar year</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * <span class="doctag">@param</span> m  lunar month</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * <span class="doctag">@param</span> d  lunar day</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * <span class="doctag">@param</span> isLeapMonth  lunar month is leap or not.[如果是农历闰月第四个参数赋值true即可]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * <span class="doctag">@return</span> JSON object</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      * <span class="doctag">@eg</span>:console.log(calendar.lunar2solar(1987,9,10));</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line"></span><br><span class="line">      <span class="attr">lunar2solar</span>: <span class="keyword">function</span> (<span class="params">y, m, d, isLeapMonth</span>) &#123; <span class="comment">// 参数区间1900.1.31~2100.12.1</span></span><br><span class="line"></span><br><span class="line">        isLeapMonth = !!isLeapMonth</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isLeapMonth &amp;&amp; (leapMonth !== m)) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125;<span class="comment">// 传参要求计算该闰月公历 但该年得出的闰月与传参的月份并不同</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (y === <span class="number">2100</span> &amp;&amp; m === <span class="number">12</span> &amp;&amp; d &gt; <span class="number">1</span> || y === <span class="number">1900</span> &amp;&amp; m === <span class="number">1</span> &amp;&amp; d &lt; <span class="number">31</span>) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125; <span class="comment">// 超出了最大极限值</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> day = <span class="title function_">monthDays</span>(y, m)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> _day = day</span><br><span class="line"></span><br><span class="line">        <span class="comment">// bugFix 2016-9-25</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// if month is leap, _day use leapDays method</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isLeapMonth) &#123;</span><br><span class="line"></span><br><span class="line">          _day = <span class="title function_">leapDays</span>(y, m)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (y &lt; <span class="number">1900</span> || y &gt; <span class="number">2100</span> || d &gt; _day) &#123; <span class="keyword">return</span> -<span class="number">1</span> &#125;<span class="comment">// 参数合法性效验</span></span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">        <span class="comment">// 计算农历的时间差</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> offset = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1900</span>; i &lt; y; i++) &#123;</span><br><span class="line"></span><br><span class="line">          offset += <span class="title function_">lYearDays</span>(i)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> leap = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> isAdd = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; m; i++) &#123;</span><br><span class="line"></span><br><span class="line">          leap = <span class="title function_">leapMonth</span>(y)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!isAdd) &#123; <span class="comment">// 处理闰月</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (leap &lt;= i &amp;&amp; leap &gt; <span class="number">0</span>) &#123;</span><br><span class="line"></span><br><span class="line">              offset += <span class="title function_">leapDays</span>(y); isAdd = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          offset += <span class="title function_">monthDays</span>(y, i)</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 转换闰月农历 需补充该年闰月的前一个月的时差</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (isLeapMonth) &#123; offset += day &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1900年农历正月一日的公历时间为1900年1月30日0时0分0秒(该时间也是本农历的最开始起始点)</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> stmap = <span class="title class_">Date</span>.<span class="title function_">UTC</span>(<span class="number">1900</span>, <span class="number">1</span>, <span class="number">30</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> calObj = <span class="keyword">new</span> <span class="title class_">Date</span>((offset + d - <span class="number">31</span>) * <span class="number">86400000</span> + stmap)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> cY = calObj.<span class="title function_">getUTCFullYear</span>()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> cM = calObj.<span class="title function_">getUTCMonth</span>() + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> cD = calObj.<span class="title function_">getUTCDate</span>()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">solar2lunar</span>(cY, cM, cD)</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  版权声明：本文为CSDN博主「AILIHEIHEI」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。</span></span><br><span class="line"><span class="comment">  原文链接：https://blog.csdn.net/qq_42780323/article/details/107202338</span></span><br><span class="line"><span class="comment">  */</span></span><br></pre></td></tr></table></figure><p>把这个文件放在 <code>[blogRoot]/themes/butterfly/source/js/lunar.js</code></p><p>然后引入弹窗js、农历js和SweetAlert库</p><p>在主题配置文件的 <code>inject</code>里面引入该js</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/lunar.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">src=&quot;/js/day.js&quot;&gt;&lt;/script&gt;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span> <span class="string">src=&quot;https://npm.elemecdn.com/sweetalert2@8.19.0/dist/sweetalert2.all.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>当然链接你也可以换成 <code>https://unpkg.com/sweetalert2@8.19.0/dist/sweetalert2.all.js</code>之类的</p><p>如果你嫌js太大的话也可以使用目前我的cdn，但是不确保以后可用:</p><p><code>/js/lunar.js</code></p><p><code>/js/day.js</code></p><p>然后 <code>hexo cl&amp;&amp;hexo g -d</code>一气呵成即可，欢迎反馈问题。</p></div></details>]]></content>
    
    
    <summary type="html">勿忘国耻，振兴中华！</summary>
    
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/categories/Hexo%E9%AD%94%E6%94%B9/"/>
    
    
    <category term="Hexo魔改" scheme="https://blog.yaria.top/tags/Hexo%E9%AD%94%E6%94%B9/"/>
    
  </entry>
  
  <entry>
    <title>关于我对现在的何同学的看法</title>
    <link href="https://blog.yaria.top/posts/45897d5c/"/>
    <id>https://blog.yaria.top/posts/45897d5c/</id>
    <published>2022-08-14T00:39:02.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning simple"><p>以下皆代表个人观点，键盘侠和喷子们勿喷，引战等影响风气的评论我有权利删除。</p></div><h1 id="怎么认识何同学的"><a class="markdownIt-Anchor" href="#怎么认识何同学的"></a> 怎么认识何同学的</h1><p>我是20年下半年才开始玩B站的，其实是因为当时小树（3D打印机，后面会介绍一下）的教程是放在B站的就研究来玩玩。</p><p>后来在何同学做了充电桌之后认识了他，当时也翻了翻何同学的许多老视频，确实都很优秀，自然就成了铁粉。</p><h1 id="对2022新视频的失望"><a class="markdownIt-Anchor" href="#对2022新视频的失望"></a> 对2022新视频的失望</h1><h2 id="第一期视频"><a class="markdownIt-Anchor" href="#第一期视频"></a> 第一期视频</h2><p>之后我就一直盼着何同学更新，终于，何同学在我过年过完回家那天晚上更新了。但是打开这个视频，我却大失所望。</p><p>新的视频没有给我带来什么震撼感，已经不能达到上期视频连我们班班主任都给我们放的水准了，质量真的挺水的。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a329091.webp" alt="2022第一期视频封面" /></p><p>《我用108天开了个灯》，你们觉得这个题目看起来很智障吗？确实，而且视频内容也很水，108天开个灯真的没必要，10天还好一点，甚至为了迎合金主爸爸——科沃斯的要求强行恰了波饭，非常违和。</p><p>所以在后面两期视频中，何同学甚至没有饭恰了，粉丝也大不如从前，掉了，播放量也是凭着以前的基础达到的。</p><p>照许多人这么说的话，就是数码肖战、赛博丁真，还有5G改变何同学的生活之类的。</p><p>然而我依旧是何同学的铁粉~~（铁不是黑的！！！）~~。</p><h2 id="第二期视频"><a class="markdownIt-Anchor" href="#第二期视频"></a> 第二期视频</h2><p>我怀着何同学能变好的希望等待着更新，下一期视频确实让我有了希望，但是又被键盘侠们喷没了。何同学多半也是顶不住一直删评。</p><p>这期视频中何同学做了不少的优秀特效和一些文案，并且回忆了很多以前的事。但是因为上期视频的影响，这群视频反响依旧糟糕。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a44ef17.webp" alt="2022第二期视频封面" /></p><h2 id="第三期视频"><a class="markdownIt-Anchor" href="#第三期视频"></a> 第三期视频</h2><p>到了第三期视频，我已经对何同学大失所望了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a542b4d.webp" alt="2022第三期视频封面" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca12a645437.webp" alt="" /><img src="https://bu.dusays.com/2023/01/20/63ca12a7a7c2b.webp" alt="" /></p><p>这期视频的键盘就是很一般，虽然想法有一点创意，但是实际效果一般，由一根小拇指不舒服生拉硬套扯到了北京奥运会的活字印刷，然后说想蹭冬奥会热度。</p><p>然而这个键盘被稚辉君的那个吊打，要麻烦就麻烦，要发热就发热，要高就高，要不舒服就不舒服，而且没什么功能，也没有段落感，实际上何同学的键盘没有任何这样的必要折腾。</p><h1 id="为什么会这样"><a class="markdownIt-Anchor" href="#为什么会这样"></a> 为什么会这样</h1><p>由此可见何同学现在除了那个3D打印机那个视频不错以外，另外几个都很水。</p><p>感觉何同学现在基本上只有剪辑和后期能力了，自己被资本吸引着没有创意。</p><p>何同学现在已经变成了想蹭手工耿的热度的up了，更主要的是何同学并没有合适的能力，只是一个普通的211毕业生而已，创意也不多，稚辉君的能力比不上，手工耿的创意比不上，虽然在视频中所说何同学是因为热爱这些东西所做，但是有这么多粉丝难免非常难这样解释，粉丝们一次的要求比一次高，何同学的视频一次比一次差，大家的耐心消耗殆尽，何同学都掉粉了。</p><p>希望何同学能回到数码评测这行。</p><p>那么思考一个问题，为什么曾经何同学做数码评测能火？</p><p>看看何同学以前的视频：</p><p>何同学以前每一期的格式大概是这样的：</p><p>先是引出这个产品，然后介绍它并且做一些对比，再介绍这个产品的一些有趣功能，然后利用这个功能做出一些有意思的东西，然后升华主题。</p><p>对吧？逻辑通顺条理清晰。这样的格式也是曾经何同学让普通人感受到科技的趣味而不是硬核乏味，也有人文情怀。</p><p>如今却转行手工，这并不是一个优秀的选择，没法给粉丝们交上一份满意的答卷，论个人爱好，在资本的包装下，已经是为了钱财而这样做了。</p><p>所以何同学被很多人喷。</p><p>赛博丁真这个称呼，是因为一个叫丁真的人，因为长得好看但是没啥能力走红，然后火了之后发现没啥能力就给喷了，这么说何同学就是搞数码的“丁真”了，被叫做赛博丁真。</p><p>数码肖战这个称呼是因为何同学被饭圈化的原因。</p><p>其实我作为铁粉还是挺反感这些称呼的，我也更希望何同学回归从前让喷子无处可喷。</p><p>由于文笔不好，这篇文章难免会有逻辑不通顺的问题，见谅</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning simple&quot;&gt;&lt;p&gt;以下皆代表个人观点，键盘侠和喷子们勿喷，引战等影响风气的评论我有权利删除。&lt;/p&gt;
&lt;/div&gt;
&lt;h1 id=&quot;怎么认识何同学的&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#怎</summary>
      
    
    
    
    <category term="随笔" scheme="https://blog.yaria.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>GoormIDE封号原因分析以及解决办法</title>
    <link href="https://blog.yaria.top/posts/3ee11b0f/"/>
    <id>https://blog.yaria.top/posts/3ee11b0f/</id>
    <published>2022-08-12T00:30:50.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning simple"><p>在看本文章之前，请尽快登录后台备份你的网站数据库和文件夹并且备份到本地！你的账号随时有ban的可能！后面慢慢看都没关系。</p></div><p>今天一早起来本来要在Goorm上面研究MC服务器搭建的，看到可以用Rclone挂载Onedrive网盘，刚好前几天搞了一个E5 5T，准备搞一个放存档，结果下软件一直killed，然后宝塔ssh下一半突然连不上了，以为只是服务器出了小bug，结果刷新直接404了，然后我紧随着就收到了我被ban掉的邮件，好家伙，我以为我不会被封的，goorm这波直接在大气层。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13607a563.webp" alt="1660264550749" /></p><p>先说明一下，我有1个大号2个小号，因为goorm只能同时运行一个容器而且一个容器的性能存储太差，就开了小号。</p><p>目前1号服务器在运行<a href="https://tc.yaria.top">typecho博客</a>，我也把<a href="https://vps.yaria.top">hexo博客</a>扔上去了，不过速度一般就没怎么考虑。</p><p>2号服务器运行着<a href="https://mc.yaria.top">Minecraft服务器</a>和<a href="https://oj.yaria.top">OJ</a>，这就是我今天被ban的那个小号的服务器。</p><p>3号运行着<a href="https://yisous.tk">短链服务</a>和<a href="https://bbs.yaria.top">论坛</a>。</p><p>所幸数据损失不大，因为数据前面全部丢了，2号vps的数据基本上没有，只有软件，1号的typecho本体和数据库已经备份，3号的短链服务和数据库也已经备份，随时可以跑路。</p><p>我去官网申请了解封（被ban之后登录就是），理由是用我一年级到初一上册学的散装英语（其实还行就是实际使用能力不够）写的</p><p><img src="https://bu.dusays.com/2023/01/20/63ca136234457.webp" alt="1660265105243" /><img src="https://bu.dusays.com/2023/01/20/63ca13632b888.webp" alt="1660265116506" /></p><p>我是这样写的，大家可以照抄试试看看能不能解封（主要是看你被ban的时候在干什么，一定用英语或者韩文写（不会韩文就用英语就行了，你用中文多半给你永封，哪家公司不怕国人把他们薅爆啊））：</p><p><code>i just download a package in web and install is for my develop,but i don't know now my account is banned.</code></p><p>然后提交。因为今天是星期五，所以工作人员很快就解封了，大概只用了10分钟左右我就收到了解封邮件，赶紧进去备份了数据。</p><h1 id="为什么被封号"><a class="markdownIt-Anchor" href="#为什么被封号"></a> 为什么被封号</h1><p>现在研究一下为什么被封号吧，下一次小心一点。</p><p>Goorm的服务条款什么都没写，让你不要挖矿搞黄色违法对吧。</p><p>可是呢，我太天真了，Okteto还算老实，这个goorm呢就离谱了。它把封号原因写在了帮助文档的一个极其隐蔽的地方，我翻了很久帮助文档都没看到就离谱。</p><p>在邮件里面，官方说的原因是Malware detection，即恶意软件检测。</p><p>然后具体为什么被封号，在你封号登录的下方就有，就是那个What kind of program is blocked里面，我也放出链接，大家可以自己理解一下：</p><a class="tag-Link" target="_blank" href="https://help.goorm.io/en/goormide/18.faq/general/why-blocked">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/help.goorm.io/en/goormide/18.faq/general/why-blocked.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">I don't know why i am blocked - goorm</div>            <div class="tag-link-sitename">GoormIDE</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><details class="toggle" ><summary class="toggle-button" style="">点击查看官网原文</summary><div class="toggle-content"><h1 id="i-dont-know-why-i-am-blocked"><a class="markdownIt-Anchor" href="#i-dont-know-why-i-am-blocked"></a> I don’t know why i am blocked.</h1><p>If the following program is detected to run, you will be blocked about using goormIDE</p><table><thead><tr><th>Program type</th><th>Reason</th></tr></thead><tbody><tr><td>DDoS tool</td><td>Used in malicious acts</td></tr><tr><td>DNS server</td><td>Used in malicious acts</td></tr><tr><td>Exploit</td><td>Used in malicious acts</td></tr><tr><td>Malicious mail sender</td><td>Used in malicious acts</td></tr><tr><td>Miner</td><td>Affects service operations adversely due to high computing resources</td></tr><tr><td>Scanner</td><td>Used in malicious acts</td></tr><tr><td>Proxy server</td><td>Affects service operations adversely due to high computing resources</td></tr><tr><td>Messenger</td><td>High compute and network resource consumption</td></tr><tr><td>File Uploader &amp; Downloader</td><td>Affects service operations adversely due to high computing resources</td></tr><tr><td>Browser</td><td>Affects service operations adversely due to high computing resources</td></tr><tr><td>Cryptocurrency trading bot</td><td>Affects service operations adversely due to high computing resources</td></tr></tbody></table></div></details><p>然后我结合机翻和自己的理解和英语能力大概翻译了以下这个表格</p><details class="toggle" ><summary class="toggle-button" style="">点击查看翻译内容</summary><div class="toggle-content"><h1 id="我不知道我为什么被封号了"><a class="markdownIt-Anchor" href="#我不知道我为什么被封号了"></a> 我不知道我为什么被封号了</h1><p>如果检测到以下程序正在运行，您将会被暂时封号并无法使用GoormIDE。</p><table><thead><tr><th>程序类型</th><th>原因</th></tr></thead><tbody><tr><td>DDoS攻击工具<br /><s>（博主PS：这玩意性能太差了吧）</s></td><td>用于恶意行为</td></tr><tr><td>DNS服务器<br /><s>（博主PS：谁会用这个垃圾玩意做解析啊，根本不可能）</s></td><td>用于恶意行为</td></tr><tr><td>利用漏洞<br />（博主PS：比如像是破解啥的）</td><td>用于恶意行为</td></tr><tr><td>垃圾/恶意邮件发送服务<br />（博主PS：就是广告和骚扰）</td><td>用于恶意行为</td></tr><tr><td>矿机</td><td>占用性能，影响正常服务运行</td></tr><tr><td>扫描器<br />（博主：应该是处理图像的AI？搞不懂）</td><td>用于恶意行为</td></tr><tr><td>代理服务器<br />（博主PS：科学上网所用，不可言喻之物）</td><td>占用性能，影响正常服务运行（博主：自用不占啥性能的吧）</td></tr><tr><td>Messenger<br />（博主：邮件转发服务器还是说Messenger软件的机器人？）</td><td>高计算和网络资源消耗</td></tr><tr><td>下载文件和上传文件服务器</td><td>占用性能，影响正常服务运行</td></tr><tr><td>浏览器<br />（博主：浏览器占什么性能?服务器或者说IDE当成浏览器用？）</td><td>高计算和网络资源消耗</td></tr><tr><td>加密货币交易机器人</td><td>占用性能，影响正常服务运行</td></tr></tbody></table></div></details><p>这个翻译也是够头疼，根据拾贰的推测来看，是因为Cloudflare Tunnel判断为代理服务器，不过我认为这个服务器顶多是个代理客户端而已，当时我正在下载deb包，wget被killed，我认为也很有可能是因为下载上传文件过多误识别的原因，cloudflare tunnel也不是不可能。</p><p>当然不太可能是搭服务器，不然goorm官方都支持开放端口自带wordpress也是离谱了。</p><p>Cloudflare Tunnel已经不建议搭建，尽量少下载上传文件，安装软件尽量使用git和apt。</p><h1 id="如何解决"><a class="markdownIt-Anchor" href="#如何解决"></a> 如何解决</h1><p>建议尽快备份文件和数据库，如果你也被封号了的话，就先申请解封，然后再看看。</p><p>建议尽早换用其它平台，不过目前没有找到其它的这么方便的免费vps了，你也可以搞信用卡去嫖aws/oracle/azure/gcp之类的，不过只有一年，还是建议买vps，免费的才是最贵的。</p><p>祝大家早日拥有一个适合自己的VPS！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning simple&quot;&gt;&lt;p&gt;在看本文章之前，请尽快登录后台备份你的网站数据库和文件夹并且备份到本地！你的账号随时有ban的可能！后面慢慢看都没关系。&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;今天一早起来本来要在Goorm上面研究MC服务器搭建的，看</summary>
      
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
    <category term="goorm" scheme="https://blog.yaria.top/tags/goorm/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft365E5白嫖不完整指北（有好东西）</title>
    <link href="https://blog.yaria.top/posts/29b0359b/"/>
    <id>https://blog.yaria.top/posts/29b0359b/</id>
    <published>2022-08-09T07:05:07.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning flat"><p>警告：</p><p>坊间传闻，大概从2023年4月左右开始，因AI原因，微软开始了大面积的365E5强制过期/封号，尤其是使用了脚本（尤其是加入了黑名单的）的，过期后基本无解，除了转收费版，要不就在彻底删除前备份数据才有救了。(/▽＼)</p><p>本人已经中招，建议不要白嫖，还是花点小钱，或者推荐KMS激活并用OTP改Mondo2016</p><p>但是，白嫖依然万岁！！！AwA</p><p><s>小学机房毛的Office2019家庭版还在呢</s></p></div><h1 id="之前的一些事"><a class="markdownIt-Anchor" href="#之前的一些事"></a> 之前的一些事</h1><p>很早以前（大约2019年的时候）在拼夕夕上面买了个office365账号，存活了很久，但是显然问题不少。网盘没法用，还怕被控制，现在也是寿终正寝，登录不了了。还是想自己弄一个来，最开始选择的是教育版，找了很多教程，最后用的是一个临时邮箱注册的，可是却加入不了域，没多久就被管理员删号了。</p><p>于是我就自己弄了一个Microsoft365E5，E5是给开发者用的，用于开发，订阅能管90天，但你要定期使用用它们的API才能续期，后面我会放出自动续期的部署教程，使用我自己写的python代码，使用Vercel实现，方便部署。</p><h1 id="申请沙盒"><a class="markdownIt-Anchor" href="#申请沙盒"></a> 申请沙盒</h1><p>进入这个链接，点击立即加入，登录你的Microsoft个人账户，没有的话可以注册<code>&lt;del class=&quot;noheimu&quot;&gt;</code>（win10和11都普及了还有人居然没有ms账户？）。<code>&lt;/del&gt;</code></p><a class="tag-Link" target="_blank" href="https://developer.microsoft.com/zh-cn/microsoft-365/dev-program">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/developer.microsoft.com/zh-cn/microsoft-365/dev-program.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Microsoft开发人员计划申请</div>            <div class="tag-link-sitename">Microsoft</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p><img src="https://bu.dusays.com/2023/01/20/63ca132eee8ff.webp" alt="1660033409614" /></p><p>然后按照下图输入信息，一路下一步。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133033216.webp" alt="1660033559082" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1331356a8.webp" alt="1660033616635" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca13322f7aa.webp" alt="1660033668080" /></p><p>首次注册会进入一个配置沙盒的页面，</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133345811.webp" alt="1660037786677" /></p><p>这个沙盒其实就是你的订阅，然后初始化管理员和账户，如下图：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1334545e5.webp" alt="1660037853830" /></p><p>然后等一会<s>好东西就要来了，这可能需要亿分钟，请滚回功率，坐和放宽</s>，沙盒就成功创建了。</p><h1 id="一些其它的设置"><a class="markdownIt-Anchor" href="#一些其它的设置"></a> 一些其它的设置</h1><p>按理来说，现在你就可以在Microsoft365中登录账号并且启用许可证了，当然有一些东西你要自己改改最好。</p><h2 id="自定义域名"><a class="markdownIt-Anchor" href="#自定义域名"></a> 自定义域名</h2><p>如果你想要更容易记住的账户，可以看看这个教程。</p><p>进入这个链接：</p><a class="tag-Link" target="_blank" href="https://admin.microsoft.com/Adminportal/Home?#/Domains">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/admin.microsoft.com/Adminportal/Home?#/Domains.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">更改Microsoft 365 E5内部账号域名</div>            <div class="tag-link-sitename">Microsoft</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><h3 id="自定义onmicrosoft域名"><a class="markdownIt-Anchor" href="#自定义onmicrosoft域名"></a> 自定义onmicrosoft域名</h3><p>进入上面的链接，选择你的初始onmicrosoft域名，进去之后会显示一个添加onmicrosoft域（预览），点击按指引操作即可。</p><h3 id="自定义成自己的域名"><a class="markdownIt-Anchor" href="#自定义成自己的域名"></a> 自定义成自己的域名</h3><p>进入上面的链接，点击添加域，进入添加界面。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13356b980.webp" alt="1660087163722" /></p><p>输入你的域名（最好是二级域名，以免冲突），点击使用此域</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1336a5647.webp" alt="1660087159540" /></p><p>验证界面默认会让你使用cloudflare验证，如果不是，选择另一个域主机，看样子支持国内大部分的解析服务商。如果没有就选择其它按照指引操作吧。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1337b94a5.webp" alt="1660087369518" /></p><p>点击验证，然后进入授权页面授权就好了。</p><p>然后一路下一步，添加dns记录的时候再授权一遍即可。</p><h3 id="改邮箱"><a class="markdownIt-Anchor" href="#改邮箱"></a> 改邮箱</h3><p>要使用自定义域名，你还需要设置账户的邮箱。</p><p>进入</p><a class="tag-Link" target="_blank" href="https://admin.microsoft.com/Adminportal/Home?#/users">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/admin.microsoft.com/Adminportal/Home?#/users.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">账户管理</div>            <div class="tag-link-sitename">Microsoft</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>按照下图操作：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1338de9e5.webp" alt="1660088810761" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1339ed8a6.webp" alt="1660088878242" /></p><p>添加之后最好设为主邮箱，然后保存更改。</p><p>添加好之后，你就可以用你的名字@你的域名来登录了</p><p>进入Office，登录账户，反复重启激活，成功！</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133b15363.webp" alt="1660089240424" /></p><h1 id="修改onedrive大小"><a class="markdownIt-Anchor" href="#修改onedrive大小"></a> 修改Onedrive大小</h1><p>E5有整整5T的空间欸！不利用好可惜了，不过e5默认是1t大小，要改成5t。</p><p>进入 {你的默认分配组织名字(就是默认邮件地址的onmicrosoft前面的那个)}.+ <a href="https://admin.sharepoint.com/_layouts/15/online/AdminHome.aspx#/settings/OneDriveStorageQuota">admin.sharepoint.com/_layouts/15/online/AdminHome.aspx#/settings/OneDriveStorageQuota</a>这个链接，在右侧栏中输入5120，保存即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133c1b8eb.webp" alt="1660089618540" /></p><h1 id="续期"><a class="markdownIt-Anchor" href="#续期"></a> 续期</h1><p>注：目前的续期方式都不是永久的，因为现在的Azure Client Secret已经变成有效期最多两年了，到期之后需要去官网换一个密钥重新部署。</p><p><s>告诉你们一件事，之前KBY的E5到期之后居然自动续期了，而且调用过任何API，非常玄幻。</s></p><h2 id="vercel部署方式推荐"><a class="markdownIt-Anchor" href="#vercel部署方式推荐"></a> Vercel部署方式（推荐）</h2><p>博主一直在研究Microsoft 365 API，现在程序还没写出来，所以暂时推荐用下面的方法。</p><p>（PS：Vercel-Alist）</p><h2 id="在线续期网站"><a class="markdownIt-Anchor" href="#在线续期网站"></a> 在线续期网站</h2><p>这个网站可以实现自动续期功能，不一定有安全性和稳定性。</p><p>（23.5.21 upd：）目前作者因考虑到形势原因已经关停网站。</p><p>进入这个网站登录:</p><a class="tag-Link" target="_blank" href="https://e5.qyi.io">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/e5.qyi.io.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">E5在线续期-登录</div>            <div class="tag-link-sitename">e5.qyi.io</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>点击这个小猫猫头像登录，会自动跳转到Gtihub授权。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133cdefe1.webp" alt="1660101977763" /></p><p>登录成功后，返回个人中心，点击新建，输入一个名字。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133de1805.webp" alt="1660102119447" /></p><p>然后你需要一个CLIENT_ID和CLIENT_SECRET，以下是申请方式。</p><h2 id="获取client_id"><a class="markdownIt-Anchor" href="#获取client_id"></a> 获取CLIENT_ID</h2><p>进入Azure门户（官方这么翻译的）</p><a class="tag-Link" target="_blank" href="https://portal.azure.com">    <div class="tag-link-tips">引用站外地址</div>    <div class="tag-link-bottom">        <div class="tag-link-left" style="background-image: url(https://api.iowen.cn/favicon/portal.azure.com.png);"></div>        <div class="tag-link-right">            <div class="tag-link-title">Microsoft Azure</div>            <div class="tag-link-sitename">Microsoft</div>        </div>        <i class="fa-solid fa-angle-right"></i>    </div>    </a><p>按照这样操作：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca133f18df5.webp" alt="1660107884593" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca13403864a.webp" alt="1660107914595" /></p><p>重定向URI必须写成<code>&lt;a href=&quot;https://e5.qyi.io/outlook/auth2/receive&quot;&gt;</code><a href="https://e5.qyi.io/outlook/auth2/receive%60">https://e5.qyi.io/outlook/auth2/receive`</a></a>`否则登录会报错</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134163472.webp" alt="1660108030329" /></p><p>注册之后返回刚刚的应用注册界面，复制应用程序（客户端）ID。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134251c46.webp" alt="1660108177756" /></p><p>我们还需要一个密钥，点进你的应用，选择证书和密码，点击新客户端密码，</p><p><img src="https://bu.dusays.com/2023/01/20/63ca13436559e.webp" alt="1660108273717" /></p><p>然后在右侧添加，时间选24个月，所以两年之后你要来换一个。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1344747b2.webp" alt="1660108341695" /></p><p>然后复制值</p><p><img src="https://bu.dusays.com/2023/01/20/63ca134555141.webp" alt="1660108399118" /></p><p>确保两个数据都在剪贴板里面，回到续期配置个人中心，点击应用右边的配置，输入你刚刚复制的ID和Secret，调用时间默认，最后授权即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1347117d3.webp" alt="1660108495470" /></p><p>享受5T超大Onedrive和Office完整版的快乐吧！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;note warning flat&quot;&gt;&lt;p&gt;警告：&lt;/p&gt;
&lt;p&gt;坊间传闻，大概从2023年4月左右开始，因AI原因，微软开始了大面积的365E5强制过期/封号，尤其是使用了脚本（尤其是加入了黑名单的）的，过期后基本无解，除了转收费版，要不就在彻底删除前备</summary>
      
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
  </entry>
  
  <entry>
    <title>Goorm的VPS白嫖（4）-搭建MCSManger面板服</title>
    <link href="https://blog.yaria.top/posts/8245da27/"/>
    <id>https://blog.yaria.top/posts/8245da27/</id>
    <published>2022-08-07T23:36:49.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>咕咕咕。。。</p><p>goormide的内存较小，只能搭建较老版本的服务器，1.13以下应该没问题</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;咕咕咕。。。&lt;/p&gt;
&lt;p&gt;goormide的内存较小，只能搭建较老版本的服务器，1.13以下应该没问题&lt;/p&gt;
</summary>
      
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
    <category term="goorm" scheme="https://blog.yaria.top/tags/goorm/"/>
    
  </entry>
  
  <entry>
    <title>GoormIDE的VPS白嫖（3）- 自定义域名教程</title>
    <link href="https://blog.yaria.top/posts/ec12b762/"/>
    <id>https://blog.yaria.top/posts/ec12b762/</id>
    <published>2022-08-03T02:45:47.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>因为goorm不能自定义域名，所以后来研究了很多方法，后来发现有个很好用的cloudflared隧道，研究出来了方法，就写了这篇文章，算是<a href="https://hehysh.vercel.app/posts/36990.html">拾贰的教程</a>的升级版（因为有点麻烦）。</p><div class="note info simple"><p>由于未知原因，本教程不适用于wordpress，其它大部分服务可以正常使用（实测hexo、minecraft、网站监测等服务可以正常完美使用）。</p><p>此教程要求你使用cloudflare的dns，如果不是，请换成cloudflare来解析，不然不能绑定（可以自己用partner或者之前<a href="https://blog.yaria.top/posts/e433f3d.html">那篇文章</a>的类似的蒙混过关法，he不知可否）</p></div><p>不知道为什么我选了免费计划他要绑定信用卡，不过这个教程甚至不需要你进入zero trust仪表板就能完成。</p><div class="note warning simple"><p><del class="noheimu">本教程有封号风险，因为上次okteto已经因为搭隧道封了号，虽然goorm没说，但谁确定呢？</del></p></div><div class="note warning simple"><p>2022-8-11更新：</p><p>不建议使用该教程！目前拾贰已经封号了，具体原因还在查明中，可能是因为搭建隧道的原因。</p><p>在我确认之前建议不要使用，我的账号目前没有被ban。</p><p>免费的才是最贵的！建议购买付费VPS，至少也要是那种大厂用绑定信用卡才行的。</p><p>不推荐Okteto、Railway、Github Actions等基于k8e的CI容器，一旦重新部署容易删数据，且稳定性不高。</p><p>如果只是想用Typecho的话可以考虑Vercel部署+稳定的云数据库。</p></div><h1 id="介绍"><a class="markdownIt-Anchor" href="#介绍"></a> 介绍</h1><p>cloudflare tunnel是cloudflare推出的隧道内网穿透平台，只支持使用自家dns服务器的域名，原名argo tunnel，归并于cloudflare zero trust中，cloudflared是其客户端软件</p><h1 id="下载cloudflared软件"><a class="markdownIt-Anchor" href="#下载cloudflared软件"></a> 下载cloudflared软件</h1><p>首先要下载cloudflared软件。</p><p>进入终端，输入这串指令安装cloudflared</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/cloudflare/cloudflared/releases/download/2022.7.1/cloudflared-linux-amd64.deb</span><br><span class="line">dpkg -i ./cloudflared-linux-amd64.deb</span><br><span class="line"><span class="built_in">rm</span> ./cloudflared-linux-amd64.deb</span><br></pre></td></tr></table></figure><p>然后输入 <code>cloudflared -v</code>检测安装是否成功。</p><p>如果提示下面的内容，说明成功运行。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122599354.webp" alt="1659499308874" /></p><p>当然wget后面的deb包链接同样可以通过官方github仓库（cloudflare/cloudflared）的release的latest版本的附带包中找到。</p><h1 id="配置隧道"><a class="markdownIt-Anchor" href="#配置隧道"></a> 配置隧道</h1><p>输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel login</span><br></pre></td></tr></table></figure><p>会显示一个链接，进入这个链接，登录并授权cloudflare账号，然后选择一个你需要穿透的域名，这个域名务必是通过验证可以正常用cloudflare解析的域名。</p><p>然后可以配置隧道了，这些隧道配置都在cli中即可完成。</p><p>一些常规的配置：</p><p>创建隧道：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel create 隧道名</span><br></pre></td></tr></table></figure><p>删除隧道：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel delete 隧道名</span><br></pre></td></tr></table></figure><p>列出隧道：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel list</span><br></pre></td></tr></table></figure><p>配置隧道（配置会一直保存）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel route dns 隧道名 [CNAME 记录名称].[接入 Cloudflare 的域名]</span><br></pre></td></tr></table></figure><p>运行隧道：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel run --url https://127.0.0.1:http端口号 隧道名字</span><br></pre></td></tr></table></figure><p>以博主的为例。</p><p>博主的hexo博客在端口233（真的），想部署在vps.yaria.top这个域名上面，就这样操作。</p><p>先输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel create hexoblog <span class="comment">#创建一个名为hexoblog的隧道</span></span><br></pre></td></tr></table></figure><p>然后输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel route dns hexoblog vps.yaria.top <span class="comment">#hexoblog这个隧道映射到vps,yaria.top这个域名</span></span><br></pre></td></tr></table></figure><p>最后输入以下这串来测试隧道运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cloudflared tunnel run --url https://127.0.0.1:233 hexoblog <span class="comment">#启动hexoblog这个隧道，映射端口233到指定域名</span></span><br></pre></td></tr></table></figure><p>启动隧道之后访问设置的域名，就可以进入你的网站了。</p><h1 id="配置apache"><a class="markdownIt-Anchor" href="#配置apache"></a> 配置Apache</h1><p>除此之外，还要再宝塔的站点部分添加新的自定义域名，才能正常使用，按照下图操作</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122690f6c.webp" alt="1659501476381" /></p><h1 id="正式使用隧道"><a class="markdownIt-Anchor" href="#正式使用隧道"></a> 正式使用隧道</h1><p>因为你不可能一直守着终端，所以需要后台运行并且守护进程。</p><p>可以使用nohup后台运行，</p><p>先检测nohup是否安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> --version</span><br></pre></td></tr></table></figure><p>如果输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">nohup (GNU coreutils) 8.28</span><br><span class="line">Copyright (C) 2017 Free Software Foundation, Inc.</span><br><span class="line">License GPLv3+: GNU GPL version 3 or later &lt;https://gnu.org/licenses/gpl.html&gt;.</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">Written by Jim Meyering.</span><br></pre></td></tr></table></figure><p>说明已经安装，否则请输入 <code>apt-get install nohup</code>安装。</p><p>安装之后把指令改为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> cloudflared tunnel run --url https://127.0.0.1:http端口号 隧道名字 &amp;</span><br></pre></td></tr></table></figure><p>即可后台运行。然后输入 <code>exit</code>安全退出终端即可</p><p>你还可以用宝塔的计划任务实现，不再赘述。</p><p>下次更新Minecraft服务器教程~~（为什么现在不更因为博主还是没搞定就是连不上端口ip各种问题）~~，这个系列也算是完结了，至于oj的话，因为问题很多，所以我想独立出这个系列来发文。</p><p>等成熟之后我会将更快的vps站作为主站，并且搞定oj和MC服务器，至少有一个完整的<s>生态链</s>体验了。</p><h1 id="反代"><a class="markdownIt-Anchor" href="#反代"></a> 反代</h1><p>还可以用CFWorker反代，这种就只能支持一般的网页了。</p><h1 id="隐性转发"><a class="markdownIt-Anchor" href="#隐性转发"></a> 隐性转发</h1><p>也只支持一般网页，具体自查，影响SEO，不过优点是速度比前面CF的代理快。</p>]]></content>
    
    
    <summary type="html">钻空子？</summary>
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
    <category term="goorm" scheme="https://blog.yaria.top/tags/goorm/"/>
    
  </entry>
  
  <entry>
    <title>GoormIDE的VPS白嫖（2）-搭配宝塔面板搭建你的wordpress或Hexo服务器</title>
    <link href="https://blog.yaria.top/posts/bbc95d58/"/>
    <id>https://blog.yaria.top/posts/bbc95d58/</id>
    <published>2022-07-28T06:00:32.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>上期安装了宝塔面板，这次就来弄一下服务器吧。其实宝塔面板安装这些东西都差不多，让我们开始吧。</p><h1 id="安装lamp环境"><a class="markdownIt-Anchor" href="#安装lamp环境"></a> 安装LAMP环境</h1><p>按照账号密码与安全入口登录并进入宝塔面板，注册一个宝塔账号并绑定，就可以看到宝塔面板的界面了。</p><p>在一般情况下，宝塔会弹出建议安装的软件的界面（不知道为什么我没有），选择LAMP环境，对应Wordpress友好，安装成功率也更高，但是时间长、性能开销高。LNMP的话，问题就是我按照LNMP安装时Nginx老是安装失败。根据你的想法来装吧，PHP版本一定选最新，其余默认，不需要Ftpd（常传文件可以加）。（网图侵删）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122785753.webp" alt="1658992046876" /></p><p>如果你不需要搭建动态网页，可以不选择MySQL和PHP、phpMyAdmin这几个选项。</p><p>然后极速安装即可。如果没有的话，就去软件商店一个一个搜索点安装也行。</p><h1 id="安装的一些问题"><a class="markdownIt-Anchor" href="#安装的一些问题"></a> 安装的一些问题</h1><h2 id="安装速度"><a class="markdownIt-Anchor" href="#安装速度"></a> 安装速度</h2><p>由于服务器性能一般，安装非常漫长，而且是从国内服务器下载到韩国服务器再编译，速度真的很慢。</p><p>我的信息：</p><p>Apache安装失败3次，成功那一次用时1700+秒，并且还有问题（见上一篇）。</p><p>MySQL安装失败9次，不同版本都试过，包括MariaDB和MySQL5.x、8.x，最后一次用时2700+秒。</p><p>PHP安装一次成功，用时700+秒.</p><p>phpMyadmin安装一次成功，用时1500+秒。</p><p>Nginx1.22无法安装，使用小号MC服务器安装了1.18，成功，用时133秒。</p><h2 id="安装失败怎么办"><a class="markdownIt-Anchor" href="#安装失败怎么办"></a> 安装失败怎么办</h2><h3 id="一些解决方案"><a class="markdownIt-Anchor" href="#一些解决方案"></a> 一些解决方案</h3><p>安装失败一般就是几十秒就显示成功，或者启动服务失败，或者终端有Error提示，说明安装失败了。</p><p>有时安装失败是网络原因，有时是玄学原因，还有是某些版本的bug或者环境要求不满足。</p><p>首先再试几遍，就能排除前两种可能，如果再试不行的话，就要考虑34了。</p><p>34的话就可以尝试更换一些更稳定的版本或者老版本（比如Nginx1.22不能用换成1.18）。</p><p>如果都不行的话，你就要清除残留再试了。</p><h3 id="清除残留的教程"><a class="markdownIt-Anchor" href="#清除残留的教程"></a> 清除残留的教程</h3><p>不同环境清除方法不同，我给出几个容易出错的来解决。</p><h4 id="进入命令行"><a class="markdownIt-Anchor" href="#进入命令行"></a> 进入命令行</h4><p>清除残留的工作大部分只能用命令行解决。</p><p>如何进入命令行呢？</p><p>第一种就是用官方终端，就是那个可以单独进入或者用IDE内置的（单独的终端有滚动界限bug，下面的东西看不到，要手动输入clear清除）。</p><p>第二种就是自己连SSH了。</p><p>第三种就是用宝塔终端，因为这个较为方便，以后都会用这个终端。</p><p>进入宝塔的自带终端，默认无法自动认证，这时可以输入goorm给的SSH密码，其余不变，即可登录。</p><p>SSH密码的获取教程在<a href="/posts/14740f7c.html">上一篇教程</a>里面写有。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12283f59d.webp" alt="1658993077003" /></p><h4 id="mysql"><a class="markdownIt-Anchor" href="#mysql"></a> MySQL</h4><p>MySQL的修复教程网上很多，这里不赘述，推荐一篇</p><p><a href="https://blog.csdn.net/weixin_47156401/article/details/121089118">Ubuntu 彻底清除 MySQL 配置和残留数据(非常实用)_一米九零小胖子的博客-CSDN博客_ubuntu清除mysql</a></p><p>为了方便大家不经常跳转，我把原文放上来：</p><details class="toggle" ><summary class="toggle-button" style="">原文</summary><div class="toggle-content"><h3 id="1-删除-mysql"><a class="markdownIt-Anchor" href="#1-删除-mysql"></a> 1、删除 MySQL ；</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get remove mysql-*</span><br></pre></td></tr></table></figure><h3 id="2-清理残留数据"><a class="markdownIt-Anchor" href="#2-清理残留数据"></a> 2、清理残留数据；</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l |grep ^rc|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> |<span class="built_in">sudo</span> xargs dpkg -P</span><br></pre></td></tr></table></figure><h3 id="3-移除apparmor"><a class="markdownIt-Anchor" href="#3-移除apparmor"></a> 3、移除apparmor；</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l |grep ^rc|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> |<span class="built_in">sudo</span> xargs dpkg -P</span><br></pre></td></tr></table></figure><p>该三个过程中如果弹出对话框，一路回车即可；</p></div></details><p>其实清除MySQL残留不难，需要博主补充说明的一点是，由于MySQL有MariaDB的分支，如果你安装了这个版本的话，那么你不仅要执行第一句，还要加上：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get remove mariadb-*</span><br></pre></td></tr></table></figure><h4 id="apache"><a class="markdownIt-Anchor" href="#apache"></a> Apache</h4><p>同样引用文章：</p><p><a href="https://blog.csdn.net/chenghai37/article/details/80646684">Ubuntu 彻底删除apache_ChengHai37的博客-CSDN博客_ubuntu卸载apache</a></p><details class="toggle" ><summary class="toggle-button" style="">原文</summary><div class="toggle-content"><ol><li>删除apache</li></ol><p>代码:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get --purge remove apache-common</span><br><span class="line"><span class="built_in">sudo</span> apt-get --purge remove apache</span><br></pre></td></tr></table></figure><ol start="2"><li>找到没有删除掉的配置文件，一并删除</li></ol><p>代码:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> find /etc -name <span class="string">&quot;apache&quot;</span> |xargs  <span class="built_in">rm</span> -rf</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /var/www</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /etc/libapache2-mod-jk</span><br></pre></td></tr></table></figure><ol start="3"><li>删除关联，这样就可以再次用apt-get install apache2 重装了</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep apache2 | awk<span class="string">&#x27;&#123;print $ 2&#125;&#x27;</span>| xargs dpkg -P</span><br></pre></td></tr></table></figure></div></details><h4 id="php"><a class="markdownIt-Anchor" href="#php"></a> PHP</h4><p>还是引用文章：</p><p><a href="https://blog.csdn.net/weixin_43885417/article/details/84873721">完全卸载PHP，重新安装_坏小哥的博客-CSDN博客_linux 重装php</a></p><details class="toggle" ><summary class="toggle-button" style="">原文</summary><div class="toggle-content"><h5 id="卸载以php7为例"><a class="markdownIt-Anchor" href="#卸载以php7为例"></a> 卸载（以php7为例）</h5><h6 id="删依赖包"><a class="markdownIt-Anchor" href="#删依赖包"></a> 删依赖包：</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get autoremove php + 你的版本号+（如：<span class="built_in">sudo</span> apt-get autoremove php7）</span><br></pre></td></tr></table></figure><h6 id="删关联"><a class="markdownIt-Anchor" href="#删关联"></a> 删关联：</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> find /etc -name <span class="string">&quot;php&quot;</span> |xargs  <span class="built_in">rm</span> -rf</span><br></pre></td></tr></table></figure><h6 id="清除dept列表里的残留信息"><a class="markdownIt-Anchor" href="#清除dept列表里的残留信息"></a> 清除dept列表里的残留信息：</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt purge dpkg -l | grep php| awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span> |<span class="built_in">tr</span> <span class="string">&quot;\n&quot;</span> <span class="string">&quot; &quot;</span></span><br></pre></td></tr></table></figure><h6 id="检查一下是否卸载干净如无返回即干净卸载"><a class="markdownIt-Anchor" href="#检查一下是否卸载干净如无返回即干净卸载"></a> 检查一下是否卸载干净，如无返回即干净卸载：</h6><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dpkg -l | grep php.+你的版本号（如：dpkg -l | grep php.7）</span><br></pre></td></tr></table></figure><h5 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h5><p>先更新本地内置的程序</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get upgrade</span><br></pre></td></tr></table></figure><p>接着，判断系统是否内置了add-apt-repository命令，如果没有执行下列命令安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install software-properties-common</span><br></pre></td></tr></table></figure><p>添加最新的PHP源，然后安装（如php7.1）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> add-apt-repository ppa:ondrej/php</span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"><span class="built_in">sudo</span> apt-get install php7.1 php7.1-common php7.1-fpm php7.1-dev</span><br><span class="line"><span class="built_in">sudo</span> apt-get install php7.1-mbstring php7.1-xml</span><br></pre></td></tr></table></figure><p>安装结束之后就可以执行php -i命令查看到php-cli的信息 。</p><h6 id="为了遵守规矩放上版权声明"><a class="markdownIt-Anchor" href="#为了遵守规矩放上版权声明"></a> 为了遵守规矩，放上版权声明</h6><p>————————————————<br />版权声明：本文为CSDN博主「坏小哥」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br />原文链接：<a href="https://blog.csdn.net/weixin_43885417/article/details/8487372">https://blog.csdn.net/weixin_43885417/article/details/8487372</a></p></div></details><p>因为默认root用户，所以不要加上sudo，有时会提示找不到sudo。</p><p>大概就是这些了，如果还是不行，就去宝塔社区提问解决吧。</p><h2 id="测试服务器是否正常运行"><a class="markdownIt-Anchor" href="#测试服务器是否正常运行"></a> 测试服务器是否正常运行</h2><p>安装完了服务器，接下来就是测试服务器了，在此之前你需要开放80端口。</p><p>进入goorm的设置，找到URL/Port，点Add</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1228eb48e.webp" alt="1658994317747" /></p><p>再选第一个<s>白嫖到的服务器是没法自定义域名的，后面我会着手解决</s></p><p><img src="https://bu.dusays.com/2023/01/20/63ca122995451.webp" alt="1658994411989" /></p><p>端口输入80，然后输入你想要的域名，点击√即可，如果已经有了可以把原来默认的删掉。</p><p><s>免费版™只能开3个端口，垃圾</s></p><p>进入这个域名，如果显示的是服务器（你的apache/nginx）默认的404或者欢迎界面就说明ok了，如果是goorm的404界面的话，请在宝塔面板的软件管理界面检测是否已经打开服务。</p><p>已经打开就重装吧。</p><p>如果显示xxx error，请自行查看日志、搜索教程、请教他人~~（或者博主）~~。<s>那就sudo rm -rf删了跑路换小号重开呗</s></p><h1 id="部署hexo"><a class="markdownIt-Anchor" href="#部署hexo"></a> 部署Hexo</h1><p>Hexo是静态网页，部署十分简单。</p><p>在宝塔的网站-添加站点里面按下图操作</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122a764dc.webp" alt="1658995139653" /></p><p>修改后点击提交即可。（端口一定是80-65536，某些特定端口可能待会添加不了，自己看）</p><p>然后到你的项目设置里面绑定域名，按照下图编写</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122b329af.webp" alt="1658995298433" /></p><p>提交即可。</p><p>然后你就可以用你的域名访问网站了（没有端口）。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122cb7569.webp" alt="1658995491200" /></p><p><s>虽然Ping比较高，甚至超时，但是速度真心可以，比Vercel快得多，以后就用这个算了。</s></p><h1 id="部署wordpress"><a class="markdownIt-Anchor" href="#部署wordpress"></a> 部署WordPress</h1><p>在部署前，请确定你的LAMP是否全部启动，可以在软件商店里面找到启动。</p><p>接下来就来部署吧。因为宝塔有自带的WordPress部署器，所以可以直接在软件商店的一键部署分类找到，按照下图操作。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122db2489.webp" alt="1658996288063" /></p><p>静等它创建完成，部署完后，按照Hexo的方法映射端口，访问网站就能进入wordpress的设置界面了，数据库和用户名、密码就是上面你填的。</p><p>今天就到这里吧，后续更新自定义域名、MC服务器、Hexo自动部署的终极教程。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;上期安装了宝塔面板，这次就来弄一下服务器吧。其实宝塔面板安装这些东西都差不多，让我们开始吧。&lt;/p&gt;
&lt;h1 id=&quot;安装lamp环境&quot;&gt;&lt;a </summary>
      
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
    <category term="goorm" scheme="https://blog.yaria.top/tags/goorm/"/>
    
  </entry>
  
  <entry>
    <title>宝塔面板部署Apache服务器遇到的坑：Internal Server Error</title>
    <link href="https://blog.yaria.top/posts/61b9829e/"/>
    <id>https://blog.yaria.top/posts/61b9829e/</id>
    <published>2022-07-25T07:05:21.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>小水一篇文章，这次错误非常离谱，网上根本就查不到。。。</p><p>用了几个小时失败多次，终于装好了LAMP环境，然鹅当我兴高采烈地部署好Wordpress时，却遇到了这个阴间的：</p><h1 id="internal-server-error"><a class="markdownIt-Anchor" href="#internal-server-error"></a> Internal Server Error</h1><p>重启多次都没用。然后我看了看日志，它报了好几次这样的错：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">AH02613</span>: Error loading /www/server/speed/httpd_speed.lua: /www/server/speed/httpd_speed.lua:<span class="number">7</span>: module &#x27;gzip&#x27; not found:\n\tno field package.preload[&#x27;gzip&#x27;]\n\tno file </span><br><span class="line">&#x27;/<span class="attribute">www</span>/server/speed/gzip.lua&#x27;\n\tno file &#x27;/usr/local/share/lua/<span class="number">5</span>.<span class="number">1</span>/gzip.lua&#x27;\n\tno file &#x27;/usr/local/share/lua/<span class="number">5</span>.<span class="number">1</span>/gzip/init.lua&#x27;\n\tno file &#x27;/usr/local/lib/lua/<span class="number">5</span>.<span class="number">1</span>/gzip.lua&#x27;\n\tno file </span><br><span class="line">&#x27;/<span class="attribute">usr</span>/local/lib/lua/<span class="number">5</span>.<span class="number">1</span>/gzip/init.lua&#x27;\n\tno file &#x27;/usr/share/lua/<span class="number">5</span>.<span class="number">1</span>/gzip.lua&#x27;\n\tno file &#x27;/usr/share/lua/<span class="number">5</span>.<span class="number">1</span>/gzip/init.lua&#x27;\n\tno file &#x27;/www/server/speed/gzip.so&#x27;\n\tno file </span><br><span class="line">&#x27;/<span class="attribute">usr</span>/local/lib/lua/<span class="number">5</span>.<span class="number">1</span>/gzip.so&#x27;\n\tno file &#x27;/usr/lib/x86_64-linux-gnu/lua/<span class="number">5</span>.<span class="number">1</span>/gzip.so&#x27;\n\tno file &#x27;/usr/lib/lua/<span class="number">5</span>.<span class="number">1</span>/gzip.so&#x27;\n\tno file &#x27;/usr/local/lib/lua/<span class="number">5</span>.<span class="number">1</span>/loadall.so&#x27;</span><br></pre></td></tr></table></figure><p>我想想。。。这段英文的意思大概是说。。。<code>/www/server/speed/httpd_speed.lua</code>这个文件出错了，没找到gzip模块~~（我不要gzip啊，有宝塔缓存还要什么gzip）~~，要不就不理她注释掉算了。</p><h1 id="解决方法"><a class="markdownIt-Anchor" href="#解决方法"></a> 解决方法</h1><p>找到这个文件并打开编辑</p><p><img src="https://bu.dusays.com/2023/01/20/63ca10bc4ec67.webp" alt="1658733758693.png" /></p><p>注释掉第七行的gzip，再重启服务器，就能正常使用了！</p><p><img src="https://bu.dusays.com/2023/01/20/63ca10cb88ee4.webp" alt="1658733803055.png" /></p>]]></content>
    
    
    <summary type="html">小问题，没逝的</summary>
    
    
    
    <category term="避坑教程" scheme="https://blog.yaria.top/categories/%E9%81%BF%E5%9D%91%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="避坑" scheme="https://blog.yaria.top/tags/%E9%81%BF%E5%9D%91/"/>
    
  </entry>
  
  <entry>
    <title>GoormIDE的VPS白嫖（1）-白嫖与安装宝塔面板教程</title>
    <link href="https://blog.yaria.top/posts/14740f7c/"/>
    <id>https://blog.yaria.top/posts/14740f7c/</id>
    <published>2022-07-25T04:12:10.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>想搞一个VPS作为自己的Minecraft服务器和Wordpress站，但是苦于没有平台，最开始用的是三丰云，但是因为实在配置太差而且还有续期很麻烦，就放弃了。后来看到了<a href="https://hehysh.vercel.app">拾贰</a>写的Okteco的VPS白嫖，就去试了一下，但是官方实在太坑，条款很严格，而且我SSH连接动不动就断（装apt大包和宝塔面板断，比如装Apache和MariaDB），最离谱的是居然Screen、nohup不管用，看样子是自动休眠了。<s>fxxk</s>。</p><p>后来发现能嫖的不多，只有EUServ了，结果呢？一看安装费2欧元，就知道肯定是俺们国人把他们嫖怕了。。。</p><p>后来发现很多在线IDE都是用Docker的虚拟机内嵌IDE实现的，就研究了一下Goorm和Coding Web Studio，发现Coding登录宝塔面板MD5校验失败，就用Goorm了。</p><p>Goorm是一个韩国在线IDE平台，免费版的东西也不错，而且因为是邻国速度不错，休眠不会删数据且恢复速度很快，所以就选择了它。</p><h1 id="速度如何"><a class="markdownIt-Anchor" href="#速度如何"></a> 速度如何？</h1><p>放图秒懂，同样是这个hexo博客的打开速度</p><h2 id="vercel"><a class="markdownIt-Anchor" href="#vercel"></a> Vercel</h2><p><img src="https://bu.dusays.com/2023/01/20/63ca121ba65e7.webp" alt="1659497669012" /></p><h2 id="goormvps"><a class="markdownIt-Anchor" href="#goormvps"></a> GoormVPS</h2><p><img src="https://bu.dusays.com/2023/01/20/63ca121c87ac7.webp" alt="1659497634763" /></p><h1 id="注册"><a class="markdownIt-Anchor" href="#注册"></a> 注册</h1><p>goorm的注册非常简单，进入官网<a href="https://accounts.goorm.io/login">accounts.goorm.io/login</a>，选择顶部的Github登录授权即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca121d40c8a.webp" alt="1658725806544" /></p><h1 id="添加服务器"><a class="markdownIt-Anchor" href="#添加服务器"></a> 添加服务器</h1><p>打开<a href="https://ide.goorm.io">ide.goorm.io</a>，进入面板，选择New container，进入添加容器界面</p><p><img src="https://bu.dusays.com/2023/01/20/63ca121e095dd.webp" alt="1658725837718" /></p><p>将Name改为你想要的名字（随便不影响），Region改为第一个（韩国节点较快），Visibility改为Public，Stack改为blank，其余保持默认，点击“Create”即可创建容器</p><p><img src="https://bu.dusays.com/2023/01/20/63ca121ec1715.webp" alt="1658726016184" /></p><p><img src="https://bu.dusays.com/2023/01/20/63ca121fa3b1e.webp" alt="1658726072422" /></p><p>创建之后，它会准备一段时间，接下来就可以进入IDE了。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1220629df.webp" alt="1658726143343" /></p><h1 id="始终开启设置"><a class="markdownIt-Anchor" href="#始终开启设置"></a> 始终开启设置</h1><p>为了防止它休眠导致网站没法访问，我们要在主页打开Always on，也就是下面这个，注意免费版只有一个配额。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122116d9a.webp" alt="1658733687269" /></p><h1 id="使用终端"><a class="markdownIt-Anchor" href="#使用终端"></a> 使用终端</h1><p>有两种方式，一种是SSH连接，一种是用自带终端连接。</p><p>SSH的连接方式可以通过点击项目右上角三个点-Go to settings-Port forwarding进入设置来找到</p><div class="note info simple"><p>以后设置都是通过点击项目右上角三个点-Go to settings这个方法进入，请记住。</p></div><p><s>（为什么没有密码？算了不要SSH了）</s></p><p><img src="https://bu.dusays.com/2023/01/20/63ca1221a8ec3.webp" alt="1658900185108" /></p><div class="note info simple"><p>一般首次打开这个的时候，它是不会告诉你密码的，点击右边的刷新键，再点击Issue，重置这些信息时它会告诉你一个只展示一次的密码，这时复制这个密码才能连接SSH</p></div><p>自带终端则是点击Run进入IDE后的终端，根据喜好选择。</p><h1 id="安装宝塔面板"><a class="markdownIt-Anchor" href="#安装宝塔面板"></a> 安装宝塔面板</h1><p>进入<a href="https://www.bt.cn/new/download.html">宝塔官网</a>的下载区域，找到这个Linux脚本获取，复制Ubuntu/deepin安装脚本</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122286e5a.webp" alt="1658728272479" /></p><p>即</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O install.sh https://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; <span class="built_in">sudo</span> bash install.sh ed8484bec</span><br></pre></td></tr></table></figure><p>接下来静待宝塔面板安装，大约需要5-10分钟左右。</p><p>如果安装成功的话，它会告诉你默认的安全入口和账号密码。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca122346f84.webp" alt="1658730089378" /></p><p>宝塔的默认端口是8888，我们还要去给他映射到一个域名。</p><p>接下来进入设置，找到URL/Port，然后按照下面来添加一个*.run.goorm.io（免费版不能自定义），输入你想要的名字，Port改为宝塔的端口，选择右边的√即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca12240044c.webp" alt="1658730207401" /></p><p>然后访问这个域名，输入默认账号密码即可进入面板（以后要改），安全入口可以在面板里面修改。</p><h2 id="修改宝塔的默认账号密码"><a class="markdownIt-Anchor" href="#修改宝塔的默认账号密码"></a> 修改宝塔的默认账号密码</h2><p>在命令行中输入bt，选择对应操作按照提示修改即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1224ef4a7.webp" alt="1658730497308" /></p><h1 id="服务条款限制"><a class="markdownIt-Anchor" href="#服务条款限制"></a> 服务条款限制</h1><p>我看了一下Goorm的服务条款，相对来说问题不大，但是有几点要注意，不然会被封号，放出原文：</p><p>G. 会员的义务</p><ol><li>如果根据这些条款和条件要求会员向公司提供信息，则会员必须提供真实和合法的信息，并且他/她不会因提供虚假或非法信息而受到不利影响。</li><li>会员应遵守本条款及本公司在服务中的通知，并对因违反或未能遵守本条款而造成的任何损失或损害负责。</li><li>因会员疏忽管理其账户信息或同意第三方使用而造成的任何损失，由会员负责。</li><li>会员有以下行为时，本公司可依据第N条限制使用服务，在此情况下会员应承担全部责任。如有必要，公司可通知相关政府机构或执法机构。</li><li>通过冒充他人的个人信息、支付方式、外部账户等，或向第三方提供访问权限来使用服务</li><li>注册虚假内容</li><li>冒充公司的员工、经理和其他人</li><li>更改公司发布的信息的行为</li><li>未经授权收集其他会员的个人信息</li><li>通过任何加工活动对服务进行复制、拆解或模仿或其他修改。</li><li>通过超载公司的服务器来干扰公司的正常活动。</li><li>侵犯知识产权，包括公司和其他第三方的版权</li><li>损害公司和其他第三方的声誉或干扰他们的工作</li><li>发布淫秽或暴力信息、视频、音频或其他违反道德的内容。</li><li>未经本公司同意，将本服务用于营利、销售、广告、政治活动等</li><li>传播可能导致计算机或信息设备故障的程序的行为，例如计算机病毒、黑客攻击和恶意软件。</li><li>对本公司提供的横幅广告的任何删除、诽谤或其他破坏</li><li>用于挖掘加密货币的行为妨碍稳定服务使用</li><li>其他非法或不公平行为</li></ol><p>说人话呢，就是不能拿这个服务器挖矿、运行高负载应用以及传播一些违法信息、进行违法活动（但是我没搞清楚它的法律是韩国法律还是本国（中国）法律）<s>比如干一些涩事情</s>。不然肯定会被封号。</p><p>好了，这次就到这里吧，总得来说，这个容器除了性能一般，有休眠，其余还好。下次会更新搭建goorm+宝塔MCSManger面板服以及Wordpress博客的教程。</p>]]></content>
    
    
    <summary type="html">给她薅羊毛，薅到爆欸！</summary>
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="服务器" scheme="https://blog.yaria.top/tags/%E6%9C%8D%E5%8A%A1%E5%99%A8/"/>
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
    <category term="goorm" scheme="https://blog.yaria.top/tags/goorm/"/>
    
  </entry>
  
  <entry>
    <title>有关搭建博客的想法</title>
    <link href="https://blog.yaria.top/posts/6d1af91/"/>
    <id>https://blog.yaria.top/posts/6d1af91/</id>
    <published>2022-07-18T03:23:06.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>之前我想搭建一个博客，经过一些研究和一个多月的魔改与开发之后，这个简陋的博客就上线了，现在还是在试运行阶段。</p><p>因为是学生党，这个博客的所有东西都是免费的，托管是用的海外的几个托管商，dns是dnspod免费版，域名也是免费的eu.org二级域名，而且没有备案。<s>根据《中华人民网络安全法》第x章第x条在中华人民共和国境内进行网络服务的域名必须进行备案呱啦呱啦再是说无完全民事行为能力不能备案啥的，坑</s>加上也没有钱，所以网站速度很慢，请大家谅解。</p><h1 id="为什么要搭建博客"><a class="markdownIt-Anchor" href="#为什么要搭建博客"></a> 为什么要搭建博客？</h1><p>在这个生活节奏极快的时代，博客，这个十几年前盛行的内容表现形式，显然已被抛弃，但是依旧有很多大佬热衷于博客撰写。</p><p>一个原因是你写博客的成就感远大于当今刷刷视频小说。就算博客不能像B站UP主那样盈利，但相信只要你的文章质量够高，有人看，看到许多读者们对你的赞同，也是一件很高兴的事。</p><p>不光这样，博客更大的目的是为了分享。具体说，我搭建博客就是因为我在写程序时遇到很多很多难以解决的坑，很难自己解决。此时，如果看到了一篇有用的教程，解决了自己的燃眉之急，你很高兴。相反，我也总是搜到别人在论坛上提问，其他人说遇到同样问题，却没有解决方案或者楼主说已解决却没有解决方法。<code>&lt;del&gt;</code>awsl，救我，血压250啦！！！<code>&lt;/del&gt;</code>   <code>&lt;del class=&quot;noheimu&quot;&gt;</code>课代表：由此可见分享会让人很快乐，而自私会加深矛盾 <code>&lt;/del&gt;</code></p><p>后来我也不想做自私的人了，就不光看别人的教程，偶尔自己也分享一些，但苦于没有合适的平台，限制蛮多。我需要一个展现自我能力与个性、经验的平台，就选择了搭建博客。</p><h1 id="建博客的目标"><a class="markdownIt-Anchor" href="#建博客的目标"></a> 建博客的目标</h1><p>我希望我能一直坚持把博客写下去。要达成长期坚持写博客，绝不是三分钟热度就能解决的事。<s>当然我也不希望啊</s>，我这次要写博客是真的想要坚持下去的，十年之约加入不了，那我自己也要完成十年之约（貌似要备案）。就是说博客要坚持到我大学本科毕业。希望这个目标能达成吧。</p><h1 id="写在后面"><a class="markdownIt-Anchor" href="#写在后面"></a> 写在后面</h1><p>现在博客还在试运行阶段，现在的文章偏向用于测试，水分比较大。</p><p>不知道什么时候才能被收录啊，seo不好做（大部分平台都收了一些就有些坑，还有的要备案号），其他平台引流也引不动，速度也不够，还请各位大佬指点一下。<s>百度、搜狗：你直接报我们身份证算了</s></p><p>这个博客就这样吧。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;前言&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#前言&quot;&gt;&lt;/a&gt; 前言&lt;/h1&gt;
&lt;p&gt;之前我想搭建一个博客，经过一些研究和一个多月的魔改与开发之后，这个简陋的博客就上线了，现在还是在试运行阶段。&lt;/p&gt;
&lt;p&gt;因为是学生党，这个博</summary>
      
    
    
    
    <category term="随笔" scheme="https://blog.yaria.top/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="个人" scheme="https://blog.yaria.top/tags/%E4%B8%AA%E4%BA%BA/"/>
    
  </entry>
  
  <entry>
    <title>用Cloudflare或Vercel、Netlify托管网站</title>
    <link href="https://blog.yaria.top/posts/e433f3d/"/>
    <id>https://blog.yaria.top/posts/e433f3d/</id>
    <published>2022-07-08T08:30:51.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>给博客做托管，因为<a href="https://github.com">Github Pages</a>太慢了，而且GFW老墙老抽风~~（大天朝啊为什么这些都不让我们好好弄啊）~~，所以研究了其它几个托管商的托管服务，并且给网站做了分支，顺便分享一下托管的注册方法。</p><h1 id="对比"><a class="markdownIt-Anchor" href="#对比"></a> 对比</h1><h2 id="本机重庆电信2022-7-17的四个分支ping信息"><a class="markdownIt-Anchor" href="#本机重庆电信2022-7-17的四个分支ping信息"></a> 本机（重庆电信2022-7-17）的四个分支Ping信息</h2><h3 id="github"><a class="markdownIt-Anchor" href="#github"></a> Github</h3><p><img src="https://bu.dusays.com/2023/01/20/63ca136e91516.webp" alt="1658048585324" /></p><h3 id="vercel"><a class="markdownIt-Anchor" href="#vercel"></a> Vercel</h3><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658048530089.png" alt="1658048530089" /></p><h3 id="cloudflare延时高但是带宽高"><a class="markdownIt-Anchor" href="#cloudflare延时高但是带宽高"></a> Cloudflare（延时高但是带宽高）</h3><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658048616721.png" alt="1658048616721" /></p><h3 id="netlify"><a class="markdownIt-Anchor" href="#netlify"></a> Netlify</h3><p><img src="https://bu.dusays.com/2023/01/20/63ca1373bc88c.webp" alt="1658048673439" /></p><h2 id="全国ping浅蓝说明没节点或超时"><a class="markdownIt-Anchor" href="#全国ping浅蓝说明没节点或超时"></a> 全国Ping（浅蓝说明没节点或超时）</h2><h3 id="vercel-2"><a class="markdownIt-Anchor" href="#vercel-2"></a> Vercel</h3><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658049126660.png" alt="1658049126660" /></p><h3 id="github-2"><a class="markdownIt-Anchor" href="#github-2"></a> Github</h3><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658049228277.png" alt="1658049228277" /></p><h3 id="cloudflare"><a class="markdownIt-Anchor" href="#cloudflare"></a> Cloudflare</h3><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658049416932.png" alt="1658049416932" /></p><h3 id="netlify-2"><a class="markdownIt-Anchor" href="#netlify-2"></a> Netlify</h3><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658049316900.png" alt="1658049316900" /></p><p>具体情况因~~脸（bushi、~~运营商、地区、网速、时间、人、<s>天时地利人和</s>而异。自己选择托管方式（Github的不用看），个人比较推荐Vercel，况且其实Netlify和Cloudflare抽风的时候比Github还垃圾（比如这次），所以Vercel是最好的了。</p><p>虽然Vercel的Ping最低，但是因为Cloudflare有大陆节点（看脸），所以带宽高一点。</p><p>经过测试，本站分配三大运营商节点分别是电信用Cloudflare、移动用Vercel、联通用Netlify。默认分配Vercel节点。</p><h1 id="cloudflare-pages"><a class="markdownIt-Anchor" href="#cloudflare-pages"></a> Cloudflare Pages</h1><p>为什么先讲它呢？因为它的优势就是可以和他们家的DNS无缝集成啊！如果想用Cloudflare的DNS服务的话，这是一个不错的选择。<s>（不过ping最高，丢包率中等）</s></p><h2 id="注册"><a class="markdownIt-Anchor" href="#注册"></a> 注册</h2><p>首先注册一个Cloudflare账号并验证邮箱。因为Cloudflare有国区，所以没有太大的问题，直接按照提示来进入仪表板就行了。<img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657349994694.png" alt="1657349994694" /></p><h2 id="创建pages"><a class="markdownIt-Anchor" href="#创建pages"></a> 创建Pages</h2><p>然后点击&quot;Pages&quot;，连接你的github账号，把原来的github仓库里面的pages克隆过来（如果点连接Github加载半天没反应，可以试着科学上网）。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657350777816.png" alt="1657350777816" /></p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657350837811.png" alt="1657350837811" /></p><p>接着它会跳转到Github的这个页面，保持默认，Save即可（手机部分浏览器和IE可能会出现save点不了的现象）然后会跳转回去。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657351500630.png" alt="1657351500630" /></p><p>按照向导，点连接到git。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657351520703.png" alt="1657351520703" /></p><p>选择github pages对应的仓库。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657351544073.png" alt="1657351544073" /></p><p>然后进入选项，因为Hexo博客都是编译好再上传的，所以无需修改配置，但是名字最好起一个好一点的，这样能增加辨识度，名字会影响域名，所以选择一个简单的增加辨识度。</p><p>然后保存并部署，它会自动把github的repo克隆到cloudflare的服务器上。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca138183580.webp" alt="1657351715884" /></p><p>Cloudflare会自动给你的Pages颁发自己的Cloudflare SSL证书。接下来你可以使用域名 <code>你的项目名.pages.dev</code>来访问你的站点了，每次仓库更新，它都会自动克隆过来。这样你的域名Ping就从超时变成了30-180ms了，虽然比国内服务器的50ms一下有差距，但是已经好了很多。</p><h2 id="绑定自己的域名"><a class="markdownIt-Anchor" href="#绑定自己的域名"></a> 绑定自己的域名</h2><p>返回Pages主页，进入这个域名的设置界面（顶上的项目名）</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1382b031d.webp" alt="1657351964108" /></p><p>然后选择自定义域-设置自定义域</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657352147619.png" alt="1657352147619" /></p><p>输入你的域名（前缀可以是没有、www、cloudflare等等），然后继续。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99%EF%BC%8C%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1657352221251.png" alt="1657352221251" /></p><p>如果你用的是Cloudflare的DNS选第一个，其它dns选第二个。<s>（图没了）</s></p><p>按照这个cname配置到你的dns服务商那里，点击激活域，如果服务商就是cloudflare的话，它会自动添加，如果有冲突，就会提示是否替换。</p><p>至此，你就可以用自己的域名访问站点了（可能等0min-72小时才能激活）。</p><h2 id="绑定域名遇到的坑"><a class="markdownIt-Anchor" href="#绑定域名遇到的坑"></a> 绑定域名遇到的坑</h2><p>Cloudflare想办法给自己的公司引流，以至于一级域名只能集成到自己家。</p><p>比如你输入你注册的顶级域名的根域名的话，就只能迁入他们家的DNS来绑定。这就很坑。</p><p>比如我的：</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658221973975.png" alt="1658221973975" /></p><p>这个情况困扰了我很久，后来我想到两个方法。</p><h3 id="第一种解决方案放弃根域名用www"><a class="markdownIt-Anchor" href="#第一种解决方案放弃根域名用www"></a> 第一种解决方案：放弃根域名用www</h3><p>这种方法就是用www.lyxop.xyz域名了，不过我不喜欢这种复杂的写法，如果你喜欢就用吧。</p><h3 id="第二种解决方案忽悠cloudflare"><a class="markdownIt-Anchor" href="#第二种解决方案忽悠cloudflare"></a> 第二种解决方案：忽悠Cloudflare</h3><p>这种方法比较离谱，就是先把域名dns转到Cloudflare那里，然后成功设置这个自定义域名之后，就偷偷把域名dns转回去，Cloudflare也没发现，但是他们觉得他们又忽悠到了一个用户。[doge~~]你以为我会被你骗？~~</p><p>实操来看，就是先去域名注册商那里换dns服务器，把cloudflare连上去（一般需要几十分钟-48h），完成所谓的“DNS转移”之后又切回以前的dns，并且加上cname，就能正常使用了。</p><p>为什么非要用DNSPOD不用Cloudflare呢？因为DNSPod可以运营商分流，而Cloudflare并没有贴合国情搞这个。</p><h1 id="vercel-3"><a class="markdownIt-Anchor" href="#vercel-3"></a> Vercel</h1><p><s>咕咕咕…</s> 继续来写吧，Vercel算是一个不错的托管商，速度是这三个里面最快的，而且它还可以线上托管代码函数api执行，这些先搁着不讲，如何把网站部署到Vercel上呢？一般有两种方法</p><h2 id="第一种官方客户端内置hexo框架"><a class="markdownIt-Anchor" href="#第一种官方客户端内置hexo框架"></a> 第一种：官方客户端+内置Hexo框架</h2><p>这种方法稍微要配置一下，没那么方便，所以不用。</p><h2 id="第二种克隆github-pages"><a class="markdownIt-Anchor" href="#第二种克隆github-pages"></a> 第二种：克隆Github Pages</h2><p>因为Hexo自带Github Pages克隆，所以这个方法简单，每次部署到Github上之后就会自动克隆过去。</p><h3 id="注册-2"><a class="markdownIt-Anchor" href="#注册-2"></a> 注册</h3><p>Vercel的注册也很简单，进入<a href="https://vercel.com/signup">vercel.com/signup</a>，由于是国外网站，所以进去会很慢，建议搭配Steam++食用。<s>（没恰饭啦）</s> <img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658047811939.png" alt="1658047811939" /></p><p>一般都是用github登录，点Continue with Github，如果你授权过Github的话，会直接进入，没登录就登陆呗。没有授权过的会进入授权界面（图找不到了，网图，侵删），大概如图<br /><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658047644296.png" alt="1658047644296" /></p><p>点击绿色按钮就能自动登录了（网络不好容易登陆失败）。</p><div class="note info simple"><p>如果出现灰色点不了的现象，请检查：</p><ol><li>是否是用的手机浏览器（夸克、UC等），如果是请使用微信（新版）自带浏览器，实测可以过Github。</li><li>是否用的浏览器版本过时，请更新。</li><li>是否用的是IE，Github不支持。</li></ol></div><h3 id="部署"><a class="markdownIt-Anchor" href="#部署"></a> 部署</h3><p>进入仪表板，你会看到这个界面(我这里之前已经有过项目了，应该是空的)<s>（博主居然懒得为了科普开小号，垃圾博主再也不关注了）</s><br /><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658047928139.png" alt="1658047928139" /></p><p>点击New Project，从你的Github导入博客对应的Pages仓库<br /><img src="https://bu.dusays.com/2023/01/20/63ca138b85823.webp" alt="1658048033201" /></p><p>选择你博客Pages的仓库，import即可。<br /><img src="https://bu.dusays.com/2023/01/20/63ca138d888f1.webp" alt="1658048115127" /><br />这个配置界面我们并不需要选择什么，只要确认framework-reset为other，修改project name为你想要的名字（不宜太长！！！），点击Deploy即可部署。<br /><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658048242621.png" alt="1658048242621" /><br />部署之后用 <code>项目名.vercel.app</code>进入博客就行了，跟Cloudflare一样，Vercel也会给你颁发有效期为三个月的R3证书并自动续期，每次博客部署到Github也会同步进行。</p><h3 id="调整节点"><a class="markdownIt-Anchor" href="#调整节点"></a> 调整节点</h3><p>虽然Vercel没有大陆节点，但是还是有香港节点的，还是要调整一下，会加快一点速度。<s>香港节点永远都是最能用的，一国两制yyds</s></p><p>进入项目主页，选择Setting-Serverless Functions，在右侧选择框选择Hong Kong(East)-hkg1<br /><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658105420370.png" alt="1658105420370" /></p><p>设置节点之后下一次部署就会生效</p><h3 id="绑定自己的域名-2"><a class="markdownIt-Anchor" href="#绑定自己的域名-2"></a> 绑定自己的域名</h3><p>返回项目主页，选择顶部的Setting-Domains<br /><img src="https://bu.dusays.com/2023/01/20/63ca1314e69fd.webp" alt="1658104564627" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca131607c81.webp" alt="1658104824236" /></p><p>在顶部的文本框输入你的域名，<a href="http://xn--lyxofficial-mh7ts16p.eu.org">比如lyxofficial.eu.org</a>，点击Add，这个选择框是让你选择www和根域名的关系（第一个就是输入根域名跳转到www，第二个就是输入www会跳转到根域名，根据你的喜好选择（如果不是www或者根域名就没有提示）），我选择第二个，然后点击Add就行了。</p><p>添加之后它会让你加入A记录或者CNAME记录，按照它的提升添加，Vercel会给你颁发证书，稍等一会即可正常访问了。</p><p>开始建站吧！</p><h1 id="netlify-3"><a class="markdownIt-Anchor" href="#netlify-3"></a> Netlify</h1><p>Netlify同样也是一家老牌网站托管商，但是国内常被GFW墙掉，所以不是很建议选择。不过不抽的时候也挺快，有些地区速度不错。</p><h2 id="注册-3"><a class="markdownIt-Anchor" href="#注册-3"></a> 注册</h2><p>Netlify的注册托管也很简单，进入<a href="https://app.netlify.com/">app.netlify.com</a>，选择Github登录</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658222818677.png" alt="1658222818677" /></p><p>跟Vercel一样，会进入Github的验证界面，按照前面的方式验证。</p><p>接下来它会让你填一些信息，这个可以随便填。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658223525473.png" alt="1658223525473" /></p><h2 id="部署-2"><a class="markdownIt-Anchor" href="#部署-2"></a> 部署</h2><p>接下来部署项目，Netlify注册后会自动进入首次部署界面，选择从Import from Git</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658223610009.png" alt="1658223610009" /></p><p>选择你的Github Pages对应的仓库</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658223666105.png" alt="1658223666105" /></p><p>进入部署选项界面，你会看到它在加载分支。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658223732693.png" alt="1658223732693" /></p><div class="note info simple"><p>不知道是什么bug<s>Bugjump：特性！</s>，它会一直加载分支，这时你需要手动点击“Customize build settings”来加载</p></div><p>加载完后，选项不用改，直接点击Deploy site即可</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658223918842.png" alt="1658223918842" /></p><p>不同于vercel，Netlify的首次部署较慢，总之等一等就好了。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658224003023.png" alt="1658224003023" /></p><p>等到部署完成之后，你就可以用 <code>项目名.netlify.app</code>访问站点了，不同的是，Netlify的项目名是自动生成的，就是顶上导航栏的那一个。</p><h3 id="更改项目名"><a class="markdownIt-Anchor" href="#更改项目名"></a> 更改项目名</h3><p>如果你不喜欢这个名字当然也可以更改项目名，进入项目主页-Site settings-General-Site Details，选择右侧的Change Site name，输入自己喜欢的名字，Save即可。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca139b04a83.webp" alt="1658304921066" /><br /><img src="https://bu.dusays.com/2023/01/20/63ca139bef293.webp" alt="1658304991839" /></p><p>Netlify也会自动给你颁发R3证书并自动续期，同样每一次hexo d会自动部署到Netlify上面。</p><h2 id="绑定自己的域名-3"><a class="markdownIt-Anchor" href="#绑定自己的域名-3"></a> 绑定自己的域名</h2><p>进入项目主页-Site settings-Domain management-domains</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658306246373.png" alt="1658306246373" /></p><p>选择Add domain alias，输入你的域名，域名就添加成功了。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658306279005.png" alt="1658306279005" /></p><p>如果你没有预先设置cname的话，就选择域名后面的<img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658306361482.png" alt="1658306361482" />，然后按照上面的方式把域名解析到上面就好了。</p><p><img src="https://npm.elemecdn.com/oldimagescdn-ariasaka@latest/%E7%94%A8Cloudflare%E6%88%96Vercel%E6%89%98%E7%AE%A1%E7%BD%91%E7%AB%99,%E5%B9%B6%E7%BB%91%E5%AE%9A%E5%88%B0%E8%87%AA%E5%B7%B1%E7%9A%84%E5%9F%9F%E5%90%8D%E4%B8%AD/1658306423645.png" alt="1658306423645" /></p><p>开始研究你的网站吧！</p>]]></content>
    
    
    <summary type="html">为什么网站速度就是快不起来呢，到底是服务器还是垃圾优化的锅</summary>
    
    
    
    <category term="经验教程" scheme="https://blog.yaria.top/categories/%E7%BB%8F%E9%AA%8C%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="网络" scheme="https://blog.yaria.top/tags/%E7%BD%91%E7%BB%9C/"/>
    
    <category term="CDN加速" scheme="https://blog.yaria.top/tags/CDN%E5%8A%A0%E9%80%9F/"/>
    
  </entry>
  
  <entry>
    <title>eu.org免费域名白嫖教程以及避坑</title>
    <link href="https://blog.yaria.top/posts/aedd05c3/"/>
    <id>https://blog.yaria.top/posts/aedd05c3/</id>
    <published>2022-07-06T03:50:53.000Z</published>
    <updated>2022-10-04T00:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h1><p>做完了博客，发现Github Pages域名不太喜欢，对SEO也不友好，就萌生想要自己搞域名的想法，自己恰好是学生，没有财力承担任何一点的域名费用，就去白嫖域名了。因为Freenom太难注册了，选择了eu.org域名。<s>然鹅后面还是架不住Dynadot14块的便宜xyz域名</s></p><h1 id="介绍"><a class="markdownIt-Anchor" href="#介绍"></a> 介绍</h1><p>eu.org这个域名注册服务在1996年就有了，是为无力承担资金的组织提供的免费域名注册服务，所以官网有<s>亿</s>一点点low，得忍一忍。</p><h3 id="是不是顶级域名"><a class="markdownIt-Anchor" href="#是不是顶级域名"></a> 是不是顶级域名？</h3><p>虽然eu.org本身是二级域名，但是已被大部分DNS服务商认定为顶级域名，不必担心</p><h1 id="注册"><a class="markdownIt-Anchor" href="#注册"></a> 注册</h1><p>打开<a href="https://nic.eu.org">nic.eu.org</a>，即可进入官网（当然没有中文，可以自己翻译）。你会看到这个<em>非常Low的界面，（真就是1996年的水平)。</em><img src="https://bu.dusays.com/2023/01/20/63ca11fa1e215.webp" alt="1657080187231" /></p><p>然后点击“Sign-in or sign-up&quot;后面的“here”，进入登录界面，点击“Register”进入注册界面</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11faca009.webp" alt="1657082180223" />    <img src="https://bu.dusays.com/2023/01/20/63ca11fb8c1af.webp" alt="1657080373915" /></p><p>看到这个栏目别慌，只有Name和Email和Password填真的，其它不管，Password填密码，Address（地址）只用填前两行就行，邮箱务必填真实的，待会要验证。</p><p>点击&quot;Create&quot;注册后过一会，你会收到如下的邮件，这时点那串链接进行验证。记住以”-FREE“结尾的nic-hdl，待会要用。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11fc50a52.webp" alt="1657080716692" /></p><p>接下来进入登录界面，输入刚刚那个nic-hdl到Handle上面，并且输入密码，就能进入管理界面</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11fd0dbf8.webp" alt="1657080899478" /></p><p>点击“New Domain”添加域名。</p><p>进入这个界面，看起来很多~~（天啊，不会这玩意都要备案吧）（bushi）~~。不管那么多，我们只需要填写第一行的Complete domain name和nameservers就行了。<img src="https://bu.dusays.com/2023/01/20/63ca11fdd5dbe.webp" alt="1657082001448" /><img src="https://bu.dusays.com/2023/01/20/63ca11fe9f34e.webp" alt="1657082112958" /><img src="https://bu.dusays.com/2023/01/20/63ca11ff4bdae.webp" alt="1657083508604" /></p><p>domain name填写域名全名，<a href="http://xn--lyxoff2233-lv8ru53ff62aqj5a.eu.org">比如我的lyxoff2233.eu.org</a>，nameservers就是dns服务器了。因为eu.org官方并没有提供dns服务器，我们需要自己填写。</p><p>nameserver上面选项选第一个，然后name1填<a href="https://link.zhihu.com/?target=http%3A//edmund.dnspod.net"><strong>edmund.dnspod.net</strong></a> <a href="http://xn--name2dempsey-532v.dnspod.net">name2填dempsey.dnspod.net</a>（没有https/http）。</p><p>如果出现Done，你就可以关闭页面，静待佳音了。</p><h1 id="申请dns服务器"><a class="markdownIt-Anchor" href="#申请dns服务器"></a> 申请DNS服务器</h1><div class="note info simple"><p>如果你出现报错（底部有n errors，n warnings的提示，没报错就是Done），请看一看这个。</p></div><p>网上很多教程都没有说nameserver如何填申请，以至于你可能会抄别人的域名结果提示Empty Answer。</p><p>不过有些人用别人的server是可以过的，如果不能过，底部会有n errors，n warnings的提示，这时需要你去注册，如果可以直接跳到后面。</p><p>国内最方便的平台是dnspod（没注册也能绑定）。</p><p>打开<a href="https://www.dnspod.cn/login?s_url=https://www.dnspod.cn/">https://www.dnspod.cn/login?s_url=https://www.dnspod.cn/</a>登录/注册，国内平台注册账号不用多说。</p><p>进入<a href="https://console.dnspod.cn/dns/adddomain?from=dns_add_domain">https://console.dnspod.cn/dns/adddomain?from=dns_add_domain</a>添加域名。</p><p><img src="https://bu.dusays.com/2023/01/20/63ca11ff4bdae.webp" alt="1657083512691" /></p><p>输入你要注册的域名，提示已注册的话也选择继续添加，一路下一步，他会提示：</p><p><img src="https://bu.dusays.com/2023/01/20/63ca1200acb39.webp" alt="1657083921986" /></p><p>这时复制两个服务器到name1和name2上面，就好了</p><h1 id="喜讯"><a class="markdownIt-Anchor" href="#喜讯"></a> 喜讯</h1><p>Done之后，域名不能马上使用，你要等最多几个月的时间审核，我的域名只用了7小时就好了（极为罕见）。审核之后，你会收到这样的邮件。开始绑定服务器建站吧！<img src="https://bu.dusays.com/2023/01/20/63ca12017da28.webp" alt="1657083181580" /></p>]]></content>
    
    
    <summary type="html">嫖是好嫖的，就是坑有点多，还得等半天。</summary>
    
    
    
    <category term="白嫖教程" scheme="https://blog.yaria.top/categories/%E7%99%BD%E5%AB%96%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="网络" scheme="https://blog.yaria.top/tags/%E7%BD%91%E7%BB%9C/"/>
    
    <category term="白嫖" scheme="https://blog.yaria.top/tags/%E7%99%BD%E5%AB%96/"/>
    
  </entry>
  
</feed>
